const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/QuizPage-BYaPeiZb.js","assets/quizStatsService-C_VisJyu.js","assets/QuizPreviewPage-BG8eN3Fr.js","assets/QuickReviewSection-DVF-4cxL.js","assets/ReviewForm-Dtv3lQdi.js","assets/send-jCzz2FPG.js","assets/QuizReviewsPage-CyLDWBRA.js","assets/ReviewList-DHtqEmV-.js","assets/calendar-CB6uY_Il.js","assets/ReviewTestPage-Biq-c4jA.js","assets/arrow-left-CaxE4Rmd.js","assets/loader-circle-6KzpFSgs.js","assets/RealQuizListPage-3z8zd5CZ.js","assets/ResultPage-CgP755_a.js","assets/Profile-CnQj5BNy.js","assets/arrow-up-pEPERrxv.js","assets/FavoritesPage-7JnzB0EJ.js","assets/QuizList-nPnVnGAh.js","assets/CreateQuizPage-CN7N8G8h.js","assets/tag-BPE5MwZ4.js","assets/CreateQuizPage-DZrYvFpI.css","assets/EditQuizPageAdvanced-BrEyz9-S.js","assets/plus-Bz0Kn-zX.js","assets/save-D3JrD3t3.js","assets/Creator-CVzil1k5.js","assets/MyQuizzesPage-CG71TGEV.js","assets/CategoryManagement-BMU534C9.js"])))=>i.map(i=>d[i]);
var vz=Object.defineProperty;var xz=(e,t,n)=>t in e?vz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Uc=(e,t,n)=>xz(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Age=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function bi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bO={exports:{}},Cm={},_O={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Md=Symbol.for("react.element"),wz=Symbol.for("react.portal"),bz=Symbol.for("react.fragment"),_z=Symbol.for("react.strict_mode"),Ez=Symbol.for("react.profiler"),Tz=Symbol.for("react.provider"),Sz=Symbol.for("react.context"),Az=Symbol.for("react.forward_ref"),Pz=Symbol.for("react.suspense"),Iz=Symbol.for("react.memo"),kz=Symbol.for("react.lazy"),CS=Symbol.iterator;function Cz(e){return e===null||typeof e!="object"?null:(e=CS&&e[CS]||e["@@iterator"],typeof e=="function"?e:null)}var EO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TO=Object.assign,SO={};function ac(e,t,n){this.props=e,this.context=t,this.refs=SO,this.updater=n||EO}ac.prototype.isReactComponent={};ac.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ac.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function AO(){}AO.prototype=ac.prototype;function lb(e,t,n){this.props=e,this.context=t,this.refs=SO,this.updater=n||EO}var cb=lb.prototype=new AO;cb.constructor=lb;TO(cb,ac.prototype);cb.isPureReactComponent=!0;var NS=Array.isArray,PO=Object.prototype.hasOwnProperty,ub={current:null},IO={key:!0,ref:!0,__self:!0,__source:!0};function kO(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)PO.call(t,r)&&!IO.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Md,type:e,key:s,ref:a,props:i,_owner:ub.current}}function Nz(e,t){return{$$typeof:Md,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function db(e){return typeof e=="object"&&e!==null&&e.$$typeof===Md}function Oz(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var OS=/\/+/g;function rv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Oz(""+e.key):t.toString(36)}function kh(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Md:case wz:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+rv(a,0):r,NS(i)?(n="",e!=null&&(n=e.replace(OS,"$&/")+"/"),kh(i,t,n,"",function(c){return c})):i!=null&&(db(i)&&(i=Nz(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(OS,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",NS(e))for(var o=0;o<e.length;o++){s=e[o];var l=r+rv(s,o);a+=kh(s,t,n,l,i)}else if(l=Cz(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=r+rv(s,o++),a+=kh(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function qf(e,t,n){if(e==null)return e;var r=[],i=0;return kh(e,r,"","",function(s){return t.call(n,s,i++)}),r}function jz(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var On={current:null},Ch={transition:null},Rz={ReactCurrentDispatcher:On,ReactCurrentBatchConfig:Ch,ReactCurrentOwner:ub};function CO(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:qf,forEach:function(e,t,n){qf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return qf(e,function(){t++}),t},toArray:function(e){return qf(e,function(t){return t})||[]},only:function(e){if(!db(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ee.Component=ac;Ee.Fragment=bz;Ee.Profiler=Ez;Ee.PureComponent=lb;Ee.StrictMode=_z;Ee.Suspense=Pz;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rz;Ee.act=CO;Ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=TO({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=ub.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)PO.call(t,l)&&!IO.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Md,type:e.type,key:i,ref:s,props:r,_owner:a}};Ee.createContext=function(e){return e={$$typeof:Sz,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Tz,_context:e},e.Consumer=e};Ee.createElement=kO;Ee.createFactory=function(e){var t=kO.bind(null,e);return t.type=e,t};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(e){return{$$typeof:Az,render:e}};Ee.isValidElement=db;Ee.lazy=function(e){return{$$typeof:kz,_payload:{_status:-1,_result:e},_init:jz}};Ee.memo=function(e,t){return{$$typeof:Iz,type:e,compare:t===void 0?null:t}};Ee.startTransition=function(e){var t=Ch.transition;Ch.transition={};try{e()}finally{Ch.transition=t}};Ee.unstable_act=CO;Ee.useCallback=function(e,t){return On.current.useCallback(e,t)};Ee.useContext=function(e){return On.current.useContext(e)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(e){return On.current.useDeferredValue(e)};Ee.useEffect=function(e,t){return On.current.useEffect(e,t)};Ee.useId=function(){return On.current.useId()};Ee.useImperativeHandle=function(e,t,n){return On.current.useImperativeHandle(e,t,n)};Ee.useInsertionEffect=function(e,t){return On.current.useInsertionEffect(e,t)};Ee.useLayoutEffect=function(e,t){return On.current.useLayoutEffect(e,t)};Ee.useMemo=function(e,t){return On.current.useMemo(e,t)};Ee.useReducer=function(e,t,n){return On.current.useReducer(e,t,n)};Ee.useRef=function(e){return On.current.useRef(e)};Ee.useState=function(e){return On.current.useState(e)};Ee.useSyncExternalStore=function(e,t,n){return On.current.useSyncExternalStore(e,t,n)};Ee.useTransition=function(){return On.current.useTransition()};Ee.version="18.3.1";_O.exports=Ee;var v=_O.exports;const xe=bi(v);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dz=v,Mz=Symbol.for("react.element"),Lz=Symbol.for("react.fragment"),$z=Object.prototype.hasOwnProperty,zz=Dz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vz={key:!0,ref:!0,__self:!0,__source:!0};function NO(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)$z.call(t,r)&&!Vz.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Mz,type:e,key:s,ref:a,props:i,_owner:zz.current}}Cm.Fragment=Lz;Cm.jsx=NO;Cm.jsxs=NO;bO.exports=Cm;var d=bO.exports,OO={exports:{}},ur={},jO={exports:{}},RO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,G){var ie=U.length;U.push(G);e:for(;0<ie;){var ce=ie-1>>>1,M=U[ce];if(0<i(M,G))U[ce]=G,U[ie]=M,ie=ce;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var G=U[0],ie=U.pop();if(ie!==G){U[0]=ie;e:for(var ce=0,M=U.length,B=M>>>1;ce<B;){var ae=2*(ce+1)-1,ne=U[ae],he=ae+1,$e=U[he];if(0>i(ne,ie))he<M&&0>i($e,ne)?(U[ce]=$e,U[he]=ie,ce=he):(U[ce]=ne,U[ae]=ie,ce=ae);else if(he<M&&0>i($e,ie))U[ce]=$e,U[he]=ie,ce=he;else break e}}return G}function i(U,G){var ie=U.sortIndex-G.sortIndex;return ie!==0?ie:U.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,f=null,p=3,m=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(U){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=U)r(c),G.sortIndex=G.expirationTime,t(l,G);else break;G=n(c)}}function P(U){if(y=!1,_(U),!g)if(n(l)!==null)g=!0,ue(I);else{var G=n(c);G!==null&&X(P,G.startTime-U)}}function I(U,G){g=!1,y&&(y=!1,w(A),A=-1),m=!0;var ie=p;try{for(_(G),f=n(l);f!==null&&(!(f.expirationTime>G)||U&&!j());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,p=f.priorityLevel;var M=ce(f.expirationTime<=G);G=e.unstable_now(),typeof M=="function"?f.callback=M:f===n(l)&&r(l),_(G)}else r(l);f=n(l)}if(f!==null)var B=!0;else{var ae=n(c);ae!==null&&X(P,ae.startTime-G),B=!1}return B}finally{f=null,p=ie,m=!1}}var N=!1,T=null,A=-1,k=5,C=-1;function j(){return!(e.unstable_now()-C<k)}function D(){if(T!==null){var U=e.unstable_now();C=U;var G=!0;try{G=T(!0,U)}finally{G?R():(N=!1,T=null)}}else N=!1}var R;if(typeof x=="function")R=function(){x(D)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,de=Q.port2;Q.port1.onmessage=D,R=function(){de.postMessage(null)}}else R=function(){b(D,0)};function ue(U){T=U,N||(N=!0,R())}function X(U,G){A=b(function(){U(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,ue(I))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(U){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var ie=p;p=G;try{return U()}finally{p=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ie=p;p=U;try{return G()}finally{p=ie}},e.unstable_scheduleCallback=function(U,G,ie){var ce=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ce+ie:ce):ie=ce,U){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ie+M,U={id:u++,callback:G,priorityLevel:U,startTime:ie,expirationTime:M,sortIndex:-1},ie>ce?(U.sortIndex=ie,t(c,U),n(l)===null&&U===n(c)&&(y?(w(A),A=-1):y=!0,X(P,ie-ce))):(U.sortIndex=M,t(l,U),g||m||(g=!0,ue(I))),U},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(U){var G=p;return function(){var ie=p;p=G;try{return U.apply(this,arguments)}finally{p=ie}}}})(RO);jO.exports=RO;var Fz=jO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uz=v,ir=Fz;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DO=new Set,Fu={};function Eo(e,t){Ol(e,t),Ol(e+"Capture",t)}function Ol(e,t){for(Fu[e]=t,e=0;e<t.length;e++)DO.add(t[e])}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),I0=Object.prototype.hasOwnProperty,Bz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jS={},RS={};function qz(e){return I0.call(RS,e)?!0:I0.call(jS,e)?!1:Bz.test(e)?RS[e]=!0:(jS[e]=!0,!1)}function Kz(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Wz(e,t,n,r){if(t===null||typeof t>"u"||Kz(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function jn(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tn[e]=new jn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tn[t]=new jn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tn[e]=new jn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tn[e]=new jn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tn[e]=new jn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tn[e]=new jn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tn[e]=new jn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tn[e]=new jn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tn[e]=new jn(e,5,!1,e.toLowerCase(),null,!1,!1)});var fb=/[\-:]([a-z])/g;function hb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fb,hb);tn[t]=new jn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fb,hb);tn[t]=new jn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fb,hb);tn[t]=new jn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tn[e]=new jn(e,1,!1,e.toLowerCase(),null,!1,!1)});tn.xlinkHref=new jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tn[e]=new jn(e,1,!1,e.toLowerCase(),null,!0,!0)});function pb(e,t,n,r){var i=tn.hasOwnProperty(t)?tn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Wz(t,n,i,r)&&(n=null),r||i===null?qz(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var cs=Uz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kf=Symbol.for("react.element"),Jo=Symbol.for("react.portal"),Zo=Symbol.for("react.fragment"),mb=Symbol.for("react.strict_mode"),k0=Symbol.for("react.profiler"),MO=Symbol.for("react.provider"),LO=Symbol.for("react.context"),gb=Symbol.for("react.forward_ref"),C0=Symbol.for("react.suspense"),N0=Symbol.for("react.suspense_list"),yb=Symbol.for("react.memo"),Es=Symbol.for("react.lazy"),$O=Symbol.for("react.offscreen"),DS=Symbol.iterator;function Bc(e){return e===null||typeof e!="object"?null:(e=DS&&e[DS]||e["@@iterator"],typeof e=="function"?e:null)}var dt=Object.assign,iv;function lu(e){if(iv===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);iv=t&&t[1]||""}return`
`+iv+e}var sv=!1;function av(e,t){if(!e||sv)return"";sv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{sv=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?lu(e):""}function Hz(e){switch(e.tag){case 5:return lu(e.type);case 16:return lu("Lazy");case 13:return lu("Suspense");case 19:return lu("SuspenseList");case 0:case 2:case 15:return e=av(e.type,!1),e;case 11:return e=av(e.type.render,!1),e;case 1:return e=av(e.type,!0),e;default:return""}}function O0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zo:return"Fragment";case Jo:return"Portal";case k0:return"Profiler";case mb:return"StrictMode";case C0:return"Suspense";case N0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case LO:return(e.displayName||"Context")+".Consumer";case MO:return(e._context.displayName||"Context")+".Provider";case gb:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yb:return t=e.displayName||null,t!==null?t:O0(e.type)||"Memo";case Es:t=e._payload,e=e._init;try{return O0(e(t))}catch{}}return null}function Gz(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O0(t);case 8:return t===mb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ea(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qz(e){var t=zO(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wf(e){e._valueTracker||(e._valueTracker=Qz(e))}function VO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=zO(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function tp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function j0(e,t){var n=t.checked;return dt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function MS(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ea(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function FO(e,t){t=t.checked,t!=null&&pb(e,"checked",t,!1)}function R0(e,t){FO(e,t);var n=ea(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?D0(e,t.type,n):t.hasOwnProperty("defaultValue")&&D0(e,t.type,ea(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function LS(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function D0(e,t,n){(t!=="number"||tp(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var cu=Array.isArray;function hl(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ea(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function M0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return dt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $S(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(cu(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ea(n)}}function UO(e,t){var n=ea(t.value),r=ea(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function zS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function BO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function L0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?BO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hf,qO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hf=Hf||document.createElement("div"),Hf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Uu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yz=["Webkit","ms","Moz","O"];Object.keys(bu).forEach(function(e){Yz.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bu[t]=bu[e]})});function KO(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bu.hasOwnProperty(e)&&bu[e]?(""+t).trim():t+"px"}function WO(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=KO(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Xz=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $0(e,t){if(t){if(Xz[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function z0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var V0=null;function vb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var F0=null,pl=null,ml=null;function VS(e){if(e=zd(e)){if(typeof F0!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Dm(t),F0(e.stateNode,e.type,t))}}function HO(e){pl?ml?ml.push(e):ml=[e]:pl=e}function GO(){if(pl){var e=pl,t=ml;if(ml=pl=null,VS(e),t)for(e=0;e<t.length;e++)VS(t[e])}}function QO(e,t){return e(t)}function YO(){}var ov=!1;function XO(e,t,n){if(ov)return e(t,n);ov=!0;try{return QO(e,t,n)}finally{ov=!1,(pl!==null||ml!==null)&&(YO(),GO())}}function Bu(e,t){var n=e.stateNode;if(n===null)return null;var r=Dm(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var U0=!1;if(Gi)try{var qc={};Object.defineProperty(qc,"passive",{get:function(){U0=!0}}),window.addEventListener("test",qc,qc),window.removeEventListener("test",qc,qc)}catch{U0=!1}function Jz(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var _u=!1,np=null,rp=!1,B0=null,Zz={onError:function(e){_u=!0,np=e}};function eV(e,t,n,r,i,s,a,o,l){_u=!1,np=null,Jz.apply(Zz,arguments)}function tV(e,t,n,r,i,s,a,o,l){if(eV.apply(this,arguments),_u){if(_u){var c=np;_u=!1,np=null}else throw Error(W(198));rp||(rp=!0,B0=c)}}function To(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function JO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function FS(e){if(To(e)!==e)throw Error(W(188))}function nV(e){var t=e.alternate;if(!t){if(t=To(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return FS(i),e;if(s===r)return FS(i),t;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function ZO(e){return e=nV(e),e!==null?ej(e):null}function ej(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ej(e);if(t!==null)return t;e=e.sibling}return null}var tj=ir.unstable_scheduleCallback,US=ir.unstable_cancelCallback,rV=ir.unstable_shouldYield,iV=ir.unstable_requestPaint,vt=ir.unstable_now,sV=ir.unstable_getCurrentPriorityLevel,xb=ir.unstable_ImmediatePriority,nj=ir.unstable_UserBlockingPriority,ip=ir.unstable_NormalPriority,aV=ir.unstable_LowPriority,rj=ir.unstable_IdlePriority,Nm=null,li=null;function oV(e){if(li&&typeof li.onCommitFiberRoot=="function")try{li.onCommitFiberRoot(Nm,e,void 0,(e.current.flags&128)===128)}catch{}}var qr=Math.clz32?Math.clz32:uV,lV=Math.log,cV=Math.LN2;function uV(e){return e>>>=0,e===0?32:31-(lV(e)/cV|0)|0}var Gf=64,Qf=4194304;function uu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function sp(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=uu(o):(s&=a,s!==0&&(r=uu(s)))}else a=n&~i,a!==0?r=uu(a):s!==0&&(r=uu(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-qr(t),i=1<<n,r|=e[n],t&=~i;return r}function dV(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fV(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-qr(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=dV(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function q0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ij(){var e=Gf;return Gf<<=1,!(Gf&4194240)&&(Gf=64),e}function lv(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ld(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qr(t),e[t]=n}function hV(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-qr(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function wb(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-qr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ve=0;function sj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var aj,bb,oj,lj,cj,K0=!1,Yf=[],$s=null,zs=null,Vs=null,qu=new Map,Ku=new Map,Ps=[],pV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BS(e,t){switch(e){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":qu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ku.delete(t.pointerId)}}function Kc(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=zd(t),t!==null&&bb(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function mV(e,t,n,r,i){switch(t){case"focusin":return $s=Kc($s,e,t,n,r,i),!0;case"dragenter":return zs=Kc(zs,e,t,n,r,i),!0;case"mouseover":return Vs=Kc(Vs,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return qu.set(s,Kc(qu.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ku.set(s,Kc(Ku.get(s)||null,e,t,n,r,i)),!0}return!1}function uj(e){var t=Ma(e.target);if(t!==null){var n=To(t);if(n!==null){if(t=n.tag,t===13){if(t=JO(n),t!==null){e.blockedOn=t,cj(e.priority,function(){oj(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=W0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);V0=r,n.target.dispatchEvent(r),V0=null}else return t=zd(n),t!==null&&bb(t),e.blockedOn=n,!1;t.shift()}return!0}function qS(e,t,n){Nh(e)&&n.delete(t)}function gV(){K0=!1,$s!==null&&Nh($s)&&($s=null),zs!==null&&Nh(zs)&&(zs=null),Vs!==null&&Nh(Vs)&&(Vs=null),qu.forEach(qS),Ku.forEach(qS)}function Wc(e,t){e.blockedOn===t&&(e.blockedOn=null,K0||(K0=!0,ir.unstable_scheduleCallback(ir.unstable_NormalPriority,gV)))}function Wu(e){function t(i){return Wc(i,e)}if(0<Yf.length){Wc(Yf[0],e);for(var n=1;n<Yf.length;n++){var r=Yf[n];r.blockedOn===e&&(r.blockedOn=null)}}for($s!==null&&Wc($s,e),zs!==null&&Wc(zs,e),Vs!==null&&Wc(Vs,e),qu.forEach(t),Ku.forEach(t),n=0;n<Ps.length;n++)r=Ps[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ps.length&&(n=Ps[0],n.blockedOn===null);)uj(n),n.blockedOn===null&&Ps.shift()}var gl=cs.ReactCurrentBatchConfig,ap=!0;function yV(e,t,n,r){var i=Ve,s=gl.transition;gl.transition=null;try{Ve=1,_b(e,t,n,r)}finally{Ve=i,gl.transition=s}}function vV(e,t,n,r){var i=Ve,s=gl.transition;gl.transition=null;try{Ve=4,_b(e,t,n,r)}finally{Ve=i,gl.transition=s}}function _b(e,t,n,r){if(ap){var i=W0(e,t,n,r);if(i===null)vv(e,t,r,op,n),BS(e,r);else if(mV(i,e,t,n,r))r.stopPropagation();else if(BS(e,r),t&4&&-1<pV.indexOf(e)){for(;i!==null;){var s=zd(i);if(s!==null&&aj(s),s=W0(e,t,n,r),s===null&&vv(e,t,r,op,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else vv(e,t,r,null,n)}}var op=null;function W0(e,t,n,r){if(op=null,e=vb(r),e=Ma(e),e!==null)if(t=To(e),t===null)e=null;else if(n=t.tag,n===13){if(e=JO(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return op=e,null}function dj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sV()){case xb:return 1;case nj:return 4;case ip:case aV:return 16;case rj:return 536870912;default:return 16}default:return 16}}var Rs=null,Eb=null,Oh=null;function fj(){if(Oh)return Oh;var e,t=Eb,n=t.length,r,i="value"in Rs?Rs.value:Rs.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Oh=i.slice(e,1<r?1-r:void 0)}function jh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xf(){return!0}function KS(){return!1}function dr(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xf:KS,this.isPropagationStopped=KS,this}return dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xf)},persist:function(){},isPersistent:Xf}),t}var oc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tb=dr(oc),$d=dt({},oc,{view:0,detail:0}),xV=dr($d),cv,uv,Hc,Om=dt({},$d,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hc&&(Hc&&e.type==="mousemove"?(cv=e.screenX-Hc.screenX,uv=e.screenY-Hc.screenY):uv=cv=0,Hc=e),cv)},movementY:function(e){return"movementY"in e?e.movementY:uv}}),WS=dr(Om),wV=dt({},Om,{dataTransfer:0}),bV=dr(wV),_V=dt({},$d,{relatedTarget:0}),dv=dr(_V),EV=dt({},oc,{animationName:0,elapsedTime:0,pseudoElement:0}),TV=dr(EV),SV=dt({},oc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),AV=dr(SV),PV=dt({},oc,{data:0}),HS=dr(PV),IV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NV(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=CV[e])?!!t[e]:!1}function Sb(){return NV}var OV=dt({},$d,{key:function(e){if(e.key){var t=IV[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kV[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sb,charCode:function(e){return e.type==="keypress"?jh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jV=dr(OV),RV=dt({},Om,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GS=dr(RV),DV=dt({},$d,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sb}),MV=dr(DV),LV=dt({},oc,{propertyName:0,elapsedTime:0,pseudoElement:0}),$V=dr(LV),zV=dt({},Om,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),VV=dr(zV),FV=[9,13,27,32],Ab=Gi&&"CompositionEvent"in window,Eu=null;Gi&&"documentMode"in document&&(Eu=document.documentMode);var UV=Gi&&"TextEvent"in window&&!Eu,hj=Gi&&(!Ab||Eu&&8<Eu&&11>=Eu),QS=" ",YS=!1;function pj(e,t){switch(e){case"keyup":return FV.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var el=!1;function BV(e,t){switch(e){case"compositionend":return mj(t);case"keypress":return t.which!==32?null:(YS=!0,QS);case"textInput":return e=t.data,e===QS&&YS?null:e;default:return null}}function qV(e,t){if(el)return e==="compositionend"||!Ab&&pj(e,t)?(e=fj(),Oh=Eb=Rs=null,el=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hj&&t.locale!=="ko"?null:t.data;default:return null}}var KV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!KV[e.type]:t==="textarea"}function gj(e,t,n,r){HO(r),t=lp(t,"onChange"),0<t.length&&(n=new Tb("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Tu=null,Hu=null;function WV(e){Pj(e,0)}function jm(e){var t=rl(e);if(VO(t))return e}function HV(e,t){if(e==="change")return t}var yj=!1;if(Gi){var fv;if(Gi){var hv="oninput"in document;if(!hv){var JS=document.createElement("div");JS.setAttribute("oninput","return;"),hv=typeof JS.oninput=="function"}fv=hv}else fv=!1;yj=fv&&(!document.documentMode||9<document.documentMode)}function ZS(){Tu&&(Tu.detachEvent("onpropertychange",vj),Hu=Tu=null)}function vj(e){if(e.propertyName==="value"&&jm(Hu)){var t=[];gj(t,Hu,e,vb(e)),XO(WV,t)}}function GV(e,t,n){e==="focusin"?(ZS(),Tu=t,Hu=n,Tu.attachEvent("onpropertychange",vj)):e==="focusout"&&ZS()}function QV(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jm(Hu)}function YV(e,t){if(e==="click")return jm(t)}function XV(e,t){if(e==="input"||e==="change")return jm(t)}function JV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hr=typeof Object.is=="function"?Object.is:JV;function Gu(e,t){if(Hr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!I0.call(t,i)||!Hr(e[i],t[i]))return!1}return!0}function eA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tA(e,t){var n=eA(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=eA(n)}}function xj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wj(){for(var e=window,t=tp();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=tp(e.document)}return t}function Pb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ZV(e){var t=wj(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&xj(n.ownerDocument.documentElement,n)){if(r!==null&&Pb(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=tA(n,s);var a=tA(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var eF=Gi&&"documentMode"in document&&11>=document.documentMode,tl=null,H0=null,Su=null,G0=!1;function nA(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;G0||tl==null||tl!==tp(r)||(r=tl,"selectionStart"in r&&Pb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Su&&Gu(Su,r)||(Su=r,r=lp(H0,"onSelect"),0<r.length&&(t=new Tb("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=tl)))}function Jf(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var nl={animationend:Jf("Animation","AnimationEnd"),animationiteration:Jf("Animation","AnimationIteration"),animationstart:Jf("Animation","AnimationStart"),transitionend:Jf("Transition","TransitionEnd")},pv={},bj={};Gi&&(bj=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function Rm(e){if(pv[e])return pv[e];if(!nl[e])return e;var t=nl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bj)return pv[e]=t[n];return e}var _j=Rm("animationend"),Ej=Rm("animationiteration"),Tj=Rm("animationstart"),Sj=Rm("transitionend"),Aj=new Map,rA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ua(e,t){Aj.set(e,t),Eo(t,[e])}for(var mv=0;mv<rA.length;mv++){var gv=rA[mv],tF=gv.toLowerCase(),nF=gv[0].toUpperCase()+gv.slice(1);ua(tF,"on"+nF)}ua(_j,"onAnimationEnd");ua(Ej,"onAnimationIteration");ua(Tj,"onAnimationStart");ua("dblclick","onDoubleClick");ua("focusin","onFocus");ua("focusout","onBlur");ua(Sj,"onTransitionEnd");Ol("onMouseEnter",["mouseout","mouseover"]);Ol("onMouseLeave",["mouseout","mouseover"]);Ol("onPointerEnter",["pointerout","pointerover"]);Ol("onPointerLeave",["pointerout","pointerover"]);Eo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Eo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Eo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Eo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Eo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Eo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rF=new Set("cancel close invalid load scroll toggle".split(" ").concat(du));function iA(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,tV(r,t,void 0,e),e.currentTarget=null}function Pj(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;iA(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;iA(i,o,c),s=l}}}if(rp)throw e=B0,rp=!1,B0=null,e}function Ze(e,t){var n=t[Z0];n===void 0&&(n=t[Z0]=new Set);var r=e+"__bubble";n.has(r)||(Ij(t,e,2,!1),n.add(r))}function yv(e,t,n){var r=0;t&&(r|=4),Ij(n,e,r,t)}var Zf="_reactListening"+Math.random().toString(36).slice(2);function Qu(e){if(!e[Zf]){e[Zf]=!0,DO.forEach(function(n){n!=="selectionchange"&&(rF.has(n)||yv(n,!1,e),yv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zf]||(t[Zf]=!0,yv("selectionchange",!1,t))}}function Ij(e,t,n,r){switch(dj(t)){case 1:var i=yV;break;case 4:i=vV;break;default:i=_b}n=i.bind(null,t,n,e),i=void 0,!U0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function vv(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Ma(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}XO(function(){var c=s,u=vb(n),f=[];e:{var p=Aj.get(e);if(p!==void 0){var m=Tb,g=e;switch(e){case"keypress":if(jh(n)===0)break e;case"keydown":case"keyup":m=jV;break;case"focusin":g="focus",m=dv;break;case"focusout":g="blur",m=dv;break;case"beforeblur":case"afterblur":m=dv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=WS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=bV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=MV;break;case _j:case Ej:case Tj:m=TV;break;case Sj:m=$V;break;case"scroll":m=xV;break;case"wheel":m=VV;break;case"copy":case"cut":case"paste":m=AV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=GS}var y=(t&4)!==0,b=!y&&e==="scroll",w=y?p!==null?p+"Capture":null:p;y=[];for(var x=c,_;x!==null;){_=x;var P=_.stateNode;if(_.tag===5&&P!==null&&(_=P,w!==null&&(P=Bu(x,w),P!=null&&y.push(Yu(x,P,_)))),b)break;x=x.return}0<y.length&&(p=new m(p,g,null,n,u),f.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==V0&&(g=n.relatedTarget||n.fromElement)&&(Ma(g)||g[Qi]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=c,g=g?Ma(g):null,g!==null&&(b=To(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(y=WS,P="onMouseLeave",w="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(y=GS,P="onPointerLeave",w="onPointerEnter",x="pointer"),b=m==null?p:rl(m),_=g==null?p:rl(g),p=new y(P,x+"leave",m,n,u),p.target=b,p.relatedTarget=_,P=null,Ma(u)===c&&(y=new y(w,x+"enter",g,n,u),y.target=_,y.relatedTarget=b,P=y),b=P,m&&g)t:{for(y=m,w=g,x=0,_=y;_;_=Fo(_))x++;for(_=0,P=w;P;P=Fo(P))_++;for(;0<x-_;)y=Fo(y),x--;for(;0<_-x;)w=Fo(w),_--;for(;x--;){if(y===w||w!==null&&y===w.alternate)break t;y=Fo(y),w=Fo(w)}y=null}else y=null;m!==null&&sA(f,p,m,y,!1),g!==null&&b!==null&&sA(f,b,g,y,!0)}}e:{if(p=c?rl(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var I=HV;else if(XS(p))if(yj)I=XV;else{I=QV;var N=GV}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(I=YV);if(I&&(I=I(e,c))){gj(f,I,n,u);break e}N&&N(e,p,c),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&D0(p,"number",p.value)}switch(N=c?rl(c):window,e){case"focusin":(XS(N)||N.contentEditable==="true")&&(tl=N,H0=c,Su=null);break;case"focusout":Su=H0=tl=null;break;case"mousedown":G0=!0;break;case"contextmenu":case"mouseup":case"dragend":G0=!1,nA(f,n,u);break;case"selectionchange":if(eF)break;case"keydown":case"keyup":nA(f,n,u)}var T;if(Ab)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else el?pj(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(hj&&n.locale!=="ko"&&(el||A!=="onCompositionStart"?A==="onCompositionEnd"&&el&&(T=fj()):(Rs=u,Eb="value"in Rs?Rs.value:Rs.textContent,el=!0)),N=lp(c,A),0<N.length&&(A=new HS(A,e,null,n,u),f.push({event:A,listeners:N}),T?A.data=T:(T=mj(n),T!==null&&(A.data=T)))),(T=UV?BV(e,n):qV(e,n))&&(c=lp(c,"onBeforeInput"),0<c.length&&(u=new HS("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=T))}Pj(f,t)})}function Yu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function lp(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Bu(e,n),s!=null&&r.unshift(Yu(e,s,i)),s=Bu(e,t),s!=null&&r.push(Yu(e,s,i))),e=e.return}return r}function Fo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sA(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Bu(n,s),l!=null&&a.unshift(Yu(n,l,o))):i||(l=Bu(n,s),l!=null&&a.push(Yu(n,l,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var iF=/\r\n?/g,sF=/\u0000|\uFFFD/g;function aA(e){return(typeof e=="string"?e:""+e).replace(iF,`
`).replace(sF,"")}function eh(e,t,n){if(t=aA(t),aA(e)!==t&&n)throw Error(W(425))}function cp(){}var Q0=null,Y0=null;function X0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var J0=typeof setTimeout=="function"?setTimeout:void 0,aF=typeof clearTimeout=="function"?clearTimeout:void 0,oA=typeof Promise=="function"?Promise:void 0,oF=typeof queueMicrotask=="function"?queueMicrotask:typeof oA<"u"?function(e){return oA.resolve(null).then(e).catch(lF)}:J0;function lF(e){setTimeout(function(){throw e})}function xv(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Wu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wu(t)}function Fs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var lc=Math.random().toString(36).slice(2),si="__reactFiber$"+lc,Xu="__reactProps$"+lc,Qi="__reactContainer$"+lc,Z0="__reactEvents$"+lc,cF="__reactListeners$"+lc,uF="__reactHandles$"+lc;function Ma(e){var t=e[si];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qi]||n[si]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=lA(e);e!==null;){if(n=e[si])return n;e=lA(e)}return t}e=n,n=e.parentNode}return null}function zd(e){return e=e[si]||e[Qi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function rl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Dm(e){return e[Xu]||null}var ex=[],il=-1;function da(e){return{current:e}}function nt(e){0>il||(e.current=ex[il],ex[il]=null,il--)}function Ye(e,t){il++,ex[il]=e.current,e.current=t}var ta={},wn=da(ta),Vn=da(!1),Za=ta;function jl(e,t){var n=e.type.contextTypes;if(!n)return ta;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Fn(e){return e=e.childContextTypes,e!=null}function up(){nt(Vn),nt(wn)}function cA(e,t,n){if(wn.current!==ta)throw Error(W(168));Ye(wn,t),Ye(Vn,n)}function kj(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(W(108,Gz(e)||"Unknown",i));return dt({},n,r)}function dp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ta,Za=wn.current,Ye(wn,e),Ye(Vn,Vn.current),!0}function uA(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=kj(e,t,Za),r.__reactInternalMemoizedMergedChildContext=e,nt(Vn),nt(wn),Ye(wn,e)):nt(Vn),Ye(Vn,n)}var ki=null,Mm=!1,wv=!1;function Cj(e){ki===null?ki=[e]:ki.push(e)}function dF(e){Mm=!0,Cj(e)}function fa(){if(!wv&&ki!==null){wv=!0;var e=0,t=Ve;try{var n=ki;for(Ve=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ki=null,Mm=!1}catch(i){throw ki!==null&&(ki=ki.slice(e+1)),tj(xb,fa),i}finally{Ve=t,wv=!1}}return null}var sl=[],al=0,fp=null,hp=0,yr=[],vr=0,eo=null,ji=1,Ri="";function Ia(e,t){sl[al++]=hp,sl[al++]=fp,fp=e,hp=t}function Nj(e,t,n){yr[vr++]=ji,yr[vr++]=Ri,yr[vr++]=eo,eo=e;var r=ji;e=Ri;var i=32-qr(r)-1;r&=~(1<<i),n+=1;var s=32-qr(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ji=1<<32-qr(t)+i|n<<i|r,Ri=s+e}else ji=1<<s|n<<i|r,Ri=e}function Ib(e){e.return!==null&&(Ia(e,1),Nj(e,1,0))}function kb(e){for(;e===fp;)fp=sl[--al],sl[al]=null,hp=sl[--al],sl[al]=null;for(;e===eo;)eo=yr[--vr],yr[vr]=null,Ri=yr[--vr],yr[vr]=null,ji=yr[--vr],yr[vr]=null}var nr=null,er=null,it=!1,$r=null;function Oj(e,t){var n=br(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function dA(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nr=e,er=Fs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nr=e,er=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=eo!==null?{id:ji,overflow:Ri}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=br(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,nr=e,er=null,!0):!1;default:return!1}}function tx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nx(e){if(it){var t=er;if(t){var n=t;if(!dA(e,t)){if(tx(e))throw Error(W(418));t=Fs(n.nextSibling);var r=nr;t&&dA(e,t)?Oj(r,n):(e.flags=e.flags&-4097|2,it=!1,nr=e)}}else{if(tx(e))throw Error(W(418));e.flags=e.flags&-4097|2,it=!1,nr=e}}}function fA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nr=e}function th(e){if(e!==nr)return!1;if(!it)return fA(e),it=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!X0(e.type,e.memoizedProps)),t&&(t=er)){if(tx(e))throw jj(),Error(W(418));for(;t;)Oj(e,t),t=Fs(t.nextSibling)}if(fA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){er=Fs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}er=null}}else er=nr?Fs(e.stateNode.nextSibling):null;return!0}function jj(){for(var e=er;e;)e=Fs(e.nextSibling)}function Rl(){er=nr=null,it=!1}function Cb(e){$r===null?$r=[e]:$r.push(e)}var fF=cs.ReactCurrentBatchConfig;function Gc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function nh(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hA(e){var t=e._init;return t(e._payload)}function Rj(e){function t(w,x){if(e){var _=w.deletions;_===null?(w.deletions=[x],w.flags|=16):_.push(x)}}function n(w,x){if(!e)return null;for(;x!==null;)t(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function i(w,x){return w=Ks(w,x),w.index=0,w.sibling=null,w}function s(w,x,_){return w.index=_,e?(_=w.alternate,_!==null?(_=_.index,_<x?(w.flags|=2,x):_):(w.flags|=2,x)):(w.flags|=1048576,x)}function a(w){return e&&w.alternate===null&&(w.flags|=2),w}function o(w,x,_,P){return x===null||x.tag!==6?(x=Pv(_,w.mode,P),x.return=w,x):(x=i(x,_),x.return=w,x)}function l(w,x,_,P){var I=_.type;return I===Zo?u(w,x,_.props.children,P,_.key):x!==null&&(x.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Es&&hA(I)===x.type)?(P=i(x,_.props),P.ref=Gc(w,x,_),P.return=w,P):(P=Vh(_.type,_.key,_.props,null,w.mode,P),P.ref=Gc(w,x,_),P.return=w,P)}function c(w,x,_,P){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=Iv(_,w.mode,P),x.return=w,x):(x=i(x,_.children||[]),x.return=w,x)}function u(w,x,_,P,I){return x===null||x.tag!==7?(x=Ga(_,w.mode,P,I),x.return=w,x):(x=i(x,_),x.return=w,x)}function f(w,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Pv(""+x,w.mode,_),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Kf:return _=Vh(x.type,x.key,x.props,null,w.mode,_),_.ref=Gc(w,null,x),_.return=w,_;case Jo:return x=Iv(x,w.mode,_),x.return=w,x;case Es:var P=x._init;return f(w,P(x._payload),_)}if(cu(x)||Bc(x))return x=Ga(x,w.mode,_,null),x.return=w,x;nh(w,x)}return null}function p(w,x,_,P){var I=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return I!==null?null:o(w,x,""+_,P);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Kf:return _.key===I?l(w,x,_,P):null;case Jo:return _.key===I?c(w,x,_,P):null;case Es:return I=_._init,p(w,x,I(_._payload),P)}if(cu(_)||Bc(_))return I!==null?null:u(w,x,_,P,null);nh(w,_)}return null}function m(w,x,_,P,I){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(_)||null,o(x,w,""+P,I);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Kf:return w=w.get(P.key===null?_:P.key)||null,l(x,w,P,I);case Jo:return w=w.get(P.key===null?_:P.key)||null,c(x,w,P,I);case Es:var N=P._init;return m(w,x,_,N(P._payload),I)}if(cu(P)||Bc(P))return w=w.get(_)||null,u(x,w,P,I,null);nh(x,P)}return null}function g(w,x,_,P){for(var I=null,N=null,T=x,A=x=0,k=null;T!==null&&A<_.length;A++){T.index>A?(k=T,T=null):k=T.sibling;var C=p(w,T,_[A],P);if(C===null){T===null&&(T=k);break}e&&T&&C.alternate===null&&t(w,T),x=s(C,x,A),N===null?I=C:N.sibling=C,N=C,T=k}if(A===_.length)return n(w,T),it&&Ia(w,A),I;if(T===null){for(;A<_.length;A++)T=f(w,_[A],P),T!==null&&(x=s(T,x,A),N===null?I=T:N.sibling=T,N=T);return it&&Ia(w,A),I}for(T=r(w,T);A<_.length;A++)k=m(T,w,A,_[A],P),k!==null&&(e&&k.alternate!==null&&T.delete(k.key===null?A:k.key),x=s(k,x,A),N===null?I=k:N.sibling=k,N=k);return e&&T.forEach(function(j){return t(w,j)}),it&&Ia(w,A),I}function y(w,x,_,P){var I=Bc(_);if(typeof I!="function")throw Error(W(150));if(_=I.call(_),_==null)throw Error(W(151));for(var N=I=null,T=x,A=x=0,k=null,C=_.next();T!==null&&!C.done;A++,C=_.next()){T.index>A?(k=T,T=null):k=T.sibling;var j=p(w,T,C.value,P);if(j===null){T===null&&(T=k);break}e&&T&&j.alternate===null&&t(w,T),x=s(j,x,A),N===null?I=j:N.sibling=j,N=j,T=k}if(C.done)return n(w,T),it&&Ia(w,A),I;if(T===null){for(;!C.done;A++,C=_.next())C=f(w,C.value,P),C!==null&&(x=s(C,x,A),N===null?I=C:N.sibling=C,N=C);return it&&Ia(w,A),I}for(T=r(w,T);!C.done;A++,C=_.next())C=m(T,w,A,C.value,P),C!==null&&(e&&C.alternate!==null&&T.delete(C.key===null?A:C.key),x=s(C,x,A),N===null?I=C:N.sibling=C,N=C);return e&&T.forEach(function(D){return t(w,D)}),it&&Ia(w,A),I}function b(w,x,_,P){if(typeof _=="object"&&_!==null&&_.type===Zo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Kf:e:{for(var I=_.key,N=x;N!==null;){if(N.key===I){if(I=_.type,I===Zo){if(N.tag===7){n(w,N.sibling),x=i(N,_.props.children),x.return=w,w=x;break e}}else if(N.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Es&&hA(I)===N.type){n(w,N.sibling),x=i(N,_.props),x.ref=Gc(w,N,_),x.return=w,w=x;break e}n(w,N);break}else t(w,N);N=N.sibling}_.type===Zo?(x=Ga(_.props.children,w.mode,P,_.key),x.return=w,w=x):(P=Vh(_.type,_.key,_.props,null,w.mode,P),P.ref=Gc(w,x,_),P.return=w,w=P)}return a(w);case Jo:e:{for(N=_.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(w,x.sibling),x=i(x,_.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else t(w,x);x=x.sibling}x=Iv(_,w.mode,P),x.return=w,w=x}return a(w);case Es:return N=_._init,b(w,x,N(_._payload),P)}if(cu(_))return g(w,x,_,P);if(Bc(_))return y(w,x,_,P);nh(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(w,x.sibling),x=i(x,_),x.return=w,w=x):(n(w,x),x=Pv(_,w.mode,P),x.return=w,w=x),a(w)):n(w,x)}return b}var Dl=Rj(!0),Dj=Rj(!1),pp=da(null),mp=null,ol=null,Nb=null;function Ob(){Nb=ol=mp=null}function jb(e){var t=pp.current;nt(pp),e._currentValue=t}function rx(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function yl(e,t){mp=e,Nb=ol=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($n=!0),e.firstContext=null)}function Ar(e){var t=e._currentValue;if(Nb!==e)if(e={context:e,memoizedValue:t,next:null},ol===null){if(mp===null)throw Error(W(308));ol=e,mp.dependencies={lanes:0,firstContext:e}}else ol=ol.next=e;return t}var La=null;function Rb(e){La===null?La=[e]:La.push(e)}function Mj(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Rb(t)):(n.next=i.next,i.next=n),t.interleaved=n,Yi(e,r)}function Yi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ts=!1;function Db(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Yi(e,n)}return i=r.interleaved,i===null?(t.next=t,Rb(r)):(t.next=i.next,i.next=t),r.interleaved=t,Yi(e,n)}function Rh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wb(e,n)}}function pA(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function gp(e,t,n,r){var i=e.updateQueue;Ts=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,u=c=l=null,o=s;do{var p=o.lane,m=o.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,y=o;switch(p=t,m=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(m,f,p);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,p=typeof g=="function"?g.call(m,f,p):g,p==null)break e;f=dt({},f,p);break e;case 2:Ts=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=m,l=f):u=u.next=m,a|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);no|=a,e.lanes=a,e.memoizedState=f}}function mA(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var Vd={},ci=da(Vd),Ju=da(Vd),Zu=da(Vd);function $a(e){if(e===Vd)throw Error(W(174));return e}function Mb(e,t){switch(Ye(Zu,t),Ye(Ju,e),Ye(ci,Vd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:L0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=L0(t,e)}nt(ci),Ye(ci,t)}function Ml(){nt(ci),nt(Ju),nt(Zu)}function $j(e){$a(Zu.current);var t=$a(ci.current),n=L0(t,e.type);t!==n&&(Ye(Ju,e),Ye(ci,n))}function Lb(e){Ju.current===e&&(nt(ci),nt(Ju))}var ct=da(0);function yp(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bv=[];function $b(){for(var e=0;e<bv.length;e++)bv[e]._workInProgressVersionPrimary=null;bv.length=0}var Dh=cs.ReactCurrentDispatcher,_v=cs.ReactCurrentBatchConfig,to=0,ut=null,kt=null,Lt=null,vp=!1,Au=!1,ed=0,hF=0;function un(){throw Error(W(321))}function zb(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Hr(e[n],t[n]))return!1;return!0}function Vb(e,t,n,r,i,s){if(to=s,ut=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Dh.current=e===null||e.memoizedState===null?yF:vF,e=n(r,i),Au){s=0;do{if(Au=!1,ed=0,25<=s)throw Error(W(301));s+=1,Lt=kt=null,t.updateQueue=null,Dh.current=xF,e=n(r,i)}while(Au)}if(Dh.current=xp,t=kt!==null&&kt.next!==null,to=0,Lt=kt=ut=null,vp=!1,t)throw Error(W(300));return e}function Fb(){var e=ed!==0;return ed=0,e}function ii(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ut.memoizedState=Lt=e:Lt=Lt.next=e,Lt}function Pr(){if(kt===null){var e=ut.alternate;e=e!==null?e.memoizedState:null}else e=kt.next;var t=Lt===null?ut.memoizedState:Lt.next;if(t!==null)Lt=t,kt=e;else{if(e===null)throw Error(W(310));kt=e,e={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Lt===null?ut.memoizedState=Lt=e:Lt=Lt.next=e}return Lt}function td(e,t){return typeof t=="function"?t(e):t}function Ev(e){var t=Pr(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=kt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((to&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,a=r):l=l.next=f,ut.lanes|=u,no|=u}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,Hr(r,t.memoizedState)||($n=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ut.lanes|=s,no|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Tv(e){var t=Pr(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Hr(s,t.memoizedState)||($n=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function zj(){}function Vj(e,t){var n=ut,r=Pr(),i=t(),s=!Hr(r.memoizedState,i);if(s&&(r.memoizedState=i,$n=!0),r=r.queue,Ub(Bj.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Lt!==null&&Lt.memoizedState.tag&1){if(n.flags|=2048,nd(9,Uj.bind(null,n,r,i,t),void 0,null),zt===null)throw Error(W(349));to&30||Fj(n,t,i)}return i}function Fj(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ut.updateQueue,t===null?(t={lastEffect:null,stores:null},ut.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Uj(e,t,n,r){t.value=n,t.getSnapshot=r,qj(t)&&Kj(e)}function Bj(e,t,n){return n(function(){qj(t)&&Kj(e)})}function qj(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Hr(e,n)}catch{return!0}}function Kj(e){var t=Yi(e,1);t!==null&&Kr(t,e,1,-1)}function gA(e){var t=ii();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:td,lastRenderedState:e},t.queue=e,e=e.dispatch=gF.bind(null,ut,e),[t.memoizedState,e]}function nd(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ut.updateQueue,t===null?(t={lastEffect:null,stores:null},ut.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Wj(){return Pr().memoizedState}function Mh(e,t,n,r){var i=ii();ut.flags|=e,i.memoizedState=nd(1|t,n,void 0,r===void 0?null:r)}function Lm(e,t,n,r){var i=Pr();r=r===void 0?null:r;var s=void 0;if(kt!==null){var a=kt.memoizedState;if(s=a.destroy,r!==null&&zb(r,a.deps)){i.memoizedState=nd(t,n,s,r);return}}ut.flags|=e,i.memoizedState=nd(1|t,n,s,r)}function yA(e,t){return Mh(8390656,8,e,t)}function Ub(e,t){return Lm(2048,8,e,t)}function Hj(e,t){return Lm(4,2,e,t)}function Gj(e,t){return Lm(4,4,e,t)}function Qj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yj(e,t,n){return n=n!=null?n.concat([e]):null,Lm(4,4,Qj.bind(null,t,e),n)}function Bb(){}function Xj(e,t){var n=Pr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zb(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jj(e,t){var n=Pr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zb(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zj(e,t,n){return to&21?(Hr(n,t)||(n=ij(),ut.lanes|=n,no|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$n=!0),e.memoizedState=n)}function pF(e,t){var n=Ve;Ve=n!==0&&4>n?n:4,e(!0);var r=_v.transition;_v.transition={};try{e(!1),t()}finally{Ve=n,_v.transition=r}}function eR(){return Pr().memoizedState}function mF(e,t,n){var r=qs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tR(e))nR(t,n);else if(n=Mj(e,t,n,r),n!==null){var i=In();Kr(n,e,r,i),rR(n,t,r)}}function gF(e,t,n){var r=qs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tR(e))nR(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Hr(o,a)){var l=t.interleaved;l===null?(i.next=i,Rb(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Mj(e,t,i,r),n!==null&&(i=In(),Kr(n,e,r,i),rR(n,t,r))}}function tR(e){var t=e.alternate;return e===ut||t!==null&&t===ut}function nR(e,t){Au=vp=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rR(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wb(e,n)}}var xp={readContext:Ar,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},yF={readContext:Ar,useCallback:function(e,t){return ii().memoizedState=[e,t===void 0?null:t],e},useContext:Ar,useEffect:yA,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Mh(4194308,4,Qj.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mh(4,2,e,t)},useMemo:function(e,t){var n=ii();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ii();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=mF.bind(null,ut,e),[r.memoizedState,e]},useRef:function(e){var t=ii();return e={current:e},t.memoizedState=e},useState:gA,useDebugValue:Bb,useDeferredValue:function(e){return ii().memoizedState=e},useTransition:function(){var e=gA(!1),t=e[0];return e=pF.bind(null,e[1]),ii().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ut,i=ii();if(it){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),zt===null)throw Error(W(349));to&30||Fj(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,yA(Bj.bind(null,r,s,e),[e]),r.flags|=2048,nd(9,Uj.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ii(),t=zt.identifierPrefix;if(it){var n=Ri,r=ji;n=(r&~(1<<32-qr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ed++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=hF++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vF={readContext:Ar,useCallback:Xj,useContext:Ar,useEffect:Ub,useImperativeHandle:Yj,useInsertionEffect:Hj,useLayoutEffect:Gj,useMemo:Jj,useReducer:Ev,useRef:Wj,useState:function(){return Ev(td)},useDebugValue:Bb,useDeferredValue:function(e){var t=Pr();return Zj(t,kt.memoizedState,e)},useTransition:function(){var e=Ev(td)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:zj,useSyncExternalStore:Vj,useId:eR,unstable_isNewReconciler:!1},xF={readContext:Ar,useCallback:Xj,useContext:Ar,useEffect:Ub,useImperativeHandle:Yj,useInsertionEffect:Hj,useLayoutEffect:Gj,useMemo:Jj,useReducer:Tv,useRef:Wj,useState:function(){return Tv(td)},useDebugValue:Bb,useDeferredValue:function(e){var t=Pr();return kt===null?t.memoizedState=e:Zj(t,kt.memoizedState,e)},useTransition:function(){var e=Tv(td)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:zj,useSyncExternalStore:Vj,useId:eR,unstable_isNewReconciler:!1};function Mr(e,t){if(e&&e.defaultProps){t=dt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ix(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:dt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $m={isMounted:function(e){return(e=e._reactInternals)?To(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=In(),i=qs(e),s=Vi(r,i);s.payload=t,n!=null&&(s.callback=n),t=Us(e,s,i),t!==null&&(Kr(t,e,i,r),Rh(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=In(),i=qs(e),s=Vi(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Us(e,s,i),t!==null&&(Kr(t,e,i,r),Rh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=In(),r=qs(e),i=Vi(n,r);i.tag=2,t!=null&&(i.callback=t),t=Us(e,i,r),t!==null&&(Kr(t,e,r,n),Rh(t,e,r))}};function vA(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Gu(n,r)||!Gu(i,s):!0}function iR(e,t,n){var r=!1,i=ta,s=t.contextType;return typeof s=="object"&&s!==null?s=Ar(s):(i=Fn(t)?Za:wn.current,r=t.contextTypes,s=(r=r!=null)?jl(e,i):ta),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$m,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function xA(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$m.enqueueReplaceState(t,t.state,null)}function sx(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Db(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Ar(s):(s=Fn(t)?Za:wn.current,i.context=jl(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ix(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&$m.enqueueReplaceState(i,i.state,null),gp(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ll(e,t){try{var n="",r=t;do n+=Hz(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Sv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ax(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var wF=typeof WeakMap=="function"?WeakMap:Map;function sR(e,t,n){n=Vi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){bp||(bp=!0,gx=r),ax(e,t)},n}function aR(e,t,n){n=Vi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ax(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ax(e,t),typeof r!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function wA(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new wF;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=RF.bind(null,e,t,n),t.then(e,e))}function bA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _A(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vi(-1,1),t.tag=2,Us(n,t,1))),n.lanes|=1),e)}var bF=cs.ReactCurrentOwner,$n=!1;function Sn(e,t,n,r){t.child=e===null?Dj(t,null,n,r):Dl(t,e.child,n,r)}function EA(e,t,n,r,i){n=n.render;var s=t.ref;return yl(t,i),r=Vb(e,t,n,r,s,i),n=Fb(),e!==null&&!$n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xi(e,t,i)):(it&&n&&Ib(t),t.flags|=1,Sn(e,t,r,i),t.child)}function TA(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Xb(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,oR(e,t,s,r,i)):(e=Vh(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Gu,n(a,r)&&e.ref===t.ref)return Xi(e,t,i)}return t.flags|=1,e=Ks(s,r),e.ref=t.ref,e.return=t,t.child=e}function oR(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Gu(s,r)&&e.ref===t.ref)if($n=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&($n=!0);else return t.lanes=e.lanes,Xi(e,t,i)}return ox(e,t,n,r,i)}function lR(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(cl,Qn),Qn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ye(cl,Qn),Qn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ye(cl,Qn),Qn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ye(cl,Qn),Qn|=r;return Sn(e,t,i,n),t.child}function cR(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ox(e,t,n,r,i){var s=Fn(n)?Za:wn.current;return s=jl(t,s),yl(t,i),n=Vb(e,t,n,r,s,i),r=Fb(),e!==null&&!$n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xi(e,t,i)):(it&&r&&Ib(t),t.flags|=1,Sn(e,t,n,i),t.child)}function SA(e,t,n,r,i){if(Fn(n)){var s=!0;dp(t)}else s=!1;if(yl(t,i),t.stateNode===null)Lh(e,t),iR(t,n,r),sx(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ar(c):(c=Fn(n)?Za:wn.current,c=jl(t,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&xA(t,a,r,c),Ts=!1;var p=t.memoizedState;a.state=p,gp(t,r,a,i),l=t.memoizedState,o!==r||p!==l||Vn.current||Ts?(typeof u=="function"&&(ix(t,n,u,r),l=t.memoizedState),(o=Ts||vA(t,n,o,r,p,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Lj(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Mr(t.type,o),a.props=c,f=t.pendingProps,p=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ar(l):(l=Fn(n)?Za:wn.current,l=jl(t,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||p!==l)&&xA(t,a,r,l),Ts=!1,p=t.memoizedState,a.state=p,gp(t,r,a,i);var g=t.memoizedState;o!==f||p!==g||Vn.current||Ts?(typeof m=="function"&&(ix(t,n,m,r),g=t.memoizedState),(c=Ts||vA(t,n,c,r,p,g,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return lx(e,t,n,r,s,i)}function lx(e,t,n,r,i,s){cR(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&uA(t,n,!1),Xi(e,t,s);r=t.stateNode,bF.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Dl(t,e.child,null,s),t.child=Dl(t,null,o,s)):Sn(e,t,o,s),t.memoizedState=r.state,i&&uA(t,n,!0),t.child}function uR(e){var t=e.stateNode;t.pendingContext?cA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cA(e,t.context,!1),Mb(e,t.containerInfo)}function AA(e,t,n,r,i){return Rl(),Cb(i),t.flags|=256,Sn(e,t,n,r),t.child}var cx={dehydrated:null,treeContext:null,retryLane:0};function ux(e){return{baseLanes:e,cachePool:null,transitions:null}}function dR(e,t,n){var r=t.pendingProps,i=ct.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ye(ct,i&1),e===null)return nx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Fm(a,r,0,null),e=Ga(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ux(n),t.memoizedState=cx,e):qb(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return _F(e,t,a,r,o,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ks(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Ks(o,s):(s=Ga(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?ux(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=cx,r}return s=e.child,e=s.sibling,r=Ks(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function qb(e,t){return t=Fm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function rh(e,t,n,r){return r!==null&&Cb(r),Dl(t,e.child,null,n),e=qb(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _F(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=Sv(Error(W(422))),rh(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Fm({mode:"visible",children:r.children},i,0,null),s=Ga(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Dl(t,e.child,null,a),t.child.memoizedState=ux(a),t.memoizedState=cx,s);if(!(t.mode&1))return rh(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(W(419)),r=Sv(s,r,void 0),rh(e,t,a,r)}if(o=(a&e.childLanes)!==0,$n||o){if(r=zt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Yi(e,i),Kr(r,e,i,-1))}return Yb(),r=Sv(Error(W(421))),rh(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=DF.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,er=Fs(i.nextSibling),nr=t,it=!0,$r=null,e!==null&&(yr[vr++]=ji,yr[vr++]=Ri,yr[vr++]=eo,ji=e.id,Ri=e.overflow,eo=t),t=qb(t,r.children),t.flags|=4096,t)}function PA(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),rx(e.return,t,n)}function Av(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function fR(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Sn(e,t,r.children,n),r=ct.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&PA(e,n,t);else if(e.tag===19)PA(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ye(ct,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&yp(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Av(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&yp(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Av(t,!0,n,null,s);break;case"together":Av(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),no|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=Ks(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ks(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function EF(e,t,n){switch(t.tag){case 3:uR(t),Rl();break;case 5:$j(t);break;case 1:Fn(t.type)&&dp(t);break;case 4:Mb(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ye(pp,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ye(ct,ct.current&1),t.flags|=128,null):n&t.child.childLanes?dR(e,t,n):(Ye(ct,ct.current&1),e=Xi(e,t,n),e!==null?e.sibling:null);Ye(ct,ct.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return fR(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ye(ct,ct.current),r)break;return null;case 22:case 23:return t.lanes=0,lR(e,t,n)}return Xi(e,t,n)}var hR,dx,pR,mR;hR=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dx=function(){};pR=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$a(ci.current);var s=null;switch(n){case"input":i=j0(e,i),r=j0(e,r),s=[];break;case"select":i=dt({},i,{value:void 0}),r=dt({},r,{value:void 0}),s=[];break;case"textarea":i=M0(e,i),r=M0(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=cp)}$0(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ze("scroll",e),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};mR=function(e,t,n,r){n!==r&&(t.flags|=4)};function Qc(e,t){if(!it)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function dn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function TF(e,t,n){var r=t.pendingProps;switch(kb(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(t),null;case 1:return Fn(t.type)&&up(),dn(t),null;case 3:return r=t.stateNode,Ml(),nt(Vn),nt(wn),$b(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(th(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$r!==null&&(xx($r),$r=null))),dx(e,t),dn(t),null;case 5:Lb(t);var i=$a(Zu.current);if(n=t.type,e!==null&&t.stateNode!=null)pR(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return dn(t),null}if(e=$a(ci.current),th(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[si]=t,r[Xu]=s,e=(t.mode&1)!==0,n){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(i=0;i<du.length;i++)Ze(du[i],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":MS(r,s),Ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ze("invalid",r);break;case"textarea":$S(r,s),Ze("invalid",r)}$0(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&eh(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&eh(r.textContent,o,e),i=["children",""+o]):Fu.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Ze("scroll",r)}switch(n){case"input":Wf(r),LS(r,s,!0);break;case"textarea":Wf(r),zS(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=cp)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=BO(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[si]=t,e[Xu]=r,hR(e,t,!1,!1),t.stateNode=e;e:{switch(a=z0(n,r),n){case"dialog":Ze("cancel",e),Ze("close",e),i=r;break;case"iframe":case"object":case"embed":Ze("load",e),i=r;break;case"video":case"audio":for(i=0;i<du.length;i++)Ze(du[i],e);i=r;break;case"source":Ze("error",e),i=r;break;case"img":case"image":case"link":Ze("error",e),Ze("load",e),i=r;break;case"details":Ze("toggle",e),i=r;break;case"input":MS(e,r),i=j0(e,r),Ze("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=dt({},r,{value:void 0}),Ze("invalid",e);break;case"textarea":$S(e,r),i=M0(e,r),Ze("invalid",e);break;default:i=r}$0(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?WO(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qO(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Uu(e,l):typeof l=="number"&&Uu(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Fu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ze("scroll",e):l!=null&&pb(e,s,l,a))}switch(n){case"input":Wf(e),LS(e,r,!1);break;case"textarea":Wf(e),zS(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ea(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?hl(e,!!r.multiple,s,!1):r.defaultValue!=null&&hl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=cp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return dn(t),null;case 6:if(e&&t.stateNode!=null)mR(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=$a(Zu.current),$a(ci.current),th(t)){if(r=t.stateNode,n=t.memoizedProps,r[si]=t,(s=r.nodeValue!==n)&&(e=nr,e!==null))switch(e.tag){case 3:eh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&eh(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[si]=t,t.stateNode=r}return dn(t),null;case 13:if(nt(ct),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(it&&er!==null&&t.mode&1&&!(t.flags&128))jj(),Rl(),t.flags|=98560,s=!1;else if(s=th(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(W(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[si]=t}else Rl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;dn(t),s=!1}else $r!==null&&(xx($r),$r=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ct.current&1?Ct===0&&(Ct=3):Yb())),t.updateQueue!==null&&(t.flags|=4),dn(t),null);case 4:return Ml(),dx(e,t),e===null&&Qu(t.stateNode.containerInfo),dn(t),null;case 10:return jb(t.type._context),dn(t),null;case 17:return Fn(t.type)&&up(),dn(t),null;case 19:if(nt(ct),s=t.memoizedState,s===null)return dn(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Qc(s,!1);else{if(Ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=yp(e),a!==null){for(t.flags|=128,Qc(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ye(ct,ct.current&1|2),t.child}e=e.sibling}s.tail!==null&&vt()>$l&&(t.flags|=128,r=!0,Qc(s,!1),t.lanes=4194304)}else{if(!r)if(e=yp(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Qc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!it)return dn(t),null}else 2*vt()-s.renderingStartTime>$l&&n!==1073741824&&(t.flags|=128,r=!0,Qc(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=vt(),t.sibling=null,n=ct.current,Ye(ct,r?n&1|2:n&1),t):(dn(t),null);case 22:case 23:return Qb(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Qn&1073741824&&(dn(t),t.subtreeFlags&6&&(t.flags|=8192)):dn(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function SF(e,t){switch(kb(t),t.tag){case 1:return Fn(t.type)&&up(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ml(),nt(Vn),nt(wn),$b(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Lb(t),null;case 13:if(nt(ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));Rl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nt(ct),null;case 4:return Ml(),null;case 10:return jb(t.type._context),null;case 22:case 23:return Qb(),null;case 24:return null;default:return null}}var ih=!1,gn=!1,AF=typeof WeakSet=="function"?WeakSet:Set,Z=null;function ll(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){mt(e,t,r)}else n.current=null}function fx(e,t,n){try{n()}catch(r){mt(e,t,r)}}var IA=!1;function PF(e,t){if(Q0=ap,e=wj(),Pb(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,u=0,f=e,p=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++c===i&&(o=a),p===s&&++u===r&&(l=a),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Y0={focusedElem:e,selectionRange:n},ap=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,w=t.stateNode,x=w.getSnapshotBeforeUpdate(t.elementType===t.type?y:Mr(t.type,y),b);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(P){mt(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return g=IA,IA=!1,g}function Pu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&fx(t,n,s)}i=i.next}while(i!==r)}}function zm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hx(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function gR(e){var t=e.alternate;t!==null&&(e.alternate=null,gR(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[si],delete t[Xu],delete t[Z0],delete t[cF],delete t[uF])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yR(e){return e.tag===5||e.tag===3||e.tag===4}function kA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yR(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function px(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=cp));else if(r!==4&&(e=e.child,e!==null))for(px(e,t,n),e=e.sibling;e!==null;)px(e,t,n),e=e.sibling}function mx(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(mx(e,t,n),e=e.sibling;e!==null;)mx(e,t,n),e=e.sibling}var Ht=null,Lr=!1;function xs(e,t,n){for(n=n.child;n!==null;)vR(e,t,n),n=n.sibling}function vR(e,t,n){if(li&&typeof li.onCommitFiberUnmount=="function")try{li.onCommitFiberUnmount(Nm,n)}catch{}switch(n.tag){case 5:gn||ll(n,t);case 6:var r=Ht,i=Lr;Ht=null,xs(e,t,n),Ht=r,Lr=i,Ht!==null&&(Lr?(e=Ht,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ht.removeChild(n.stateNode));break;case 18:Ht!==null&&(Lr?(e=Ht,n=n.stateNode,e.nodeType===8?xv(e.parentNode,n):e.nodeType===1&&xv(e,n),Wu(e)):xv(Ht,n.stateNode));break;case 4:r=Ht,i=Lr,Ht=n.stateNode.containerInfo,Lr=!0,xs(e,t,n),Ht=r,Lr=i;break;case 0:case 11:case 14:case 15:if(!gn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&fx(n,t,a),i=i.next}while(i!==r)}xs(e,t,n);break;case 1:if(!gn&&(ll(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){mt(n,t,o)}xs(e,t,n);break;case 21:xs(e,t,n);break;case 22:n.mode&1?(gn=(r=gn)||n.memoizedState!==null,xs(e,t,n),gn=r):xs(e,t,n);break;default:xs(e,t,n)}}function CA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new AF),t.forEach(function(r){var i=MF.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ht=o.stateNode,Lr=!1;break e;case 3:Ht=o.stateNode.containerInfo,Lr=!0;break e;case 4:Ht=o.stateNode.containerInfo,Lr=!0;break e}o=o.return}if(Ht===null)throw Error(W(160));vR(s,a,i),Ht=null,Lr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){mt(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xR(t,e),t=t.sibling}function xR(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dr(t,e),ni(e),r&4){try{Pu(3,e,e.return),zm(3,e)}catch(y){mt(e,e.return,y)}try{Pu(5,e,e.return)}catch(y){mt(e,e.return,y)}}break;case 1:Dr(t,e),ni(e),r&512&&n!==null&&ll(n,n.return);break;case 5:if(Dr(t,e),ni(e),r&512&&n!==null&&ll(n,n.return),e.flags&32){var i=e.stateNode;try{Uu(i,"")}catch(y){mt(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&FO(i,s),z0(o,a);var c=z0(o,s);for(a=0;a<l.length;a+=2){var u=l[a],f=l[a+1];u==="style"?WO(i,f):u==="dangerouslySetInnerHTML"?qO(i,f):u==="children"?Uu(i,f):pb(i,u,f,c)}switch(o){case"input":R0(i,s);break;case"textarea":UO(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?hl(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?hl(i,!!s.multiple,s.defaultValue,!0):hl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Xu]=s}catch(y){mt(e,e.return,y)}}break;case 6:if(Dr(t,e),ni(e),r&4){if(e.stateNode===null)throw Error(W(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){mt(e,e.return,y)}}break;case 3:if(Dr(t,e),ni(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wu(t.containerInfo)}catch(y){mt(e,e.return,y)}break;case 4:Dr(t,e),ni(e);break;case 13:Dr(t,e),ni(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Hb=vt())),r&4&&CA(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(gn=(c=gn)||u,Dr(t,e),gn=c):Dr(t,e),ni(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Z=e,u=e.child;u!==null;){for(f=Z=u;Z!==null;){switch(p=Z,m=p.child,p.tag){case 0:case 11:case 14:case 15:Pu(4,p,p.return);break;case 1:ll(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){mt(r,n,y)}}break;case 5:ll(p,p.return);break;case 22:if(p.memoizedState!==null){OA(f);continue}}m!==null?(m.return=p,Z=m):OA(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=KO("display",a))}catch(y){mt(e,e.return,y)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){mt(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Dr(t,e),ni(e),r&4&&CA(e);break;case 21:break;default:Dr(t,e),ni(e)}}function ni(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(yR(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Uu(i,""),r.flags&=-33);var s=kA(e);mx(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=kA(e);px(e,o,a);break;default:throw Error(W(161))}}catch(l){mt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function IF(e,t,n){Z=e,wR(e)}function wR(e,t,n){for(var r=(e.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||ih;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||gn;o=ih;var c=gn;if(ih=a,(gn=l)&&!c)for(Z=i;Z!==null;)a=Z,l=a.child,a.tag===22&&a.memoizedState!==null?jA(i):l!==null?(l.return=a,Z=l):jA(i);for(;s!==null;)Z=s,wR(s),s=s.sibling;Z=i,ih=o,gn=c}NA(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):NA(e)}}function NA(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gn||zm(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!gn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Mr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&mA(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}mA(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Wu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}gn||t.flags&512&&hx(t)}catch(p){mt(t,t.return,p)}}if(t===e){Z=null;break}if(n=t.sibling,n!==null){n.return=t.return,Z=n;break}Z=t.return}}function OA(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Z=n;break}Z=t.return}}function jA(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{zm(4,t)}catch(l){mt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){mt(t,i,l)}}var s=t.return;try{hx(t)}catch(l){mt(t,s,l)}break;case 5:var a=t.return;try{hx(t)}catch(l){mt(t,a,l)}}}catch(l){mt(t,t.return,l)}if(t===e){Z=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Z=o;break}Z=t.return}}var kF=Math.ceil,wp=cs.ReactCurrentDispatcher,Kb=cs.ReactCurrentOwner,Er=cs.ReactCurrentBatchConfig,Ne=0,zt=null,Tt=null,Zt=0,Qn=0,cl=da(0),Ct=0,rd=null,no=0,Vm=0,Wb=0,Iu=null,Mn=null,Hb=0,$l=1/0,Ii=null,bp=!1,gx=null,Bs=null,sh=!1,Ds=null,_p=0,ku=0,yx=null,$h=-1,zh=0;function In(){return Ne&6?vt():$h!==-1?$h:$h=vt()}function qs(e){return e.mode&1?Ne&2&&Zt!==0?Zt&-Zt:fF.transition!==null?(zh===0&&(zh=ij()),zh):(e=Ve,e!==0||(e=window.event,e=e===void 0?16:dj(e.type)),e):1}function Kr(e,t,n,r){if(50<ku)throw ku=0,yx=null,Error(W(185));Ld(e,n,r),(!(Ne&2)||e!==zt)&&(e===zt&&(!(Ne&2)&&(Vm|=n),Ct===4&&Is(e,Zt)),Un(e,r),n===1&&Ne===0&&!(t.mode&1)&&($l=vt()+500,Mm&&fa()))}function Un(e,t){var n=e.callbackNode;fV(e,t);var r=sp(e,e===zt?Zt:0);if(r===0)n!==null&&US(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&US(n),t===1)e.tag===0?dF(RA.bind(null,e)):Cj(RA.bind(null,e)),oF(function(){!(Ne&6)&&fa()}),n=null;else{switch(sj(r)){case 1:n=xb;break;case 4:n=nj;break;case 16:n=ip;break;case 536870912:n=rj;break;default:n=ip}n=IR(n,bR.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bR(e,t){if($h=-1,zh=0,Ne&6)throw Error(W(327));var n=e.callbackNode;if(vl()&&e.callbackNode!==n)return null;var r=sp(e,e===zt?Zt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ep(e,r);else{t=r;var i=Ne;Ne|=2;var s=ER();(zt!==e||Zt!==t)&&(Ii=null,$l=vt()+500,Ha(e,t));do try{OF();break}catch(o){_R(e,o)}while(!0);Ob(),wp.current=s,Ne=i,Tt!==null?t=0:(zt=null,Zt=0,t=Ct)}if(t!==0){if(t===2&&(i=q0(e),i!==0&&(r=i,t=vx(e,i))),t===1)throw n=rd,Ha(e,0),Is(e,r),Un(e,vt()),n;if(t===6)Is(e,r);else{if(i=e.current.alternate,!(r&30)&&!CF(i)&&(t=Ep(e,r),t===2&&(s=q0(e),s!==0&&(r=s,t=vx(e,s))),t===1))throw n=rd,Ha(e,0),Is(e,r),Un(e,vt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:ka(e,Mn,Ii);break;case 3:if(Is(e,r),(r&130023424)===r&&(t=Hb+500-vt(),10<t)){if(sp(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){In(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=J0(ka.bind(null,e,Mn,Ii),t);break}ka(e,Mn,Ii);break;case 4:if(Is(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-qr(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kF(r/1960))-r,10<r){e.timeoutHandle=J0(ka.bind(null,e,Mn,Ii),r);break}ka(e,Mn,Ii);break;case 5:ka(e,Mn,Ii);break;default:throw Error(W(329))}}}return Un(e,vt()),e.callbackNode===n?bR.bind(null,e):null}function vx(e,t){var n=Iu;return e.current.memoizedState.isDehydrated&&(Ha(e,t).flags|=256),e=Ep(e,t),e!==2&&(t=Mn,Mn=n,t!==null&&xx(t)),e}function xx(e){Mn===null?Mn=e:Mn.push.apply(Mn,e)}function CF(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Hr(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Is(e,t){for(t&=~Wb,t&=~Vm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qr(t),r=1<<n;e[n]=-1,t&=~r}}function RA(e){if(Ne&6)throw Error(W(327));vl();var t=sp(e,0);if(!(t&1))return Un(e,vt()),null;var n=Ep(e,t);if(e.tag!==0&&n===2){var r=q0(e);r!==0&&(t=r,n=vx(e,r))}if(n===1)throw n=rd,Ha(e,0),Is(e,t),Un(e,vt()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ka(e,Mn,Ii),Un(e,vt()),null}function Gb(e,t){var n=Ne;Ne|=1;try{return e(t)}finally{Ne=n,Ne===0&&($l=vt()+500,Mm&&fa())}}function ro(e){Ds!==null&&Ds.tag===0&&!(Ne&6)&&vl();var t=Ne;Ne|=1;var n=Er.transition,r=Ve;try{if(Er.transition=null,Ve=1,e)return e()}finally{Ve=r,Er.transition=n,Ne=t,!(Ne&6)&&fa()}}function Qb(){Qn=cl.current,nt(cl)}function Ha(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,aF(n)),Tt!==null)for(n=Tt.return;n!==null;){var r=n;switch(kb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&up();break;case 3:Ml(),nt(Vn),nt(wn),$b();break;case 5:Lb(r);break;case 4:Ml();break;case 13:nt(ct);break;case 19:nt(ct);break;case 10:jb(r.type._context);break;case 22:case 23:Qb()}n=n.return}if(zt=e,Tt=e=Ks(e.current,null),Zt=Qn=t,Ct=0,rd=null,Wb=Vm=no=0,Mn=Iu=null,La!==null){for(t=0;t<La.length;t++)if(n=La[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}La=null}return e}function _R(e,t){do{var n=Tt;try{if(Ob(),Dh.current=xp,vp){for(var r=ut.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vp=!1}if(to=0,Lt=kt=ut=null,Au=!1,ed=0,Kb.current=null,n===null||n.return===null){Ct=1,rd=t,Tt=null;break}e:{var s=e,a=n.return,o=n,l=t;if(t=Zt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=bA(a);if(m!==null){m.flags&=-257,_A(m,a,o,s,t),m.mode&1&&wA(s,c,t),t=m,l=c;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}else{if(!(t&1)){wA(s,c,t),Yb();break e}l=Error(W(426))}}else if(it&&o.mode&1){var b=bA(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),_A(b,a,o,s,t),Cb(Ll(l,o));break e}}s=l=Ll(l,o),Ct!==4&&(Ct=2),Iu===null?Iu=[s]:Iu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var w=sR(s,l,t);pA(s,w);break e;case 1:o=l;var x=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Bs===null||!Bs.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var P=aR(s,o,t);pA(s,P);break e}}s=s.return}while(s!==null)}SR(n)}catch(I){t=I,Tt===n&&n!==null&&(Tt=n=n.return);continue}break}while(!0)}function ER(){var e=wp.current;return wp.current=xp,e===null?xp:e}function Yb(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),zt===null||!(no&268435455)&&!(Vm&268435455)||Is(zt,Zt)}function Ep(e,t){var n=Ne;Ne|=2;var r=ER();(zt!==e||Zt!==t)&&(Ii=null,Ha(e,t));do try{NF();break}catch(i){_R(e,i)}while(!0);if(Ob(),Ne=n,wp.current=r,Tt!==null)throw Error(W(261));return zt=null,Zt=0,Ct}function NF(){for(;Tt!==null;)TR(Tt)}function OF(){for(;Tt!==null&&!rV();)TR(Tt)}function TR(e){var t=PR(e.alternate,e,Qn);e.memoizedProps=e.pendingProps,t===null?SR(e):Tt=t,Kb.current=null}function SR(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=SF(n,t),n!==null){n.flags&=32767,Tt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ct=6,Tt=null;return}}else if(n=TF(n,t,Qn),n!==null){Tt=n;return}if(t=t.sibling,t!==null){Tt=t;return}Tt=t=e}while(t!==null);Ct===0&&(Ct=5)}function ka(e,t,n){var r=Ve,i=Er.transition;try{Er.transition=null,Ve=1,jF(e,t,n,r)}finally{Er.transition=i,Ve=r}return null}function jF(e,t,n,r){do vl();while(Ds!==null);if(Ne&6)throw Error(W(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(hV(e,s),e===zt&&(Tt=zt=null,Zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sh||(sh=!0,IR(ip,function(){return vl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Er.transition,Er.transition=null;var a=Ve;Ve=1;var o=Ne;Ne|=4,Kb.current=null,PF(e,n),xR(n,e),ZV(Y0),ap=!!Q0,Y0=Q0=null,e.current=n,IF(n),iV(),Ne=o,Ve=a,Er.transition=s}else e.current=n;if(sh&&(sh=!1,Ds=e,_p=i),s=e.pendingLanes,s===0&&(Bs=null),oV(n.stateNode),Un(e,vt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bp)throw bp=!1,e=gx,gx=null,e;return _p&1&&e.tag!==0&&vl(),s=e.pendingLanes,s&1?e===yx?ku++:(ku=0,yx=e):ku=0,fa(),null}function vl(){if(Ds!==null){var e=sj(_p),t=Er.transition,n=Ve;try{if(Er.transition=null,Ve=16>e?16:e,Ds===null)var r=!1;else{if(e=Ds,Ds=null,_p=0,Ne&6)throw Error(W(331));var i=Ne;for(Ne|=4,Z=e.current;Z!==null;){var s=Z,a=s.child;if(Z.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Z=c;Z!==null;){var u=Z;switch(u.tag){case 0:case 11:case 15:Pu(8,u,s)}var f=u.child;if(f!==null)f.return=u,Z=f;else for(;Z!==null;){u=Z;var p=u.sibling,m=u.return;if(gR(u),u===c){Z=null;break}if(p!==null){p.return=m,Z=p;break}Z=m}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}Z=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Z=a;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Pu(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Z=w;break e}Z=s.return}}var x=e.current;for(Z=x;Z!==null;){a=Z;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,Z=_;else e:for(a=x;Z!==null;){if(o=Z,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:zm(9,o)}}catch(I){mt(o,o.return,I)}if(o===a){Z=null;break e}var P=o.sibling;if(P!==null){P.return=o.return,Z=P;break e}Z=o.return}}if(Ne=i,fa(),li&&typeof li.onPostCommitFiberRoot=="function")try{li.onPostCommitFiberRoot(Nm,e)}catch{}r=!0}return r}finally{Ve=n,Er.transition=t}}return!1}function DA(e,t,n){t=Ll(n,t),t=sR(e,t,1),e=Us(e,t,1),t=In(),e!==null&&(Ld(e,1,t),Un(e,t))}function mt(e,t,n){if(e.tag===3)DA(e,e,n);else for(;t!==null;){if(t.tag===3){DA(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bs===null||!Bs.has(r))){e=Ll(n,e),e=aR(t,e,1),t=Us(t,e,1),e=In(),t!==null&&(Ld(t,1,e),Un(t,e));break}}t=t.return}}function RF(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=In(),e.pingedLanes|=e.suspendedLanes&n,zt===e&&(Zt&n)===n&&(Ct===4||Ct===3&&(Zt&130023424)===Zt&&500>vt()-Hb?Ha(e,0):Wb|=n),Un(e,t)}function AR(e,t){t===0&&(e.mode&1?(t=Qf,Qf<<=1,!(Qf&130023424)&&(Qf=4194304)):t=1);var n=In();e=Yi(e,t),e!==null&&(Ld(e,t,n),Un(e,n))}function DF(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),AR(e,n)}function MF(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),AR(e,n)}var PR;PR=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vn.current)$n=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $n=!1,EF(e,t,n);$n=!!(e.flags&131072)}else $n=!1,it&&t.flags&1048576&&Nj(t,hp,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Lh(e,t),e=t.pendingProps;var i=jl(t,wn.current);yl(t,n),i=Vb(null,t,r,e,i,n);var s=Fb();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fn(r)?(s=!0,dp(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Db(t),i.updater=$m,t.stateNode=i,i._reactInternals=t,sx(t,r,e,n),t=lx(null,t,r,!0,s,n)):(t.tag=0,it&&s&&Ib(t),Sn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Lh(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=$F(r),e=Mr(r,e),i){case 0:t=ox(null,t,r,e,n);break e;case 1:t=SA(null,t,r,e,n);break e;case 11:t=EA(null,t,r,e,n);break e;case 14:t=TA(null,t,r,Mr(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mr(r,i),ox(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mr(r,i),SA(e,t,r,i,n);case 3:e:{if(uR(t),e===null)throw Error(W(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Lj(e,t),gp(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ll(Error(W(423)),t),t=AA(e,t,r,n,i);break e}else if(r!==i){i=Ll(Error(W(424)),t),t=AA(e,t,r,n,i);break e}else for(er=Fs(t.stateNode.containerInfo.firstChild),nr=t,it=!0,$r=null,n=Dj(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rl(),r===i){t=Xi(e,t,n);break e}Sn(e,t,r,n)}t=t.child}return t;case 5:return $j(t),e===null&&nx(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,X0(r,i)?a=null:s!==null&&X0(r,s)&&(t.flags|=32),cR(e,t),Sn(e,t,a,n),t.child;case 6:return e===null&&nx(t),null;case 13:return dR(e,t,n);case 4:return Mb(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Dl(t,null,r,n):Sn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mr(r,i),EA(e,t,r,i,n);case 7:return Sn(e,t,t.pendingProps,n),t.child;case 8:return Sn(e,t,t.pendingProps.children,n),t.child;case 12:return Sn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ye(pp,r._currentValue),r._currentValue=a,s!==null)if(Hr(s.value,a)){if(s.children===i.children&&!Vn.current){t=Xi(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Vi(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),rx(s.return,n,t),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(W(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),rx(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Sn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,yl(t,n),i=Ar(i),r=r(i),t.flags|=1,Sn(e,t,r,n),t.child;case 14:return r=t.type,i=Mr(r,t.pendingProps),i=Mr(r.type,i),TA(e,t,r,i,n);case 15:return oR(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mr(r,i),Lh(e,t),t.tag=1,Fn(r)?(e=!0,dp(t)):e=!1,yl(t,n),iR(t,r,i),sx(t,r,i,n),lx(null,t,r,!0,e,n);case 19:return fR(e,t,n);case 22:return lR(e,t,n)}throw Error(W(156,t.tag))};function IR(e,t){return tj(e,t)}function LF(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(e,t,n,r){return new LF(e,t,n,r)}function Xb(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $F(e){if(typeof e=="function")return Xb(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gb)return 11;if(e===yb)return 14}return 2}function Ks(e,t){var n=e.alternate;return n===null?(n=br(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vh(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")Xb(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Zo:return Ga(n.children,i,s,t);case mb:a=8,i|=8;break;case k0:return e=br(12,n,t,i|2),e.elementType=k0,e.lanes=s,e;case C0:return e=br(13,n,t,i),e.elementType=C0,e.lanes=s,e;case N0:return e=br(19,n,t,i),e.elementType=N0,e.lanes=s,e;case $O:return Fm(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case MO:a=10;break e;case LO:a=9;break e;case gb:a=11;break e;case yb:a=14;break e;case Es:a=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=br(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ga(e,t,n,r){return e=br(7,e,r,t),e.lanes=n,e}function Fm(e,t,n,r){return e=br(22,e,r,t),e.elementType=$O,e.lanes=n,e.stateNode={isHidden:!1},e}function Pv(e,t,n){return e=br(6,e,null,t),e.lanes=n,e}function Iv(e,t,n){return t=br(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zF(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lv(0),this.expirationTimes=lv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Jb(e,t,n,r,i,s,a,o,l){return e=new zF(e,t,n,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=br(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Db(s),e}function VF(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function kR(e){if(!e)return ta;e=e._reactInternals;e:{if(To(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(Fn(n))return kj(e,n,t)}return t}function CR(e,t,n,r,i,s,a,o,l){return e=Jb(n,r,!0,e,i,s,a,o,l),e.context=kR(null),n=e.current,r=In(),i=qs(n),s=Vi(r,i),s.callback=t??null,Us(n,s,i),e.current.lanes=i,Ld(e,i,r),Un(e,r),e}function Um(e,t,n,r){var i=t.current,s=In(),a=qs(i);return n=kR(n),t.context===null?t.context=n:t.pendingContext=n,t=Vi(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Us(i,t,a),e!==null&&(Kr(e,i,a,s),Rh(e,i,a)),a}function Tp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function MA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zb(e,t){MA(e,t),(e=e.alternate)&&MA(e,t)}function FF(){return null}var NR=typeof reportError=="function"?reportError:function(e){console.error(e)};function e_(e){this._internalRoot=e}Bm.prototype.render=e_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Um(e,t,null,null)};Bm.prototype.unmount=e_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ro(function(){Um(null,e,null,null)}),t[Qi]=null}};function Bm(e){this._internalRoot=e}Bm.prototype.unstable_scheduleHydration=function(e){if(e){var t=lj();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ps.length&&t!==0&&t<Ps[n].priority;n++);Ps.splice(n,0,e),n===0&&uj(e)}};function t_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function LA(){}function UF(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Tp(a);s.call(c)}}var a=CR(t,r,e,0,null,!1,!1,"",LA);return e._reactRootContainer=a,e[Qi]=a.current,Qu(e.nodeType===8?e.parentNode:e),ro(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=Tp(l);o.call(c)}}var l=Jb(e,0,!1,null,null,!1,!1,"",LA);return e._reactRootContainer=l,e[Qi]=l.current,Qu(e.nodeType===8?e.parentNode:e),ro(function(){Um(t,l,n,r)}),l}function Km(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Tp(a);o.call(l)}}Um(t,a,e,i)}else a=UF(n,t,e,i,r);return Tp(a)}aj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=uu(t.pendingLanes);n!==0&&(wb(t,n|1),Un(t,vt()),!(Ne&6)&&($l=vt()+500,fa()))}break;case 13:ro(function(){var r=Yi(e,1);if(r!==null){var i=In();Kr(r,e,1,i)}}),Zb(e,1)}};bb=function(e){if(e.tag===13){var t=Yi(e,134217728);if(t!==null){var n=In();Kr(t,e,134217728,n)}Zb(e,134217728)}};oj=function(e){if(e.tag===13){var t=qs(e),n=Yi(e,t);if(n!==null){var r=In();Kr(n,e,t,r)}Zb(e,t)}};lj=function(){return Ve};cj=function(e,t){var n=Ve;try{return Ve=e,t()}finally{Ve=n}};F0=function(e,t,n){switch(t){case"input":if(R0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Dm(r);if(!i)throw Error(W(90));VO(r),R0(r,i)}}}break;case"textarea":UO(e,n);break;case"select":t=n.value,t!=null&&hl(e,!!n.multiple,t,!1)}};QO=Gb;YO=ro;var BF={usingClientEntryPoint:!1,Events:[zd,rl,Dm,HO,GO,Gb]},Yc={findFiberByHostInstance:Ma,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qF={bundleType:Yc.bundleType,version:Yc.version,rendererPackageName:Yc.rendererPackageName,rendererConfig:Yc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ZO(e),e===null?null:e.stateNode},findFiberByHostInstance:Yc.findFiberByHostInstance||FF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{Nm=ah.inject(qF),li=ah}catch{}}ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BF;ur.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t_(t))throw Error(W(200));return VF(e,t,null,n)};ur.createRoot=function(e,t){if(!t_(e))throw Error(W(299));var n=!1,r="",i=NR;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Jb(e,1,!1,null,null,n,!1,r,i),e[Qi]=t.current,Qu(e.nodeType===8?e.parentNode:e),new e_(t)};ur.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=ZO(t),e=e===null?null:e.stateNode,e};ur.flushSync=function(e){return ro(e)};ur.hydrate=function(e,t,n){if(!qm(t))throw Error(W(200));return Km(null,e,t,!0,n)};ur.hydrateRoot=function(e,t,n){if(!t_(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=NR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=CR(t,null,e,1,n??null,i,!1,s,a),e[Qi]=t.current,Qu(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Bm(t)};ur.render=function(e,t,n){if(!qm(t))throw Error(W(200));return Km(null,e,t,!1,n)};ur.unmountComponentAtNode=function(e){if(!qm(e))throw Error(W(40));return e._reactRootContainer?(ro(function(){Km(null,null,e,!1,function(){e._reactRootContainer=null,e[Qi]=null})}),!0):!1};ur.unstable_batchedUpdates=Gb;ur.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!qm(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Km(e,t,n,!1,r)};ur.version="18.3.1-next-f1338f8080-20240426";function OR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OR)}catch(e){console.error(e)}}OR(),OO.exports=ur;var Wm=OO.exports,jR,$A=Wm;jR=$A.createRoot,$A.hydrateRoot;const KF="modulepreload",WF=function(e){return"/"+e},zA={},Vt=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=WF(l),l in zA)return;zA[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":KF,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};var n_={};Object.defineProperty(n_,"__esModule",{value:!0});n_.parse=ZF;n_.serialize=eU;const HF=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,GF=/^[\u0021-\u003A\u003C-\u007E]*$/,QF=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,YF=/^[\u0020-\u003A\u003D-\u007E]*$/,XF=Object.prototype.toString,JF=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function ZF(e,t){const n=new JF,r=e.length;if(r<2)return n;const i=(t==null?void 0:t.decode)||tU;let s=0;do{const a=e.indexOf("=",s);if(a===-1)break;const o=e.indexOf(";",s),l=o===-1?r:o;if(a>l){s=e.lastIndexOf(";",a-1)+1;continue}const c=VA(e,s,a),u=FA(e,a,c),f=e.slice(c,u);if(n[f]===void 0){let p=VA(e,a+1,l),m=FA(e,l,p);const g=i(e.slice(p,m));n[f]=g}s=l+1}while(s<r);return n}function VA(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function FA(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function eU(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!HF.test(e))throw new TypeError(`argument name is invalid: ${e}`);const i=r(t);if(!GF.test(i))throw new TypeError(`argument val is invalid: ${t}`);let s=e+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!QF.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!YF.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!nU(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function tU(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function nU(e){return XF.call(e)==="[object Date]"}var UA="popstate";function rU(e={}){function t(r,i){let{pathname:s,search:a,hash:o}=r.location;return wx("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:id(i)}return sU(t,n,null,e)}function at(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Gr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iU(){return Math.random().toString(36).substring(2,10)}function BA(e,t){return{usr:e.state,key:e.key,idx:t}}function wx(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?cc(t):t,state:n,key:t&&t.key||r||iU()}}function id({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function cc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function sU(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,c=u();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function u(){return(a.state||{idx:null}).idx}function f(){o="POP";let b=u(),w=b==null?null:b-c;c=b,l&&l({action:o,location:y.location,delta:w})}function p(b,w){o="PUSH";let x=wx(y.location,b,w);c=u()+1;let _=BA(x,c),P=y.createHref(x);try{a.pushState(_,"",P)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(P)}s&&l&&l({action:o,location:y.location,delta:1})}function m(b,w){o="REPLACE";let x=wx(y.location,b,w);c=u();let _=BA(x,c),P=y.createHref(x);a.replaceState(_,"",P),s&&l&&l({action:o,location:y.location,delta:0})}function g(b){return aU(b)}let y={get action(){return o},get location(){return e(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(UA,f),l=b,()=>{i.removeEventListener(UA,f),l=null}},createHref(b){return t(i,b)},createURL:g,encodeLocation(b){let w=g(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:m,go(b){return a.go(b)}};return y}function aU(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),at(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:id(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function RR(e,t,n="/"){return oU(e,t,n,!1)}function oU(e,t,n,r){let i=typeof t=="string"?cc(t):t,s=Ji(i.pathname||"/",n);if(s==null)return null;let a=DR(e);lU(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=xU(s);o=yU(a[l],c,r)}return o}function DR(e,t=[],n=[],r=""){let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(at(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=Fi([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(at(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),DR(s.children,t,u,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:mU(c,s.index),routesMeta:u})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of MR(s.path))i(s,a,l)}),t}function MR(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=MR(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function lU(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:gU(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var cU=/^:[\w-]+$/,uU=3,dU=2,fU=1,hU=10,pU=-2,qA=e=>e==="*";function mU(e,t){let n=e.split("/"),r=n.length;return n.some(qA)&&(r+=pU),t&&(r+=dU),n.filter(i=>!qA(i)).reduce((i,s)=>i+(cU.test(s)?uU:s===""?fU:hU),r)}function gU(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function yU(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=s==="/"?t:t.slice(s.length)||"/",f=Sp({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Sp({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Fi([s,f.pathname]),pathnameBase:EU(Fi([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=Fi([s,f.pathnameBase]))}return a}function Sp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=vU(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:f},p)=>{if(u==="*"){let g=o[p]||"";a=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[p];return f&&!m?c[u]=void 0:c[u]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:e}}function vU(e,t=!1,n=!0){Gr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function xU(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ji(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function wU(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?cc(e):e;return{pathname:n?n.startsWith("/")?n:bU(n,t):t,search:TU(r),hash:SU(i)}}function bU(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function kv(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _U(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function r_(e){let t=_U(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function i_(e,t,n,r=!1){let i;typeof e=="string"?i=cc(e):(i={...e},at(!i.pathname||!i.pathname.includes("?"),kv("?","pathname","search",i)),at(!i.pathname||!i.pathname.includes("#"),kv("#","pathname","hash",i)),at(!i.search||!i.search.includes("#"),kv("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}o=f>=0?t[f]:"/"}let l=wU(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Fi=e=>e.join("/").replace(/\/\/+/g,"/"),EU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),TU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,SU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function AU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var LR=["POST","PUT","PATCH","DELETE"];new Set(LR);var PU=["GET",...LR];new Set(PU);var uc=v.createContext(null);uc.displayName="DataRouter";var Hm=v.createContext(null);Hm.displayName="DataRouterState";var $R=v.createContext({isTransitioning:!1});$R.displayName="ViewTransition";var IU=v.createContext(new Map);IU.displayName="Fetchers";var kU=v.createContext(null);kU.displayName="Await";var Jr=v.createContext(null);Jr.displayName="Navigation";var Fd=v.createContext(null);Fd.displayName="Location";var Zr=v.createContext({outlet:null,matches:[],isDataRoute:!1});Zr.displayName="Route";var s_=v.createContext(null);s_.displayName="RouteError";function CU(e,{relative:t}={}){at(dc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=v.useContext(Jr),{hash:i,pathname:s,search:a}=Bd(e,{relative:t}),o=s;return n!=="/"&&(o=s==="/"?n:Fi([n,s])),r.createHref({pathname:o,search:a,hash:i})}function dc(){return v.useContext(Fd)!=null}function us(){return at(dc(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Fd).location}var zR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VR(e){v.useContext(Jr).static||v.useLayoutEffect(e)}function Ud(){let{isDataRoute:e}=v.useContext(Zr);return e?BU():NU()}function NU(){at(dc(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(uc),{basename:t,navigator:n}=v.useContext(Jr),{matches:r}=v.useContext(Zr),{pathname:i}=us(),s=JSON.stringify(r_(r)),a=v.useRef(!1);return VR(()=>{a.current=!0}),v.useCallback((l,c={})=>{if(Gr(a.current,zR),!a.current)return;if(typeof l=="number"){n.go(l);return}let u=i_(l,JSON.parse(s),i,c.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Fi([t,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[t,n,s,i,e])}v.createContext(null);function Pge(){let{matches:e}=v.useContext(Zr),t=e[e.length-1];return t?t.params:{}}function Bd(e,{relative:t}={}){let{matches:n}=v.useContext(Zr),{pathname:r}=us(),i=JSON.stringify(r_(n));return v.useMemo(()=>i_(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function OU(e,t){return FR(e,t)}function FR(e,t,n,r){var w;at(dc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=v.useContext(Jr),{matches:s}=v.useContext(Zr),a=s[s.length-1],o=a?a.params:{},l=a?a.pathname:"/",c=a?a.pathnameBase:"/",u=a&&a.route;{let x=u&&u.path||"";UR(l,!u||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let f=us(),p;if(t){let x=typeof t=="string"?cc(t):t;at(c==="/"||((w=x.pathname)==null?void 0:w.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${x.pathname}" was given in the \`location\` prop.`),p=x}else p=f;let m=p.pathname||"/",g=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=RR(e,{pathname:g});Gr(u||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Gr(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=LU(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Fi([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Fi([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return t&&b?v.createElement(Fd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},b):b}function jU(){let e=UU(),t=AU(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=v.createElement(v.Fragment,null,v.createElement("p",null,"💿 Hey developer 👋"),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:s},"ErrorBoundary")," or"," ",v.createElement("code",{style:s},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:i},n):null,a)}var RU=v.createElement(jU,null),DU=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?v.createElement(Zr.Provider,{value:this.props.routeContext},v.createElement(s_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MU({routeContext:e,match:t,children:n}){let r=v.useContext(uc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(Zr.Provider,{value:e},n)}function LU(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);at(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let a=!1,o=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(o=l),c.route.id){let{loaderData:u,errors:f}=n,p=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||p){a=!0,o>=0?i=i.slice(0,o+1):i=[i[0]];break}}}return i.reduceRight((l,c,u)=>{let f,p=!1,m=null,g=null;n&&(f=s&&c.route.id?s[c.route.id]:void 0,m=c.route.errorElement||RU,a&&(o<0&&u===0?(UR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,g=null):o===u&&(p=!0,g=c.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,u+1)),b=()=>{let w;return f?w=m:p?w=g:c.route.Component?w=v.createElement(c.route.Component,null):c.route.element?w=c.route.element:w=l,v.createElement(MU,{match:c,routeContext:{outlet:l,matches:y,isDataRoute:n!=null},children:w})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?v.createElement(DU,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}function a_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $U(e){let t=v.useContext(uc);return at(t,a_(e)),t}function zU(e){let t=v.useContext(Hm);return at(t,a_(e)),t}function VU(e){let t=v.useContext(Zr);return at(t,a_(e)),t}function o_(e){let t=VU(e),n=t.matches[t.matches.length-1];return at(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function FU(){return o_("useRouteId")}function UU(){var r;let e=v.useContext(s_),t=zU("useRouteError"),n=o_("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function BU(){let{router:e}=$U("useNavigate"),t=o_("useNavigate"),n=v.useRef(!1);return VR(()=>{n.current=!0}),v.useCallback(async(i,s={})=>{Gr(n.current,zR),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var KA={};function UR(e,t,n){!t&&!KA[e]&&(KA[e]=!0,Gr(!1,n))}v.memo(qU);function qU({routes:e,future:t,state:n}){return FR(e,void 0,n,t)}function Ap({to:e,replace:t,state:n,relative:r}){at(dc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=v.useContext(Jr);Gr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=v.useContext(Zr),{pathname:a}=us(),o=Ud(),l=i_(e,r_(s),a,r==="path"),c=JSON.stringify(l);return v.useEffect(()=>{o(JSON.parse(c),{replace:t,state:n,relative:r})},[o,c,r,t,n]),null}function ke(e){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KU({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){at(!dc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),o=v.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=cc(n));let{pathname:l="/",search:c="",hash:u="",state:f=null,key:p="default"}=n,m=v.useMemo(()=>{let g=Ji(l,a);return g==null?null:{location:{pathname:g,search:c,hash:u,state:f,key:p},navigationType:r}},[a,l,c,u,f,p,r]);return Gr(m!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:v.createElement(Jr.Provider,{value:o},v.createElement(Fd.Provider,{children:t,value:m}))}function WU({children:e,location:t}){return OU(bx(e),t)}function bx(e,t=[]){let n=[];return v.Children.forEach(e,(r,i)=>{if(!v.isValidElement(r))return;let s=[...t,i];if(r.type===v.Fragment){n.push.apply(n,bx(r.props.children,s));return}at(r.type===ke,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=bx(r.props.children,s)),n.push(a)}),n}var Fh="get",Uh="application/x-www-form-urlencoded";function Gm(e){return e!=null&&typeof e.tagName=="string"}function HU(e){return Gm(e)&&e.tagName.toLowerCase()==="button"}function GU(e){return Gm(e)&&e.tagName.toLowerCase()==="form"}function QU(e){return Gm(e)&&e.tagName.toLowerCase()==="input"}function YU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function XU(e,t){return e.button===0&&(!t||t==="_self")&&!YU(e)}var oh=null;function JU(){if(oh===null)try{new FormData(document.createElement("form"),0),oh=!1}catch{oh=!0}return oh}var ZU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cv(e){return e!=null&&!ZU.has(e)?(Gr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uh}"`),null):e}function eB(e,t){let n,r,i,s,a;if(GU(e)){let o=e.getAttribute("action");r=o?Ji(o,t):null,n=e.getAttribute("method")||Fh,i=Cv(e.getAttribute("enctype"))||Uh,s=new FormData(e)}else if(HU(e)||QU(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(r=l?Ji(l,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Fh,i=Cv(e.getAttribute("formenctype"))||Cv(o.getAttribute("enctype"))||Uh,s=new FormData(o,e),!JU()){let{name:c,type:u,value:f}=e;if(u==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,f)}}else{if(Gm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fh,r=null,i=Uh,a=e}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}function l_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function tB(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nB(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function rB(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let a=await tB(s,n);return a.links?a.links():[]}return[]}));return oB(r.flat(1).filter(nB).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function WA(e,t,n,r,i,s){let a=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,o=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,c)=>a(l,c)||o(l,c)):s==="data"?t.filter((l,c)=>{var f;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function iB(e,t,{includeHydrateFallback:n}={}){return sB(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function sB(e){return[...new Set(e)]}function aB(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function oB(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(aB(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lB=new Set([100,101,204,205]);function cB(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Ji(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function BR(){let e=v.useContext(uc);return l_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function uB(){let e=v.useContext(Hm);return l_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var c_=v.createContext(void 0);c_.displayName="FrameworkContext";function qR(){let e=v.useContext(c_);return l_(e,"You must render this element inside a <HydratedRouter> element"),e}function dB(e,t){let n=v.useContext(c_),[r,i]=v.useState(!1),[s,a]=v.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:f}=t,p=v.useRef(null);v.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let y=w=>{w.forEach(x=>{a(x.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[e]),v.useEffect(()=>{if(r){let y=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(y)}}},[r]);let m=()=>{i(!0)},g=()=>{i(!1),a(!1)};return n?e!=="intent"?[s,p,{}]:[s,p,{onFocus:Xc(o,m),onBlur:Xc(l,g),onMouseEnter:Xc(c,m),onMouseLeave:Xc(u,g),onTouchStart:Xc(f,m)}]:[!1,p,{}]}function Xc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function fB({page:e,...t}){let{router:n}=BR(),r=v.useMemo(()=>RR(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?v.createElement(pB,{page:e,matches:r,...t}):null}function hB(e){let{manifest:t,routeModules:n}=qR(),[r,i]=v.useState([]);return v.useEffect(()=>{let s=!1;return rB(e,t,n).then(a=>{s||i(a)}),()=>{s=!0}},[e,t,n]),r}function pB({page:e,matches:t,...n}){let r=us(),{manifest:i,routeModules:s}=qR(),{basename:a}=BR(),{loaderData:o,matches:l}=uB(),c=v.useMemo(()=>WA(e,t,l,i,r,"data"),[e,t,l,i,r]),u=v.useMemo(()=>WA(e,t,l,i,r,"assets"),[e,t,l,i,r]),f=v.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let g=new Set,y=!1;if(t.forEach(w=>{var _;let x=i.routes[w.route.id];!x||!x.hasLoader||(!c.some(P=>P.route.id===w.route.id)&&w.route.id in o&&((_=s[w.route.id])!=null&&_.shouldRevalidate)||x.hasClientLoader?y=!0:g.add(w.route.id))}),g.size===0)return[];let b=cB(e,a);return y&&g.size>0&&b.searchParams.set("_routes",t.filter(w=>g.has(w.route.id)).map(w=>w.route.id).join(",")),[b.pathname+b.search]},[a,o,r,i,c,t,e,s]),p=v.useMemo(()=>iB(u,i),[u,i]),m=hB(u);return v.createElement(v.Fragment,null,f.map(g=>v.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),p.map(g=>v.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),m.map(({key:g,link:y})=>v.createElement("link",{key:g,...y})))}function mB(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var KR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KR&&(window.__reactRouterVersion="7.6.3")}catch{}function gB({basename:e,children:t,window:n}){let r=v.useRef();r.current==null&&(r.current=rU({window:n,v5Compat:!0}));let i=r.current,[s,a]=v.useState({action:i.action,location:i.location}),o=v.useCallback(l=>{v.startTransition(()=>a(l))},[a]);return v.useLayoutEffect(()=>i.listen(o),[i,o]),v.createElement(KU,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var WR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,De=v.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f,...p},m){let{basename:g}=v.useContext(Jr),y=typeof c=="string"&&WR.test(c),b,w=!1;if(typeof c=="string"&&y&&(b=c,KR))try{let k=new URL(window.location.href),C=c.startsWith("//")?new URL(k.protocol+c):new URL(c),j=Ji(C.pathname,g);C.origin===k.origin&&j!=null?c=j+C.search+C.hash:w=!0}catch{Gr(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=CU(c,{relative:i}),[_,P,I]=dB(r,p),N=wB(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:f});function T(k){t&&t(k),k.defaultPrevented||N(k)}let A=v.createElement("a",{...p,...I,href:b||x,onClick:w||s?t:T,ref:mB(m,P),target:l,"data-discover":!y&&n==="render"?"true":void 0});return _&&!y?v.createElement(v.Fragment,null,A,v.createElement(fB,{page:x})):A});De.displayName="Link";var yB=v.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...c},u){let f=Bd(a,{relative:c.relative}),p=us(),m=v.useContext(Hm),{navigator:g,basename:y}=v.useContext(Jr),b=m!=null&&SB(f)&&o===!0,w=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,x=p.pathname,_=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(x=x.toLowerCase(),_=_?_.toLowerCase():null,w=w.toLowerCase()),_&&y&&(_=Ji(_,y)||_);const P=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let I=x===w||!i&&x.startsWith(w)&&x.charAt(P)==="/",N=_!=null&&(_===w||!i&&_.startsWith(w)&&_.charAt(w.length)==="/"),T={isActive:I,isPending:N,isTransitioning:b},A=I?t:void 0,k;typeof r=="function"?k=r(T):k=[r,I?"active":null,N?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let C=typeof s=="function"?s(T):s;return v.createElement(De,{...c,"aria-current":A,className:k,ref:u,style:C,to:a,viewTransition:o},typeof l=="function"?l(T):l)});yB.displayName="NavLink";var vB=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:a=Fh,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:f,...p},m)=>{let g=EB(),y=TB(o,{relative:c}),b=a.toLowerCase()==="get"?"get":"post",w=typeof o=="string"&&WR.test(o),x=_=>{if(l&&l(_),_.defaultPrevented)return;_.preventDefault();let P=_.nativeEvent.submitter,I=(P==null?void 0:P.getAttribute("formmethod"))||a;g(P||_.currentTarget,{fetcherKey:t,method:I,navigate:n,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:f})};return v.createElement("form",{ref:m,method:b,action:y,onSubmit:r?l:x,...p,"data-discover":!w&&e==="render"?"true":void 0})});vB.displayName="Form";function xB(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HR(e){let t=v.useContext(uc);return at(t,xB(e)),t}function wB(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=Ud(),l=us(),c=Bd(e,{relative:s});return v.useCallback(u=>{if(XU(u,t)){u.preventDefault();let f=n!==void 0?n:id(l)===id(c);o(e,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,c,n,r,t,e,i,s,a])}var bB=0,_B=()=>`__${String(++bB)}__`;function EB(){let{router:e}=HR("useSubmit"),{basename:t}=v.useContext(Jr),n=FU();return v.useCallback(async(r,i={})=>{let{action:s,method:a,encType:o,formData:l,body:c}=eB(r,t);if(i.navigate===!1){let u=i.fetcherKey||_B();await e.fetch(u,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function TB(e,{relative:t}={}){let{basename:n}=v.useContext(Jr),r=v.useContext(Zr);at(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Bd(e||".",{relative:t})},a=us();if(e==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(u=>u==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let u=o.toString();s.search=u?`?${u}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Fi([n,s.pathname])),id(s)}function SB(e,t={}){let n=v.useContext($R);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=HR("useViewTransitionState"),i=Bd(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=Ji(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Ji(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Sp(i.pathname,a)!=null||Sp(i.pathname,s)!=null}[...lB];var GR={exports:{}},QR={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zl=v;function AB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var PB=typeof Object.is=="function"?Object.is:AB,IB=zl.useState,kB=zl.useEffect,CB=zl.useLayoutEffect,NB=zl.useDebugValue;function OB(e,t){var n=t(),r=IB({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return CB(function(){i.value=n,i.getSnapshot=t,Nv(i)&&s({inst:i})},[e,n,t]),kB(function(){return Nv(i)&&s({inst:i}),e(function(){Nv(i)&&s({inst:i})})},[e]),NB(n),n}function Nv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!PB(e,n)}catch{return!0}}function jB(e,t){return t()}var RB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?jB:OB;QR.useSyncExternalStore=zl.useSyncExternalStore!==void 0?zl.useSyncExternalStore:RB;GR.exports=QR;var DB=GR.exports,YR={exports:{}},XR={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm=v,MB=DB;function LB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $B=typeof Object.is=="function"?Object.is:LB,zB=MB.useSyncExternalStore,VB=Qm.useRef,FB=Qm.useEffect,UB=Qm.useMemo,BB=Qm.useDebugValue;XR.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=VB(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=UB(function(){function l(m){if(!c){if(c=!0,u=m,m=r(m),i!==void 0&&a.hasValue){var g=a.value;if(i(g,m))return f=g}return f=m}if(g=f,$B(u,m))return g;var y=r(m);return i!==void 0&&i(g,y)?(u=m,g):(u=m,f=y)}var c=!1,u,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,i]);var o=zB(e,s[0],s[1]);return FB(function(){a.hasValue=!0,a.value=o},[o]),BB(o),o};YR.exports=XR;var JR=YR.exports;function qB(e){e()}let ZR=qB;const KB=e=>ZR=e,WB=()=>ZR,HA=Symbol.for("react-redux-context"),GA=typeof globalThis<"u"?globalThis:{};function HB(){var e;if(!v.createContext)return{};const t=(e=GA[HA])!=null?e:GA[HA]=new Map;let n=t.get(v.createContext);return n||(n=v.createContext(null),t.set(v.createContext,n)),n}const na=HB();function u_(e=na){return function(){return v.useContext(e)}}const e2=u_(),GB=()=>{throw new Error("uSES not initialized!")};let t2=GB;const QB=e=>{t2=e},YB=(e,t)=>e===t;function XB(e=na){const t=e===na?e2:u_(e);return function(r,i={}){const{equalityFn:s=YB,stabilityCheck:a=void 0,noopCheck:o=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:c,getServerState:u,stabilityCheck:f,noopCheck:p}=t();v.useRef(!0);const m=v.useCallback({[r.name](y){return r(y)}}[r.name],[r,f,a]),g=t2(c.addNestedSub,l.getState,u||l.getState,m,s);return v.useDebugValue(g),g}}const sr=XB();var n2={exports:{}},Be={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ft=typeof Symbol=="function"&&Symbol.for,d_=Ft?Symbol.for("react.element"):60103,f_=Ft?Symbol.for("react.portal"):60106,Ym=Ft?Symbol.for("react.fragment"):60107,Xm=Ft?Symbol.for("react.strict_mode"):60108,Jm=Ft?Symbol.for("react.profiler"):60114,Zm=Ft?Symbol.for("react.provider"):60109,eg=Ft?Symbol.for("react.context"):60110,h_=Ft?Symbol.for("react.async_mode"):60111,tg=Ft?Symbol.for("react.concurrent_mode"):60111,ng=Ft?Symbol.for("react.forward_ref"):60112,rg=Ft?Symbol.for("react.suspense"):60113,JB=Ft?Symbol.for("react.suspense_list"):60120,ig=Ft?Symbol.for("react.memo"):60115,sg=Ft?Symbol.for("react.lazy"):60116,ZB=Ft?Symbol.for("react.block"):60121,e9=Ft?Symbol.for("react.fundamental"):60117,t9=Ft?Symbol.for("react.responder"):60118,n9=Ft?Symbol.for("react.scope"):60119;function fr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case d_:switch(e=e.type,e){case h_:case tg:case Ym:case Jm:case Xm:case rg:return e;default:switch(e=e&&e.$$typeof,e){case eg:case ng:case sg:case ig:case Zm:return e;default:return t}}case f_:return t}}}function r2(e){return fr(e)===tg}Be.AsyncMode=h_;Be.ConcurrentMode=tg;Be.ContextConsumer=eg;Be.ContextProvider=Zm;Be.Element=d_;Be.ForwardRef=ng;Be.Fragment=Ym;Be.Lazy=sg;Be.Memo=ig;Be.Portal=f_;Be.Profiler=Jm;Be.StrictMode=Xm;Be.Suspense=rg;Be.isAsyncMode=function(e){return r2(e)||fr(e)===h_};Be.isConcurrentMode=r2;Be.isContextConsumer=function(e){return fr(e)===eg};Be.isContextProvider=function(e){return fr(e)===Zm};Be.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===d_};Be.isForwardRef=function(e){return fr(e)===ng};Be.isFragment=function(e){return fr(e)===Ym};Be.isLazy=function(e){return fr(e)===sg};Be.isMemo=function(e){return fr(e)===ig};Be.isPortal=function(e){return fr(e)===f_};Be.isProfiler=function(e){return fr(e)===Jm};Be.isStrictMode=function(e){return fr(e)===Xm};Be.isSuspense=function(e){return fr(e)===rg};Be.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ym||e===tg||e===Jm||e===Xm||e===rg||e===JB||typeof e=="object"&&e!==null&&(e.$$typeof===sg||e.$$typeof===ig||e.$$typeof===Zm||e.$$typeof===eg||e.$$typeof===ng||e.$$typeof===e9||e.$$typeof===t9||e.$$typeof===n9||e.$$typeof===ZB)};Be.typeOf=fr;n2.exports=Be;var r9=n2.exports,i2=r9,i9={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s9={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s2={};s2[i2.ForwardRef]=i9;s2[i2.Memo]=s9;var a2={exports:{}},qe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_=Symbol.for("react.element"),m_=Symbol.for("react.portal"),ag=Symbol.for("react.fragment"),og=Symbol.for("react.strict_mode"),lg=Symbol.for("react.profiler"),cg=Symbol.for("react.provider"),ug=Symbol.for("react.context"),a9=Symbol.for("react.server_context"),dg=Symbol.for("react.forward_ref"),fg=Symbol.for("react.suspense"),hg=Symbol.for("react.suspense_list"),pg=Symbol.for("react.memo"),mg=Symbol.for("react.lazy"),o9=Symbol.for("react.offscreen"),o2;o2=Symbol.for("react.module.reference");function Nr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case p_:switch(e=e.type,e){case ag:case lg:case og:case fg:case hg:return e;default:switch(e=e&&e.$$typeof,e){case a9:case ug:case dg:case mg:case pg:case cg:return e;default:return t}}case m_:return t}}}qe.ContextConsumer=ug;qe.ContextProvider=cg;qe.Element=p_;qe.ForwardRef=dg;qe.Fragment=ag;qe.Lazy=mg;qe.Memo=pg;qe.Portal=m_;qe.Profiler=lg;qe.StrictMode=og;qe.Suspense=fg;qe.SuspenseList=hg;qe.isAsyncMode=function(){return!1};qe.isConcurrentMode=function(){return!1};qe.isContextConsumer=function(e){return Nr(e)===ug};qe.isContextProvider=function(e){return Nr(e)===cg};qe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===p_};qe.isForwardRef=function(e){return Nr(e)===dg};qe.isFragment=function(e){return Nr(e)===ag};qe.isLazy=function(e){return Nr(e)===mg};qe.isMemo=function(e){return Nr(e)===pg};qe.isPortal=function(e){return Nr(e)===m_};qe.isProfiler=function(e){return Nr(e)===lg};qe.isStrictMode=function(e){return Nr(e)===og};qe.isSuspense=function(e){return Nr(e)===fg};qe.isSuspenseList=function(e){return Nr(e)===hg};qe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ag||e===lg||e===og||e===fg||e===hg||e===o9||typeof e=="object"&&e!==null&&(e.$$typeof===mg||e.$$typeof===pg||e.$$typeof===cg||e.$$typeof===ug||e.$$typeof===dg||e.$$typeof===o2||e.getModuleId!==void 0)};qe.typeOf=Nr;a2.exports=qe;var l9=a2.exports;function c9(){const e=WB();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}const QA={notify(){},get:()=>[]};function u9(e,t){let n,r=QA,i=0,s=!1;function a(y){u();const b=r.subscribe(y);let w=!1;return()=>{w||(w=!0,b(),f())}}function o(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function c(){return s}function u(){i++,n||(n=e.subscribe(l),r=c9())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=QA)}function p(){s||(s=!0,u())}function m(){s&&(s=!1,f())}const g={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return g}const d9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",f9=d9?v.useLayoutEffect:v.useEffect;function g_({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const a=v.useMemo(()=>{const c=u9(e);return{store:e,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[e,r,i,s]),o=v.useMemo(()=>e.getState(),[e]);f9(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==e.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const l=t||na;return v.createElement(l.Provider,{value:a},n)}function l2(e=na){const t=e===na?e2:u_(e);return function(){const{store:r}=t();return r}}const h9=l2();function p9(e=na){const t=e===na?h9:l2(e);return function(){return t().dispatch}}const gg=p9();QB(JR.useSyncExternalStoreWithSelector);KB(Wm.unstable_batchedUpdates);function Vr(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ra(e){return!!e&&!!e[rt]}function Zi(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===_9}(e)||Array.isArray(e)||!!e[nP]||!!(!((t=e.constructor)===null||t===void 0)&&t[nP])||y_(e)||v_(e))}function io(e,t,n){n===void 0&&(n=!1),fc(e)===0?(n?Object.keys:wl)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function fc(e){var t=e[rt];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:y_(e)?2:v_(e)?3:0}function xl(e,t){return fc(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function m9(e,t){return fc(e)===2?e.get(t):e[t]}function c2(e,t,n){var r=fc(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function u2(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function y_(e){return w9&&e instanceof Map}function v_(e){return b9&&e instanceof Set}function Ca(e){return e.o||e.t}function x_(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=f2(e);delete t[rt];for(var n=wl(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function w_(e,t){return t===void 0&&(t=!1),b_(e)||ra(e)||!Zi(e)||(fc(e)>1&&(e.set=e.add=e.clear=e.delete=g9),Object.freeze(e),t&&io(e,function(n,r){return w_(r,!0)},!0)),e}function g9(){Vr(2)}function b_(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function ui(e){var t=Sx[e];return t||Vr(18,e),t}function y9(e,t){Sx[e]||(Sx[e]=t)}function _x(){return sd}function Ov(e,t){t&&(ui("Patches"),e.u=[],e.s=[],e.v=t)}function Pp(e){Ex(e),e.p.forEach(v9),e.p=null}function Ex(e){e===sd&&(sd=e.l)}function YA(e){return sd={p:[],l:sd,h:e,m:!0,_:0}}function v9(e){var t=e[rt];t.i===0||t.i===1?t.j():t.g=!0}function jv(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||ui("ES5").S(t,e,r),r?(n[rt].P&&(Pp(t),Vr(4)),Zi(e)&&(e=Ip(t,e),t.l||kp(t,e)),t.u&&ui("Patches").M(n[rt].t,e,t.u,t.s)):e=Ip(t,n,[]),Pp(t),t.u&&t.v(t.u,t.s),e!==d2?e:void 0}function Ip(e,t,n){if(b_(t))return t;var r=t[rt];if(!r)return io(t,function(o,l){return XA(e,r,t,o,l,n)},!0),t;if(r.A!==e)return t;if(!r.P)return kp(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=x_(r.k):r.o,s=i,a=!1;r.i===3&&(s=new Set(i),i.clear(),a=!0),io(s,function(o,l){return XA(e,r,i,o,l,n,a)}),kp(e,i,!1),n&&e.u&&ui("Patches").N(r,n,e.u,e.s)}return r.o}function XA(e,t,n,r,i,s,a){if(ra(i)){var o=Ip(e,i,s&&t&&t.i!==3&&!xl(t.R,r)?s.concat(r):void 0);if(c2(n,r,o),!ra(o))return;e.m=!1}else a&&n.add(i);if(Zi(i)&&!b_(i)){if(!e.h.D&&e._<1)return;Ip(e,i),t&&t.A.l||kp(e,i)}}function kp(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&w_(t,n)}function Rv(e,t){var n=e[rt];return(n?Ca(n):e)[t]}function JA(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ks(e){e.P||(e.P=!0,e.l&&ks(e.l))}function Dv(e){e.o||(e.o=x_(e.t))}function Tx(e,t,n){var r=y_(t)?ui("MapSet").F(t,n):v_(t)?ui("MapSet").T(t,n):e.O?function(i,s){var a=Array.isArray(i),o={i:a?1:0,A:s?s.A:_x(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=o,c=ad;a&&(l=[o],c=fu);var u=Proxy.revocable(l,c),f=u.revoke,p=u.proxy;return o.k=p,o.j=f,p}(t,n):ui("ES5").J(t,n);return(n?n.A:_x()).p.push(r),r}function Ui(e){return ra(e)||Vr(22,e),function t(n){if(!Zi(n))return n;var r,i=n[rt],s=fc(n);if(i){if(!i.P&&(i.i<4||!ui("ES5").K(i)))return i.t;i.I=!0,r=ZA(n,s),i.I=!1}else r=ZA(n,s);return io(r,function(a,o){i&&m9(i.t,a)===o||c2(r,a,t(o))}),s===3?new Set(r):r}(e)}function ZA(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return x_(e)}function x9(){function e(s,a){var o=i[s];return o?o.enumerable=a:i[s]=o={configurable:!0,enumerable:a,get:function(){var l=this[rt];return ad.get(l,s)},set:function(l){var c=this[rt];ad.set(c,s,l)}},o}function t(s){for(var a=s.length-1;a>=0;a--){var o=s[a][rt];if(!o.P)switch(o.i){case 5:r(o)&&ks(o);break;case 4:n(o)&&ks(o)}}}function n(s){for(var a=s.t,o=s.k,l=wl(o),c=l.length-1;c>=0;c--){var u=l[c];if(u!==rt){var f=a[u];if(f===void 0&&!xl(a,u))return!0;var p=o[u],m=p&&p[rt];if(m?m.t!==f:!u2(p,f))return!0}}var g=!!a[rt];return l.length!==wl(a).length+(g?0:1)}function r(s){var a=s.k;if(a.length!==s.t.length)return!0;var o=Object.getOwnPropertyDescriptor(a,a.length-1);if(o&&!o.get)return!0;for(var l=0;l<a.length;l++)if(!a.hasOwnProperty(l))return!0;return!1}var i={};y9("ES5",{J:function(s,a){var o=Array.isArray(s),l=function(u,f){if(u){for(var p=Array(f.length),m=0;m<f.length;m++)Object.defineProperty(p,""+m,e(m,!0));return p}var g=f2(f);delete g[rt];for(var y=wl(g),b=0;b<y.length;b++){var w=y[b];g[w]=e(w,u||!!g[w].enumerable)}return Object.create(Object.getPrototypeOf(f),g)}(o,s),c={i:o?5:4,A:a?a.A:_x(),P:!1,I:!1,R:{},l:a,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,rt,{value:c,writable:!0}),l},S:function(s,a,o){o?ra(a)&&a[rt].A===s&&t(s.p):(s.u&&function l(c){if(c&&typeof c=="object"){var u=c[rt];if(u){var f=u.t,p=u.k,m=u.R,g=u.i;if(g===4)io(p,function(_){_!==rt&&(f[_]!==void 0||xl(f,_)?m[_]||l(p[_]):(m[_]=!0,ks(u)))}),io(f,function(_){p[_]!==void 0||xl(p,_)||(m[_]=!1,ks(u))});else if(g===5){if(r(u)&&(ks(u),m.length=!0),p.length<f.length)for(var y=p.length;y<f.length;y++)m[y]=!1;else for(var b=f.length;b<p.length;b++)m[b]=!0;for(var w=Math.min(p.length,f.length),x=0;x<w;x++)p.hasOwnProperty(x)||(m[x]=!0),m[x]===void 0&&l(p[x])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var eP,sd,__=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",w9=typeof Map<"u",b9=typeof Set<"u",tP=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",d2=__?Symbol.for("immer-nothing"):((eP={})["immer-nothing"]=!0,eP),nP=__?Symbol.for("immer-draftable"):"__$immer_draftable",rt=__?Symbol.for("immer-state"):"__$immer_state",_9=""+Object.prototype.constructor,wl=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,f2=Object.getOwnPropertyDescriptors||function(e){var t={};return wl(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Sx={},ad={get:function(e,t){if(t===rt)return e;var n=Ca(e);if(!xl(n,t))return function(i,s,a){var o,l=JA(s,a);return l?"value"in l?l.value:(o=l.get)===null||o===void 0?void 0:o.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Zi(r)?r:r===Rv(e.t,t)?(Dv(e),e.o[t]=Tx(e.A.h,r,e)):r},has:function(e,t){return t in Ca(e)},ownKeys:function(e){return Reflect.ownKeys(Ca(e))},set:function(e,t,n){var r=JA(Ca(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Rv(Ca(e),t),s=i==null?void 0:i[rt];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(u2(n,i)&&(n!==void 0||xl(e.t,t)))return!0;Dv(e),ks(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return Rv(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,Dv(e),ks(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Ca(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Vr(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Vr(12)}},fu={};io(ad,function(e,t){fu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),fu.deleteProperty=function(e,t){return fu.set.call(this,e,t,void 0)},fu.set=function(e,t,n){return ad.set.call(this,e[0],t,n,e[0])};var E9=function(){function e(n){var r=this;this.O=tP,this.D=!0,this.produce=function(i,s,a){if(typeof i=="function"&&typeof s!="function"){var o=s;s=i;var l=r;return function(y){var b=this;y===void 0&&(y=o);for(var w=arguments.length,x=Array(w>1?w-1:0),_=1;_<w;_++)x[_-1]=arguments[_];return l.produce(y,function(P){var I;return(I=s).call.apply(I,[b,P].concat(x))})}}var c;if(typeof s!="function"&&Vr(6),a!==void 0&&typeof a!="function"&&Vr(7),Zi(i)){var u=YA(r),f=Tx(r,i,void 0),p=!0;try{c=s(f),p=!1}finally{p?Pp(u):Ex(u)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(y){return Ov(u,a),jv(y,u)},function(y){throw Pp(u),y}):(Ov(u,a),jv(c,u))}if(!i||typeof i!="object"){if((c=s(i))===void 0&&(c=i),c===d2&&(c=void 0),r.D&&w_(c,!0),a){var m=[],g=[];ui("Patches").M(i,c,m,g),a(m,g)}return c}Vr(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(c){for(var u=arguments.length,f=Array(u>1?u-1:0),p=1;p<u;p++)f[p-1]=arguments[p];return r.produceWithPatches(c,function(m){return i.apply(void 0,[m].concat(f))})};var a,o,l=r.produce(i,s,function(c,u){a=c,o=u});return typeof Promise<"u"&&l instanceof Promise?l.then(function(c){return[c,a,o]}):[l,a,o]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Zi(n)||Vr(8),ra(n)&&(n=Ui(n));var r=YA(this),i=Tx(this,n,void 0);return i[rt].C=!0,Ex(r),i},t.finishDraft=function(n,r){var i=n&&n[rt],s=i.A;return Ov(s,r),jv(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!tP&&Vr(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var a=ui("Patches").$;return ra(n)?a(n,r):this.produce(n,function(o){return a(o,r)})},e}(),ar=new E9,h2=ar.produce;ar.produceWithPatches.bind(ar);ar.setAutoFreeze.bind(ar);ar.setUseProxies.bind(ar);ar.applyPatches.bind(ar);ar.createDraft.bind(ar);ar.finishDraft.bind(ar);function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function T9(e,t){if(od(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S9(e){var t=T9(e,"string");return od(t)=="symbol"?t:t+""}function A9(e,t,n){return(t=S9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rP(Object(n),!0).forEach(function(r){A9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hn(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var sP=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Mv=function(){return Math.random().toString(36).substring(7).split("").join(".")},Cp={INIT:"@@redux/INIT"+Mv(),REPLACE:"@@redux/REPLACE"+Mv(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Mv()}};function P9(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function p2(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(hn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(hn(1));return n(p2)(e,t)}if(typeof e!="function")throw new Error(hn(2));var i=e,s=t,a=[],o=a,l=!1;function c(){o===a&&(o=a.slice())}function u(){if(l)throw new Error(hn(3));return s}function f(y){if(typeof y!="function")throw new Error(hn(4));if(l)throw new Error(hn(5));var b=!0;return c(),o.push(y),function(){if(b){if(l)throw new Error(hn(6));b=!1,c();var x=o.indexOf(y);o.splice(x,1),a=null}}}function p(y){if(!P9(y))throw new Error(hn(7));if(typeof y.type>"u")throw new Error(hn(8));if(l)throw new Error(hn(9));try{l=!0,s=i(s,y)}finally{l=!1}for(var b=a=o,w=0;w<b.length;w++){var x=b[w];x()}return y}function m(y){if(typeof y!="function")throw new Error(hn(10));i=y,p({type:Cp.REPLACE})}function g(){var y,b=f;return y={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(hn(11));function _(){x.next&&x.next(u())}_();var P=b(_);return{unsubscribe:P}}},y[sP]=function(){return this},y}return p({type:Cp.INIT}),r={dispatch:p,subscribe:f,getState:u,replaceReducer:m},r[sP]=g,r}function I9(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:Cp.INIT});if(typeof r>"u")throw new Error(hn(12));if(typeof n(void 0,{type:Cp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(hn(13))})}function m2(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),a;try{I9(n)}catch(o){a=o}return function(l,c){if(l===void 0&&(l={}),a)throw a;for(var u=!1,f={},p=0;p<s.length;p++){var m=s[p],g=n[m],y=l[m],b=g(y,c);if(typeof b>"u")throw c&&c.type,new Error(hn(14));f[m]=b,u=u||b!==y}return u=u||s.length!==Object.keys(l).length,u?f:l}}function Np(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function k9(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(hn(15))},a={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},o=t.map(function(l){return l(a)});return s=Np.apply(void 0,o)(i.dispatch),iP(iP({},i),{},{dispatch:s})}}}function g2(e){var t=function(r){var i=r.dispatch,s=r.getState;return function(a){return function(o){return typeof o=="function"?o(i,s,e):a(o)}}};return t}var Ax=g2();Ax.withExtraArgument=g2;var y2=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qd=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},so=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},C9=Object.defineProperty,N9=Object.defineProperties,O9=Object.getOwnPropertyDescriptors,aP=Object.getOwnPropertySymbols,j9=Object.prototype.hasOwnProperty,R9=Object.prototype.propertyIsEnumerable,oP=function(e,t,n){return t in e?C9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ws=function(e,t){for(var n in t||(t={}))j9.call(t,n)&&oP(e,n,t[n]);if(aP)for(var r=0,i=aP(t);r<i.length;r++){var n=i[r];R9.call(t,n)&&oP(e,n,t[n])}return e},Lv=function(e,t){return N9(e,O9(t))},Kd=function(e,t,n){return new Promise(function(r,i){var s=function(l){try{o(n.next(l))}catch(c){i(c)}},a=function(l){try{o(n.throw(l))}catch(c){i(c)}},o=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,a)};o((n=n.apply(e,t)).next())})},D9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Np:Np.apply(null,arguments)};function v2(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}function kn(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var s=t.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Ws(Ws({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function M9(e){return v2(e)&&"type"in e}var L9=function(e){y2(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,so([void 0],n[0].concat(this)))):new(t.bind.apply(t,so([void 0],n.concat(this))))},t}(Array),$9=function(e){y2(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,so([void 0],n[0].concat(this)))):new(t.bind.apply(t,so([void 0],n.concat(this))))},t}(Array);function Px(e){return Zi(e)?h2(e,function(){}):e}function z9(e){return typeof e=="boolean"}function V9(){return function(t){return F9(t)}}function F9(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new L9;return n&&(z9(n)?r.push(Ax):r.push(Ax.withExtraArgument(n.extraArgument))),r}function x2(e){var t=V9(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,a=s===void 0?t():s,o=n.devTools,l=o===void 0?!0:o,c=n.preloadedState,u=c===void 0?void 0:c,f=n.enhancers,p=f===void 0?void 0:f,m;if(typeof i=="function")m=i;else if(v2(i))m=m2(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var g=a;typeof g=="function"&&(g=g(t));var y=k9.apply(void 0,g),b=Np;l&&(b=D9(Ws({trace:!1},typeof l=="object"&&l)));var w=new $9(y),x=w;Array.isArray(p)?x=so([y],p):typeof p=="function"&&(x=p(w));var _=b.apply(void 0,x);return p2(m,u,_)}function w2(e){var t={},n=[],r,i={addCase:function(s,a){var o=typeof s=="string"?s:s.type;if(!o)throw new Error("`builder.addCase` cannot be called with an empty action type");if(o in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[o]=a,i},addMatcher:function(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase:function(s){return r=s,i}};return e(i),[t,n,r]}function U9(e){return typeof e=="function"}function B9(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?w2(t):[t,n,r],s=i[0],a=i[1],o=i[2],l;if(U9(e))l=function(){return Px(e())};else{var c=Px(e);l=function(){return c}}function u(f,p){f===void 0&&(f=l());var m=so([s[p.type]],a.filter(function(g){var y=g.matcher;return y(p)}).map(function(g){var y=g.reducer;return y}));return m.filter(function(g){return!!g}).length===0&&(m=[o]),m.reduce(function(g,y){if(y)if(ra(g)){var b=g,w=y(b,p);return w===void 0?g:w}else{if(Zi(g))return h2(g,function(x){return y(x,p)});var w=y(g,p);if(w===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}return g},f)}return u.getInitialState=l,u}function q9(e,t){return e+"/"+t}function qn(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n=typeof e.initialState=="function"?e.initialState:Px(e.initialState),r=e.reducers||{},i=Object.keys(r),s={},a={},o={};i.forEach(function(u){var f=r[u],p=q9(t,u),m,g;"reducer"in f?(m=f.reducer,g=f.prepare):m=f,s[u]=m,a[p]=m,o[u]=g?kn(p,g):kn(p)});function l(){var u=typeof e.extraReducers=="function"?w2(e.extraReducers):[e.extraReducers],f=u[0],p=f===void 0?{}:f,m=u[1],g=m===void 0?[]:m,y=u[2],b=y===void 0?void 0:y,w=Ws(Ws({},p),a);return B9(n,function(x){for(var _ in w)x.addCase(_,w[_]);for(var P=0,I=g;P<I.length;P++){var N=I[P];x.addMatcher(N.matcher,N.reducer)}b&&x.addDefaultCase(b)})}var c;return{name:t,reducer:function(u,f){return c||(c=l()),c(u,f)},actions:o,caseReducers:s,getInitialState:function(){return c||(c=l()),c.getInitialState()}}}var K9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",b2=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=K9[Math.random()*64|0];return t},W9=["name","message","stack","code"],$v=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),lP=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),H9=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=W9;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}},_2=function(){function e(t,n,r){var i=kn(t+"/fulfilled",function(c,u,f,p){return{payload:c,meta:Lv(Ws({},p||{}),{arg:f,requestId:u,requestStatus:"fulfilled"})}}),s=kn(t+"/pending",function(c,u,f){return{payload:void 0,meta:Lv(Ws({},f||{}),{arg:u,requestId:c,requestStatus:"pending"})}}),a=kn(t+"/rejected",function(c,u,f,p,m){return{payload:p,error:(r&&r.serializeError||H9)(c||"Rejected"),meta:Lv(Ws({},m||{}),{arg:f,requestId:u,rejectedWithValue:!!p,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"})}}),o=typeof AbortController<"u"?AbortController:function(){function c(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return c.prototype.abort=function(){},c}();function l(c){return function(u,f,p){var m=r!=null&&r.idGenerator?r.idGenerator(c):b2(),g=new o,y;function b(x){y=x,g.abort()}var w=function(){return Kd(this,null,function(){var x,_,P,I,N,T,A;return qd(this,function(k){switch(k.label){case 0:return k.trys.push([0,4,,5]),I=(x=r==null?void 0:r.condition)==null?void 0:x.call(r,c,{getState:f,extra:p}),Q9(I)?[4,I]:[3,2];case 1:I=k.sent(),k.label=2;case 2:if(I===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return N=new Promise(function(C,j){return g.signal.addEventListener("abort",function(){return j({name:"AbortError",message:y||"Aborted"})})}),u(s(m,c,(_=r==null?void 0:r.getPendingMeta)==null?void 0:_.call(r,{requestId:m,arg:c},{getState:f,extra:p}))),[4,Promise.race([N,Promise.resolve(n(c,{dispatch:u,getState:f,extra:p,requestId:m,signal:g.signal,abort:b,rejectWithValue:function(C,j){return new $v(C,j)},fulfillWithValue:function(C,j){return new lP(C,j)}})).then(function(C){if(C instanceof $v)throw C;return C instanceof lP?i(C.payload,m,c,C.meta):i(C,m,c)})])];case 3:return P=k.sent(),[3,5];case 4:return T=k.sent(),P=T instanceof $v?a(null,m,c,T.payload,T.meta):a(T,m,c),[3,5];case 5:return A=r&&!r.dispatchConditionRejection&&a.match(P)&&P.meta.condition,A||u(P),[2,P]}})})}();return Object.assign(w,{abort:b,requestId:m,arg:c,unwrap:function(){return w.then(G9)}})}}return Object.assign(l,{pending:s,rejected:a,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e}();function G9(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function Q9(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var E_=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},Ix=function(){},E2=function(e,t){return t===void 0&&(t=Ix),e.catch(t),e},T2=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},bl=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Y9="task",S2="listener",A2="completed",T_="cancelled",X9="task-"+T_,J9="task-"+A2,P2=S2+"-"+T_,Z9=S2+"-"+A2,yg=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=Y9+" "+T_+" (reason: "+t+")"}return e}(),_l=function(e){if(e.aborted)throw new yg(e.reason)};function I2(e,t){var n=Ix;return new Promise(function(r,i){var s=function(){return i(new yg(e.reason))};if(e.aborted){s();return}n=T2(e,s),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=Ix})}var e8=function(e,t){return Kd(void 0,null,function(){var n,r;return qd(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof yg?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},Op=function(e){return function(t){return E2(I2(e,t).then(function(n){return _l(e),n}))}},k2=function(e){var t=Op(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},t8=Object.assign,cP={},Wd="listenerMiddleware",n8=function(e,t){var n=function(r){return T2(e,function(){return bl(r,e.reason)})};return function(r,i){E_(r,"taskExecutor");var s=new AbortController;n(s);var a=e8(function(){return Kd(void 0,null,function(){var o;return qd(this,function(l){switch(l.label){case 0:return _l(e),_l(s.signal),[4,r({pause:Op(s.signal),delay:k2(s.signal),signal:s.signal})];case 1:return o=l.sent(),_l(s.signal),[2,o]}})})},function(){return bl(s,J9)});return i!=null&&i.autoJoin&&t.push(a),{result:Op(e)(a),cancel:function(){bl(s,X9)}}}},r8=function(e,t){var n=function(r,i){return Kd(void 0,null,function(){var s,a,o,l;return qd(this,function(c){switch(c.label){case 0:_l(t),s=function(){},a=new Promise(function(u,f){var p=e({predicate:r,effect:function(m,g){g.unsubscribe(),u([m,g.getState(),g.getOriginalState()])}});s=function(){p(),f()}}),o=[a],i!=null&&o.push(new Promise(function(u){return setTimeout(u,i,null)})),c.label=1;case 1:return c.trys.push([1,,3,4]),[4,I2(t,Promise.race(o))];case 2:return l=c.sent(),_l(t),[2,l];case 3:return s(),[7];case 4:return[2]}})})};return function(r,i){return E2(n(r,i))}},C2=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,s=e.effect;if(t)i=kn(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return E_(s,"options.listener"),{predicate:i,type:t,effect:s}},i8=function(e){var t=C2(e),n=t.type,r=t.predicate,i=t.effect,s=b2(),a={id:s,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return a},kx=function(e){e.pending.forEach(function(t){bl(t,P2)})},s8=function(e){return function(){e.forEach(kx),e.clear()}},uP=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},a8=kn(Wd+"/add"),o8=kn(Wd+"/removeAll"),l8=kn(Wd+"/remove"),c8=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,so([Wd+"/error"],e))};function Hd(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,s=i===void 0?c8:i;E_(s,"onError");var a=function(m){return m.unsubscribe=function(){return n.delete(m.id)},n.set(m.id,m),function(g){m.unsubscribe(),g!=null&&g.cancelActive&&kx(m)}},o=function(m){for(var g=0,y=Array.from(n.values());g<y.length;g++){var b=y[g];if(m(b))return b}},l=function(m){var g=o(function(y){return y.effect===m.effect});return g||(g=i8(m)),a(g)},c=function(m){var g=C2(m),y=g.type,b=g.effect,w=g.predicate,x=o(function(_){var P=typeof y=="string"?_.type===y:_.predicate===w;return P&&_.effect===b});return x&&(x.unsubscribe(),m.cancelActive&&kx(x)),!!x},u=function(m,g,y,b){return Kd(t,null,function(){var w,x,_,P;return qd(this,function(I){switch(I.label){case 0:w=new AbortController,x=r8(l,w.signal),_=[],I.label=1;case 1:return I.trys.push([1,3,4,6]),m.pending.add(w),[4,Promise.resolve(m.effect(g,t8({},y,{getOriginalState:b,condition:function(N,T){return x(N,T).then(Boolean)},take:x,delay:k2(w.signal),pause:Op(w.signal),extra:r,signal:w.signal,fork:n8(w.signal,_),unsubscribe:m.unsubscribe,subscribe:function(){n.set(m.id,m)},cancelActiveListeners:function(){m.pending.forEach(function(N,T,A){N!==w&&(bl(N,P2),A.delete(N))})}})))];case 2:return I.sent(),[3,6];case 3:return P=I.sent(),P instanceof yg||uP(s,P,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(_)];case 5:return I.sent(),bl(w,Z9),m.pending.delete(w),[7];case 6:return[2]}})})},f=s8(n),p=function(m){return function(g){return function(y){if(!M9(y))return g(y);if(a8.match(y))return l(y.payload);if(o8.match(y)){f();return}if(l8.match(y))return c(y.payload);var b=m.getState(),w=function(){if(b===cP)throw new Error(Wd+": getOriginalState can only be called synchronously");return b},x;try{if(x=g(y),n.size>0)for(var _=m.getState(),P=Array.from(n.values()),I=0,N=P;I<N.length;I++){var T=N[I],A=!1;try{A=T.predicate(y,_,b)}catch(k){A=!1,uP(s,k,{raisedBy:"predicate"})}A&&u(T,y,m,w)}}finally{b=cP}return x}}};return{middleware:p,startListening:l,stopListening:c,clearListeners:f}}var dP;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:globalThis);x9();const u8={user:null,isLoading:!0,error:null,isAuthenticated:!1,needsRoleSelection:!1,authChecked:!1},N2=qn({name:"auth",initialState:u8,reducers:{loginStart:e=>{e.isLoading=!0,e.error=null},loginSuccess:(e,t)=>{console.log("🎯 Auth loginSuccess reducer called with:",t.payload),e.isLoading=!1,e.user=t.payload,e.isAuthenticated=!0,e.error=null,e.needsRoleSelection=t.payload.needsRoleSelection??!t.payload.role,console.log("🎯 Auth state after loginSuccess:",{isAuthenticated:e.isAuthenticated,user:e.user,needsRoleSelection:e.needsRoleSelection,isLoading:e.isLoading})},loginFailure:(e,t)=>{e.isLoading=!1,e.error=t.payload,e.user=null,e.isAuthenticated=!1},logout:e=>{e.user=null,e.isAuthenticated=!1,e.isLoading=!1},authCheckComplete:e=>{e.isLoading=!1,e.authChecked=!0},setRole:(e,t)=>{e.user&&(e.user.role=t.payload,e.needsRoleSelection=!1)},setLoading:(e,t)=>{e.isLoading=t.payload}}}),{loginSuccess:fP,logout:Cx,authCheckComplete:zv,setRole:hP}=N2.actions,d8=N2.reducer;var pP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},f8=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],a=e[n++],o=e[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},j2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],a=i+1<e.length,o=a?e[i+1]:0,l=i+2<e.length,c=l?e[i+2]:0,u=s>>2,f=(s&3)<<4|o>>4;let p=(o&15)<<2|c>>6,m=c&63;l||(m=64,a||(p=64)),r.push(n[u],n[f],n[p],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(O2(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):f8(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const c=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||o==null||c==null||f==null)throw new h8;const p=s<<2|o>>4;if(r.push(p),c!==64){const m=o<<4&240|c>>2;if(r.push(m),f!==64){const g=c<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class h8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p8=function(e){const t=O2(e);return j2.encodeByteArray(t,!0)},jp=function(e){return p8(e).replace(/\./g,"")},R2=function(e){try{return j2.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8=()=>m8().__FIREBASE_DEFAULTS__,y8=()=>{if(typeof process>"u"||typeof pP>"u")return;const e=pP.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},v8=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&R2(e[1]);return t&&JSON.parse(t)},vg=()=>{try{return g8()||y8()||v8()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},D2=e=>{var t,n;return(n=(t=vg())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},x8=e=>{const t=D2(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},M2=()=>{var e;return(e=vg())===null||e===void 0?void 0:e.config},L2=e=>{var t;return(t=vg())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[jp(JSON.stringify(n)),jp(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function E8(){var e;const t=(e=vg())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function T8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $2(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function S8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function A8(){const e=bn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function P8(){return!E8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z2(){try{return typeof indexedDB=="object"}catch{return!1}}function V2(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function I8(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8="FirebaseError";class ei extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=k8,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,So.prototype.create)}}class So{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],a=s?C8(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new ei(i,o,r)}}function C8(e,t){return e.replace(N8,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const N8=/\{\$([^}]+)}/g;function O8(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ao(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],a=t[i];if(mP(s)&&mP(a)){if(!ao(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mP(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function hu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function pu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function j8(e,t){const n=new R8(e,t);return n.subscribe.bind(n)}class R8{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");D8(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Vv),i.error===void 0&&(i.error=Vv),i.complete===void 0&&(i.complete=Vv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D8(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Vv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=1e3,L8=2,$8=4*60*60*1e3,z8=.5;function gP(e,t=M8,n=L8){const r=t*Math.pow(n,e),i=Math.round(z8*r*(Math.random()-.5)*2);return Math.min($8,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(e){return e&&e._delegate?e._delegate:e}class Qr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new w8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(U8(t))try{this.getOrInitializeService({instanceIdentifier:Na})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Na){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Na){return this.instances.has(t)}getOptions(t=Na){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&t(a,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:F8(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Na){return this.component?this.component.multipleInstances?t:Na:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F8(e){return e===Na?void 0:e}function U8(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new V8(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ae||(Ae={}));const q8={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},K8=Ae.INFO,W8={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},H8=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=W8[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let xg=class{constructor(t){this.name=t,this._logLevel=K8,this._logHandler=H8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ae))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?q8[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...t),this._logHandler(this,Ae.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...t),this._logHandler(this,Ae.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...t),this._logHandler(this,Ae.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...t),this._logHandler(this,Ae.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...t),this._logHandler(this,Ae.ERROR,...t)}};const G8=(e,t)=>t.some(n=>e instanceof n);let yP,vP;function Q8(){return yP||(yP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y8(){return vP||(vP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F2=new WeakMap,Nx=new WeakMap,U2=new WeakMap,Fv=new WeakMap,S_=new WeakMap;function X8(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(Hs(e.result)),i()},a=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&F2.set(n,e)}).catch(()=>{}),S_.set(t,e),t}function J8(e){if(Nx.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});Nx.set(e,t)}let Ox={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Nx.get(e);if(t==="objectStoreNames")return e.objectStoreNames||U2.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hs(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Z8(e){Ox=e(Ox)}function e7(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Uv(this),t,...n);return U2.set(r,t.sort?t.sort():[t]),Hs(r)}:Y8().includes(e)?function(...t){return e.apply(Uv(this),t),Hs(F2.get(this))}:function(...t){return Hs(e.apply(Uv(this),t))}}function t7(e){return typeof e=="function"?e7(e):(e instanceof IDBTransaction&&J8(e),G8(e,Q8())?new Proxy(e,Ox):e)}function Hs(e){if(e instanceof IDBRequest)return X8(e);if(Fv.has(e))return Fv.get(e);const t=t7(e);return t!==e&&(Fv.set(e,t),S_.set(t,e)),t}const Uv=e=>S_.get(e);function B2(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(e,t),o=Hs(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Hs(a.result),l.oldVersion,l.newVersion,Hs(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const n7=["get","getKey","getAll","getAllKeys","count"],r7=["put","add","delete","clear"],Bv=new Map;function xP(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Bv.get(t))return Bv.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=r7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||n7.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return Bv.set(t,s),s}Z8(e=>({...e,get:(t,n,r)=>xP(t,n)||e.get(t,n,r),has:(t,n)=>!!xP(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function s7(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const jx="@firebase/app",wP="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new xg("@firebase/app"),a7="@firebase/app-compat",o7="@firebase/analytics-compat",l7="@firebase/analytics",c7="@firebase/app-check-compat",u7="@firebase/app-check",d7="@firebase/auth",f7="@firebase/auth-compat",h7="@firebase/database",p7="@firebase/data-connect",m7="@firebase/database-compat",g7="@firebase/functions",y7="@firebase/functions-compat",v7="@firebase/installations",x7="@firebase/installations-compat",w7="@firebase/messaging",b7="@firebase/messaging-compat",_7="@firebase/performance",E7="@firebase/performance-compat",T7="@firebase/remote-config",S7="@firebase/remote-config-compat",A7="@firebase/storage",P7="@firebase/storage-compat",I7="@firebase/firestore",k7="@firebase/vertexai-preview",C7="@firebase/firestore-compat",N7="firebase",O7="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="[DEFAULT]",j7={[jx]:"fire-core",[a7]:"fire-core-compat",[l7]:"fire-analytics",[o7]:"fire-analytics-compat",[u7]:"fire-app-check",[c7]:"fire-app-check-compat",[d7]:"fire-auth",[f7]:"fire-auth-compat",[h7]:"fire-rtdb",[p7]:"fire-data-connect",[m7]:"fire-rtdb-compat",[g7]:"fire-fn",[y7]:"fire-fn-compat",[v7]:"fire-iid",[x7]:"fire-iid-compat",[w7]:"fire-fcm",[b7]:"fire-fcm-compat",[_7]:"fire-perf",[E7]:"fire-perf-compat",[T7]:"fire-rc",[S7]:"fire-rc-compat",[A7]:"fire-gcs",[P7]:"fire-gcs-compat",[I7]:"fire-fst",[C7]:"fire-fst-compat",[k7]:"fire-vertex","fire-js":"fire-js",[N7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=new Map,R7=new Map,Dx=new Map;function bP(e,t){try{e.container.addComponent(t)}catch(n){es.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function mi(e){const t=e.name;if(Dx.has(t))return es.debug(`There were multiple attempts to register component ${t}.`),!1;Dx.set(t,e);for(const n of ld.values())bP(n,e);for(const n of R7.values())bP(n,e);return!0}function Ao(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Br(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new So("app","Firebase",D7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=O7;function A_(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Rx,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Gs.create("bad-app-name",{appName:String(i)});if(n||(n=M2()),!n)throw Gs.create("no-options");const s=ld.get(i);if(s){if(ao(n,s.options)&&ao(r,s.config))return s;throw Gs.create("duplicate-app",{appName:i})}const a=new B8(i);for(const l of Dx.values())a.addComponent(l);const o=new M7(n,r,a);return ld.set(i,o),o}function Qd(e=Rx){const t=ld.get(e);if(!t&&e===Rx&&M2())return A_();if(!t)throw Gs.create("no-app",{appName:e});return t}function q2(){return Array.from(ld.values())}function Tr(e,t,n){var r;let i=(r=j7[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${t}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),es.warn(o.join(" "));return}mi(new Qr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7="firebase-heartbeat-database",$7=1,cd="firebase-heartbeat-store";let qv=null;function K2(){return qv||(qv=B2(L7,$7,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(cd)}catch(n){console.warn(n)}}}}).catch(e=>{throw Gs.create("idb-open",{originalErrorMessage:e.message})})),qv}async function z7(e){try{const n=(await K2()).transaction(cd),r=await n.objectStore(cd).get(W2(e));return await n.done,r}catch(t){if(t instanceof ei)es.warn(t.message);else{const n=Gs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});es.warn(n.message)}}}async function _P(e,t){try{const r=(await K2()).transaction(cd,"readwrite");await r.objectStore(cd).put(t,W2(e)),await r.done}catch(n){if(n instanceof ei)es.warn(n.message);else{const r=Gs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});es.warn(r.message)}}}function W2(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7=1024,F7=30*24*60*60*1e3;class U7{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new q7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=EP();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=F7}),this._storage.overwrite(this._heartbeatsCache))}catch(r){es.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=EP(),{heartbeatsToSend:r,unsentEntries:i}=B7(this._heartbeatsCache.heartbeats),s=jp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return es.warn(n),""}}}function EP(){return new Date().toISOString().substring(0,10)}function B7(e,t=V7){const n=[];let r=e.slice();for(const i of e){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),TP(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),TP(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class q7{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return z2()?V2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await z7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _P(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _P(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function TP(e){return jp(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K7(e){mi(new Qr("platform-logger",t=>new i7(t),"PRIVATE")),mi(new Qr("heartbeat",t=>new U7(t),"PRIVATE")),Tr(jx,wP,e),Tr(jx,wP,"esm2017"),Tr("fire-js","")}K7("");var SP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qa,H2;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,A){function k(){}k.prototype=A.prototype,T.D=A.prototype,T.prototype=new k,T.prototype.constructor=T,T.C=function(C,j,D){for(var R=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)R[Q-2]=arguments[Q];return A.prototype[j].apply(C,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,A,k){k||(k=0);var C=Array(16);if(typeof A=="string")for(var j=0;16>j;++j)C[j]=A.charCodeAt(k++)|A.charCodeAt(k++)<<8|A.charCodeAt(k++)<<16|A.charCodeAt(k++)<<24;else for(j=0;16>j;++j)C[j]=A[k++]|A[k++]<<8|A[k++]<<16|A[k++]<<24;A=T.g[0],k=T.g[1],j=T.g[2];var D=T.g[3],R=A+(D^k&(j^D))+C[0]+3614090360&4294967295;A=k+(R<<7&4294967295|R>>>25),R=D+(j^A&(k^j))+C[1]+3905402710&4294967295,D=A+(R<<12&4294967295|R>>>20),R=j+(k^D&(A^k))+C[2]+606105819&4294967295,j=D+(R<<17&4294967295|R>>>15),R=k+(A^j&(D^A))+C[3]+3250441966&4294967295,k=j+(R<<22&4294967295|R>>>10),R=A+(D^k&(j^D))+C[4]+4118548399&4294967295,A=k+(R<<7&4294967295|R>>>25),R=D+(j^A&(k^j))+C[5]+1200080426&4294967295,D=A+(R<<12&4294967295|R>>>20),R=j+(k^D&(A^k))+C[6]+2821735955&4294967295,j=D+(R<<17&4294967295|R>>>15),R=k+(A^j&(D^A))+C[7]+4249261313&4294967295,k=j+(R<<22&4294967295|R>>>10),R=A+(D^k&(j^D))+C[8]+1770035416&4294967295,A=k+(R<<7&4294967295|R>>>25),R=D+(j^A&(k^j))+C[9]+2336552879&4294967295,D=A+(R<<12&4294967295|R>>>20),R=j+(k^D&(A^k))+C[10]+4294925233&4294967295,j=D+(R<<17&4294967295|R>>>15),R=k+(A^j&(D^A))+C[11]+2304563134&4294967295,k=j+(R<<22&4294967295|R>>>10),R=A+(D^k&(j^D))+C[12]+1804603682&4294967295,A=k+(R<<7&4294967295|R>>>25),R=D+(j^A&(k^j))+C[13]+4254626195&4294967295,D=A+(R<<12&4294967295|R>>>20),R=j+(k^D&(A^k))+C[14]+2792965006&4294967295,j=D+(R<<17&4294967295|R>>>15),R=k+(A^j&(D^A))+C[15]+1236535329&4294967295,k=j+(R<<22&4294967295|R>>>10),R=A+(j^D&(k^j))+C[1]+4129170786&4294967295,A=k+(R<<5&4294967295|R>>>27),R=D+(k^j&(A^k))+C[6]+3225465664&4294967295,D=A+(R<<9&4294967295|R>>>23),R=j+(A^k&(D^A))+C[11]+643717713&4294967295,j=D+(R<<14&4294967295|R>>>18),R=k+(D^A&(j^D))+C[0]+3921069994&4294967295,k=j+(R<<20&4294967295|R>>>12),R=A+(j^D&(k^j))+C[5]+3593408605&4294967295,A=k+(R<<5&4294967295|R>>>27),R=D+(k^j&(A^k))+C[10]+38016083&4294967295,D=A+(R<<9&4294967295|R>>>23),R=j+(A^k&(D^A))+C[15]+3634488961&4294967295,j=D+(R<<14&4294967295|R>>>18),R=k+(D^A&(j^D))+C[4]+3889429448&4294967295,k=j+(R<<20&4294967295|R>>>12),R=A+(j^D&(k^j))+C[9]+568446438&4294967295,A=k+(R<<5&4294967295|R>>>27),R=D+(k^j&(A^k))+C[14]+3275163606&4294967295,D=A+(R<<9&4294967295|R>>>23),R=j+(A^k&(D^A))+C[3]+4107603335&4294967295,j=D+(R<<14&4294967295|R>>>18),R=k+(D^A&(j^D))+C[8]+1163531501&4294967295,k=j+(R<<20&4294967295|R>>>12),R=A+(j^D&(k^j))+C[13]+2850285829&4294967295,A=k+(R<<5&4294967295|R>>>27),R=D+(k^j&(A^k))+C[2]+4243563512&4294967295,D=A+(R<<9&4294967295|R>>>23),R=j+(A^k&(D^A))+C[7]+1735328473&4294967295,j=D+(R<<14&4294967295|R>>>18),R=k+(D^A&(j^D))+C[12]+2368359562&4294967295,k=j+(R<<20&4294967295|R>>>12),R=A+(k^j^D)+C[5]+4294588738&4294967295,A=k+(R<<4&4294967295|R>>>28),R=D+(A^k^j)+C[8]+2272392833&4294967295,D=A+(R<<11&4294967295|R>>>21),R=j+(D^A^k)+C[11]+1839030562&4294967295,j=D+(R<<16&4294967295|R>>>16),R=k+(j^D^A)+C[14]+4259657740&4294967295,k=j+(R<<23&4294967295|R>>>9),R=A+(k^j^D)+C[1]+2763975236&4294967295,A=k+(R<<4&4294967295|R>>>28),R=D+(A^k^j)+C[4]+1272893353&4294967295,D=A+(R<<11&4294967295|R>>>21),R=j+(D^A^k)+C[7]+4139469664&4294967295,j=D+(R<<16&4294967295|R>>>16),R=k+(j^D^A)+C[10]+3200236656&4294967295,k=j+(R<<23&4294967295|R>>>9),R=A+(k^j^D)+C[13]+681279174&4294967295,A=k+(R<<4&4294967295|R>>>28),R=D+(A^k^j)+C[0]+3936430074&4294967295,D=A+(R<<11&4294967295|R>>>21),R=j+(D^A^k)+C[3]+3572445317&4294967295,j=D+(R<<16&4294967295|R>>>16),R=k+(j^D^A)+C[6]+76029189&4294967295,k=j+(R<<23&4294967295|R>>>9),R=A+(k^j^D)+C[9]+3654602809&4294967295,A=k+(R<<4&4294967295|R>>>28),R=D+(A^k^j)+C[12]+3873151461&4294967295,D=A+(R<<11&4294967295|R>>>21),R=j+(D^A^k)+C[15]+530742520&4294967295,j=D+(R<<16&4294967295|R>>>16),R=k+(j^D^A)+C[2]+3299628645&4294967295,k=j+(R<<23&4294967295|R>>>9),R=A+(j^(k|~D))+C[0]+4096336452&4294967295,A=k+(R<<6&4294967295|R>>>26),R=D+(k^(A|~j))+C[7]+1126891415&4294967295,D=A+(R<<10&4294967295|R>>>22),R=j+(A^(D|~k))+C[14]+2878612391&4294967295,j=D+(R<<15&4294967295|R>>>17),R=k+(D^(j|~A))+C[5]+4237533241&4294967295,k=j+(R<<21&4294967295|R>>>11),R=A+(j^(k|~D))+C[12]+1700485571&4294967295,A=k+(R<<6&4294967295|R>>>26),R=D+(k^(A|~j))+C[3]+2399980690&4294967295,D=A+(R<<10&4294967295|R>>>22),R=j+(A^(D|~k))+C[10]+4293915773&4294967295,j=D+(R<<15&4294967295|R>>>17),R=k+(D^(j|~A))+C[1]+2240044497&4294967295,k=j+(R<<21&4294967295|R>>>11),R=A+(j^(k|~D))+C[8]+1873313359&4294967295,A=k+(R<<6&4294967295|R>>>26),R=D+(k^(A|~j))+C[15]+4264355552&4294967295,D=A+(R<<10&4294967295|R>>>22),R=j+(A^(D|~k))+C[6]+2734768916&4294967295,j=D+(R<<15&4294967295|R>>>17),R=k+(D^(j|~A))+C[13]+1309151649&4294967295,k=j+(R<<21&4294967295|R>>>11),R=A+(j^(k|~D))+C[4]+4149444226&4294967295,A=k+(R<<6&4294967295|R>>>26),R=D+(k^(A|~j))+C[11]+3174756917&4294967295,D=A+(R<<10&4294967295|R>>>22),R=j+(A^(D|~k))+C[2]+718787259&4294967295,j=D+(R<<15&4294967295|R>>>17),R=k+(D^(j|~A))+C[9]+3951481745&4294967295,T.g[0]=T.g[0]+A&4294967295,T.g[1]=T.g[1]+(j+(R<<21&4294967295|R>>>11))&4294967295,T.g[2]=T.g[2]+j&4294967295,T.g[3]=T.g[3]+D&4294967295}r.prototype.u=function(T,A){A===void 0&&(A=T.length);for(var k=A-this.blockSize,C=this.B,j=this.h,D=0;D<A;){if(j==0)for(;D<=k;)i(this,T,D),D+=this.blockSize;if(typeof T=="string"){for(;D<A;)if(C[j++]=T.charCodeAt(D++),j==this.blockSize){i(this,C),j=0;break}}else for(;D<A;)if(C[j++]=T[D++],j==this.blockSize){i(this,C),j=0;break}}this.h=j,this.o+=A},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var A=1;A<T.length-8;++A)T[A]=0;var k=8*this.o;for(A=T.length-8;A<T.length;++A)T[A]=k&255,k/=256;for(this.u(T),T=Array(16),A=k=0;4>A;++A)for(var C=0;32>C;C+=8)T[k++]=this.g[A]>>>C&255;return T};function s(T,A){var k=o;return Object.prototype.hasOwnProperty.call(k,T)?k[T]:k[T]=A(T)}function a(T,A){this.h=A;for(var k=[],C=!0,j=T.length-1;0<=j;j--){var D=T[j]|0;C&&D==A||(k[j]=D,C=!1)}this.g=k}var o={};function l(T){return-128<=T&&128>T?s(T,function(A){return new a([A|0],0>A?-1:0)}):new a([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return b(c(-T));for(var A=[],k=1,C=0;T>=k;C++)A[C]=T/k|0,k*=4294967296;return new a(A,0)}function u(T,A){if(T.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(T.charAt(0)=="-")return b(u(T.substring(1),A));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(A,8)),C=f,j=0;j<T.length;j+=8){var D=Math.min(8,T.length-j),R=parseInt(T.substring(j,j+D),A);8>D?(D=c(Math.pow(A,D)),C=C.j(D).add(c(R))):(C=C.j(k),C=C.add(c(R)))}return C}var f=l(0),p=l(1),m=l(16777216);e=a.prototype,e.m=function(){if(y(this))return-b(this).m();for(var T=0,A=1,k=0;k<this.g.length;k++){var C=this.i(k);T+=(0<=C?C:4294967296+C)*A,A*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(y(this))return"-"+b(this).toString(T);for(var A=c(Math.pow(T,6)),k=this,C="";;){var j=P(k,A).g;k=w(k,j.j(A));var D=((0<k.g.length?k.g[0]:k.h)>>>0).toString(T);if(k=j,g(k))return D+C;for(;6>D.length;)D="0"+D;C=D+C}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var A=0;A<T.g.length;A++)if(T.g[A]!=0)return!1;return!0}function y(T){return T.h==-1}e.l=function(T){return T=w(this,T),y(T)?-1:g(T)?0:1};function b(T){for(var A=T.g.length,k=[],C=0;C<A;C++)k[C]=~T.g[C];return new a(k,~T.h).add(p)}e.abs=function(){return y(this)?b(this):this},e.add=function(T){for(var A=Math.max(this.g.length,T.g.length),k=[],C=0,j=0;j<=A;j++){var D=C+(this.i(j)&65535)+(T.i(j)&65535),R=(D>>>16)+(this.i(j)>>>16)+(T.i(j)>>>16);C=R>>>16,D&=65535,R&=65535,k[j]=R<<16|D}return new a(k,k[k.length-1]&-2147483648?-1:0)};function w(T,A){return T.add(b(A))}e.j=function(T){if(g(this)||g(T))return f;if(y(this))return y(T)?b(this).j(b(T)):b(b(this).j(T));if(y(T))return b(this.j(b(T)));if(0>this.l(m)&&0>T.l(m))return c(this.m()*T.m());for(var A=this.g.length+T.g.length,k=[],C=0;C<2*A;C++)k[C]=0;for(C=0;C<this.g.length;C++)for(var j=0;j<T.g.length;j++){var D=this.i(C)>>>16,R=this.i(C)&65535,Q=T.i(j)>>>16,de=T.i(j)&65535;k[2*C+2*j]+=R*de,x(k,2*C+2*j),k[2*C+2*j+1]+=D*de,x(k,2*C+2*j+1),k[2*C+2*j+1]+=R*Q,x(k,2*C+2*j+1),k[2*C+2*j+2]+=D*Q,x(k,2*C+2*j+2)}for(C=0;C<A;C++)k[C]=k[2*C+1]<<16|k[2*C];for(C=A;C<2*A;C++)k[C]=0;return new a(k,0)};function x(T,A){for(;(T[A]&65535)!=T[A];)T[A+1]+=T[A]>>>16,T[A]&=65535,A++}function _(T,A){this.g=T,this.h=A}function P(T,A){if(g(A))throw Error("division by zero");if(g(T))return new _(f,f);if(y(T))return A=P(b(T),A),new _(b(A.g),b(A.h));if(y(A))return A=P(T,b(A)),new _(b(A.g),A.h);if(30<T.g.length){if(y(T)||y(A))throw Error("slowDivide_ only works with positive integers.");for(var k=p,C=A;0>=C.l(T);)k=I(k),C=I(C);var j=N(k,1),D=N(C,1);for(C=N(C,2),k=N(k,2);!g(C);){var R=D.add(C);0>=R.l(T)&&(j=j.add(k),D=R),C=N(C,1),k=N(k,1)}return A=w(T,j.j(A)),new _(j,A)}for(j=f;0<=T.l(A);){for(k=Math.max(1,Math.floor(T.m()/A.m())),C=Math.ceil(Math.log(k)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),D=c(k),R=D.j(A);y(R)||0<R.l(T);)k-=C,D=c(k),R=D.j(A);g(D)&&(D=p),j=j.add(D),T=w(T,R)}return new _(j,T)}e.A=function(T){return P(this,T).h},e.and=function(T){for(var A=Math.max(this.g.length,T.g.length),k=[],C=0;C<A;C++)k[C]=this.i(C)&T.i(C);return new a(k,this.h&T.h)},e.or=function(T){for(var A=Math.max(this.g.length,T.g.length),k=[],C=0;C<A;C++)k[C]=this.i(C)|T.i(C);return new a(k,this.h|T.h)},e.xor=function(T){for(var A=Math.max(this.g.length,T.g.length),k=[],C=0;C<A;C++)k[C]=this.i(C)^T.i(C);return new a(k,this.h^T.h)};function I(T){for(var A=T.g.length+1,k=[],C=0;C<A;C++)k[C]=T.i(C)<<1|T.i(C-1)>>>31;return new a(k,T.h)}function N(T,A){var k=A>>5;A%=32;for(var C=T.g.length-k,j=[],D=0;D<C;D++)j[D]=0<A?T.i(D+k)>>>A|T.i(D+k+1)<<32-A:T.i(D+k);return new a(j,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,H2=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=u,Qa=a}).apply(typeof SP<"u"?SP:typeof self<"u"?self:typeof window<"u"?window:{});var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var G2,mu,Q2,Bh,Mx,Y2,X2,J2;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,E,S){return h==Array.prototype||h==Object.prototype||(h[E]=S.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof lh=="object"&&lh];for(var E=0;E<h.length;++E){var S=h[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function i(h,E){if(E)e:{var S=r;h=h.split(".");for(var O=0;O<h.length-1;O++){var L=h[O];if(!(L in S))break e;S=S[L]}h=h[h.length-1],O=S[h],E=E(O),E!=O&&E!=null&&t(S,h,{configurable:!0,writable:!0,value:E})}}function s(h,E){h instanceof String&&(h+="");var S=0,O=!1,L={next:function(){if(!O&&S<h.length){var z=S++;return{value:E(z,h[z]),done:!1}}return O=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(h){return h||function(){return s(this,function(E,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(h){var E=typeof h;return E=E!="object"?E:h?Array.isArray(h)?"array":E:"null",E=="array"||E=="object"&&typeof h.length=="number"}function c(h){var E=typeof h;return E=="object"&&h!=null||E=="function"}function u(h,E,S){return h.call.apply(h.bind,arguments)}function f(h,E,S){if(!h)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,O),h.apply(E,L)}}return function(){return h.apply(E,arguments)}}function p(h,E,S){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,p.apply(null,arguments)}function m(h,E){var S=Array.prototype.slice.call(arguments,1);return function(){var O=S.slice();return O.push.apply(O,arguments),h.apply(this,O)}}function g(h,E){function S(){}S.prototype=E.prototype,h.aa=E.prototype,h.prototype=new S,h.prototype.constructor=h,h.Qb=function(O,L,z){for(var H=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)H[Ke-2]=arguments[Ke];return E.prototype[L].apply(O,H)}}function y(h){const E=h.length;if(0<E){const S=Array(E);for(let O=0;O<E;O++)S[O]=h[O];return S}return[]}function b(h,E){for(let S=1;S<arguments.length;S++){const O=arguments[S];if(l(O)){const L=h.length||0,z=O.length||0;h.length=L+z;for(let H=0;H<z;H++)h[L+H]=O[H]}else h.push(O)}}class w{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function x(h){return/^[\s\xa0]*$/.test(h)}function _(){var h=o.navigator;return h&&(h=h.userAgent)?h:""}function P(h){return P[" "](h),h}P[" "]=function(){};var I=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function N(h,E,S){for(const O in h)E.call(S,h[O],O,h)}function T(h,E){for(const S in h)E.call(void 0,h[S],S,h)}function A(h){const E={};for(const S in h)E[S]=h[S];return E}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(h,E){let S,O;for(let L=1;L<arguments.length;L++){O=arguments[L];for(S in O)h[S]=O[S];for(let z=0;z<k.length;z++)S=k[z],Object.prototype.hasOwnProperty.call(O,S)&&(h[S]=O[S])}}function j(h){var E=1;h=h.split(":");const S=[];for(;0<E&&h.length;)S.push(h.shift()),E--;return h.length&&S.push(h.join(":")),S}function D(h){o.setTimeout(()=>{throw h},0)}function R(){var h=G;let E=null;return h.g&&(E=h.g,h.g=h.g.next,h.g||(h.h=null),E.next=null),E}class Q{constructor(){this.h=this.g=null}add(E,S){const O=de.get();O.set(E,S),this.h?this.h.next=O:this.g=O,this.h=O}}var de=new w(()=>new ue,h=>h.reset());class ue{constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let X,U=!1,G=new Q,ie=()=>{const h=o.Promise.resolve(void 0);X=()=>{h.then(ce)}};var ce=()=>{for(var h;h=R();){try{h.h.call(h.g)}catch(S){D(S)}var E=de;E.j(h),100>E.h&&(E.h++,h.next=E.g,E.g=h)}U=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(h,E){this.type=h,this.g=this.target=E,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var h=!1,E=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const S=()=>{};o.addEventListener("test",S,E),o.removeEventListener("test",S,E)}catch{}return h}();function ne(h,E){if(B.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var S=this.type=h.type,O=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=E,E=h.relatedTarget){if(I){e:{try{P(E.nodeName);var L=!0;break e}catch{}L=!1}L||(E=null)}}else S=="mouseover"?E=h.fromElement:S=="mouseout"&&(E=h.toElement);this.relatedTarget=E,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:he[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ne.aa.h.call(this)}}g(ne,B);var he={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),Kn=0;function J(h,E,S,O,L){this.listener=h,this.proxy=null,this.src=E,this.type=S,this.capture=!!O,this.ha=L,this.key=++Kn,this.da=this.fa=!1}function pe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function _e(h){this.src=h,this.g={},this.h=0}_e.prototype.add=function(h,E,S,O,L){var z=h.toString();h=this.g[z],h||(h=this.g[z]=[],this.h++);var H=Rt(h,E,O,L);return-1<H?(E=h[H],S||(E.fa=!1)):(E=new J(E,this.src,z,!!O,L),E.fa=S,h.push(E)),E};function K(h,E){var S=E.type;if(S in h.g){var O=h.g[S],L=Array.prototype.indexOf.call(O,E,void 0),z;(z=0<=L)&&Array.prototype.splice.call(O,L,1),z&&(pe(E),h.g[S].length==0&&(delete h.g[S],h.h--))}}function Rt(h,E,S,O){for(var L=0;L<h.length;++L){var z=h[L];if(!z.da&&z.listener==E&&z.capture==!!S&&z.ha==O)return L}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),qt={};function an(h,E,S,O,L){if(Array.isArray(E)){for(var z=0;z<E.length;z++)an(h,E[z],S,O,L);return null}return S=RT(S),h&&h[$e]?h.K(E,S,c(O)?!!O.capture:!1,L):Ti(h,E,S,!1,O,L)}function Ti(h,E,S,O,L,z){if(!E)throw Error("Invalid event type");var H=c(L)?!!L.capture:!!L,Ke=zy(h);if(Ke||(h[Me]=Ke=new _e(h)),S=Ke.add(E,S,O,H,z),S.proxy)return S;if(O=Pf(),S.proxy=O,O.src=h,O.listener=S,h.addEventListener)ae||(L=H),L===void 0&&(L=!1),h.addEventListener(E.toString(),O,L);else if(h.attachEvent)h.attachEvent(jT(E.toString()),O);else if(h.addListener&&h.removeListener)h.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Pf(){function h(S){return E.call(h.src,h.listener,S)}const E=K5;return h}function OT(h,E,S,O,L){if(Array.isArray(E))for(var z=0;z<E.length;z++)OT(h,E[z],S,O,L);else O=c(O)?!!O.capture:!!O,S=RT(S),h&&h[$e]?(h=h.i,E=String(E).toString(),E in h.g&&(z=h.g[E],S=Rt(z,S,O,L),-1<S&&(pe(z[S]),Array.prototype.splice.call(z,S,1),z.length==0&&(delete h.g[E],h.h--)))):h&&(h=zy(h))&&(E=h.g[E.toString()],h=-1,E&&(h=Rt(E,S,O,L)),(S=-1<h?E[h]:null)&&$y(S))}function $y(h){if(typeof h!="number"&&h&&!h.da){var E=h.src;if(E&&E[$e])K(E.i,h);else{var S=h.type,O=h.proxy;E.removeEventListener?E.removeEventListener(S,O,h.capture):E.detachEvent?E.detachEvent(jT(S),O):E.addListener&&E.removeListener&&E.removeListener(O),(S=zy(E))?(K(S,h),S.h==0&&(S.src=null,E[Me]=null)):pe(h)}}}function jT(h){return h in qt?qt[h]:qt[h]="on"+h}function K5(h,E){if(h.da)h=!0;else{E=new ne(E,this);var S=h.listener,O=h.ha||h.src;h.fa&&$y(h),h=S.call(O,E)}return h}function zy(h){return h=h[Me],h instanceof _e?h:null}var Vy="__closure_events_fn_"+(1e9*Math.random()>>>0);function RT(h){return typeof h=="function"?h:(h[Vy]||(h[Vy]=function(E){return h.handleEvent(E)}),h[Vy])}function on(){M.call(this),this.i=new _e(this),this.M=this,this.F=null}g(on,M),on.prototype[$e]=!0,on.prototype.removeEventListener=function(h,E,S,O){OT(this,h,E,S,O)};function En(h,E){var S,O=h.F;if(O)for(S=[];O;O=O.F)S.push(O);if(h=h.M,O=E.type||E,typeof E=="string")E=new B(E,h);else if(E instanceof B)E.target=E.target||h;else{var L=E;E=new B(O,h),C(E,L)}if(L=!0,S)for(var z=S.length-1;0<=z;z--){var H=E.g=S[z];L=If(H,O,!0,E)&&L}if(H=E.g=h,L=If(H,O,!0,E)&&L,L=If(H,O,!1,E)&&L,S)for(z=0;z<S.length;z++)H=E.g=S[z],L=If(H,O,!1,E)&&L}on.prototype.N=function(){if(on.aa.N.call(this),this.i){var h=this.i,E;for(E in h.g){for(var S=h.g[E],O=0;O<S.length;O++)pe(S[O]);delete h.g[E],h.h--}}this.F=null},on.prototype.K=function(h,E,S,O){return this.i.add(String(h),E,!1,S,O)},on.prototype.L=function(h,E,S,O){return this.i.add(String(h),E,!0,S,O)};function If(h,E,S,O){if(E=h.i.g[String(E)],!E)return!0;E=E.concat();for(var L=!0,z=0;z<E.length;++z){var H=E[z];if(H&&!H.da&&H.capture==S){var Ke=H.listener,Kt=H.ha||H.src;H.fa&&K(h.i,H),L=Ke.call(Kt,O)!==!1&&L}}return L&&!O.defaultPrevented}function DT(h,E,S){if(typeof h=="function")S&&(h=p(h,S));else if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:o.setTimeout(h,E||0)}function MT(h){h.g=DT(()=>{h.g=null,h.i&&(h.i=!1,MT(h))},h.l);const E=h.h;h.h=null,h.m.apply(null,E)}class W5 extends M{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:MT(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kc(h){M.call(this),this.h=h,this.g={}}g(kc,M);var LT=[];function $T(h){N(h.g,function(E,S){this.g.hasOwnProperty(S)&&$y(E)},h),h.g={}}kc.prototype.N=function(){kc.aa.N.call(this),$T(this)},kc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fy=o.JSON.stringify,H5=o.JSON.parse,G5=class{stringify(h){return o.JSON.stringify(h,void 0)}parse(h){return o.JSON.parse(h,void 0)}};function Uy(){}Uy.prototype.h=null;function zT(h){return h.h||(h.h=h.i())}function VT(){}var Cc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function By(){B.call(this,"d")}g(By,B);function qy(){B.call(this,"c")}g(qy,B);var Ta={},FT=null;function kf(){return FT=FT||new on}Ta.La="serverreachability";function UT(h){B.call(this,Ta.La,h)}g(UT,B);function Nc(h){const E=kf();En(E,new UT(E))}Ta.STAT_EVENT="statevent";function BT(h,E){B.call(this,Ta.STAT_EVENT,h),this.stat=E}g(BT,B);function Tn(h){const E=kf();En(E,new BT(E,h))}Ta.Ma="timingevent";function qT(h,E){B.call(this,Ta.Ma,h),this.size=E}g(qT,B);function Oc(h,E){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){h()},E)}function jc(){this.g=!0}jc.prototype.xa=function(){this.g=!1};function Q5(h,E,S,O,L,z){h.info(function(){if(h.g)if(z)for(var H="",Ke=z.split("&"),Kt=0;Kt<Ke.length;Kt++){var Oe=Ke[Kt].split("=");if(1<Oe.length){var ln=Oe[0];Oe=Oe[1];var cn=ln.split("_");H=2<=cn.length&&cn[1]=="type"?H+(ln+"="+Oe+"&"):H+(ln+"=redacted&")}}else H=null;else H=z;return"XMLHTTP REQ ("+O+") [attempt "+L+"]: "+E+`
`+S+`
`+H})}function Y5(h,E,S,O,L,z,H){h.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+L+"]: "+E+`
`+S+`
`+z+" "+H})}function Lo(h,E,S,O){h.info(function(){return"XMLHTTP TEXT ("+E+"): "+J5(h,S)+(O?" "+O:"")})}function X5(h,E){h.info(function(){return"TIMEOUT: "+E})}jc.prototype.info=function(){};function J5(h,E){if(!h.g)return E;if(!E)return null;try{var S=JSON.parse(E);if(S){for(h=0;h<S.length;h++)if(Array.isArray(S[h])){var O=S[h];if(!(2>O.length)){var L=O[1];if(Array.isArray(L)&&!(1>L.length)){var z=L[0];if(z!="noop"&&z!="stop"&&z!="close")for(var H=1;H<L.length;H++)L[H]=""}}}}return Fy(S)}catch{return E}}var Cf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},KT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ky;function Nf(){}g(Nf,Uy),Nf.prototype.g=function(){return new XMLHttpRequest},Nf.prototype.i=function(){return{}},Ky=new Nf;function gs(h,E,S,O){this.j=h,this.i=E,this.l=S,this.R=O||1,this.U=new kc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new WT}function WT(){this.i=null,this.g="",this.h=!1}var HT={},Wy={};function Hy(h,E,S){h.L=1,h.v=Df(Si(E)),h.m=S,h.P=!0,GT(h,null)}function GT(h,E){h.F=Date.now(),Of(h),h.A=Si(h.v);var S=h.A,O=h.R;Array.isArray(O)||(O=[String(O)]),lS(S.i,"t",O),h.C=0,S=h.j.J,h.h=new WT,h.g=AS(h.j,S?E:null,!h.m),0<h.O&&(h.M=new W5(p(h.Y,h,h.g),h.O)),E=h.U,S=h.g,O=h.ca;var L="readystatechange";Array.isArray(L)||(L&&(LT[0]=L.toString()),L=LT);for(var z=0;z<L.length;z++){var H=an(S,L[z],O||E.handleEvent,!1,E.h||E);if(!H)break;E.g[H.key]=H}E=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,E)):(h.u="GET",h.g.ea(h.A,h.u,null,E)),Nc(),Q5(h.i,h.u,h.A,h.l,h.R,h.m)}gs.prototype.ca=function(h){h=h.target;const E=this.M;E&&Ai(h)==3?E.j():this.Y(h)},gs.prototype.Y=function(h){try{if(h==this.g)e:{const cn=Ai(this.g);var E=this.g.Ba();const Vo=this.g.Z();if(!(3>cn)&&(cn!=3||this.g&&(this.h.h||this.g.oa()||mS(this.g)))){this.J||cn!=4||E==7||(E==8||0>=Vo?Nc(3):Nc(2)),Gy(this);var S=this.g.Z();this.X=S;t:if(QT(this)){var O=mS(this.g);h="";var L=O.length,z=Ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sa(this),Rc(this);var H="";break t}this.h.i=new o.TextDecoder}for(E=0;E<L;E++)this.h.h=!0,h+=this.h.i.decode(O[E],{stream:!(z&&E==L-1)});O.length=0,this.h.g+=h,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=S==200,Y5(this.i,this.u,this.A,this.l,this.R,cn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Kt=this.g;if((Ke=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Ke)){var Oe=Ke;break t}}Oe=null}if(S=Oe)Lo(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qy(this,S);else{this.o=!1,this.s=3,Tn(12),Sa(this),Rc(this);break e}}if(this.P){S=!0;let Rr;for(;!this.J&&this.C<H.length;)if(Rr=Z5(this,H),Rr==Wy){cn==4&&(this.s=4,Tn(14),S=!1),Lo(this.i,this.l,null,"[Incomplete Response]");break}else if(Rr==HT){this.s=4,Tn(15),Lo(this.i,this.l,H,"[Invalid Chunk]"),S=!1;break}else Lo(this.i,this.l,Rr,null),Qy(this,Rr);if(QT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cn!=4||H.length!=0||this.h.h||(this.s=1,Tn(16),S=!1),this.o=this.o&&S,!S)Lo(this.i,this.l,H,"[Invalid Chunked Response]"),Sa(this),Rc(this);else if(0<H.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),tv(ln),ln.M=!0,Tn(11))}}else Lo(this.i,this.l,H,null),Qy(this,H);cn==4&&Sa(this),this.o&&!this.J&&(cn==4?_S(this.j,this):(this.o=!1,Of(this)))}else gz(this.g),S==400&&0<H.indexOf("Unknown SID")?(this.s=3,Tn(12)):(this.s=0,Tn(13)),Sa(this),Rc(this)}}}catch{}finally{}};function QT(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Z5(h,E){var S=h.C,O=E.indexOf(`
`,S);return O==-1?Wy:(S=Number(E.substring(S,O)),isNaN(S)?HT:(O+=1,O+S>E.length?Wy:(E=E.slice(O,O+S),h.C=O+S,E)))}gs.prototype.cancel=function(){this.J=!0,Sa(this)};function Of(h){h.S=Date.now()+h.I,YT(h,h.I)}function YT(h,E){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Oc(p(h.ba,h),E)}function Gy(h){h.B&&(o.clearTimeout(h.B),h.B=null)}gs.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(X5(this.i,this.A),this.L!=2&&(Nc(),Tn(17)),Sa(this),this.s=2,Rc(this)):YT(this,this.S-h)};function Rc(h){h.j.G==0||h.J||_S(h.j,h)}function Sa(h){Gy(h);var E=h.M;E&&typeof E.ma=="function"&&E.ma(),h.M=null,$T(h.U),h.g&&(E=h.g,h.g=null,E.abort(),E.ma())}function Qy(h,E){try{var S=h.j;if(S.G!=0&&(S.g==h||Yy(S.h,h))){if(!h.K&&Yy(S.h,h)&&S.G==3){try{var O=S.Da.g.parse(E)}catch{O=null}if(Array.isArray(O)&&O.length==3){var L=O;if(L[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<h.F)Ff(S),zf(S);else break e;ev(S),Tn(18)}}else S.za=L[1],0<S.za-S.T&&37500>L[2]&&S.F&&S.v==0&&!S.C&&(S.C=Oc(p(S.Za,S),6e3));if(1>=ZT(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Pa(S,11)}else if((h.K||S.g==h)&&Ff(S),!x(E))for(L=S.Da.g.parse(E),E=0;E<L.length;E++){let Oe=L[E];if(S.T=Oe[0],Oe=Oe[1],S.G==2)if(Oe[0]=="c"){S.K=Oe[1],S.ia=Oe[2];const ln=Oe[3];ln!=null&&(S.la=ln,S.j.info("VER="+S.la));const cn=Oe[4];cn!=null&&(S.Aa=cn,S.j.info("SVER="+S.Aa));const Vo=Oe[5];Vo!=null&&typeof Vo=="number"&&0<Vo&&(O=1.5*Vo,S.L=O,S.j.info("backChannelRequestTimeoutMs_="+O)),O=S;const Rr=h.g;if(Rr){const Bf=Rr.g?Rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bf){var z=O.h;z.g||Bf.indexOf("spdy")==-1&&Bf.indexOf("quic")==-1&&Bf.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(Xy(z,z.h),z.h=null))}if(O.D){const nv=Rr.g?Rr.g.getResponseHeader("X-HTTP-Session-Id"):null;nv&&(O.ya=nv,Xe(O.I,O.D,nv))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-h.F,S.j.info("Handshake RTT: "+S.R+"ms")),O=S;var H=h;if(O.qa=SS(O,O.J?O.ia:null,O.W),H.K){eS(O.h,H);var Ke=H,Kt=O.L;Kt&&(Ke.I=Kt),Ke.B&&(Gy(Ke),Of(Ke)),O.g=H}else wS(O);0<S.i.length&&Vf(S)}else Oe[0]!="stop"&&Oe[0]!="close"||Pa(S,7);else S.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?Pa(S,7):Zy(S):Oe[0]!="noop"&&S.l&&S.l.ta(Oe),S.v=0)}}Nc(4)}catch{}}var ez=class{constructor(h,E){this.g=h,this.map=E}};function XT(h){this.l=h||10,o.PerformanceNavigationTiming?(h=o.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function JT(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ZT(h){return h.h?1:h.g?h.g.size:0}function Yy(h,E){return h.h?h.h==E:h.g?h.g.has(E):!1}function Xy(h,E){h.g?h.g.add(E):h.h=E}function eS(h,E){h.h&&h.h==E?h.h=null:h.g&&h.g.has(E)&&h.g.delete(E)}XT.prototype.cancel=function(){if(this.i=tS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function tS(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let E=h.i;for(const S of h.g.values())E=E.concat(S.D);return E}return y(h.i)}function tz(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var E=[],S=h.length,O=0;O<S;O++)E.push(h[O]);return E}E=[],S=0;for(O in h)E[S++]=h[O];return E}function nz(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var E=[];h=h.length;for(var S=0;S<h;S++)E.push(S);return E}E=[],S=0;for(const O in h)E[S++]=O;return E}}}function nS(h,E){if(h.forEach&&typeof h.forEach=="function")h.forEach(E,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,E,void 0);else for(var S=nz(h),O=tz(h),L=O.length,z=0;z<L;z++)E.call(void 0,O[z],S&&S[z],h)}var rS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rz(h,E){if(h){h=h.split("&");for(var S=0;S<h.length;S++){var O=h[S].indexOf("="),L=null;if(0<=O){var z=h[S].substring(0,O);L=h[S].substring(O+1)}else z=h[S];E(z,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Aa(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Aa){this.h=h.h,jf(this,h.j),this.o=h.o,this.g=h.g,Rf(this,h.s),this.l=h.l;var E=h.i,S=new Lc;S.i=E.i,E.g&&(S.g=new Map(E.g),S.h=E.h),iS(this,S),this.m=h.m}else h&&(E=String(h).match(rS))?(this.h=!1,jf(this,E[1]||"",!0),this.o=Dc(E[2]||""),this.g=Dc(E[3]||"",!0),Rf(this,E[4]),this.l=Dc(E[5]||"",!0),iS(this,E[6]||"",!0),this.m=Dc(E[7]||"")):(this.h=!1,this.i=new Lc(null,this.h))}Aa.prototype.toString=function(){var h=[],E=this.j;E&&h.push(Mc(E,sS,!0),":");var S=this.g;return(S||E=="file")&&(h.push("//"),(E=this.o)&&h.push(Mc(E,sS,!0),"@"),h.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&h.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&h.push("/"),h.push(Mc(S,S.charAt(0)=="/"?az:sz,!0))),(S=this.i.toString())&&h.push("?",S),(S=this.m)&&h.push("#",Mc(S,lz)),h.join("")};function Si(h){return new Aa(h)}function jf(h,E,S){h.j=S?Dc(E,!0):E,h.j&&(h.j=h.j.replace(/:$/,""))}function Rf(h,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);h.s=E}else h.s=null}function iS(h,E,S){E instanceof Lc?(h.i=E,cz(h.i,h.h)):(S||(E=Mc(E,oz)),h.i=new Lc(E,h.h))}function Xe(h,E,S){h.i.set(E,S)}function Df(h){return Xe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Dc(h,E){return h?E?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Mc(h,E,S){return typeof h=="string"?(h=encodeURI(h).replace(E,iz),S&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function iz(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var sS=/[#\/\?@]/g,sz=/[#\?:]/g,az=/[#\?]/g,oz=/[#\?@]/g,lz=/#/g;function Lc(h,E){this.h=this.g=null,this.i=h||null,this.j=!!E}function ys(h){h.g||(h.g=new Map,h.h=0,h.i&&rz(h.i,function(E,S){h.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}e=Lc.prototype,e.add=function(h,E){ys(this),this.i=null,h=$o(this,h);var S=this.g.get(h);return S||this.g.set(h,S=[]),S.push(E),this.h+=1,this};function aS(h,E){ys(h),E=$o(h,E),h.g.has(E)&&(h.i=null,h.h-=h.g.get(E).length,h.g.delete(E))}function oS(h,E){return ys(h),E=$o(h,E),h.g.has(E)}e.forEach=function(h,E){ys(this),this.g.forEach(function(S,O){S.forEach(function(L){h.call(E,L,O,this)},this)},this)},e.na=function(){ys(this);const h=Array.from(this.g.values()),E=Array.from(this.g.keys()),S=[];for(let O=0;O<E.length;O++){const L=h[O];for(let z=0;z<L.length;z++)S.push(E[O])}return S},e.V=function(h){ys(this);let E=[];if(typeof h=="string")oS(this,h)&&(E=E.concat(this.g.get($o(this,h))));else{h=Array.from(this.g.values());for(let S=0;S<h.length;S++)E=E.concat(h[S])}return E},e.set=function(h,E){return ys(this),this.i=null,h=$o(this,h),oS(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[E]),this.h+=1,this},e.get=function(h,E){return h?(h=this.V(h),0<h.length?String(h[0]):E):E};function lS(h,E,S){aS(h,E),0<S.length&&(h.i=null,h.g.set($o(h,E),y(S)),h.h+=S.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],E=Array.from(this.g.keys());for(var S=0;S<E.length;S++){var O=E[S];const z=encodeURIComponent(String(O)),H=this.V(O);for(O=0;O<H.length;O++){var L=z;H[O]!==""&&(L+="="+encodeURIComponent(String(H[O]))),h.push(L)}}return this.i=h.join("&")};function $o(h,E){return E=String(E),h.j&&(E=E.toLowerCase()),E}function cz(h,E){E&&!h.j&&(ys(h),h.i=null,h.g.forEach(function(S,O){var L=O.toLowerCase();O!=L&&(aS(this,O),lS(this,L,S))},h)),h.j=E}function uz(h,E){const S=new jc;if(o.Image){const O=new Image;O.onload=m(vs,S,"TestLoadImage: loaded",!0,E,O),O.onerror=m(vs,S,"TestLoadImage: error",!1,E,O),O.onabort=m(vs,S,"TestLoadImage: abort",!1,E,O),O.ontimeout=m(vs,S,"TestLoadImage: timeout",!1,E,O),o.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=h}else E(!1)}function dz(h,E){const S=new jc,O=new AbortController,L=setTimeout(()=>{O.abort(),vs(S,"TestPingServer: timeout",!1,E)},1e4);fetch(h,{signal:O.signal}).then(z=>{clearTimeout(L),z.ok?vs(S,"TestPingServer: ok",!0,E):vs(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(L),vs(S,"TestPingServer: error",!1,E)})}function vs(h,E,S,O,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),O(S)}catch{}}function fz(){this.g=new G5}function hz(h,E,S){const O=S||"";try{nS(h,function(L,z){let H=L;c(L)&&(H=Fy(L)),E.push(O+z+"="+encodeURIComponent(H))})}catch(L){throw E.push(O+"type="+encodeURIComponent("_badmap")),L}}function Mf(h){this.l=h.Ub||null,this.j=h.eb||!1}g(Mf,Uy),Mf.prototype.g=function(){return new Lf(this.l,this.j)},Mf.prototype.i=function(h){return function(){return h}}({});function Lf(h,E){on.call(this),this.D=h,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Lf,on),e=Lf.prototype,e.open=function(h,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=E,this.readyState=1,zc(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(E.body=h),(this.D||o).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$c(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,zc(this)),this.g&&(this.readyState=3,zc(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cS(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function cS(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var E=h.value?h.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!h.done}))&&(this.response=this.responseText+=E)}h.done?$c(this):zc(this),this.readyState==3&&cS(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,$c(this))},e.Qa=function(h){this.g&&(this.response=h,$c(this))},e.ga=function(){this.g&&$c(this)};function $c(h){h.readyState=4,h.l=null,h.j=null,h.v=null,zc(h)}e.setRequestHeader=function(h,E){this.u.append(h,E)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,h.push(S[0]+": "+S[1]),S=E.next();return h.join(`\r
`)};function zc(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Lf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function uS(h){let E="";return N(h,function(S,O){E+=O,E+=":",E+=S,E+=`\r
`}),E}function Jy(h,E,S){e:{for(O in S){var O=!1;break e}O=!0}O||(S=uS(S),typeof h=="string"?S!=null&&encodeURIComponent(String(S)):Xe(h,E,S))}function pt(h){on.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(pt,on);var pz=/^https?$/i,mz=["POST","PUT"];e=pt.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,E,S,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);E=E?E.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ky.g(),this.v=this.o?zT(this.o):zT(Ky),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(E,String(h),!0),this.B=!1}catch(z){dS(this,z);return}if(h=S||"",S=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var L in O)S.set(L,O[L]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const z of O.keys())S.set(z,O.get(z));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(S.keys()).find(z=>z.toLowerCase()=="content-type"),L=o.FormData&&h instanceof o.FormData,!(0<=Array.prototype.indexOf.call(mz,E,void 0))||O||L||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,H]of S)this.g.setRequestHeader(z,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pS(this),this.u=!0,this.g.send(h),this.u=!1}catch(z){dS(this,z)}};function dS(h,E){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=E,h.m=5,fS(h),$f(h)}function fS(h){h.A||(h.A=!0,En(h,"complete"),En(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,En(this,"complete"),En(this,"abort"),$f(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$f(this,!0)),pt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?hS(this):this.bb())},e.bb=function(){hS(this)};function hS(h){if(h.h&&typeof a<"u"&&(!h.v[1]||Ai(h)!=4||h.Z()!=2)){if(h.u&&Ai(h)==4)DT(h.Ea,0,h);else if(En(h,"readystatechange"),Ai(h)==4){h.h=!1;try{const H=h.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var O;if(O=H===0){var L=String(h.D).match(rS)[1]||null;!L&&o.self&&o.self.location&&(L=o.self.location.protocol.slice(0,-1)),O=!pz.test(L?L.toLowerCase():"")}S=O}if(S)En(h,"complete"),En(h,"success");else{h.m=6;try{var z=2<Ai(h)?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.Z()+"]",fS(h)}}finally{$f(h)}}}}function $f(h,E){if(h.g){pS(h);const S=h.g,O=h.v[0]?()=>{}:null;h.g=null,h.v=null,E||En(h,"ready");try{S.onreadystatechange=O}catch{}}}function pS(h){h.I&&(o.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function Ai(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<Ai(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var E=this.g.responseText;return h&&E.indexOf(h)==0&&(E=E.substring(h.length)),H5(E)}};function mS(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function gz(h){const E={};h=(h.g&&2<=Ai(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<h.length;O++){if(x(h[O]))continue;var S=j(h[O]);const L=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const z=E[L]||[];E[L]=z,z.push(S)}T(E,function(O){return O.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vc(h,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[h]||E}function gS(h){this.Aa=0,this.i=[],this.j=new jc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vc("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vc("baseRetryDelayMs",5e3,h),this.cb=Vc("retryDelaySeedMs",1e4,h),this.Wa=Vc("forwardChannelMaxRetries",2,h),this.wa=Vc("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new XT(h&&h.concurrentRequestLimit),this.Da=new fz,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=gS.prototype,e.la=8,e.G=1,e.connect=function(h,E,S,O){Tn(0),this.W=h,this.H=E||{},S&&O!==void 0&&(this.H.OSID=S,this.H.OAID=O),this.F=this.X,this.I=SS(this,null,this.W),Vf(this)};function Zy(h){if(yS(h),h.G==3){var E=h.U++,S=Si(h.I);if(Xe(S,"SID",h.K),Xe(S,"RID",E),Xe(S,"TYPE","terminate"),Fc(h,S),E=new gs(h,h.j,E),E.L=2,E.v=Df(Si(S)),S=!1,o.navigator&&o.navigator.sendBeacon)try{S=o.navigator.sendBeacon(E.v.toString(),"")}catch{}!S&&o.Image&&(new Image().src=E.v,S=!0),S||(E.g=AS(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Of(E)}TS(h)}function zf(h){h.g&&(tv(h),h.g.cancel(),h.g=null)}function yS(h){zf(h),h.u&&(o.clearTimeout(h.u),h.u=null),Ff(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&o.clearTimeout(h.s),h.s=null)}function Vf(h){if(!JT(h.h)&&!h.s){h.s=!0;var E=h.Ga;X||ie(),U||(X(),U=!0),G.add(E,h),h.B=0}}function yz(h,E){return ZT(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=E.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Oc(p(h.Ga,h,E),ES(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const L=new gs(this,this.j,h);let z=this.o;if(this.S&&(z?(z=A(z),C(z,this.S)):z=this.S),this.m!==null||this.O||(L.H=z,z=null),this.P)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var O=this.i[S];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(E+=O,4096<E){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=xS(this,L,E),S=Si(this.I),Xe(S,"RID",h),Xe(S,"CVER",22),this.D&&Xe(S,"X-HTTP-Session-Id",this.D),Fc(this,S),z&&(this.O?E="headers="+encodeURIComponent(String(uS(z)))+"&"+E:this.m&&Jy(S,this.m,z)),Xy(this.h,L),this.Ua&&Xe(S,"TYPE","init"),this.P?(Xe(S,"$req",E),Xe(S,"SID","null"),L.T=!0,Hy(L,S,null)):Hy(L,S,E),this.G=2}}else this.G==3&&(h?vS(this,h):this.i.length==0||JT(this.h)||vS(this))};function vS(h,E){var S;E?S=E.l:S=h.U++;const O=Si(h.I);Xe(O,"SID",h.K),Xe(O,"RID",S),Xe(O,"AID",h.T),Fc(h,O),h.m&&h.o&&Jy(O,h.m,h.o),S=new gs(h,h.j,S,h.B+1),h.m===null&&(S.H=h.o),E&&(h.i=E.D.concat(h.i)),E=xS(h,S,1e3),S.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Xy(h.h,S),Hy(S,O,E)}function Fc(h,E){h.H&&N(h.H,function(S,O){Xe(E,O,S)}),h.l&&nS({},function(S,O){Xe(E,O,S)})}function xS(h,E,S){S=Math.min(h.i.length,S);var O=h.l?p(h.l.Na,h.l,h):null;e:{var L=h.i;let z=-1;for(;;){const H=["count="+S];z==-1?0<S?(z=L[0].g,H.push("ofs="+z)):z=0:H.push("ofs="+z);let Ke=!0;for(let Kt=0;Kt<S;Kt++){let Oe=L[Kt].g;const ln=L[Kt].map;if(Oe-=z,0>Oe)z=Math.max(0,L[Kt].g-100),Ke=!1;else try{hz(ln,H,"req"+Oe+"_")}catch{O&&O(ln)}}if(Ke){O=H.join("&");break e}}}return h=h.i.splice(0,S),E.D=h,O}function wS(h){if(!h.g&&!h.u){h.Y=1;var E=h.Fa;X||ie(),U||(X(),U=!0),G.add(E,h),h.v=0}}function ev(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Oc(p(h.Fa,h),ES(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,bS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Oc(p(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tn(10),zf(this),bS(this))};function tv(h){h.A!=null&&(o.clearTimeout(h.A),h.A=null)}function bS(h){h.g=new gs(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var E=Si(h.qa);Xe(E,"RID","rpc"),Xe(E,"SID",h.K),Xe(E,"AID",h.T),Xe(E,"CI",h.F?"0":"1"),!h.F&&h.ja&&Xe(E,"TO",h.ja),Xe(E,"TYPE","xmlhttp"),Fc(h,E),h.m&&h.o&&Jy(E,h.m,h.o),h.L&&(h.g.I=h.L);var S=h.g;h=h.ia,S.L=1,S.v=Df(Si(E)),S.m=null,S.P=!0,GT(S,h)}e.Za=function(){this.C!=null&&(this.C=null,zf(this),ev(this),Tn(19))};function Ff(h){h.C!=null&&(o.clearTimeout(h.C),h.C=null)}function _S(h,E){var S=null;if(h.g==E){Ff(h),tv(h),h.g=null;var O=2}else if(Yy(h.h,E))S=E.D,eS(h.h,E),O=1;else return;if(h.G!=0){if(E.o)if(O==1){S=E.m?E.m.length:0,E=Date.now()-E.F;var L=h.B;O=kf(),En(O,new qT(O,S)),Vf(h)}else wS(h);else if(L=E.s,L==3||L==0&&0<E.X||!(O==1&&yz(h,E)||O==2&&ev(h)))switch(S&&0<S.length&&(E=h.h,E.i=E.i.concat(S)),L){case 1:Pa(h,5);break;case 4:Pa(h,10);break;case 3:Pa(h,6);break;default:Pa(h,2)}}}function ES(h,E){let S=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(S*=2),S*E}function Pa(h,E){if(h.j.info("Error code "+E),E==2){var S=p(h.fb,h),O=h.Xa;const L=!O;O=new Aa(O||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||jf(O,"https"),Df(O),L?uz(O.toString(),S):dz(O.toString(),S)}else Tn(2);h.G=0,h.l&&h.l.sa(E),TS(h),yS(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Tn(2)):(this.j.info("Failed to ping google.com"),Tn(1))};function TS(h){if(h.G=0,h.ka=[],h.l){const E=tS(h.h);(E.length!=0||h.i.length!=0)&&(b(h.ka,E),b(h.ka,h.i),h.h.i.length=0,y(h.i),h.i.length=0),h.l.ra()}}function SS(h,E,S){var O=S instanceof Aa?Si(S):new Aa(S);if(O.g!="")E&&(O.g=E+"."+O.g),Rf(O,O.s);else{var L=o.location;O=L.protocol,E=E?E+"."+L.hostname:L.hostname,L=+L.port;var z=new Aa(null);O&&jf(z,O),E&&(z.g=E),L&&Rf(z,L),S&&(z.l=S),O=z}return S=h.D,E=h.ya,S&&E&&Xe(O,S,E),Xe(O,"VER",h.la),Fc(h,O),O}function AS(h,E,S){if(E&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=h.Ca&&!h.pa?new pt(new Mf({eb:S})):new pt(h.pa),E.Ha(h.J),E}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function PS(){}e=PS.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Uf(){}Uf.prototype.g=function(h,E){return new Wn(h,E)};function Wn(h,E){on.call(this),this.g=new gS(E),this.l=h,this.h=E&&E.messageUrlParams||null,h=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(h?h["X-WebChannel-Content-Type"]=E.messageContentType:h={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(h?h["X-WebChannel-Client-Profile"]=E.va:h={"X-WebChannel-Client-Profile":E.va}),this.g.S=h,(h=E&&E.Sb)&&!x(h)&&(this.g.m=h),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!x(E)&&(this.g.D=E,h=this.h,h!==null&&E in h&&(h=this.h,E in h&&delete h[E])),this.j=new zo(this)}g(Wn,on),Wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wn.prototype.close=function(){Zy(this.g)},Wn.prototype.o=function(h){var E=this.g;if(typeof h=="string"){var S={};S.__data__=h,h=S}else this.u&&(S={},S.__data__=Fy(h),h=S);E.i.push(new ez(E.Ya++,h)),E.G==3&&Vf(E)},Wn.prototype.N=function(){this.g.l=null,delete this.j,Zy(this.g),delete this.g,Wn.aa.N.call(this)};function IS(h){By.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var E=h.__sm__;if(E){e:{for(const S in E){h=S;break e}h=void 0}(this.i=h)&&(h=this.i,E=E!==null&&h in E?E[h]:void 0),this.data=E}else this.data=h}g(IS,By);function kS(){qy.call(this),this.status=1}g(kS,qy);function zo(h){this.g=h}g(zo,PS),zo.prototype.ua=function(){En(this.g,"a")},zo.prototype.ta=function(h){En(this.g,new IS(h))},zo.prototype.sa=function(h){En(this.g,new kS)},zo.prototype.ra=function(){En(this.g,"b")},Uf.prototype.createWebChannel=Uf.prototype.g,Wn.prototype.send=Wn.prototype.o,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,J2=function(){return new Uf},X2=function(){return kf()},Y2=Ta,Mx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cf.NO_ERROR=0,Cf.TIMEOUT=8,Cf.HTTP_ERROR=6,Bh=Cf,KT.COMPLETE="complete",Q2=KT,VT.EventType=Cc,Cc.OPEN="a",Cc.CLOSE="b",Cc.ERROR="c",Cc.MESSAGE="d",on.prototype.listen=on.prototype.K,mu=VT,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,G2=pt}).apply(typeof lh<"u"?lh:typeof self<"u"?self:typeof window<"u"?window:{});const AP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new xg("@firebase/firestore");function Jc(){return oo.logLevel}function re(e,...t){if(oo.logLevel<=Ae.DEBUG){const n=t.map(P_);oo.debug(`Firestore (${pc}): ${e}`,...n)}}function ts(e,...t){if(oo.logLevel<=Ae.ERROR){const n=t.map(P_);oo.error(`Firestore (${pc}): ${e}`,...n)}}function Vl(e,...t){if(oo.logLevel<=Ae.WARN){const n=t.map(P_);oo.warn(`Firestore (${pc}): ${e}`,...n)}}function P_(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(e="Unexpected state"){const t=`FIRESTORE (${pc}) INTERNAL ASSERTION FAILED: `+e;throw ts(t),new Error(t)}function Fe(e,t){e||ge()}function ve(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends ei{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class W7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(mn.UNAUTHENTICATED))}shutdown(){}}class H7{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class G7{constructor(t){this.t=t,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Fe(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Bi,t.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Bi)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new Z2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Fe(t===null||typeof t=="string"),new mn(t)}}class Q7{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Y7{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new Q7(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class X7{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J7{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){Fe(this.o===void 0);const r=s=>{s.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,re("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new X7(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=Z7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function je(e,t){return e<t?-1:e>t?1:0}function Fl(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Nt.fromMillis(Date.now())}static fromDate(t){return Nt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Nt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?je(this.nanoseconds,t.nanoseconds):je(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ye(t)}static min(){return new ye(new Nt(0,0))}static max(){return new ye(new Nt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(t,n,r){n===void 0?n=0:n>t.length&&ge(),r===void 0?r=t.length-n:r>t.length-n&&ge(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return ud.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ud?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class tt extends ud{construct(t,n,r){return new tt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Y(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const eq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends ud{construct(t,n,r){return new Xt(t,n,r)}static isValidIdentifier(t){return eq.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xt(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<t.length;){const o=t[i];if(o==="\\"){if(i+1===t.length)throw new Y(F.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new Y(F.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t){this.path=t}static fromPath(t){return new le(tt.fromString(t))}static fromName(t){return new le(tt.fromString(t).popFirst(5))}static empty(){return new le(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&tt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return tt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new le(new tt(t.slice()))}}function tq(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new Nt(n+1,0):new Nt(n,r));return new ia(i,le.empty(),t)}function nq(e){return new ia(e.readTime,e.key,-1)}class ia{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new ia(ye.min(),le.empty(),-1)}static max(){return new ia(ye.max(),le.empty(),-1)}}function rq(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=le.comparator(e.documentKey,t.documentKey),n!==0?n:je(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yd(e){if(e.code!==F.FAILED_PRECONDITION||e.message!==iq)throw e;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):q.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):q.reject(n)}static resolve(t){return new q((n,r)=>{n(t)})}static reject(t){return new q((n,r)=>{r(t)})}static waitFor(t){return new q((n,r)=>{let i=0,s=0,a=!1;t.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},l=>r(l))}),a=!0,s===i&&n()})}static or(t){let n=q.resolve(!1);for(const r of t)n=n.next(i=>i?q.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new q((r,i)=>{const s=t.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;n(t[c]).next(u=>{a[c]=u,++o,o===s&&r(a)},u=>i(u))}})}static doWhile(t,n){return new q((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function aq(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xd(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}I_.oe=-1;function wg(e){return e==null}function Rp(e){return e===0&&1/e==-1/0}function oq(e){return typeof e=="number"&&Number.isInteger(e)&&!Rp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Po(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function tD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t,n){this.comparator=t,this.root=n||Gt.EMPTY}insert(t,n){return new ft(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(t){return new ft(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ch(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ch(this.root,t,this.comparator,!1)}getReverseIterator(){return new ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ch(this.root,t,this.comparator,!0)}}class ch{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Gt{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Gt.RED,this.left=i??Gt.EMPTY,this.right=s??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Gt(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Gt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const t=this.left.check();if(t!==this.right.check())throw ge();return t+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(t,n,r,i,s){return this}insert(t,n,r){return new Gt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.comparator=t,this.data=new ft(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new IP(this.data.getIterator())}getIteratorFrom(t){return new IP(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof en)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new en(this.comparator);return n.data=t,n}}class IP{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t){this.fields=t,t.sort(Xt.comparator)}static empty(){return new tr([])}unionWith(t){let n=new en(Xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new tr(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Fl(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new nD("Invalid base64 string: "+s):s}}(t);return new nn(n)}static fromUint8Array(t){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(t);return new nn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return je(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const lq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sa(e){if(Fe(!!e),typeof e=="string"){let t=0;const n=lq.exec(e);if(Fe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:yt(e.seconds),nanos:yt(e.nanos)}}function yt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function lo(e){return typeof e=="string"?nn.fromBase64String(e):nn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function C_(e){const t=e.mapValue.fields.__previous_value__;return k_(t)?C_(t):t}function dd(e){const t=sa(e.mapValue.fields.__local_write_time__.timestampValue);return new Nt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(t,n,r,i,s,a,o,l,c){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c}}class fd{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new fd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof fd&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh={mapValue:{}};function co(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?k_(e)?4:dq(e)?9007199254740991:uq(e)?10:11:ge()}function gi(e,t){if(e===t)return!0;const n=co(e);if(n!==co(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return dd(e).isEqual(dd(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=sa(i.timestampValue),o=sa(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return lo(i.bytesValue).isEqual(lo(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return yt(i.geoPointValue.latitude)===yt(s.geoPointValue.latitude)&&yt(i.geoPointValue.longitude)===yt(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return yt(i.integerValue)===yt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=yt(i.doubleValue),o=yt(s.doubleValue);return a===o?Rp(a)===Rp(o):isNaN(a)&&isNaN(o)}return!1}(e,t);case 9:return Fl(e.arrayValue.values||[],t.arrayValue.values||[],gi);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(PP(a)!==PP(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!gi(a[l],o[l])))return!1;return!0}(e,t);default:return ge()}}function hd(e,t){return(e.values||[]).find(n=>gi(n,t))!==void 0}function Ul(e,t){if(e===t)return 0;const n=co(e),r=co(t);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(e.booleanValue,t.booleanValue);case 2:return function(s,a){const o=yt(s.integerValue||s.doubleValue),l=yt(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return kP(e.timestampValue,t.timestampValue);case 4:return kP(dd(e),dd(t));case 5:return je(e.stringValue,t.stringValue);case 6:return function(s,a){const o=lo(s),l=lo(a);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=je(o[c],l[c]);if(u!==0)return u}return je(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const o=je(yt(s.latitude),yt(a.latitude));return o!==0?o:je(yt(s.longitude),yt(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return CP(e.arrayValue,t.arrayValue);case 10:return function(s,a){var o,l,c,u;const f=s.fields||{},p=a.fields||{},m=(o=f.value)===null||o===void 0?void 0:o.arrayValue,g=(l=p.value)===null||l===void 0?void 0:l.arrayValue,y=je(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:CP(m,g)}(e.mapValue,t.mapValue);case 11:return function(s,a){if(s===uh.mapValue&&a===uh.mapValue)return 0;if(s===uh.mapValue)return 1;if(a===uh.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const p=je(l[f],u[f]);if(p!==0)return p;const m=Ul(o[l[f]],c[u[f]]);if(m!==0)return m}return je(l.length,u.length)}(e.mapValue,t.mapValue);default:throw ge()}}function kP(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return je(e,t);const n=sa(e),r=sa(t),i=je(n.seconds,r.seconds);return i!==0?i:je(n.nanos,r.nanos)}function CP(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ul(n[i],r[i]);if(s)return s}return je(n.length,r.length)}function Bl(e){return Lx(e)}function Lx(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=sa(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return lo(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return le.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Lx(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${Lx(n.fields[a])}`;return i+"}"}(e.mapValue):ge()}function NP(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function $x(e){return!!e&&"integerValue"in e}function N_(e){return!!e&&"arrayValue"in e}function OP(e){return!!e&&"nullValue"in e}function jP(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function qh(e){return!!e&&"mapValue"in e}function uq(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Cu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Po(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Cu(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Cu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function dq(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.value=t}static empty(){return new Ln({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!qh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cu(n)}setAll(t){let n=Xt.emptyPath(),r={},i=[];t.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=Cu(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());qh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return gi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];qh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Po(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Ln(Cu(this.value))}}function rD(e){const t=[];return Po(e.fields,(n,r)=>{const i=new Xt([n]);if(qh(r)){const s=rD(r.mapValue).fields;if(s.length===0)t.push(i);else for(const a of s)t.push(i.child(a))}else t.push(i)}),new tr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t,n,r,i,s,a,o){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(t){return new yn(t,0,ye.min(),ye.min(),ye.min(),Ln.empty(),0)}static newFoundDocument(t,n,r,i){return new yn(t,1,n,ye.min(),r,i,0)}static newNoDocument(t,n){return new yn(t,2,n,ye.min(),ye.min(),Ln.empty(),0)}static newUnknownDocument(t,n){return new yn(t,3,n,ye.min(),ye.min(),Ln.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof yn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(t,n){this.position=t,this.inclusive=n}}function RP(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(s.field.isKeyField()?r=le.comparator(le.fromName(a.referenceValue),n.key):r=Ul(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function DP(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!gi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(t,n="asc"){this.field=t,this.dir=n}}function fq(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{}class St extends iD{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new pq(t,n,r):n==="array-contains"?new yq(t,r):n==="in"?new vq(t,r):n==="not-in"?new xq(t,r):n==="array-contains-any"?new wq(t,r):new St(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new mq(t,r):new gq(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ul(n,this.value)):n!==null&&co(this.value)===co(n)&&this.matchesComparison(Ul(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yr extends iD{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new Yr(t,n)}matches(t){return sD(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sD(e){return e.op==="and"}function aD(e){return hq(e)&&sD(e)}function hq(e){for(const t of e.filters)if(t instanceof Yr)return!1;return!0}function zx(e){if(e instanceof St)return e.field.canonicalString()+e.op.toString()+Bl(e.value);if(aD(e))return e.filters.map(t=>zx(t)).join(",");{const t=e.filters.map(n=>zx(n)).join(",");return`${e.op}(${t})`}}function oD(e,t){return e instanceof St?function(r,i){return i instanceof St&&r.op===i.op&&r.field.isEqual(i.field)&&gi(r.value,i.value)}(e,t):e instanceof Yr?function(r,i){return i instanceof Yr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&oD(a,i.filters[o]),!0):!1}(e,t):void ge()}function lD(e){return e instanceof St?function(n){return`${n.field.canonicalString()} ${n.op} ${Bl(n.value)}`}(e):e instanceof Yr?function(n){return n.op.toString()+" {"+n.getFilters().map(lD).join(" ,")+"}"}(e):"Filter"}class pq extends St{constructor(t,n,r){super(t,n,r),this.key=le.fromName(r.referenceValue)}matches(t){const n=le.comparator(t.key,this.key);return this.matchesComparison(n)}}class mq extends St{constructor(t,n){super(t,"in",n),this.keys=cD("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class gq extends St{constructor(t,n){super(t,"not-in",n),this.keys=cD("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function cD(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class yq extends St{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return N_(n)&&hd(n.arrayValue,this.value)}}class vq extends St{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&hd(this.value.arrayValue,n)}}class xq extends St{constructor(t,n){super(t,"not-in",n)}matches(t){if(hd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!hd(this.value.arrayValue,n)}}class wq extends St{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!N_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(t,n=null,r=[],i=[],s=null,a=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function MP(e,t=null,n=[],r=[],i=null,s=null,a=null){return new bq(e,t,n,r,i,s,a)}function O_(e){const t=ve(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>zx(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),wg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Bl(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Bl(r)).join(",")),t.ue=n}return t.ue}function j_(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!fq(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!oD(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!DP(e.startAt,t.startAt)&&DP(e.endAt,t.endAt)}function Vx(e){return le.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(t,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function _q(e,t,n,r,i,s,a,o){return new mc(e,t,n,r,i,s,a,o)}function R_(e){return new mc(e)}function LP(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function uD(e){return e.collectionGroup!==null}function Nu(e){const t=ve(e);if(t.ce===null){t.ce=[];const n=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new en(Xt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.ce.push(new pd(s,r))}),n.has(Xt.keyField().canonicalString())||t.ce.push(new pd(Xt.keyField(),r))}return t.ce}function di(e){const t=ve(e);return t.le||(t.le=Eq(t,Nu(e))),t.le}function Eq(e,t){if(e.limitType==="F")return MP(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new pd(i.field,s)});const n=e.endAt?new Dp(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Dp(e.startAt.position,e.startAt.inclusive):null;return MP(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Fx(e,t){const n=e.filters.concat([t]);return new mc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Mp(e,t,n){return new mc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bg(e,t){return j_(di(e),di(t))&&e.limitType===t.limitType}function dD(e){return`${O_(di(e))}|lt:${e.limitType}`}function Qo(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>lD(i)).join(", ")}]`),wg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Bl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Bl(i)).join(",")),`Target(${r})`}(di(e))}; limitType=${e.limitType})`}function _g(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):le.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of Nu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(a,o,l){const c=RP(a,o,l);return a.inclusive?c<=0:c<0}(r.startAt,Nu(r),i)||r.endAt&&!function(a,o,l){const c=RP(a,o,l);return a.inclusive?c>=0:c>0}(r.endAt,Nu(r),i))}(e,t)}function Tq(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function fD(e){return(t,n)=>{let r=!1;for(const i of Nu(e)){const s=Sq(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Sq(e,t,n){const r=e.field.isKeyField()?le.comparator(t.key,n.key):function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?Ul(l,c):ge()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Po(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return tD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aq=new ft(le.comparator);function ns(){return Aq}const hD=new ft(le.comparator);function gu(...e){let t=hD;for(const n of e)t=t.insert(n.key,n);return t}function pD(e){let t=hD;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function za(){return Ou()}function mD(){return Ou()}function Ou(){return new gc(e=>e.toString(),(e,t)=>e.isEqual(t))}const Pq=new ft(le.comparator),Iq=new en(le.comparator);function Te(...e){let t=Iq;for(const n of e)t=t.add(n);return t}const kq=new en(je);function Cq(){return kq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rp(t)?"-0":t}}function gD(e){return{integerValue:""+e}}function yD(e,t){return oq(t)?gD(t):D_(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(){this._=void 0}}function Nq(e,t,n){return e instanceof md?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&k_(s)&&(s=C_(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,t):e instanceof ql?xD(e,t):e instanceof Kl?wD(e,t):function(i,s){const a=vD(i,s),o=$P(a)+$P(i.Pe);return $x(a)&&$x(i.Pe)?gD(o):D_(i.serializer,o)}(e,t)}function Oq(e,t,n){return e instanceof ql?xD(e,t):e instanceof Kl?wD(e,t):n}function vD(e,t){return e instanceof gd?function(r){return $x(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class md extends Eg{}class ql extends Eg{constructor(t){super(),this.elements=t}}function xD(e,t){const n=bD(t);for(const r of e.elements)n.some(i=>gi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Kl extends Eg{constructor(t){super(),this.elements=t}}function wD(e,t){let n=bD(t);for(const r of e.elements)n=n.filter(i=>!gi(i,r));return{arrayValue:{values:n}}}class gd extends Eg{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function $P(e){return yt(e.integerValue||e.doubleValue)}function bD(e){return N_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(t,n){this.field=t,this.transform=n}}function jq(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof ql&&i instanceof ql||r instanceof Kl&&i instanceof Kl?Fl(r.elements,i.elements,gi):r instanceof gd&&i instanceof gd?gi(r.Pe,i.Pe):r instanceof md&&i instanceof md}(e.transform,t.transform)}class Rq{constructor(t,n){this.version=t,this.transformResults=n}}class Sr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Sr}static exists(t){return new Sr(void 0,t)}static updateTime(t){return new Sr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Kh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Sg{}function _D(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new M_(e.key,Sr.none()):new Jd(e.key,e.data,Sr.none());{const n=e.data,r=Ln.empty();let i=new en(Xt.comparator);for(let s of t.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new ha(e.key,r,new tr(i.toArray()),Sr.none())}}function Dq(e,t,n){e instanceof Jd?function(i,s,a){const o=i.value.clone(),l=VP(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(e,t,n):e instanceof ha?function(i,s,a){if(!Kh(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=VP(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(ED(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function ju(e,t,n,r){return e instanceof Jd?function(s,a,o,l){if(!Kh(s.precondition,a))return o;const c=s.value.clone(),u=FP(s.fieldTransforms,l,a);return c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(e,t,n,r):e instanceof ha?function(s,a,o,l){if(!Kh(s.precondition,a))return o;const c=FP(s.fieldTransforms,l,a),u=a.data;return u.setAll(ED(s)),u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(s,a,o){return Kh(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(e,t,n)}function Mq(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=vD(r.transform,i||null);s!=null&&(n===null&&(n=Ln.empty()),n.set(r.field,s))}return n||null}function zP(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fl(r,i,(s,a)=>jq(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Jd extends Sg{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ha extends Sg{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ED(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function VP(e,t,n){const r=new Map;Fe(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Oq(a,o,n[i]))}return r}function FP(e,t,n){const r=new Map;for(const i of e){const s=i.transform,a=n.data.field(i.field);r.set(i.field,Nq(s,a,t))}return r}class M_ extends Sg{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lq extends Sg{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&Dq(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=ju(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=ju(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=mD();return this.mutations.forEach(i=>{const s=t.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=_D(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Te())}isEqual(t){return this.batchId===t.batchId&&Fl(this.mutations,t.mutations,(n,r)=>zP(n,r))&&Fl(this.baseMutations,t.baseMutations,(n,r)=>zP(n,r))}}class L_{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Fe(t.mutations.length===r.length);let i=function(){return Pq}();const s=t.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new L_(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Ie;function Fq(e){switch(e){default:return ge();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function TD(e){if(e===void 0)return ts("GRPC error has no .code"),F.UNKNOWN;switch(e){case _t.OK:return F.OK;case _t.CANCELLED:return F.CANCELLED;case _t.UNKNOWN:return F.UNKNOWN;case _t.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case _t.INTERNAL:return F.INTERNAL;case _t.UNAVAILABLE:return F.UNAVAILABLE;case _t.UNAUTHENTICATED:return F.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case _t.NOT_FOUND:return F.NOT_FOUND;case _t.ALREADY_EXISTS:return F.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return F.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case _t.ABORTED:return F.ABORTED;case _t.OUT_OF_RANGE:return F.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return F.UNIMPLEMENTED;case _t.DATA_LOSS:return F.DATA_LOSS;default:return ge()}}(Ie=_t||(_t={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq=new Qa([4294967295,4294967295],0);function UP(e){const t=Uq().encode(e),n=new H2;return n.update(t),new Uint8Array(n.digest())}function BP(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Qa([n,r],0),new Qa([i,s],0)]}class $_{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yu(`Invalid padding: ${n}`);if(r<0)throw new yu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new yu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=Qa.fromNumber(this.Ie)}Ee(t,n,r){let i=t.add(n.multiply(Qa.fromNumber(r)));return i.compare(Bq)===1&&(i=new Qa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=UP(t),[r,i]=BP(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new $_(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(t){if(this.Ie===0)return;const n=UP(t),[r,i]=BP(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Zd.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Ag(ye.min(),i,new ft(je),ns(),Te())}}class Zd{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Zd(r,n,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(t,n,r,i){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=i}}class SD{constructor(t,n){this.targetId=t,this.me=n}}class AD{constructor(t,n,r=nn.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class qP{constructor(){this.fe=0,this.ge=WP(),this.pe=nn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Te(),n=Te(),r=Te();return this.ge.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new Zd(this.pe,this.ye,t,n,r)}Ce(){this.we=!1,this.ge=WP()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class qq{constructor(t){this.Le=t,this.Be=new Map,this.ke=ns(),this.qe=KP(),this.Qe=new ft(je)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const r=this.Ge(n);switch(t.state){case 0:this.ze(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(t.resumeToken));break;default:ge()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(t){const n=t.targetId,r=t.me.count,i=this.Je(n);if(i){const s=i.target;if(Vx(s))if(r===0){const a=new le(s.path);this.Ue(n,a,yn.newNoDocument(a,ye.min()))}else Fe(r===1);else{const a=this.Ye(n);if(a!==r){const o=this.Ze(t),l=o?this.Xe(o,t,a):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=lo(r).toUint8Array()}catch(l){if(l instanceof nD)return Vl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new $_(a,i,s)}catch(l){return Vl(l instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(t,n,r){return n.me.count===r-this.nt(t,n.targetId)?0:2}nt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(o)||(this.Ue(n,s,null),i++)}),i}rt(t){const n=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&Vx(o.target)){const l=new le(o.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,yn.newNoDocument(l,t))}s.be&&(n.set(a,s.ve()),s.Ce())}});let r=Te();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(t));const i=new Ag(t,n,this.Qe,this.ke,r);return this.ke=ns(),this.qe=KP(),this.Qe=new ft(je),i}$e(t,n){if(!this.ze(t))return;const r=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,r){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new qP,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new en(je),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||re("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new qP),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function KP(){return new ft(le.comparator)}function WP(){return new ft(le.comparator)}const Kq={asc:"ASCENDING",desc:"DESCENDING"},Wq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hq={and:"AND",or:"OR"};class Gq{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ux(e,t){return e.useProto3Json||wg(t)?t:{value:t}}function Lp(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function PD(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Qq(e,t){return Lp(e,t.toTimestamp())}function fi(e){return Fe(!!e),ye.fromTimestamp(function(n){const r=sa(n);return new Nt(r.seconds,r.nanos)}(e))}function z_(e,t){return Bx(e,t).canonicalString()}function Bx(e,t){const n=function(i){return new tt(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function ID(e){const t=tt.fromString(e);return Fe(jD(t)),t}function qx(e,t){return z_(e.databaseId,t.path)}function Kv(e,t){const n=ID(t);if(n.get(1)!==e.databaseId.projectId)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new le(CD(n))}function kD(e,t){return z_(e.databaseId,t)}function Yq(e){const t=ID(e);return t.length===4?tt.emptyPath():CD(t)}function Kx(e){return new tt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function CD(e){return Fe(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function HP(e,t,n){return{name:qx(e,t),fields:n.value.mapValue.fields}}function Xq(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ge()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(Fe(u===void 0||typeof u=="string"),nn.fromBase64String(u||"")):(Fe(u===void 0||u instanceof Buffer||u instanceof Uint8Array),nn.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(c){const u=c.code===void 0?F.UNKNOWN:TD(c.code);return new Y(u,c.message||"")}(a);n=new AD(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Kv(e,r.document.name),s=fi(r.document.updateTime),a=r.document.createTime?fi(r.document.createTime):ye.min(),o=new Ln({mapValue:{fields:r.document.fields}}),l=yn.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Wh(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Kv(e,r.document),s=r.readTime?fi(r.readTime):ye.min(),a=yn.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Wh([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Kv(e,r.document),s=r.removedTargetIds||[];n=new Wh([],s,i,null)}else{if(!("filter"in t))return ge();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new Vq(i,s),o=r.targetId;n=new SD(o,a)}}return n}function Jq(e,t){let n;if(t instanceof Jd)n={update:HP(e,t.key,t.value)};else if(t instanceof M_)n={delete:qx(e,t.key)};else if(t instanceof ha)n={update:HP(e,t.key,t.data),updateMask:oK(t.fieldMask)};else{if(!(t instanceof Lq))return ge();n={verify:qx(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof md)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ql)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Kl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof gd)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw ge()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Qq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ge()}(e,t.precondition)),n}function Zq(e,t){return e&&e.length>0?(Fe(t!==void 0),e.map(n=>function(i,s){let a=i.updateTime?fi(i.updateTime):fi(s);return a.isEqual(ye.min())&&(a=fi(s)),new Rq(a,i.transformResults||[])}(n,t))):[]}function eK(e,t){return{documents:[kD(e,t.path)]}}function tK(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kD(e,i);const s=function(c){if(c.length!==0)return OD(Yr.create(c,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:Yo(p.field),direction:iK(p.dir)}}(u))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Ux(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{_t:n,parent:i}}function nK(e){let t=Yq(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Fe(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:t=t.child(u.collectionId)}let s=[];n.where&&(s=function(f){const p=ND(f);return p instanceof Yr&&aD(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(p=>function(g){return new pd(Xo(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(n.orderBy));let o=null;n.limit&&(o=function(f){let p;return p=typeof f=="object"?f.value:f,wg(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new Dp(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,m=f.values||[];return new Dp(m,p)}(n.endAt)),_q(t,i,a,s,o,"F",l,c)}function rK(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function ND(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xo(n.unaryFilter.field);return St.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xo(n.unaryFilter.field);return St.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Xo(n.unaryFilter.field);return St.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Xo(n.unaryFilter.field);return St.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(e):e.fieldFilter!==void 0?function(n){return St.create(Xo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Yr.create(n.compositeFilter.filters.map(r=>ND(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(e):ge()}function iK(e){return Kq[e]}function sK(e){return Wq[e]}function aK(e){return Hq[e]}function Yo(e){return{fieldPath:e.canonicalString()}}function Xo(e){return Xt.fromServerFormat(e.fieldPath)}function OD(e){return e instanceof St?function(n){if(n.op==="=="){if(jP(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NAN"}};if(OP(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jP(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NAN"}};if(OP(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(n.field),op:sK(n.op),value:n.value}}}(e):e instanceof Yr?function(n){const r=n.getFilters().map(i=>OD(i));return r.length===1?r[0]:{compositeFilter:{op:aK(n.op),filters:r}}}(e):ge()}function oK(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function jD(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(t,n,r,i,s=ye.min(),a=ye.min(),o=nn.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new Ms(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(t){this.ct=t}}function cK(e){const t=nK({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Mp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(){this.un=new dK}addToCollectionParentIndex(t,n){return this.un.add(n),q.resolve()}getCollectionParents(t,n){return q.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return q.resolve()}deleteFieldIndex(t,n){return q.resolve()}deleteAllFieldIndexes(t){return q.resolve()}createTargetIndexes(t,n){return q.resolve()}getDocumentsMatchingTarget(t,n){return q.resolve(null)}getIndexType(t,n){return q.resolve(0)}getFieldIndexes(t,n){return q.resolve([])}getNextCollectionGroupToUpdate(t){return q.resolve(null)}getMinOffset(t,n){return q.resolve(ia.min())}getMinOffsetFromCollectionGroup(t,n){return q.resolve(ia.min())}updateCollectionGroup(t,n,r){return q.resolve()}updateIndexEntries(t,n){return q.resolve()}}class dK{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new en(tt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new en(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Wl(0)}static kn(){return new Wl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(){this.changes=new gc(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,yn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hK{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&ju(r.mutation,i,tr.empty(),Nt.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Te()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Te()){const i=za();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let a=gu();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const r=za();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Te()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(t,n,r,i){let s=ns();const a=Ou(),o=function(){return Ou()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof ha)?s=s.insert(c.key,c):u!==void 0?(a.set(c.key,u.mutation.getFieldMask()),ju(u.mutation,c,u.mutation.getFieldMask(),Nt.now())):a.set(c.key,tr.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((c,u)=>a.set(c,u)),n.forEach((c,u)=>{var f;return o.set(c,new hK(u,(f=a.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(t,n){const r=Ou();let i=new ft((a,o)=>a-o),s=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||tr.empty();u=o.applyToLocalView(c,u),r.set(l,u);const f=(i.get(o.batchId)||Te()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=mD();u.forEach(p=>{if(!s.has(p)){const m=_D(n.get(p),r.get(p));m!==null&&f.set(p,m),s=s.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(t,c,f))}return q.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(a){return le.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):uD(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):q.resolve(za());let o=-1,l=s;return a.next(c=>q.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(u)?q.resolve():this.remoteDocumentCache.getEntry(t,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,l,c,Te())).next(u=>({batchId:o,changes:pD(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new le(n)).next(r=>{let i=gu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let a=gu();return this.indexManager.getCollectionParents(t,s).next(o=>q.forEach(o,l=>{const c=function(f,p){return new mc(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,c,r,i).next(u=>{u.forEach((f,p)=>{a=a.insert(f,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(a=>{s.forEach((l,c)=>{const u=c.getKey();a.get(u)===null&&(a=a.insert(u,yn.newInvalidDocument(u)))});let o=gu();return a.forEach((l,c)=>{const u=s.get(l);u!==void 0&&ju(u.mutation,c,tr.empty(),Nt.now()),_g(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mK{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return q.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fi(i.createTime)}}(n)),q.resolve()}getNamedQuery(t,n){return q.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:cK(i.bundledQuery),readTime:fi(i.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK{constructor(){this.overlays=new ft(le.comparator),this.Ir=new Map}getOverlay(t,n){return q.resolve(this.overlays.get(n))}getOverlays(t,n){const r=za();return q.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.ht(t,n,s)}),q.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),q.resolve()}getOverlaysForCollection(t,n,r){const i=za(),s=n.length+1,a=new le(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return q.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new ft((c,u)=>c-u);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=za(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=za(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=i)););return q.resolve(o)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new zq(n,r));let s=this.Ir.get(n);s===void 0&&(s=Te(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yK{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return q.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(){this.Tr=new en(Dt.Er),this.dr=new en(Dt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const r=new Dt(t,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Vr(new Dt(t,n))}mr(t,n){t.forEach(r=>this.removeReference(r,n))}gr(t){const n=new le(new tt([])),r=new Dt(n,t),i=new Dt(n,t+1),s=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new le(new tt([])),r=new Dt(n,t),i=new Dt(n,t+1);let s=Te();return this.dr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new Dt(t,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Dt{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return le.comparator(t.key,n.key)||je(t.wr,n.wr)}static Ar(t,n){return je(t.wr,n.wr)||le.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vK{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new en(Dt.Er)}checkEmpty(t){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new $q(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new Dt(o.key,s)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return q.resolve(a)}lookupMutationBatch(t,n){return q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Dt(n,0),i=new Dt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],a=>{const o=this.Dr(a.wr);s.push(o)}),q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new en(je);return n.forEach(i=>{const s=new Dt(i,0),a=new Dt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{r=r.add(o.wr)})}),q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;le.isDocumentKey(s)||(s=s.child(""));const a=new Dt(new le(s),0);let o=new en(je);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.wr)),!0)},a),q.resolve(this.Cr(o))}Cr(t){const n=[];return t.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Fe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return q.forEach(n.mutations,i=>{const s=new Dt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.br=r})}On(t){}containsKey(t,n){const r=new Dt(n,0),i=this.br.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,q.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xK{constructor(t){this.Mr=t,this.docs=function(){return new ft(le.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(t,n){let r=ns();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yn.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=ns();const a=n.path,o=new le(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||rq(nq(u),r)<=0||(i.has(u.key)||_g(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return q.resolve(s)}getAllFromCollectionGroup(t,n,r,i){ge()}Or(t,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new wK(this)}getSize(t){return q.resolve(this.size)}}class wK extends fK{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(t,i)):this.cr.removeEntry(r)}),q.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bK{constructor(t){this.persistence=t,this.Nr=new gc(n=>O_(n),j_),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Lr=0,this.Br=new V_,this.targetCount=0,this.kr=Wl.Bn()}forEachTarget(t,n){return this.Nr.forEach((r,i)=>n(i)),q.resolve()}getLastRemoteSnapshotVersion(t){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return q.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),q.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new Wl(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,q.resolve()}updateTargetData(t,n){return this.Kn(n),q.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),q.waitFor(s).next(()=>i)}getTargetCount(t){return q.resolve(this.targetCount)}getTargetData(t,n){const r=this.Nr.get(n)||null;return q.resolve(r)}addMatchingKeys(t,n,r){return this.Br.Rr(n,r),q.resolve()}removeMatchingKeys(t,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(t,a))}),q.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),q.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Br.yr(n);return q.resolve(r)}containsKey(t,n){return q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{constructor(t,n){this.qr={},this.overlays={},this.Qr=new I_(0),this.Kr=!1,this.Kr=!0,this.$r=new yK,this.referenceDelegate=t(this),this.Ur=new bK(this),this.indexManager=new uK,this.remoteDocumentCache=function(i){return new xK(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new lK(n),this.Gr=new mK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new gK,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.qr[t.toKey()];return r||(r=new vK(n,this.referenceDelegate),this.qr[t.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,r){re("MemoryPersistence","Starting transaction:",t);const i=new EK(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(t,n){return q.or(Object.values(this.qr).map(r=>()=>r.containsKey(t,n)))}}class EK extends sq{constructor(t){super(),this.currentSequenceNumber=t}}class F_{constructor(t){this.persistence=t,this.Jr=new V_,this.Yr=null}static Zr(t){return new F_(t)}get Xr(){if(this.Yr)return this.Yr;throw ge()}addReference(t,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),q.resolve()}removeReference(t,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),q.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Xr,r=>{const i=le.fromPath(r);return this.ei(t,i).next(s=>{s||n.removeEntry(i,ye.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return q.or([()=>q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(t,n){let r=Te(),i=Te();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new U_(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SK{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return P8()?8:aq(bn())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.Yi(t,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(t,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new TK;return this.Xi(t,n,a).next(o=>{if(s.result=o,this.zi)return this.es(t,n,a,o.size)})}).next(()=>s.result)}es(t,n,r,i){return r.documentReadCount<this.ji?(Jc()<=Ae.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Qo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),q.resolve()):(Jc()<=Ae.DEBUG&&re("QueryEngine","Query:",Qo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Jc()<=Ae.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Qo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,di(n))):q.resolve())}Yi(t,n){if(LP(n))return q.resolve(null);let r=di(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Mp(n,null,"F"),r=di(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const a=Te(...s);return this.Ji.getDocuments(t,a).next(o=>this.indexManager.getMinOffset(t,r).next(l=>{const c=this.ts(n,o);return this.ns(n,c,a,l.readTime)?this.Yi(t,Mp(n,null,"F")):this.rs(t,c,n,l)}))})))}Zi(t,n,r,i){return LP(n)||i.isEqual(ye.min())?q.resolve(null):this.Ji.getDocuments(t,r).next(s=>{const a=this.ts(n,s);return this.ns(n,a,r,i)?q.resolve(null):(Jc()<=Ae.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qo(n)),this.rs(t,a,n,tq(i,-1)).next(o=>o))})}ts(t,n){let r=new en(fD(t));return n.forEach((i,s)=>{_g(t,s)&&(r=r.add(s))}),r}ns(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(t,n,r){return Jc()<=Ae.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Qo(n)),this.Ji.getDocumentsMatchingQuery(t,n,ia.min(),r)}rs(t,n,r,i){return this.Ji.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AK{constructor(t,n,r,i){this.persistence=t,this.ss=n,this.serializer=i,this.os=new ft(je),this._s=new gc(s=>O_(s),j_),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(r)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new pK(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function PK(e,t,n,r){return new AK(e,t,n,r)}async function RD(e,t){const n=ve(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=Te();for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:a,addedBatchIds:o}))})})}function IK(e,t){const n=ve(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const f=c.batch,p=f.keys();let m=q.resolve();return p.forEach(g=>{m=m.next(()=>u.getEntry(l,g)).next(y=>{const b=c.docVersions.get(g);Fe(b!==null),y.version.compareTo(b)<0&&(f.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Te();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function DD(e){const t=ve(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function kK(e,t){const n=ve(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];t.targetChanges.forEach((u,f)=>{const p=i.get(f);if(!p)return;o.push(n.Ur.removeMatchingKeys(s,u.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,u.addedDocuments,f)));let m=p.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?m=m.withResumeToken(nn.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),i=i.insert(f,m),function(y,b,w){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,m,u)&&o.push(n.Ur.updateTargetData(s,m))});let l=ns(),c=Te();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),o.push(CK(s,a,t.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(ye.min())){const u=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(u)}return q.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function CK(e,t,n){let r=Te(),i=Te();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let a=ns();return n.forEach((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(ye.min())?(t.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),a=a.insert(o,l)):re("LocalStore","Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function NK(e,t){const n=ve(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function OK(e,t){const n=ve(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,t).next(s=>s?(i=s,q.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new Ms(t,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(t,r.targetId)),r})}async function Wx(e,t,n){const r=ve(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Xd(a))throw a;re("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function GP(e,t,n){const r=ve(e);let i=ye.min(),s=Te();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,u){const f=ve(l),p=f._s.get(u);return p!==void 0?q.resolve(f.os.get(p)):f.Ur.getTargetData(c,u)}(r,a,di(t)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,t,n?i:ye.min(),n?s:Te())).next(o=>(jK(r,Tq(t),o),{documents:o,Ts:s})))}function jK(e,t,n){let r=e.us.get(t)||ye.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.us.set(t,r)}class QP{constructor(){this.activeTargetIds=Cq()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class RK{constructor(){this.so=new QP,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,r){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new QP,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh=null;function Wv(){return dh===null?dh=function(){return 268435456+Math.round(2147483648*Math.random())}():dh++,"0x"+dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class $K extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,a){const o=Wv(),l=this.xo(n,r.toUriEncodedString());re("RestConnection",`Sending RPC '${n}' ${o}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,a),this.No(n,l,c,i).then(u=>(re("RestConnection",`Received RPC '${n}' ${o}: `,u),u),u=>{throw Vl("RestConnection",`RPC '${n}' ${o} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(n,r,i,s,a,o){return this.Mo(n,r,i,s,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}xo(n,r){const i=MK[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,r,i){const s=Wv();return new Promise((a,o)=>{const l=new G2;l.setWithCredentials(!0),l.listenOnce(Q2.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Bh.NO_ERROR:const u=l.getResponseJson();re(fn,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(u)),a(u);break;case Bh.TIMEOUT:re(fn,`RPC '${t}' ${s} timed out`),o(new Y(F.DEADLINE_EXCEEDED,"Request time out"));break;case Bh.HTTP_ERROR:const f=l.getStatus();if(re(fn,`RPC '${t}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const g=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(w)>=0?w:F.UNKNOWN}(m.status);o(new Y(g,m.message))}else o(new Y(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new Y(F.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{re(fn,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(i);re(fn,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(t,n,r){const i=Wv(),s=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=J2(),o=X2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");re(fn,`Creating RPC '${t}' stream ${i}: ${u}`,l);const f=a.createWebChannel(u,l);let p=!1,m=!1;const g=new LK({Io:b=>{m?re(fn,`Not sending because RPC '${t}' stream ${i} is closed:`,b):(p||(re(fn,`Opening RPC '${t}' stream ${i} transport.`),f.open(),p=!0),re(fn,`RPC '${t}' stream ${i} sending:`,b),f.send(b))},To:()=>f.close()}),y=(b,w,x)=>{b.listen(w,_=>{try{x(_)}catch(P){setTimeout(()=>{throw P},0)}})};return y(f,mu.EventType.OPEN,()=>{m||(re(fn,`RPC '${t}' stream ${i} transport opened.`),g.yo())}),y(f,mu.EventType.CLOSE,()=>{m||(m=!0,re(fn,`RPC '${t}' stream ${i} transport closed`),g.So())}),y(f,mu.EventType.ERROR,b=>{m||(m=!0,Vl(fn,`RPC '${t}' stream ${i} transport errored:`,b),g.So(new Y(F.UNAVAILABLE,"The operation could not be completed")))}),y(f,mu.EventType.MESSAGE,b=>{var w;if(!m){const x=b.data[0];Fe(!!x);const _=x,P=_.error||((w=_[0])===null||w===void 0?void 0:w.error);if(P){re(fn,`RPC '${t}' stream ${i} received error:`,P);const I=P.status;let N=function(k){const C=_t[k];if(C!==void 0)return TD(C)}(I),T=P.message;N===void 0&&(N=F.INTERNAL,T="Unknown error status: "+I+" with message "+P.message),m=!0,g.So(new Y(N,T)),f.close()}else re(fn,`RPC '${t}' stream ${i} received:`,x),g.bo(x)}}),y(o,Y2.STAT_EVENT,b=>{b.stat===Mx.PROXY?re(fn,`RPC '${t}' stream ${i} detected buffering proxy`):b.stat===Mx.NOPROXY&&re(fn,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function Hv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(e){return new Gq(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(t,n,r=1e3,i=1.5,s=6e4){this.ui=t,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t,n,r,i,s,a,o,l){this.ui=t,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new MD(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(ts(n.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{t(()=>{const i=new Y(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(t,n){const r=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return re("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zK extends LD{constructor(t,n,r,i,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=Xq(this.serializer,t),r=function(s){if(!("targetChange"in s))return ye.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?ye.min():a.readTime?fi(a.readTime):ye.min()}(t);return this.listener.d_(n,r)}A_(t){const n={};n.database=Kx(this.serializer),n.addTarget=function(s,a){let o;const l=a.target;if(o=Vx(l)?{documents:eK(s,l)}:{query:tK(s,l)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=PD(s,a.resumeToken);const c=Ux(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(ye.min())>0){o.readTime=Lp(s,a.snapshotVersion.toTimestamp());const c=Ux(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const r=rK(this.serializer,t);r&&(n.labels=r),this.a_(n)}R_(t){const n={};n.database=Kx(this.serializer),n.removeTarget=t,this.a_(n)}}class VK extends LD{constructor(t,n,r,i,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,n){return this.connection.Bo("Write",t,n)}E_(t){return Fe(!!t.streamToken),this.lastStreamToken=t.streamToken,Fe(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){Fe(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const n=Zq(t.writeResults,t.commitTime),r=fi(t.commitTime);return this.listener.g_(r,n)}p_(){const t={};t.database=Kx(this.serializer),this.a_(t)}m_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>Jq(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FK extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(t,Bx(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(F.UNKNOWN,s.toString())})}Lo(t,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(t,Bx(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Y(F.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class UK{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ts(n),this.D_=!1):re("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget(async()=>{Io(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ve(l);c.L_.add(4),await ef(c),c.q_.set("Unknown"),c.L_.delete(4),await Ig(c)}(this))})}),this.q_=new UK(r,i)}}async function Ig(e){if(Io(e))for(const t of e.B_)await t(!0)}async function ef(e){for(const t of e.B_)await t(!1)}function $D(e,t){const n=ve(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),W_(n)?K_(n):yc(n).r_()&&q_(n,t))}function B_(e,t){const n=ve(e),r=yc(n);n.N_.delete(t),r.r_()&&zD(n,t),n.N_.size===0&&(r.r_()?r.o_():Io(n)&&n.q_.set("Unknown"))}function q_(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ye.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}yc(e).A_(t)}function zD(e,t){e.Q_.xe(t),yc(e).R_(t)}function K_(e){e.Q_=new qq({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),yc(e).start(),e.q_.v_()}function W_(e){return Io(e)&&!yc(e).n_()&&e.N_.size>0}function Io(e){return ve(e).L_.size===0}function VD(e){e.Q_=void 0}async function qK(e){e.q_.set("Online")}async function KK(e){e.N_.forEach((t,n)=>{q_(e,t)})}async function WK(e,t){VD(e),W_(e)?(e.q_.M_(t),K_(e)):e.q_.set("Unknown")}async function HK(e,t,n){if(e.q_.set("Online"),t instanceof AD&&t.state===2&&t.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(e,t)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await $p(e,r)}else if(t instanceof Wh?e.Q_.Ke(t):t instanceof SD?e.Q_.He(t):e.Q_.We(t),!n.isEqual(ye.min()))try{const r=await DD(e.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.N_.get(c);u&&s.N_.set(c,u.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const u=s.N_.get(l);if(!u)return;s.N_.set(l,u.withResumeToken(nn.EMPTY_BYTE_STRING,u.snapshotVersion)),zD(s,l);const f=new Ms(u.target,l,c,u.sequenceNumber);q_(s,f)}),s.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){re("RemoteStore","Failed to raise snapshot:",r),await $p(e,r)}}async function $p(e,t,n){if(!Xd(t))throw t;e.L_.add(1),await ef(e),e.q_.set("Offline"),n||(n=()=>DD(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Ig(e)})}function FD(e,t){return t().catch(n=>$p(e,n,t))}async function kg(e){const t=ve(e),n=aa(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;GK(t);)try{const i=await NK(t.localStore,r);if(i===null){t.O_.length===0&&n.o_();break}r=i.batchId,QK(t,i)}catch(i){await $p(t,i)}UD(t)&&BD(t)}function GK(e){return Io(e)&&e.O_.length<10}function QK(e,t){e.O_.push(t);const n=aa(e);n.r_()&&n.V_&&n.m_(t.mutations)}function UD(e){return Io(e)&&!aa(e).n_()&&e.O_.length>0}function BD(e){aa(e).start()}async function YK(e){aa(e).p_()}async function XK(e){const t=aa(e);for(const n of e.O_)t.m_(n.mutations)}async function JK(e,t,n){const r=e.O_.shift(),i=L_.from(r,t,n);await FD(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await kg(e)}async function ZK(e,t){t&&aa(e).V_&&await async function(r,i){if(function(a){return Fq(a)&&a!==F.ABORTED}(i.code)){const s=r.O_.shift();aa(r).s_(),await FD(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await kg(r)}}(e,t),UD(e)&&BD(e)}async function XP(e,t){const n=ve(e);n.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=Io(n);n.L_.add(3),await ef(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Ig(n)}async function eW(e,t){const n=ve(e);t?(n.L_.delete(2),await Ig(n)):t||(n.L_.add(2),await ef(n),n.q_.set("Unknown"))}function yc(e){return e.K_||(e.K_=function(n,r,i){const s=ve(n);return s.w_(),new zK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Eo:qK.bind(null,e),Ro:KK.bind(null,e),mo:WK.bind(null,e),d_:HK.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),W_(e)?K_(e):e.q_.set("Unknown")):(await e.K_.stop(),VD(e))})),e.K_}function aa(e){return e.U_||(e.U_=function(n,r,i){const s=ve(n);return s.w_(),new VK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:YK.bind(null,e),mo:ZK.bind(null,e),f_:XK.bind(null,e),g_:JK.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await kg(e)):(await e.U_.stop(),e.O_.length>0&&(re("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const a=Date.now()+r,o=new H_(t,n,a,i,s);return o.start(r),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(F.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function G_(e,t){if(ts("AsyncQueue",`${t}: ${e}`),Xd(e))return new Y(F.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(t){this.comparator=t?(n,r)=>t(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=gu(),this.sortedSet=new ft(this.comparator)}static emptySet(t){return new El(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof El)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new El;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(){this.W_=new ft(le.comparator)}track(t){const n=t.doc.key,r=this.W_.get(n);r?t.type!==0&&r.type===3?this.W_=this.W_.insert(n,t):t.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.W_=this.W_.remove(n):t.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):ge():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Hl{constructor(t,n,r,i,s,a,o,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Hl(t,n,El.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class nW{constructor(){this.queries=ZP(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ve(n),s=i.queries;i.queries=ZP(),s.forEach((a,o)=>{for(const l of o.j_)l.onError(r)})})(this,new Y(F.ABORTED,"Firestore shutting down"))}}function ZP(){return new gc(e=>dD(e),bg)}async function qD(e,t){const n=ve(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new tW,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=G_(a,`Initialization of query '${Qo(t.query)}' failed`);return void t.onError(o)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&Q_(n)}async function KD(e,t){const n=ve(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const a=s.j_.indexOf(t);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function rW(e,t){const n=ve(e);let r=!1;for(const i of t){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(r=!0);a.z_=i}}r&&Q_(n)}function iW(e,t,n){const r=ve(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function Q_(e){e.Y_.forEach(t=>{t.next()})}var Hx,eI;(eI=Hx||(Hx={})).ea="default",eI.Cache="cache";class WD{constructor(t,n,r){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Hl(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=Hl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Hx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t){this.key=t}}class GD{constructor(t){this.key=t}}class sW{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Te(),this.mutatedKeys=Te(),this.Aa=fD(t),this.Ra=new El(this.Aa)}get Va(){return this.Ta}ma(t,n){const r=n?n.fa:new JP,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((u,f)=>{const p=i.get(u),m=_g(this.query,f)?f:null,g=!!p&&this.mutatedKeys.has(p.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let b=!1;p&&m?p.data.isEqual(m.data)?g!==y&&(r.track({type:3,doc:m}),b=!0):this.ga(p,m)||(r.track({type:2,doc:m}),b=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(o=!0)):!p&&m?(r.track({type:0,doc:m}),b=!0):p&&!m&&(r.track({type:1,doc:p}),b=!0,(l||c)&&(o=!0)),b&&(m?(a=a.add(m),s=y?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ra:a,fa:r,ns:o,mutatedKeys:s}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const a=t.fa.G_();a.sort((u,f)=>function(m,g){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return y(m)-y(g)}(u.type,f.type)||this.Aa(u.doc,f.doc)),this.pa(r),i=i!=null&&i;const o=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,a.length!==0||c?{snapshot:new Hl(this.query,t.Ra,s,a,t.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new JP,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Te(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return t.forEach(r=>{this.da.has(r)||n.push(new GD(r))}),this.da.forEach(r=>{t.has(r)||n.push(new HD(r))}),n}ba(t){this.Ta=t.Ts,this.da=Te();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return Hl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class aW{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class oW{constructor(t){this.key=t,this.va=!1}}class lW{constructor(t,n,r,i,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new gc(o=>dD(o),bg),this.Ma=new Map,this.xa=new Set,this.Oa=new ft(le.comparator),this.Na=new Map,this.La=new V_,this.Ba={},this.ka=new Map,this.qa=Wl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function cW(e,t,n=!0){const r=eM(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await QD(r,t,n,!0),i}async function uW(e,t){const n=eM(e);await QD(n,t,!0,!1)}async function QD(e,t,n,r){const i=await OK(e.localStore,di(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await dW(e,t,s,a==="current",i.resumeToken)),e.isPrimaryClient&&n&&$D(e.remoteStore,i),o}async function dW(e,t,n,r,i){e.Ka=(f,p,m)=>async function(y,b,w,x){let _=b.view.ma(w);_.ns&&(_=await GP(y.localStore,b.query,!1).then(({documents:T})=>b.view.ma(T,_)));const P=x&&x.targetChanges.get(b.targetId),I=x&&x.targetMismatches.get(b.targetId)!=null,N=b.view.applyChanges(_,y.isPrimaryClient,P,I);return nI(y,b.targetId,N.wa),N.snapshot}(e,f,p,m);const s=await GP(e.localStore,t,!0),a=new sW(t,s.Ts),o=a.ma(s.documents),l=Zd.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),c=a.applyChanges(o,e.isPrimaryClient,l);nI(e,n,c.wa);const u=new aW(t,n,a);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function fW(e,t,n){const r=ve(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(a=>!bg(a,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Wx(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&B_(r.remoteStore,i.targetId),Gx(r,i.targetId)}).catch(Yd)):(Gx(r,i.targetId),await Wx(r.localStore,i.targetId,!0))}async function hW(e,t){const n=ve(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),B_(n.remoteStore,r.targetId))}async function pW(e,t,n){const r=bW(e);try{const i=await function(a,o){const l=ve(a),c=Nt.now(),u=o.reduce((m,g)=>m.add(g.key),Te());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=ns(),y=Te();return l.cs.getEntries(m,u).next(b=>{g=b,g.forEach((w,x)=>{x.isValidDocument()||(y=y.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(b=>{f=b;const w=[];for(const x of o){const _=Mq(x,f.get(x.key).overlayedDocument);_!=null&&w.push(new ha(x.key,_,rD(_.value.mapValue),Sr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,w,o)}).next(b=>{p=b;const w=b.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(m,b.batchId,w)})}).then(()=>({batchId:p.batchId,changes:pD(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let c=a.Ba[a.currentUser.toKey()];c||(c=new ft(je)),c=c.insert(o,l),a.Ba[a.currentUser.toKey()]=c}(r,i.batchId,n),await tf(r,i.changes),await kg(r.remoteStore)}catch(i){const s=G_(i,"Failed to persist write");n.reject(s)}}async function YD(e,t){const n=ve(e);try{const r=await kK(n.localStore,t);t.targetChanges.forEach((i,s)=>{const a=n.Na.get(s);a&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Fe(a.va):i.removedDocuments.size>0&&(Fe(a.va),a.va=!1))}),await tf(n,r,t)}catch(r){await Yd(r)}}function tI(e,t,n){const r=ve(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,a)=>{const o=a.view.Z_(t);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=ve(a);l.onlineState=o;let c=!1;l.queries.forEach((u,f)=>{for(const p of f.j_)p.Z_(o)&&(c=!0)}),c&&Q_(l)}(r.eventManager,t),i.length&&r.Ca.d_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function mW(e,t,n){const r=ve(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let a=new ft(le.comparator);a=a.insert(s,yn.newNoDocument(s,ye.min()));const o=Te().add(s),l=new Ag(ye.min(),new Map,new ft(je),a,o);await YD(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(t),Y_(r)}else await Wx(r.localStore,t,!1).then(()=>Gx(r,t,n)).catch(Yd)}async function gW(e,t){const n=ve(e),r=t.batch.batchId;try{const i=await IK(n.localStore,t);JD(n,r,null),XD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await tf(n,i)}catch(i){await Yd(i)}}async function yW(e,t,n){const r=ve(e);try{const i=await function(a,o){const l=ve(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(Fe(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,t);JD(r,t,n),XD(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await tf(r,i)}catch(i){await Yd(i)}}function XD(e,t){(e.ka.get(t)||[]).forEach(n=>{n.resolve()}),e.ka.delete(t)}function JD(e,t,n){const r=ve(e);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function Gx(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(r=>{e.La.containsKey(r)||ZD(e,r)})}function ZD(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&(B_(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Y_(e))}function nI(e,t,n){for(const r of n)r instanceof HD?(e.La.addReference(r.key,t),vW(e,r)):r instanceof GD?(re("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||ZD(e,r.key)):ge()}function vW(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(re("SyncEngine","New document in limbo: "+n),e.xa.add(r),Y_(e))}function Y_(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new le(tt.fromString(t)),r=e.qa.next();e.Na.set(r,new oW(n)),e.Oa=e.Oa.insert(n,r),$D(e.remoteStore,new Ms(di(R_(n.path)),r,"TargetPurposeLimboResolution",I_.oe))}}async function tf(e,t,n){const r=ve(e),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((o,l)=>{a.push(r.Ka(l,t,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=U_.Wi(l.targetId,c);s.push(f)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,c){const u=ve(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>q.forEach(c,p=>q.forEach(p.$i,m=>u.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>q.forEach(p.Ui,m=>u.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!Xd(f))throw f;re("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const m=u.os.get(p),g=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(g);u.os=u.os.insert(p,y)}}}(r.localStore,s))}async function xW(e,t){const n=ve(e);if(!n.currentUser.isEqual(t)){re("SyncEngine","User change. New user:",t.toKey());const r=await RD(n.localStore,t);n.currentUser=t,function(s,a){s.ka.forEach(o=>{o.forEach(l=>{l.reject(new Y(F.CANCELLED,a))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await tf(n,r.hs)}}function wW(e,t){const n=ve(e),r=n.Na.get(t);if(r&&r.va)return Te().add(r.key);{let i=Te();const s=n.Ma.get(t);if(!s)return i;for(const a of s){const o=n.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function eM(e){const t=ve(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=YD.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wW.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mW.bind(null,t),t.Ca.d_=rW.bind(null,t.eventManager),t.Ca.$a=iW.bind(null,t.eventManager),t}function bW(e){const t=ve(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gW.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yW.bind(null,t),t}class zp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Pg(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,n){return null}Ha(t,n){return null}za(t){return PK(this.persistence,new SK,t.initialUser,this.serializer)}Ga(t){return new _K(F_.Zr,this.serializer)}Wa(t){return new RK}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zp.provider={build:()=>new zp};class Qx{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xW.bind(null,this.syncEngine),await eW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new nW}()}createDatastore(t){const n=Pg(t.databaseInfo.databaseId),r=function(s){return new $K(s)}(t.databaseInfo);return function(s,a,o,l){return new FK(s,a,o,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,a,o){return new BK(r,i,s,a,o)}(this.localStore,this.datastore,t.asyncQueue,n=>tI(this.syncEngine,n,0),function(){return YP.D()?new YP:new DK}())}createSyncEngine(t,n){return function(i,s,a,o,l,c,u){const f=new lW(i,s,a,o,l,c);return u&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const s=ve(i);re("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await ef(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qx.provider={build:()=>new Qx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):ts("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _W{constructor(t,n,r,i,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mn.UNAUTHENTICATED,this.clientId=eD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{re("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(re("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=G_(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Gv(e,t){e.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await RD(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function rI(e,t){e.asyncQueue.verifyOperationInProgress();const n=await EW(e);re("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>XP(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>XP(t.remoteStore,i)),e._onlineComponents=t}async function EW(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gv(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Vl("Error using user provided cache. Falling back to memory cache: "+n),await Gv(e,new zp)}}else re("FirestoreClient","Using default OfflineComponentProvider"),await Gv(e,new zp);return e._offlineComponents}async function nM(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),await rI(e,e._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),await rI(e,new Qx))),e._onlineComponents}function TW(e){return nM(e).then(t=>t.syncEngine)}async function rM(e){const t=await nM(e),n=t.eventManager;return n.onListen=cW.bind(null,t.syncEngine),n.onUnlisten=fW.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=uW.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=hW.bind(null,t.syncEngine),n}function SW(e,t,n={}){const r=new Bi;return e.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const u=new tM({next:p=>{u.Za(),a.enqueueAndForget(()=>KD(s,f));const m=p.docs.has(o);!m&&p.fromCache?c.reject(new Y(F.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new Y(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new WD(R_(o.path),u,{includeMetadataChanges:!0,_a:!0});return qD(s,f)}(await rM(e),e.asyncQueue,t,n,r)),r.promise}function AW(e,t,n={}){const r=new Bi;return e.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const u=new tM({next:p=>{u.Za(),a.enqueueAndForget(()=>KD(s,f)),p.fromCache&&l.source==="server"?c.reject(new Y(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new WD(o,u,{includeMetadataChanges:!0,_a:!0});return qD(s,f)}(await rM(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(e,t,n){if(!n)throw new Y(F.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function PW(e,t,n,r){if(t===!0&&r===!0)throw new Y(F.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function sI(e){if(!le.isDocumentKey(e))throw new Y(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function aI(e){if(le.isDocumentKey(e))throw new Y(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Cg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ge()}function Xr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Y(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cg(e);throw new Y(F.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function IW(e,t){if(t<=0)throw new Y(F.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Y(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Y(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}PW("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iM((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ng{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Y(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oI(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new W7;switch(r.type){case"firstParty":return new Y7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=iI.get(n);r&&(re("ComponentProvider","Removing Datastore"),iI.delete(n),r.terminate())}(this),Promise.resolve()}}function kW(e,t,n,r={}){var i;const s=(e=Xr(e,Ng))._getSettings(),a=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=mn.MOCK_USER;else{o=b8(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Y(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new mn(c)}e._authCredentials=new H7(new Z2(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new pa(this.firestore,t,this._query)}}class Cn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Cn(this.firestore,t,this._key)}}class Qs extends pa{constructor(t,n,r){super(t,n,R_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Cn(this.firestore,null,new le(t))}withConverter(t){return new Qs(this.firestore,t,this._path)}}function Pe(e,t,...n){if(e=ot(e),sM("collection","path",t),e instanceof Ng){const r=tt.fromString(t,...n);return aI(r),new Qs(e,null,r)}{if(!(e instanceof Cn||e instanceof Qs))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(tt.fromString(t,...n));return aI(r),new Qs(e.firestore,null,r)}}function Le(e,t,...n){if(e=ot(e),arguments.length===1&&(t=eD.newId()),sM("doc","path",t),e instanceof Ng){const r=tt.fromString(t,...n);return sI(r),new Cn(e,null,new le(r))}{if(!(e instanceof Cn||e instanceof Qs))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(tt.fromString(t,...n));return sI(r),new Cn(e.firestore,e instanceof Qs?e.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new MD(this,"async_queue_retry"),this.Vu=()=>{const r=Hv();r&&re("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=t;const n=Hv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const n=Hv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Bi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!Xd(t))throw t;re("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const n=this.mu.then(()=>(this.du=!0,t().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(r);throw ts("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(t,n,r){this.fu(),this.Ru.indexOf(t)>-1&&(n=0);const i=H_.createAndSchedule(this,t,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ge()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const n of this.Tu)if(n.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const n=this.Tu.indexOf(t);this.Tu.splice(n,1)}}class ko extends Ng{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new lI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new lI(t),this._firestoreClient=void 0,await t}}}function aM(e,t){const n=typeof e=="object"?e:Qd(),r=typeof e=="string"?e:"(default)",i=Ao(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=x8("firestore");s&&kW(i,...s)}return i}function X_(e){if(e._terminated)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||CW(e),e._firestoreClient}function CW(e){var t,n,r;const i=e._freezeSettings(),s=function(o,l,c,u){return new cq(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,iM(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new _W(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gl(nn.fromBase64String(t))}catch(n){throw new Y(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Gl(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Y(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Y(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Y(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return je(this._lat,t._lat)||je(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NW=/^__.*__$/;class OW{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new ha(t,this.data,this.fieldMask,n,this.fieldTransforms):new Jd(t,this.data,n,this.fieldTransforms)}}class oM{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new ha(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function lM(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class jg{constructor(t,n,r,i,s,a){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new jg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Fu({path:r,xu:!1});return i.Ou(t),i}Nu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Vp(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(lM(this.Cu)&&NW.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class jW{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Pg(t)}Qu(t,n,r,i=!1){return new jg({Cu:t,methodName:n,qu:r,path:Xt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rg(e){const t=e._freezeSettings(),n=Pg(e._databaseId);return new jW(e._databaseId,!!t.ignoreUndefinedProperties,n)}function cM(e,t,n,r,i,s={}){const a=e.Qu(s.merge||s.mergeFields?2:0,t,n,i);i1("Data must be an object, but it was:",a,r);const o=dM(r,a);let l,c;if(s.merge)l=new tr(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const p=Yx(t,f,n);if(!a.contains(p))throw new Y(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);hM(u,p)||u.push(p)}l=new tr(u),c=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=a.fieldTransforms;return new OW(new Ln(o),l,c)}class Dg extends Co{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Dg}}function uM(e,t,n){return new jg({Cu:3,qu:t.settings.qu,methodName:e._methodName,xu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class e1 extends Co{_toFieldTransform(t){return new Tg(t.path,new md)}isEqual(t){return t instanceof e1}}class t1 extends Co{constructor(t,n){super(t),this.Ku=n}_toFieldTransform(t){const n=uM(this,t,!0),r=this.Ku.map(s=>No(s,n)),i=new ql(r);return new Tg(t.path,i)}isEqual(t){return t instanceof t1&&ao(this.Ku,t.Ku)}}class n1 extends Co{constructor(t,n){super(t),this.Ku=n}_toFieldTransform(t){const n=uM(this,t,!0),r=this.Ku.map(s=>No(s,n)),i=new Kl(r);return new Tg(t.path,i)}isEqual(t){return t instanceof n1&&ao(this.Ku,t.Ku)}}class r1 extends Co{constructor(t,n){super(t),this.$u=n}_toFieldTransform(t){const n=new gd(t.serializer,yD(t.serializer,this.$u));return new Tg(t.path,n)}isEqual(t){return t instanceof r1&&this.$u===t.$u}}function RW(e,t,n,r){const i=e.Qu(1,t,n);i1("Data must be an object, but it was:",i,r);const s=[],a=Ln.empty();Po(r,(l,c)=>{const u=s1(t,l,n);c=ot(c);const f=i.Nu(u);if(c instanceof Dg)s.push(u);else{const p=No(c,f);p!=null&&(s.push(u),a.set(u,p))}});const o=new tr(s);return new oM(a,o,i.fieldTransforms)}function DW(e,t,n,r,i,s){const a=e.Qu(1,t,n),o=[Yx(t,r,n)],l=[i];if(s.length%2!=0)throw new Y(F.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)o.push(Yx(t,s[p])),l.push(s[p+1]);const c=[],u=Ln.empty();for(let p=o.length-1;p>=0;--p)if(!hM(c,o[p])){const m=o[p];let g=l[p];g=ot(g);const y=a.Nu(m);if(g instanceof Dg)c.push(m);else{const b=No(g,y);b!=null&&(c.push(m),u.set(m,b))}}const f=new tr(c);return new oM(u,f,a.fieldTransforms)}function MW(e,t,n,r=!1){return No(n,e.Qu(r?4:3,t))}function No(e,t){if(fM(e=ot(e)))return i1("Unsupported field value:",t,e),dM(e,t);if(e instanceof Co)return function(r,i){if(!lM(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let l=No(o,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Nt.fromDate(r);return{timestampValue:Lp(i.serializer,s)}}if(r instanceof Nt){const s=new Nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lp(i.serializer,s)}}if(r instanceof J_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gl)return{bytesValue:PD(i.serializer,r._byteString)};if(r instanceof Cn){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:z_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Z_)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return D_(o.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Cg(r)}`)}(e,t)}function dM(e,t){const n={};return tD(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Po(e,(r,i)=>{const s=No(i,t.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function fM(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Nt||e instanceof J_||e instanceof Gl||e instanceof Cn||e instanceof Co||e instanceof Z_)}function i1(e,t,n){if(!fM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Cg(n);throw r==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function Yx(e,t,n){if((t=ot(t))instanceof Og)return t._internalPath;if(typeof t=="string")return s1(e,t);throw Vp("Field path arguments must be of type string or ",e,!1,void 0,n)}const LW=new RegExp("[~\\*/\\[\\]]");function s1(e,t,n){if(t.search(LW)>=0)throw Vp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Og(...t.split("."))._internalPath}catch{throw Vp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Vp(e,t,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Y(F.INVALID_ARGUMENT,o+e+l)}function hM(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new $W(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Mg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $W extends pM{data(){return super.data()}}function Mg(e,t){return typeof t=="string"?s1(e,t):t instanceof Og?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zW(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Y(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class a1{}class o1 extends a1{}function $t(e,t,...n){let r=[];t instanceof a1&&r.push(t),r=r.concat(n),function(s){const a=s.filter(l=>l instanceof l1).length,o=s.filter(l=>l instanceof Lg).length;if(a>1||a>0&&o>0)throw new Y(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class Lg extends o1{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Lg(t,n,r)}_apply(t){const n=this._parse(t);return mM(t._query,n),new pa(t.firestore,t.converter,Fx(t._query,n))}_parse(t){const n=Rg(t.firestore);return function(s,a,o,l,c,u,f){let p;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Y(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){uI(f,u);const m=[];for(const g of f)m.push(cI(l,s,g));p={arrayValue:{values:m}}}else p=cI(l,s,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||uI(f,u),p=MW(o,a,f,u==="in"||u==="not-in");return St.create(c,u,p)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function wr(e,t,n){const r=t,i=Mg("where",e);return Lg._create(i,r,n)}class l1 extends a1{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new l1(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Yr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)mM(a,l),a=Fx(a,l)}(t._query,n),new pa(t.firestore,t.converter,Fx(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class c1 extends o1{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new c1(t,n)}_apply(t){const n=function(i,s,a){if(i.startAt!==null)throw new Y(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Y(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pd(s,a)}(t._query,this._field,this._direction);return new pa(t.firestore,t.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new mc(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function ma(e,t="asc"){const n=t,r=Mg("orderBy",e);return c1._create(r,n)}class u1 extends o1{constructor(t,n,r){super(),this.type=t,this._limit=n,this._limitType=r}static _create(t,n,r){return new u1(t,n,r)}_apply(t){return new pa(t.firestore,t.converter,Mp(t._query,this._limit,this._limitType))}}function vc(e){return IW("limit",e),u1._create("limit",e,"F")}function cI(e,t,n){if(typeof(n=ot(n))=="string"){if(n==="")throw new Y(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uD(t)&&n.indexOf("/")!==-1)throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(tt.fromString(n));if(!le.isDocumentKey(r))throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return NP(e,new le(r))}if(n instanceof Cn)return NP(e,n._key);throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cg(n)}.`)}function uI(e,t){if(!Array.isArray(e)||e.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function mM(e,t){const n=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class VW{convertValue(t,n="none"){switch(co(t)){case 0:return null;case 1:return t.booleanValue;case 2:return yt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(lo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw ge()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Po(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(t){var n,r,i;const s=(i=(r=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>yt(a.doubleValue));return new Z_(s)}convertGeoPoint(t){return new J_(yt(t.latitude),yt(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=C_(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dd(t));default:return null}}convertTimestamp(t){const n=sa(t);return new Nt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=tt.fromString(t);Fe(jD(r));const i=new fd(r.get(1),r.get(3)),s=new le(r.popFirst(5));return i.isEqual(n)||ts(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class yM extends pM{constructor(t,n,r,i,s,a){super(t,n,r,i,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Mg("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Hh extends yM{data(t={}){return super.data(t)}}class FW{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new vu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Hh(this._firestore,this._userDataWriter,r.key,r,new vu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new Hh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new vu(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new Hh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new vu(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:UW(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function UW(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(e){e=Xr(e,Cn);const t=Xr(e.firestore,ko);return SW(X_(t),e._key).then(n=>BW(t,e,n))}class vM extends VW{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gl(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Cn(this.firestore,null,n)}}function We(e){e=Xr(e,pa);const t=Xr(e.firestore,ko),n=X_(t),r=new vM(t);return zW(e._query),AW(n,e._query).then(i=>new FW(t,r,e,i))}function Ql(e,t,n){e=Xr(e,Cn);const r=Xr(e.firestore,ko),i=gM(e.converter,t,n);return $g(r,[cM(Rg(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Sr.none())])}function Et(e,t,n,...r){e=Xr(e,Cn);const i=Xr(e.firestore,ko),s=Rg(i);let a;return a=typeof(t=ot(t))=="string"||t instanceof Og?DW(s,"updateDoc",e._key,t,n,r):RW(s,"updateDoc",e._key,t),$g(i,[a.toMutation(e._key,Sr.exists(!0))])}function Tl(e){return $g(Xr(e.firestore,ko),[new M_(e._key,Sr.none())])}function Ys(e,t){const n=Xr(e.firestore,ko),r=Le(e),i=gM(e.converter,t);return $g(n,[cM(Rg(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,Sr.exists(!1))]).then(()=>r)}function $g(e,t){return function(r,i){const s=new Bi;return r.asyncQueue.enqueueAndForget(async()=>pW(await TW(r),i,s)),s.promise}(X_(e),t)}function BW(e,t,n){const r=n.docs.get(t._key),i=new vM(e);return new yM(e,i,t._key,r,new vu(n.hasPendingWrites,n.fromCache),t.converter)}function xu(){return new e1("serverTimestamp")}function Xx(...e){return new t1("arrayUnion",e)}function xM(...e){return new n1("arrayRemove",e)}function jge(e){return new r1("increment",e)}(function(t,n=!0){(function(i){pc=i})(hc),mi(new Qr("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new ko(new G7(r.getProvider("auth-internal")),new J7(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Y(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fd(c.options.projectId,u)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Tr(AP,"4.7.3",t),Tr(AP,"4.7.3","esm2017")})();var qW="firebase",KW="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr(qW,KW,"app");function d1(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function wM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WW=wM,bM=new So("auth","Firebase",wM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=new xg("@firebase/auth");function HW(e,...t){Fp.logLevel<=Ae.WARN&&Fp.warn(`Auth (${hc}): ${e}`,...t)}function Gh(e,...t){Fp.logLevel<=Ae.ERROR&&Fp.error(`Auth (${hc}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(e,...t){throw h1(e,...t)}function Wr(e,...t){return h1(e,...t)}function f1(e,t,n){const r=Object.assign(Object.assign({},WW()),{[t]:n});return new So("auth","Firebase",r).create(t,{appName:e.name})}function qi(e){return f1(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function GW(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Ir(e,"argument-error"),f1(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function h1(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return bM.create(e,...t)}function fe(e,t,...n){if(!e)throw h1(t,...n)}function Di(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Gh(t),new Error(t)}function rs(e,t){e||Di(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function QW(){return dI()==="http:"||dI()==="https:"}function dI(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QW()||$2()||"connection"in navigator)?navigator.onLine:!0}function XW(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(t,n){this.shortDelay=t,this.longDelay=n,rs(n>t,"Short delay should be less than long delay!"),this.isMobile=_8()||S8()}get(){return YW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(e,t){rs(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZW=new nf(3e4,6e4);function ga(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function _i(e,t,n,r,i={}){return EM(e,i,async()=>{let s={},a={};r&&(t==="GET"?a=r:s={body:JSON.stringify(r)});const o=Gd(Object.assign({key:e.config.apiKey},a)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:l},s);return T8()||(c.referrerPolicy="no-referrer"),_M.fetch()(TM(e,e.config.apiHost,n,o),c)})}async function EM(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},JW),t);try{const i=new tH(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw fh(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(e,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw fh(e,"email-already-in-use",a);if(l==="USER_DISABLED")throw fh(e,"user-disabled",a);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw f1(e,u,c);Ir(e,u)}}catch(i){if(i instanceof ei)throw i;Ir(e,"network-request-failed",{message:String(i)})}}async function rf(e,t,n,r,i={}){const s=await _i(e,t,n,r,i);return"mfaPendingCredential"in s&&Ir(e,"multi-factor-auth-required",{_serverResponse:s}),s}function TM(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?p1(e.config,i):`${e.config.apiScheme}://${i}`}function eH(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tH{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wr(this.auth,"network-request-failed")),ZW.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fh(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wr(e,t,r);return i.customData._tokenResponse=n,i}function fI(e){return e!==void 0&&e.enterprise!==void 0}class nH{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return eH(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function rH(e,t){return _i(e,"GET","/v2/recaptchaConfig",ga(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iH(e,t){return _i(e,"POST","/v1/accounts:delete",t)}async function SM(e,t){return _i(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function sH(e,t=!1){const n=ot(e),r=await n.getIdToken(t),i=m1(r);fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ru(Qv(i.auth_time)),issuedAtTime:Ru(Qv(i.iat)),expirationTime:Ru(Qv(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Qv(e){return Number(e)*1e3}function m1(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Gh("JWT malformed, contained fewer than 3 sections"),null;try{const i=R2(n);return i?JSON.parse(i):(Gh("Failed to decode base64 JWT payload"),null)}catch(i){return Gh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function hI(e){const t=m1(e);return fe(t,"internal-error"),fe(typeof t.exp<"u","internal-error"),fe(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof ei&&aH(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function aH({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ru(this.lastLoginAt),this.creationTime=Ru(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Up(e){var t;const n=e.auth,r=await e.getIdToken(),i=await uo(e,SM(n,{idToken:r}));fe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?AM(s.providerUserInfo):[],o=cH(e.providerData,a),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Zx(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,f)}async function lH(e){const t=ot(e);await Up(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function cH(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function AM(e){return e.map(t=>{var{providerId:n}=t,r=d1(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uH(e,t){const n=await EM(e,{},async()=>{const r=Gd({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,a=TM(e,i,"/v1/token",`key=${s}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",_M.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dH(e,t){return _i(e,"POST","/v2/accounts:revokeToken",ga(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){fe(t.idToken,"internal-error"),fe(typeof t.idToken<"u","internal-error"),fe(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):hI(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){fe(t.length!==0,"internal-error");const n=hI(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await uH(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Sl;return r&&(fe(typeof r=="string","internal-error",{appName:t}),a.refreshToken=r),i&&(fe(typeof i=="string","internal-error",{appName:t}),a.accessToken=i),s&&(fe(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Sl,this.toJSON())}_performRefresh(){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(e,t){fe(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Mi{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=d1(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Zx(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await uo(this,this.stsTokenManager.getToken(this.auth,t));return fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return sH(this,t)}reload(){return lH(this)}_assign(t){this!==t&&(fe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Mi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Up(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Br(this.auth.app))return Promise.reject(qi(this.auth));const t=await this.getIdToken();return await uo(this,iH(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,a,o,l,c,u;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,y=(o=n.tenantId)!==null&&o!==void 0?o:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,x=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:P,isAnonymous:I,providerData:N,stsTokenManager:T}=n;fe(_&&T,t,"internal-error");const A=Sl.fromJSON(this.name,T);fe(typeof _=="string",t,"internal-error"),ws(f,t.name),ws(p,t.name),fe(typeof P=="boolean",t,"internal-error"),fe(typeof I=="boolean",t,"internal-error"),ws(m,t.name),ws(g,t.name),ws(y,t.name),ws(b,t.name),ws(w,t.name),ws(x,t.name);const k=new Mi({uid:_,auth:t,email:p,emailVerified:P,displayName:f,isAnonymous:I,photoURL:g,phoneNumber:m,tenantId:y,stsTokenManager:A,createdAt:w,lastLoginAt:x});return N&&Array.isArray(N)&&(k.providerData=N.map(C=>Object.assign({},C))),b&&(k._redirectEventId=b),k}static async _fromIdTokenResponse(t,n,r=!1){const i=new Sl;i.updateFromServerResponse(n);const s=new Mi({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Up(s),s}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];fe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?AM(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Sl;o.updateFromIdToken(r);const l=new Mi({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Zx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=new Map;function Li(e){rs(e instanceof Function,"Expected a class definition");let t=pI.get(e);return t?(rs(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,pI.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}PM.type="NONE";const mI=PM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(e,t,n){return`firebase:${e}:${t}:${n}`}class Al{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Qh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Qh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Mi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Al(Li(mI),t,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Li(mI);const a=Qh(r,t.config.apiKey,t.name);let o=null;for(const c of n)try{const u=await c._get(a);if(u){const f=Mi._fromJSON(t,u);c!==s&&(o=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Al(s,t,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Al(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(NM(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(IM(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jM(t))return"Blackberry";if(RM(t))return"Webos";if(kM(t))return"Safari";if((t.includes("chrome/")||CM(t))&&!t.includes("edge/"))return"Chrome";if(OM(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function IM(e=bn()){return/firefox\//i.test(e)}function kM(e=bn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function CM(e=bn()){return/crios\//i.test(e)}function NM(e=bn()){return/iemobile/i.test(e)}function OM(e=bn()){return/android/i.test(e)}function jM(e=bn()){return/blackberry/i.test(e)}function RM(e=bn()){return/webos/i.test(e)}function g1(e=bn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function fH(e=bn()){var t;return g1(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function hH(){return A8()&&document.documentMode===10}function DM(e=bn()){return g1(e)||OM(e)||RM(e)||jM(e)||/windows phone/i.test(e)||NM(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(e,t=[]){let n;switch(e){case"Browser":n=gI(bn());break;case"Worker":n=`${gI(bn())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${hc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((a,o)=>{try{const l=t(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mH(e,t={}){return _i(e,"GET","/v2/passwordPolicy",ga(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH=6;class yH{constructor(t){var n,r,i,s;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:gH,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yI(this),this.idTokenSubscription=new yI(this),this.beforeStateQueue=new pH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Li(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Al.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await SM(this,{idToken:t}),r=await Mi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Br(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Up(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=XW()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Br(this.app))return Promise.reject(qi(this));const n=t?ot(t):null;return n&&fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&fe(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Br(this.app)?Promise.reject(qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Br(this.app)?Promise.reject(qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Li(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await mH(this),n=new yH(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new So("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await dH(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Li(t)||this._popupRedirectResolver;fe(n,this,"argument-error"),this.redirectPersistenceManager=await Al.create(this,[Li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=t.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=MM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&HW(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ya(e){return ot(e)}class yI{constructor(t){this.auth=t,this.observer=null,this.addObserver=j8(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xH(e){zg=e}function LM(e){return zg.loadJS(e)}function wH(){return zg.recaptchaEnterpriseScript}function bH(){return zg.gapiScript}function _H(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const EH="recaptcha-enterprise",TH="NO_RECAPTCHA";class SH{constructor(t){this.type=EH,this.auth=ya(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{rH(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new nH(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;fI(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(c=>{a(c)}).catch(()=>{a(TH)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&fI(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=wH();l.length!==0&&(l+=o),LM(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function vI(e,t,n,r=!1){const i=new SH(e);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ew(e,t,n,r){var i;if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await vI(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await vI(e,t,n,n==="getOobCode");return r(e,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AH(e,t){const n=Ao(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ao(s,t??{}))return i;Ir(i,"already-initialized")}return n.initialize({options:t})}function PH(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Li);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function IH(e,t,n){const r=ya(e);fe(r._canInitEmulator,r,"emulator-config-failed"),fe(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,s=$M(t),{host:a,port:o}=kH(t),l=o===null?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),CH()}function $M(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function kH(e){const t=$M(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:xI(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:xI(a)}}}function xI(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function CH(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Di("not implemented")}_getIdTokenResponse(t){return Di("not implemented")}_linkToIdToken(t,n){return Di("not implemented")}_getReauthenticationResolver(t){return Di("not implemented")}}async function NH(e,t){return _i(e,"POST","/v1/accounts:update",t)}async function OH(e,t){return _i(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jH(e,t){return rf(e,"POST","/v1/accounts:signInWithPassword",ga(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RH(e,t){return rf(e,"POST","/v1/accounts:signInWithEmailLink",ga(e,t))}async function DH(e,t){return rf(e,"POST","/v1/accounts:signInWithEmailLink",ga(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd extends y1{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new yd(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new yd(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ew(t,n,"signInWithPassword",jH);case"emailLink":return RH(t,{email:this._email,oobCode:this._password});default:Ir(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ew(t,r,"signUpPassword",OH);case"emailLink":return DH(t,{idToken:n,email:this._email,oobCode:this._password});default:Ir(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(e,t){return rf(e,"POST","/v1/accounts:signInWithIdp",ga(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MH="http://localhost";class fo extends y1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new fo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ir("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=d1(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new fo(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return Pl(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Pl(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Pl(t,n)}buildRequest(){const t={requestUri:MH,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Gd(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LH(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $H(e){const t=hu(pu(e)).link,n=t?hu(pu(t)).deep_link_id:null,r=hu(pu(e)).deep_link_id;return(r?hu(pu(r)).link:null)||r||n||t||e}class v1{constructor(t){var n,r,i,s,a,o;const l=hu(pu(t)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,f=LH((i=l.mode)!==null&&i!==void 0?i:null);fe(c&&u&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(t){const n=$H(t);try{return new v1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(){this.providerId=xc.PROVIDER_ID}static credential(t,n){return yd._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=v1.parseLink(n);return fe(r,"argument-error"),yd._fromEmailAndCode(t,r.code,r.tenantId)}}xc.PROVIDER_ID="password";xc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends x1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends sf{constructor(){super("facebook.com")}static credential(t){return fo._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Cs.credentialFromTaggedObject(t)}static credentialFromError(t){return Cs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Cs.credential(t.oauthAccessToken)}catch{return null}}}Cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends sf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return fo._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ci.credentialFromTaggedObject(t)}static credentialFromError(t){return Ci.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ci.credential(n,r)}catch{return null}}}Ci.GOOGLE_SIGN_IN_METHOD="google.com";Ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends sf{constructor(){super("github.com")}static credential(t){return fo._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ns.credentialFromTaggedObject(t)}static credentialFromError(t){return Ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ns.credential(t.oauthAccessToken)}catch{return null}}}Ns.GITHUB_SIGN_IN_METHOD="github.com";Ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends sf{constructor(){super("twitter.com")}static credential(t,n){return fo._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Os.credentialFromTaggedObject(t)}static credentialFromError(t){return Os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Os.credential(n,r)}catch{return null}}}Os.TWITTER_SIGN_IN_METHOD="twitter.com";Os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zH(e,t){return rf(e,"POST","/v1/accounts:signUp",ga(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await Mi._fromIdTokenResponse(t,r,i),a=wI(r);return new ho({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=wI(r);return new ho({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function wI(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends ei{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Bp.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Bp(t,n,r,i)}}function zM(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Bp._fromErrorAndOperation(e,s,t,r):s})}async function VH(e,t,n=!1){const r=await uo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ho._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VM(e,t,n=!1){const{auth:r}=e;if(Br(r.app))return Promise.reject(qi(r));const i="reauthenticate";try{const s=await uo(e,zM(r,i,t,e),n);fe(s.idToken,r,"internal-error");const a=m1(s.idToken);fe(a,r,"internal-error");const{sub:o}=a;return fe(e.uid===o,r,"user-mismatch"),ho._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ir(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FM(e,t,n=!1){if(Br(e.app))return Promise.reject(qi(e));const r="signIn",i=await zM(e,r,t),s=await ho._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function FH(e,t){return FM(ya(e),t)}async function Rge(e,t){return VM(ot(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UM(e){const t=ya(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function UH(e,t,n){if(Br(e.app))return Promise.reject(qi(e));const r=ya(e),a=await ew(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zH).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&UM(e),l}),o=await ho._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function BH(e,t,n){return Br(e.app)?Promise.reject(qi(e)):FH(ot(e),xc.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&UM(e),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qH(e,t){return _i(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dge(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const r=ot(e),s={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},a=await uo(r,qH(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function Mge(e,t){return KH(ot(e),null,t)}async function KH(e,t,n){const{auth:r}=e,s={idToken:await e.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const a=await uo(e,NH(r,s));await e._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WH(e,t){return ot(e).setPersistence(t)}function HH(e,t,n,r){return ot(e).onIdTokenChanged(t,n,r)}function GH(e,t,n){return ot(e).beforeAuthStateChanged(t,n)}function QH(e,t,n,r){return ot(e).onAuthStateChanged(t,n,r)}function YH(e){return ot(e).signOut()}const qp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qp,"1"),this.storage.removeItem(qp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH=1e3,JH=10;class qM extends BM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DM(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);hH()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,JH):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},XH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}qM.type="LOCAL";const KM=qM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM extends BM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}WM.type="SESSION";const HM=WM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZH(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new Vg(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await ZH(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=w1("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(p.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return window}function tG(e){hi().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(){return typeof hi().WorkerGlobalScope<"u"&&typeof hi().importScripts=="function"}async function nG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rG(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function iG(){return GM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM="firebaseLocalStorageDb",sG=1,Kp="firebaseLocalStorage",YM="fbase_key";class af{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fg(e,t){return e.transaction([Kp],t?"readwrite":"readonly").objectStore(Kp)}function aG(){const e=indexedDB.deleteDatabase(QM);return new af(e).toPromise()}function tw(){const e=indexedDB.open(QM,sG);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Kp,{keyPath:YM})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Kp)?t(r):(r.close(),await aG(),t(await tw()))})})}async function bI(e,t,n){const r=Fg(e,!0).put({[YM]:t,value:n});return new af(r).toPromise()}async function oG(e,t){const n=Fg(e,!1).get(t),r=await new af(n).toPromise();return r===void 0?null:r.value}function _I(e,t){const n=Fg(e,!0).delete(t);return new af(n).toPromise()}const lG=800,cG=3;class XM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tw(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>cG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vg._getInstance(iG()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await nG(),!this.activeServiceWorker)return;this.sender=new eG(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||rG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await tw();return await bI(t,qp,"1"),await _I(t,qp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>bI(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>oG(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>_I(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=Fg(i,!1).getAll();return new af(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XM.type="LOCAL";const uG=XM;new nf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(e,t){return t?Li(t):(fe(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1 extends y1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Pl(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Pl(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Pl(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function dG(e){return FM(e.auth,new b1(e),e.bypassAuthState)}function fG(e){const{auth:t,user:n}=e;return fe(n,t,"internal-error"),VM(n,new b1(e),e.bypassAuthState)}async function hG(e){const{auth:t,user:n}=e;return fe(n,t,"internal-error"),VH(n,new b1(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=t;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return dG;case"linkViaPopup":case"linkViaRedirect":return hG;case"reauthViaPopup":case"reauthViaRedirect":return fG;default:Ir(this.auth,"internal-error")}}resolve(t){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pG=new nf(2e3,1e4);async function mG(e,t,n){if(Br(e.app))return Promise.reject(Wr(e,"operation-not-supported-in-this-environment"));const r=ya(e);GW(e,t,x1);const i=JM(r,n);return new Va(r,"signInViaPopup",t,i).executeNotNull()}class Va extends ZM{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Va.currentPopupAction&&Va.currentPopupAction.cancel(),Va.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return fe(t,this.auth,"internal-error"),t}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const t=w1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Va.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,pG.get())};t()}}Va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gG="pendingRedirect",Yh=new Map;class yG extends ZM{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Yh.get(this.auth._key());if(!t){try{const r=await vG(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Yh.set(this.auth._key(),t)}return this.bypassAuthState||Yh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vG(e,t){const n=bG(t),r=wG(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function xG(e,t){Yh.set(e._key(),t)}function wG(e){return Li(e._redirectPersistence)}function bG(e){return Qh(gG,e.config.apiKey,e.name)}async function _G(e,t,n=!1){if(Br(e.app))return Promise.reject(qi(e));const r=ya(e),i=JM(r,t),a=await new yG(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EG=10*60*1e3;class TG{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!SG(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!eL(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wr(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=EG&&this.cachedEventUids.clear(),this.cachedEventUids.has(EI(t))}saveEventToCache(t){this.cachedEventUids.add(EI(t)),this.lastProcessedEventTime=Date.now()}}function EI(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function eL({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function SG(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eL(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AG(e,t={}){return _i(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IG=/^https?/;async function kG(e){if(e.config.emulator)return;const{authorizedDomains:t}=await AG(e);for(const n of t)try{if(CG(n))return}catch{}Ir(e,"unauthorized-domain")}function CG(e){const t=Jx(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!IG.test(n))return!1;if(PG.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NG=new nf(3e4,6e4);function TI(){const e=hi().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function OG(e){return new Promise((t,n)=>{var r,i,s;function a(){TI(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{TI(),n(Wr(e,"network-request-failed"))},timeout:NG.get()})}if(!((i=(r=hi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=hi().gapi)===null||s===void 0)&&s.load)a();else{const o=_H("iframefcb");return hi()[o]=()=>{gapi.load?a():n(Wr(e,"network-request-failed"))},LM(`${bH()}?onload=${o}`).catch(l=>n(l))}}).catch(t=>{throw Xh=null,t})}let Xh=null;function jG(e){return Xh=Xh||OG(e),Xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RG=new nf(5e3,15e3),DG="__/auth/iframe",MG="emulator/auth/iframe",LG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$G=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zG(e){const t=e.config;fe(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?p1(t,MG):`https://${e.config.authDomain}/${DG}`,r={apiKey:t.apiKey,appName:e.name,v:hc},i=$G.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Gd(r).slice(1)}`}async function VG(e){const t=await jG(e),n=hi().gapi;return fe(n,e,"internal-error"),t.open({where:document.body,url:zG(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LG,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Wr(e,"network-request-failed"),o=hi().setTimeout(()=>{s(a)},RG.get());function l(){hi().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UG=500,BG=600,qG="_blank",KG="http://localhost";class SI{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WG(e,t,n,r=UG,i=BG){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},FG),{width:r.toString(),height:i.toString(),top:s,left:a}),c=bn().toLowerCase();n&&(o=CM(c)?qG:n),IM(c)&&(t=t||KG,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[m,g])=>`${p}${m}=${g},`,"");if(fH(c)&&o!=="_self")return HG(t||"",o),new SI(null);const f=window.open(t||"",o,u);fe(f,e,"popup-blocked");try{f.focus()}catch{}return new SI(f)}function HG(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GG="__/auth/handler",QG="emulator/auth/handler",YG=encodeURIComponent("fac");async function AI(e,t,n,r,i,s){fe(e.config.authDomain,e,"auth-domain-config-required"),fe(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:hc,eventId:i};if(t instanceof x1){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",O8(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,f]of Object.entries({}))a[u]=f}if(t instanceof sf){const u=t.getScopes().filter(f=>f!=="");u.length>0&&(a.scopes=u.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${YG}=${encodeURIComponent(l)}`:"";return`${XG(e)}?${Gd(o).slice(1)}${c}`}function XG({config:e}){return e.emulator?p1(e,QG):`https://${e.authDomain}/${GG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="webStorageSupport";class JG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HM,this._completeRedirectFn=_G,this._overrideRedirectResult=xG}async _openPopup(t,n,r,i){var s;rs((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await AI(t,n,r,Jx(),i);return WG(t,a,w1())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await AI(t,n,r,Jx(),i);return tG(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(rs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await VG(t),r=new TG(t);return n.register("authEvent",i=>(fe(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Yv,{type:Yv},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Yv];a!==void 0&&n(!!a),Ir(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kG(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return DM()||kM()||g1()}}const ZG=JG;var PI="@firebase/auth",II="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eQ{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tQ(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nQ(e){mi(new Qr("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;fe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MM(e)},c=new vH(r,i,s,l);return PH(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),mi(new Qr("auth-internal",t=>{const n=ya(t.getProvider("auth").getImmediate());return(r=>new eQ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tr(PI,II,tQ(e)),Tr(PI,II,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rQ=5*60,iQ=L2("authIdTokenMaxAge")||rQ;let kI=null;const sQ=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iQ)return;const i=n==null?void 0:n.token;kI!==i&&(kI=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function tL(e=Qd()){const t=Ao(e,"auth");if(t.isInitialized())return t.getImmediate();const n=AH(e,{popupRedirectResolver:ZG,persistence:[uG,KM,HM]}),r=L2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=sQ(s.toString());GH(n,a,()=>a(n.currentUser)),HH(n,o=>a(o))}}const i=D2("auth");return i&&IH(n,`http://${i}`),n}function aQ(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}xH({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=Wr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",aQ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nQ("Browser");const nL="@firebase/installations",_1="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=1e4,iL=`w:${_1}`,sL="FIS_v2",oQ="https://firebaseinstallations.googleapis.com/v1",lQ=60*60*1e3,cQ="installations",uQ="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dQ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},po=new So(cQ,uQ,dQ);function aL(e){return e instanceof ei&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL({projectId:e}){return`${oQ}/projects/${e}/installations`}function lL(e){return{token:e.token,requestStatus:2,expiresIn:hQ(e.expiresIn),creationTime:Date.now()}}async function cL(e,t){const r=(await t.json()).error;return po.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function uL({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function fQ(e,{refreshToken:t}){const n=uL(e);return n.append("Authorization",pQ(t)),n}async function dL(e){const t=await e();return t.status>=500&&t.status<600?e():t}function hQ(e){return Number(e.replace("s","000"))}function pQ(e){return`${sL} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mQ({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=oL(e),i=uL(e),s=t.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={fid:n,authVersion:sL,appId:e.appId,sdkVersion:iL},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await dL(()=>fetch(r,o));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:lL(c.authToken)}}else throw await cL("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gQ(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yQ=/^[cdef][\w-]{21}$/,nw="";function vQ(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=xQ(e);return yQ.test(n)?n:nw}catch{return nw}}function xQ(e){return gQ(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=new Map;function pL(e,t){const n=Ug(e);mL(n,t),wQ(n,t)}function mL(e,t){const n=hL.get(e);if(n)for(const r of n)r(t)}function wQ(e,t){const n=bQ();n&&n.postMessage({key:e,fid:t}),_Q()}let Fa=null;function bQ(){return!Fa&&"BroadcastChannel"in self&&(Fa=new BroadcastChannel("[Firebase] FID Change"),Fa.onmessage=e=>{mL(e.data.key,e.data.fid)}),Fa}function _Q(){hL.size===0&&Fa&&(Fa.close(),Fa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EQ="firebase-installations-database",TQ=1,mo="firebase-installations-store";let Xv=null;function E1(){return Xv||(Xv=B2(EQ,TQ,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(mo)}}})),Xv}async function Wp(e,t){const n=Ug(e),i=(await E1()).transaction(mo,"readwrite"),s=i.objectStore(mo),a=await s.get(n);return await s.put(t,n),await i.done,(!a||a.fid!==t.fid)&&pL(e,t.fid),t}async function gL(e){const t=Ug(e),r=(await E1()).transaction(mo,"readwrite");await r.objectStore(mo).delete(t),await r.done}async function Bg(e,t){const n=Ug(e),i=(await E1()).transaction(mo,"readwrite"),s=i.objectStore(mo),a=await s.get(n),o=t(a);return o===void 0?await s.delete(n):await s.put(o,n),await i.done,o&&(!a||a.fid!==o.fid)&&pL(e,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T1(e){let t;const n=await Bg(e.appConfig,r=>{const i=SQ(r),s=AQ(e,i);return t=s.registrationPromise,s.installationEntry});return n.fid===nw?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function SQ(e){const t=e||{fid:vQ(),registrationStatus:0};return yL(t)}function AQ(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(po.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=PQ(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:IQ(e)}:{installationEntry:t}}async function PQ(e,t){try{const n=await mQ(e,t);return Wp(e.appConfig,n)}catch(n){throw aL(n)&&n.customData.serverCode===409?await gL(e.appConfig):await Wp(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function IQ(e){let t=await CI(e.appConfig);for(;t.registrationStatus===1;)await fL(100),t=await CI(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await T1(e);return r||n}return t}function CI(e){return Bg(e,t=>{if(!t)throw po.create("installation-not-found");return yL(t)})}function yL(e){return kQ(e)?{fid:e.fid,registrationStatus:0}:e}function kQ(e){return e.registrationStatus===1&&e.registrationTime+rL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CQ({appConfig:e,heartbeatServiceProvider:t},n){const r=NQ(e,n),i=fQ(e,n),s=t.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={installation:{sdkVersion:iL,appId:e.appId}},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await dL(()=>fetch(r,o));if(l.ok){const c=await l.json();return lL(c)}else throw await cL("Generate Auth Token",l)}function NQ(e,{fid:t}){return`${oL(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S1(e,t=!1){let n;const r=await Bg(e.appConfig,s=>{if(!vL(s))throw po.create("not-registered");const a=s.authToken;if(!t&&RQ(a))return s;if(a.requestStatus===1)return n=OQ(e,t),s;{if(!navigator.onLine)throw po.create("app-offline");const o=MQ(s);return n=jQ(e,o),o}});return n?await n:r.authToken}async function OQ(e,t){let n=await NI(e.appConfig);for(;n.authToken.requestStatus===1;)await fL(100),n=await NI(e.appConfig);const r=n.authToken;return r.requestStatus===0?S1(e,t):r}function NI(e){return Bg(e,t=>{if(!vL(t))throw po.create("not-registered");const n=t.authToken;return LQ(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function jQ(e,t){try{const n=await CQ(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Wp(e.appConfig,r),n}catch(n){if(aL(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await gL(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Wp(e.appConfig,r)}throw n}}function vL(e){return e!==void 0&&e.registrationStatus===2}function RQ(e){return e.requestStatus===2&&!DQ(e)}function DQ(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+lQ}function MQ(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function LQ(e){return e.requestStatus===1&&e.requestTime+rL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $Q(e){const t=e,{installationEntry:n,registrationPromise:r}=await T1(t);return r?r.catch(console.error):S1(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zQ(e,t=!1){const n=e;return await VQ(n),(await S1(n,t)).token}async function VQ(e){const{registrationPromise:t}=await T1(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FQ(e){if(!e||!e.options)throw Jv("App Configuration");if(!e.name)throw Jv("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Jv(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Jv(e){return po.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL="installations",UQ="installations-internal",BQ=e=>{const t=e.getProvider("app").getImmediate(),n=FQ(t),r=Ao(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},qQ=e=>{const t=e.getProvider("app").getImmediate(),n=Ao(t,xL).getImmediate();return{getId:()=>$Q(n),getToken:i=>zQ(n,i)}};function KQ(){mi(new Qr(xL,BQ,"PUBLIC")),mi(new Qr(UQ,qQ,"PRIVATE"))}KQ();Tr(nL,_1);Tr(nL,_1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="analytics",WQ="firebase_id",HQ="origin",GQ=60*1e3,QQ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",A1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn=new xg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YQ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},rr=new So("analytics","Analytics",YQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XQ(e){if(!e.startsWith(A1)){const t=rr.create("invalid-gtag-resource",{gtagURL:e});return Bn.warn(t.message),""}return e}function wL(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function JQ(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function ZQ(e,t){const n=JQ("firebase-js-sdk-policy",{createScriptURL:XQ}),r=document.createElement("script"),i=`${A1}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function eY(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function tY(e,t,n,r,i,s){const a=r[i];try{if(a)await t[a];else{const l=(await wL(n)).find(c=>c.measurementId===i);l&&await t[l.appId]}}catch(o){Bn.error(o)}e("config",i,s)}async function nY(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const o=await wL(n);for(const l of a){const c=o.find(f=>f.measurementId===l),u=c&&t[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(s){Bn.error(s)}}function rY(e,t,n,r){async function i(s,...a){try{if(s==="event"){const[o,l]=a;await nY(e,t,n,o,l)}else if(s==="config"){const[o,l]=a;await tY(e,t,n,r,o,l)}else if(s==="consent"){const[o,l]=a;e("consent",o,l)}else if(s==="get"){const[o,l,c]=a;e("get",o,l,c)}else if(s==="set"){const[o]=a;e("set",o)}else e(s,...a)}catch(o){Bn.error(o)}}return i}function iY(e,t,n,r,i){let s=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=rY(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function sY(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(A1)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aY=30,oY=1e3;class lY{constructor(t={},n=oY){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const bL=new lY;function cY(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function uY(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:cY(r)},s=QQ.replace("{app-id}",n),a=await fetch(s,i);if(a.status!==200&&a.status!==304){let o="";try{const l=await a.json();!((t=l.error)===null||t===void 0)&&t.message&&(o=l.error.message)}catch{}throw rr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function dY(e,t=bL,n){const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw rr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw rr.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new pY;return setTimeout(async()=>{o.abort()},GQ),_L({appId:r,apiKey:i,measurementId:s},a,o,t)}async function _L(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=bL){var s;const{appId:a,measurementId:o}=e;try{await fY(r,t)}catch(l){if(o)return Bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:o};throw l}try{const l=await uY(e);return i.deleteThrottleMetadata(a),l}catch(l){const c=l;if(!hY(c)){if(i.deleteThrottleMetadata(a),o)return Bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:o};throw l}const u=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?gP(n,i.intervalMillis,aY):gP(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(a,f),Bn.debug(`Calling attemptFetch again in ${u} millis`),_L(e,f,r,i)}}function fY(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(rr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function hY(e){if(!(e instanceof ei)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class pY{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function mY(e,t,n,r,i){if(i&&i.global){e("event",n,r);return}else{const s=await t,a=Object.assign(Object.assign({},r),{send_to:s});e("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gY(){if(z2())try{await V2()}catch(e){return Bn.warn(rr.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Bn.warn(rr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function yY(e,t,n,r,i,s,a){var o;const l=dY(e);l.then(m=>{n[m.measurementId]=m.appId,e.options.measurementId&&m.measurementId!==e.options.measurementId&&Bn.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Bn.error(m)),t.push(l);const c=gY().then(m=>{if(m)return r.getId()}),[u,f]=await Promise.all([l,c]);sY(s)||ZQ(s,u.measurementId),i("js",new Date);const p=(o=a==null?void 0:a.config)!==null&&o!==void 0?o:{};return p[HQ]="firebase",p.update=!0,f!=null&&(p[WQ]=f),i("config",u.measurementId,p),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vY{constructor(t){this.app=t}_delete(){return delete Du[this.app.options.appId],Promise.resolve()}}let Du={},OI=[];const jI={};let Zv="dataLayer",xY="gtag",RI,EL,DI=!1;function wY(){const e=[];if($2()&&e.push("This is a browser extension environment."),I8()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=rr.create("invalid-analytics-context",{errorInfo:t});Bn.warn(n.message)}}function bY(e,t,n){wY();const r=e.options.appId;if(!r)throw rr.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw rr.create("no-api-key");if(Du[r]!=null)throw rr.create("already-exists",{id:r});if(!DI){eY(Zv);const{wrappedGtag:s,gtagCore:a}=iY(Du,OI,jI,Zv,xY);EL=s,RI=a,DI=!0}return Du[r]=yY(e,OI,jI,t,RI,Zv,n),new vY(e)}function _Y(e=Qd()){e=ot(e);const t=Ao(e,Hp);return t.isInitialized()?t.getImmediate():EY(e)}function EY(e,t={}){const n=Ao(e,Hp);if(n.isInitialized()){const i=n.getImmediate();if(ao(t,n.getOptions()))return i;throw rr.create("already-initialized")}return n.initialize({options:t})}function TY(e,t,n,r){e=ot(e),mY(EL,Du[e.app.options.appId],t,n,r).catch(i=>Bn.error(i))}const MI="@firebase/analytics",LI="0.10.8";function SY(){mi(new Qr(Hp,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return bY(r,i,n)},"PUBLIC")),mi(new Qr("analytics-internal",e,"PRIVATE")),Tr(MI,LI),Tr(MI,LI,"esm2017");function e(t){try{const n=t.getProvider(Hp).getImmediate();return{logEvent:(r,i,s)=>TY(n,r,i,s)}}catch(n){throw rr.create("interop-component-reg-failed",{reason:n})}}}SY();const AY={apiKey:"AIzaSyB6bUM5UFLNcwPYDFPkdW2i6uy-QH7ldsA",authDomain:"quiz-app-85db6.firebaseapp.com",projectId:"quiz-app-85db6",storageBucket:"quiz-app-85db6.firebasestorage.app",messagingSenderId:"609646993082",appId:"1:609646993082:web:202a0d6d0ab5e0c6ac2c83",measurementId:"G-M7B6P9R97Y"},P1=q2().length===0?A_(AY):Qd(),va=aM(P1);tL(P1);_Y(P1);const TL="quizzes",PY=async(e,t)=>{try{let n=$t(Pe(va,TL),vc(t||10));const r=await We(n);return{quizzes:r.docs.map(s=>({id:s.id,...s.data()})),lastDoc:r.docs[r.docs.length-1]}}catch(n){throw console.error("Error fetching quizzes:",n),n instanceof Error?(console.error("Error message:",n.message),n.code&&console.error("Error code:",n.code)):console.error("Unknown error:",n),n}},IY=async e=>{try{const t=Le(va,TL,e),n=await yi(t);if(!n.exists())throw new Error("Quiz not found");return{id:n.id,...n.data()}}catch(t){throw console.error("Error fetching quiz:",t),t}};function SL(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=SL(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function we(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=SL(e))&&(r&&(r+=" "),r+=t);return r}function kY(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}kY(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var of=e=>typeof e=="number"&&!isNaN(e),go=e=>typeof e=="string",is=e=>typeof e=="function",CY=e=>go(e)||of(e),rw=e=>go(e)||is(e)?e:null,NY=(e,t)=>e===!1||of(e)&&e>0?e:t,iw=e=>v.isValidElement(e)||go(e)||is(e)||of(e);function OY(e,t,n=300){let{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function jY({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:a,preventExitTransition:o,done:l,nodeRef:c,isIn:u,playToast:f}){let p=n?`${e}--${a}`:e,m=n?`${t}--${a}`:t,g=v.useRef(0);return v.useLayoutEffect(()=>{let y=c.current,b=p.split(" "),w=x=>{x.target===c.current&&(f(),y.removeEventListener("animationend",w),y.removeEventListener("animationcancel",w),g.current===0&&x.type!=="animationcancel"&&y.classList.remove(...b))};y.classList.add(...b),y.addEventListener("animationend",w),y.addEventListener("animationcancel",w)},[]),v.useEffect(()=>{let y=c.current,b=()=>{y.removeEventListener("animationend",b),r?OY(y,l,i):l()};u||(o?b():(g.current=1,y.className+=` ${m}`,y.addEventListener("animationend",b)))},[u]),xe.createElement(xe.Fragment,null,s)}}function $I(e,t){return{content:AL(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function AL(e,t,n=!1){return v.isValidElement(e)&&!go(e.type)?v.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):is(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function RY({closeToast:e,theme:t,ariaLabel:n="close"}){return xe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},xe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},xe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function DY({delay:e,isRunning:t,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:a,progress:o,rtl:l,isIn:c,theme:u}){let f=i||a&&o===0,p={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};a&&(p.transform=`scaleX(${o})`);let m=we("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),g=is(s)?s({rtl:l,type:r,defaultClassName:m}):we(m,s),y={[a&&o>=1?"onTransitionEnd":"onAnimationEnd"]:a&&o<1?null:()=>{c&&n()}};return xe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},xe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${r}`}),xe.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:g,style:p,...y}))}var MY=1,PL=()=>`${MY++}`;function LY(e,t,n){let r=1,i=0,s=[],a=[],o=t,l=new Map,c=new Set,u=x=>(c.add(x),()=>c.delete(x)),f=()=>{a=Array.from(l.values()),c.forEach(x=>x())},p=({containerId:x,toastId:_,updateId:P})=>{let I=x?x!==e:e!==1,N=l.has(_)&&P==null;return I||N},m=(x,_)=>{l.forEach(P=>{var I;(_==null||_===P.props.toastId)&&((I=P.toggle)==null||I.call(P,x))})},g=x=>{var _,P;(P=(_=x.props)==null?void 0:_.onClose)==null||P.call(_,x.removalReason),x.isActive=!1},y=x=>{if(x==null)l.forEach(g);else{let _=l.get(x);_&&g(_)}f()},b=()=>{i-=s.length,s=[]},w=x=>{var _,P;let{toastId:I,updateId:N}=x.props,T=N==null;x.staleId&&l.delete(x.staleId),x.isActive=!0,l.set(I,x),f(),n($I(x,T?"added":"updated")),T&&((P=(_=x.props).onOpen)==null||P.call(_))};return{id:e,props:o,observe:u,toggle:m,removeToast:y,toasts:l,clearQueue:b,buildToast:(x,_)=>{if(p(_))return;let{toastId:P,updateId:I,data:N,staleId:T,delay:A}=_,k=I==null;k&&i++;let C={...o,style:o.toastStyle,key:r++,...Object.fromEntries(Object.entries(_).filter(([D,R])=>R!=null)),toastId:P,updateId:I,data:N,isIn:!1,className:rw(_.className||o.toastClassName),progressClassName:rw(_.progressClassName||o.progressClassName),autoClose:_.isLoading?!1:NY(_.autoClose,o.autoClose),closeToast(D){l.get(P).removalReason=D,y(P)},deleteToast(){let D=l.get(P);if(D!=null){if(n($I(D,"removed")),l.delete(P),i--,i<0&&(i=0),s.length>0){w(s.shift());return}f()}}};C.closeButton=o.closeButton,_.closeButton===!1||iw(_.closeButton)?C.closeButton=_.closeButton:_.closeButton===!0&&(C.closeButton=iw(o.closeButton)?o.closeButton:!0);let j={content:x,props:C,staleId:T};o.limit&&o.limit>0&&i>o.limit&&k?s.push(j):of(A)?setTimeout(()=>{w(j)},A):w(j)},setProps(x){o=x},setToggle:(x,_)=>{let P=l.get(x);P&&(P.toggle=_)},isToastActive:x=>{var _;return(_=l.get(x))==null?void 0:_.isActive},getSnapshot:()=>a}}var An=new Map,vd=[],sw=new Set,$Y=e=>sw.forEach(t=>t(e)),IL=()=>An.size>0;function zY(){vd.forEach(e=>CL(e.content,e.options)),vd=[]}var VY=(e,{containerId:t})=>{var n;return(n=An.get(t||1))==null?void 0:n.toasts.get(e)};function kL(e,t){var n;if(t)return!!((n=An.get(t))!=null&&n.isToastActive(e));let r=!1;return An.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function FY(e){if(!IL()){vd=vd.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||CY(e))An.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=An.get(e.containerId);t?t.removeToast(e.id):An.forEach(n=>{n.removeToast(e.id)})}}var UY=(e={})=>{An.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function CL(e,t){iw(e)&&(IL()||vd.push({content:e,options:t}),An.forEach(n=>{n.buildToast(e,t)}))}function BY(e){var t;(t=An.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function NL(e,t){An.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function qY(e){let t=e.containerId||1;return{subscribe(n){let r=LY(t,e,$Y);An.set(t,r);let i=r.observe(n);return zY(),()=>{i(),An.delete(t)}},setProps(n){var r;(r=An.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=An.get(t))==null?void 0:n.getSnapshot()}}}function KY(e){return sw.add(e),()=>{sw.delete(e)}}function WY(e){return e&&(go(e.toastId)||of(e.toastId))?e.toastId:PL()}function lf(e,t){return CL(e,t),t.toastId}function qg(e,t){return{...t,type:t&&t.type||e,toastId:WY(t)}}function Kg(e){return(t,n)=>lf(t,qg(e,n))}function V(e,t){return lf(e,qg("default",t))}V.loading=(e,t)=>lf(e,qg("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function HY(e,{pending:t,error:n,success:r},i){let s;t&&(s=go(t)?V.loading(t,i):V.loading(t.render,{...i,...t}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(c,u,f)=>{if(u==null){V.dismiss(s);return}let p={type:c,...a,...i,data:f},m=go(u)?{render:u}:u;return s?V.update(s,{...p,...m}):V(m.render,{...p,...m}),f},l=is(e)?e():e;return l.then(c=>o("success",r,c)).catch(c=>o("error",n,c)),l}V.promise=HY;V.success=Kg("success");V.info=Kg("info");V.error=Kg("error");V.warning=Kg("warning");V.warn=V.warning;V.dark=(e,t)=>lf(e,qg("default",{theme:"dark",...t}));function GY(e){FY(e)}V.dismiss=GY;V.clearWaitingQueue=UY;V.isActive=kL;V.update=(e,t={})=>{let n=VY(e,t);if(n){let{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:PL()};s.toastId!==e&&(s.staleId=e);let a=s.render||i;delete s.render,lf(a,s)}};V.done=e=>{V.update(e,{progress:1})};V.onChange=KY;V.play=e=>NL(!0,e);V.pause=e=>NL(!1,e);function QY(e){var t;let{subscribe:n,getSnapshot:r,setProps:i}=v.useRef(qY(e)).current;i(e);let s=(t=v.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function a(o){if(!s)return[];let l=new Map;return e.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:u}=c.props;l.has(u)||l.set(u,[]),l.get(u).push(c)}),Array.from(l,c=>o(c[0],c[1]))}return{getToastToRender:a,isToastActive:kL,count:s==null?void 0:s.length}}function YY(e){let[t,n]=v.useState(!1),[r,i]=v.useState(!1),s=v.useRef(null),a=v.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:f}=e;BY({id:e.toastId,containerId:e.containerId,fn:n}),v.useEffect(()=>{if(e.pauseOnFocusLoss)return p(),()=>{m()}},[e.pauseOnFocusLoss]);function p(){document.hasFocus()||w(),window.addEventListener("focus",b),window.addEventListener("blur",w)}function m(){window.removeEventListener("focus",b),window.removeEventListener("blur",w)}function g(T){if(e.draggable===!0||e.draggable===T.pointerType){x();let A=s.current;a.canCloseOnClick=!0,a.canDrag=!0,A.style.transition="none",e.draggableDirection==="x"?(a.start=T.clientX,a.removalDistance=A.offsetWidth*(e.draggablePercent/100)):(a.start=T.clientY,a.removalDistance=A.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function y(T){let{top:A,bottom:k,left:C,right:j}=s.current.getBoundingClientRect();T.nativeEvent.type!=="touchend"&&e.pauseOnHover&&T.clientX>=C&&T.clientX<=j&&T.clientY>=A&&T.clientY<=k?w():b()}function b(){n(!0)}function w(){n(!1)}function x(){a.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",I)}function _(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",I)}function P(T){let A=s.current;if(a.canDrag&&A){a.didMove=!0,t&&w(),e.draggableDirection==="x"?a.delta=T.clientX-a.start:a.delta=T.clientY-a.start,a.start!==T.clientX&&(a.canCloseOnClick=!1);let k=e.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;A.style.transform=`translate3d(${k},0)`,A.style.opacity=`${1-Math.abs(a.delta/a.removalDistance)}`}}function I(){_();let T=s.current;if(a.canDrag&&a.didMove&&T){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}T.style.transition="transform 0.2s, opacity 0.2s",T.style.removeProperty("transform"),T.style.removeProperty("opacity")}}let N={onPointerDown:g,onPointerUp:y};return o&&l&&(N.onMouseEnter=w,e.stacked||(N.onMouseLeave=b)),f&&(N.onClick=T=>{u&&u(T),a.canCloseOnClick&&c(!0)}),{playToast:b,pauseToast:w,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:N}}var XY=typeof window<"u"?v.useLayoutEffect:v.useEffect,Wg=({theme:e,type:t,isLoading:n,...r})=>xe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function JY(e){return xe.createElement(Wg,{...e},xe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function ZY(e){return xe.createElement(Wg,{...e},xe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function eX(e){return xe.createElement(Wg,{...e},xe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function tX(e){return xe.createElement(Wg,{...e},xe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function nX(){return xe.createElement("div",{className:"Toastify__spinner"})}var aw={info:ZY,warning:JY,success:eX,error:tX,spinner:nX},rX=e=>e in aw;function iX({theme:e,type:t,isLoading:n,icon:r}){let i=null,s={theme:e,type:t};return r===!1||(is(r)?i=r({...s,isLoading:n}):v.isValidElement(r)?i=v.cloneElement(r,s):n?i=aw.spinner():rX(t)&&(i=aw[t](s))),i}var sX=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=YY(e),{closeButton:a,children:o,autoClose:l,onClick:c,type:u,hideProgressBar:f,closeToast:p,transition:m,position:g,className:y,style:b,progressClassName:w,updateId:x,role:_,progress:P,rtl:I,toastId:N,deleteToast:T,isIn:A,isLoading:k,closeOnClick:C,theme:j,ariaLabel:D}=e,R=we("Toastify__toast",`Toastify__toast-theme--${j}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":I},{"Toastify__toast--close-on-click":C}),Q=is(y)?y({rtl:I,position:g,type:u,defaultClassName:R}):we(R,y),de=iX(e),ue=!!P||!l,X={closeToast:p,type:u,theme:j},U=null;return a===!1||(is(a)?U=a(X):v.isValidElement(a)?U=v.cloneElement(a,X):U=RY(X)),xe.createElement(m,{isIn:A,done:T,position:g,preventExitTransition:n,nodeRef:r,playToast:s},xe.createElement("div",{id:N,tabIndex:0,onClick:c,"data-in":A,className:Q,...i,style:b,ref:r,...A&&{role:_,"aria-label":D}},de!=null&&xe.createElement("div",{className:we("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!k})},de),AL(o,e,!t),U,!e.customProgressBar&&xe.createElement(DY,{...x&&!ue?{key:`p-${x}`}:{},rtl:I,theme:j,delay:l,isRunning:t,isIn:A,closeToast:p,hide:f,type:u,className:w,controlledProgress:ue,progress:P||0})))},aX=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),oX=jY(aX("bounce",!0)),lX={position:"top-right",transition:oX,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function cX(e){let t={...lX,...e},n=e.stacked,[r,i]=v.useState(!0),s=v.useRef(null),{getToastToRender:a,isToastActive:o,count:l}=QY(t),{className:c,style:u,rtl:f,containerId:p,hotKeys:m}=t;function g(b){let w=we("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":f});return is(c)?c({position:b,rtl:f,defaultClassName:w}):we(w,rw(c))}function y(){n&&(i(!0),V.play())}return XY(()=>{var b;if(n){let w=s.current.querySelectorAll('[data-in="true"]'),x=12,_=(b=t.position)==null?void 0:b.includes("top"),P=0,I=0;Array.from(w).reverse().forEach((N,T)=>{let A=N;A.classList.add("Toastify__toast--stacked"),T>0&&(A.dataset.collapsed=`${r}`),A.dataset.pos||(A.dataset.pos=_?"top":"bot");let k=P*(r?.2:1)+(r?0:x*T);A.style.setProperty("--y",`${_?k:k*-1}px`),A.style.setProperty("--g",`${x}`),A.style.setProperty("--s",`${1-(r?I:0)}`),P+=A.offsetHeight,I+=.025})}},[r,l,n]),v.useEffect(()=>{function b(w){var x;let _=s.current;m(w)&&((x=_.querySelector('[tabIndex="0"]'))==null||x.focus(),i(!1),V.pause()),w.key==="Escape"&&(document.activeElement===_||_!=null&&_.contains(document.activeElement))&&(i(!0),V.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[m]),xe.createElement("section",{ref:s,className:"Toastify",id:p,onMouseEnter:()=>{n&&(i(!1),V.pause())},onMouseLeave:y,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},a((b,w)=>{let x=w.length?{...u}:{...u,pointerEvents:"none"};return xe.createElement("div",{tabIndex:-1,className:g(b),"data-stacked":n,style:x,key:`c-${b}`},w.map(({content:_,props:P})=>xe.createElement(sX,{...P,stacked:n,collapseAll:y,isIn:o(P.toastId,P.containerId),key:`t-${P.key}`},_)))}))}const I1="quizzes",xd="quizResults",k1=e=>{const t={...e};return["createdAt","updatedAt","submittedAt","completedAt","approvedAt"].forEach(r=>{var i;t[r]&&((i=t[r])!=null&&i.toDate?t[r]=t[r].toDate().toISOString():t[r]instanceof Date?t[r]=t[r].toISOString():typeof t[r]!="string"&&(t[r]=""))}),t},uX=async(e,t)=>{try{const n=Le(va,I1,e);await Et(n,{...t,updatedAt:new Date}),V.success("Cập nhật quiz thành công!")}catch(n){throw console.error("Error updating quiz:",n),V.error("Không thể cập nhật quiz"),new Error("Không thể cập nhật quiz")}},dX=async e=>{try{const t=await yi(Le(va,I1,e));if(t.exists()){const n=t.data(),r=k1(n);return{id:t.id,...r}}return null}catch(t){throw console.error("Error fetching quiz:",t),new Error("Không thể tải quiz")}},fX=async e=>{if(!e.userId||!e.quizId||typeof e.score!="number"||!Array.isArray(e.answers)||!e.completedAt)throw console.error("❌ [submitQuizResult] Thiếu trường bắt buộc:",e),new Error("Thiếu trường bắt buộc khi lưu kết quả quiz");if(isNaN(e.score)||e.score<0||e.score>100)throw console.error("❌ [submitQuizResult] Điểm số không hợp lệ:",e.score),new Error("Điểm số không hợp lệ");try{const t=await Ys(Pe(va,xd),e);return V.success("Nộp bài thành công!"),t.id}catch(t){throw console.error("Error submitting quiz result:",t,e),V.error("Không thể lưu kết quả quiz"),new Error("Không thể lưu kết quả quiz")}},hX=async e=>{try{console.log("🔍 getQuizResults called for quizId:",e),console.log("🔍 Collection name:",xd);const t=$t(Pe(va,xd),wr("quizId","==",e),ma("completedAt","desc"));console.log("🔍 Executing Firestore query...");const n=await We(t),r=[];return console.log("📊 Found",n.size,"quiz results"),n.empty?(console.log("📊 No quiz results found for quizId:",e),console.log("📊 This could mean:"),console.log("   - No one has completed this quiz yet"),console.log("   - The quizId is incorrect"),console.log("   - There are Firestore permission issues"),[]):(n.forEach(i=>{const s=i.data();console.log("📊 Raw document data:",{id:i.id,...s});const a=k1(s),o={id:i.id,...a};console.log("📊 Converted quiz result:",o),r.push(o)}),console.log("📊 Returning",r.length,"quiz results"),r)}catch(t){throw console.error("❌ Error fetching quiz results:",t),console.error("❌ Error details:",{message:t==null?void 0:t.message,code:t==null?void 0:t.code,name:t==null?void 0:t.name}),new Error("Không thể tải kết quả quiz")}};async function pX(e){const t=Le(va,"quizResults",e),n=await yi(t);if(n.exists()){const r=n.data(),i=k1(r);return{id:n.id,...i}}return null}const Lge=Object.freeze(Object.defineProperty({__proto__:null,QUIZZES_COLLECTION:I1,QUIZ_RESULTS_COLLECTION:xd,getQuizById:dX,getQuizResultById:pX,getQuizResults:hX,submitQuizResult:fX,updateQuiz:uX},Symbol.toStringTag,{value:"Module"})),mX=async e=>{try{const t=$t(Pe(va,xd),wr("userId","==",e),ma("completedAt","desc")),n=await We(t),r=[];return n.forEach(i=>{var a;const s=i.data();r.push({id:i.id,...s,completedAt:(a=s.completedAt)!=null&&a.toDate?s.completedAt.toDate().toISOString():s.completedAt instanceof Date?s.completedAt.toISOString():typeof s.completedAt=="string"?s.completedAt:""})}),r}catch(t){throw console.error("Error fetching user quiz results:",t),new Error("Không thể tải kết quả quiz")}},Jh=_2("quiz/fetchQuizzes",async(e,{rejectWithValue:t})=>{try{return(await PY(void 0,void 0)).quizzes}catch(n){return console.error("Failed to fetch quizzes:",n),n.type==="CONNECTION_ERROR"?t("Không thể kết nối đến server. Vui lòng kiểm tra kết nối mạng của bạn."):n.type==="TIMEOUT_ERROR"?t("Server không phản hồi. Vui lòng thử lại sau."):t("Đã có lỗi xảy ra khi tải danh sách quiz. Vui lòng thử lại.")}}),e0=_2("quiz/fetchQuizById",async e=>await IY(e)),$ge=e=>async t=>{try{const n=await mX(e);t({type:"quiz/setUserResults",payload:n})}catch{}},gX={quizzes:[],currentQuiz:null,userResults:[],loading:!1,isLoading:!1,error:null,connectionError:!1,filters:{category:"all",difficulty:void 0,searchTerm:""},currentQuestionIndex:0,userAnswers:{},timeLeft:0,quizStartTime:null,retryCount:0,lastError:null,isTimeWarning:!1,totalTime:0},OL=qn({name:"quiz",initialState:gX,reducers:{setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload},setQuizzes:(e,t)=>{e.quizzes=t.payload},addQuiz:(e,t)=>{e.quizzes.unshift(t.payload)},updateQuiz:(e,t)=>{const n=e.quizzes.findIndex(r=>r.id===t.payload.id);n!==-1&&(e.quizzes[n]=t.payload)},removeQuiz:(e,t)=>{e.quizzes=e.quizzes.filter(n=>n.id!==t.payload)},setCurrentQuiz:(e,t)=>{e.currentQuiz=t.payload,t.payload?(e.currentQuestionIndex=0,e.userAnswers={},e.totalTime=t.payload.duration*60,e.timeLeft=e.totalTime,e.quizStartTime=Date.now(),e.isTimeWarning=!1):(e.currentQuestionIndex=0,e.userAnswers={},e.timeLeft=0,e.quizStartTime=null,e.totalTime=0,e.isTimeWarning=!1)},updateTimeLeft:e=>{if(e.quizStartTime&&e.totalTime>0){const t=Math.floor((Date.now()-e.quizStartTime)/1e3),n=Math.max(e.totalTime-t,0);e.timeLeft=n,e.isTimeWarning=n<=Math.ceil(e.totalTime*.1)}},decrementTime:e=>{e.timeLeft>0&&(e.timeLeft-=1,e.isTimeWarning=e.timeLeft<=Math.ceil(e.totalTime*.1))},setUserAnswer:(e,t)=>{e.userAnswers[t.payload.questionId]=t.payload.answerId},clearUserAnswers:e=>{e.userAnswers={}},setTimeLeft:(e,t)=>{e.timeLeft=t.payload},setUserResults:(e,t)=>{e.userResults=t.payload},addUserResult:(e,t)=>{e.userResults.unshift(t.payload)},setFilters:(e,t)=>{e.filters=t.payload},updateFilter:(e,t)=>{e.filters={...e.filters,...t.payload}},clearFilters:e=>{e.filters={}},resetQuizState:e=>{e.currentQuiz=null,e.currentQuestionIndex=0,e.userAnswers={},e.timeLeft=0,e.quizStartTime=null,e.totalTime=0,e.isTimeWarning=!1}},extraReducers:e=>{e.addCase(Jh.pending,t=>{t.loading=!0,t.isLoading=!0,t.error=null}).addCase(Jh.fulfilled,(t,n)=>{t.loading=!1,t.isLoading=!1,t.quizzes=n.payload}).addCase(Jh.rejected,(t,n)=>{t.loading=!1,t.isLoading=!1,t.error=n.error.message||"Lỗi khi tải quiz"}).addCase(e0.pending,t=>{t.loading=!0,t.error=null}).addCase(e0.fulfilled,(t,n)=>{t.loading=!1,n.payload&&(t.currentQuiz=n.payload,t.quizzes.find(i=>i.id===n.payload.id)||t.quizzes.push(n.payload))}).addCase(e0.rejected,(t,n)=>{t.loading=!1,t.error=n.error.message||"Lỗi khi tải quiz"}).addCase("quiz/setUserResults",(t,n)=>{t.userResults=n.payload})}}),{setCurrentQuiz:zge,updateTimeLeft:Vge}=OL.actions,yX=OL.reducer,vX=()=>e=>t=>{try{return e(t)}catch(n){console.error("Redux Error:",n),V.error("Đã xảy ra lỗi. Vui lòng tải lại trang.");return}},jL=x2({reducer:{auth:d8,quiz:yX},middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE","quiz/fetchQuizzes/fulfilled","quiz/fetchQuizById/fulfilled"],ignoredPaths:["quiz.quizzes","quiz.currentQuiz","quiz.userResults"]},immutableCheck:{warnAfter:128},thunk:{extraArgument:{timeout:1e4}}}).concat(vX)}),xX={apiKey:"AIzaSyB6bUM5UFLNcwPYDFPkdW2i6uy-QH7ldsA",authDomain:"quiz-app-85db6.firebaseapp.com",projectId:"quiz-app-85db6",storageBucket:"quiz-app-85db6.appspot.com",messagingSenderId:"609646993082",appId:"1:609646993082:web:202a0d6d0ab5e0c6ac2c83",measurementId:"G-M7B6P9R97Y"},RL=q2().length===0?A_(xX):Qd(),Ki=tL(RL);WH(Ki,KM).catch(e=>{console.error("Auth persistence error:",e),V.error("Có lỗi xảy ra khi thiết lập xác thực. Vui lòng tải lại trang.")});const oe=aM(RL),zI=()=>d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900",children:[d.jsx("nav",{className:"flex items-center justify-between p-4 sm:p-6",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center mr-2 sm:mr-3",children:d.jsx("span",{className:"text-white text-lg sm:text-xl font-bold",children:"Q"})}),d.jsx("span",{className:"text-white text-lg sm:text-xl font-bold",children:"Quiz Trivia"})]})}),d.jsx("div",{className:"flex items-center justify-center min-h-[80vh] px-4",children:d.jsxs("div",{className:"text-center text-white max-w-4xl",children:[d.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold mb-4 sm:mb-6 bg-gradient-to-r from-blue-200 to-purple-200 bg-clip-text text-transparent leading-tight",children:"Thử thách kiến thức của bạn"}),d.jsx("p",{className:"text-lg sm:text-xl text-blue-100 mb-6 sm:mb-8 max-w-2xl mx-auto px-4 leading-relaxed",children:"Khám phá hàng ngàn quiz thú vị, thử thách bản thân và nâng cao kiến thức với Quiz Trivia - nền tảng quiz tương tác hàng đầu!"}),d.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4 justify-center mb-8 sm:mb-12 px-4",children:[d.jsx(De,{to:"/login",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 sm:px-8 py-3 sm:py-4 rounded-xl font-semibold text-base sm:text-lg transition-all duration-200 transform hover:scale-105 shadow-lg",children:"Bắt đầu ngay - Miễn phí!"}),d.jsx(De,{to:"/login",className:"border-2 border-white text-white hover:bg-white hover:text-blue-900 px-6 sm:px-8 py-3 sm:py-4 rounded-xl font-semibold text-base sm:text-lg transition-all duration-200",children:"Đã có tài khoản?"})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8 mt-8 sm:mt-12 lg:mt-16 px-4",children:[d.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4 sm:p-6",children:[d.jsx("div",{className:"text-3xl sm:text-4xl mb-3 sm:mb-4",children:"🎯"}),d.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:"Đa dạng chủ đề"}),d.jsx("p",{className:"text-blue-100 text-sm sm:text-base",children:"Khoa học, lịch sử, thể thao, giải trí và nhiều chủ đề hấp dẫn khác"})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4 sm:p-6",children:[d.jsx("div",{className:"text-3xl sm:text-4xl mb-3 sm:mb-4",children:"⏱️"}),d.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:"Thời gian thực"}),d.jsx("p",{className:"text-blue-100 text-sm sm:text-base",children:"Thử thách với timer đếm ngược và theo dõi tiến độ realtime"})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4 sm:p-6 sm:col-span-2 lg:col-span-1",children:[d.jsx("div",{className:"text-3xl sm:text-4xl mb-3 sm:mb-4",children:"🏆"}),d.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:"Xếp hạng & Thành tích"}),d.jsx("p",{className:"text-blue-100 text-sm sm:text-base",children:"Theo dõi điểm số, thống kê và so sánh với bạn bè"})]})]})]})}),d.jsx("div",{className:"py-8 sm:py-12 lg:py-16 bg-white/5 backdrop-blur-sm",children:d.jsx("div",{className:"max-w-6xl mx-auto px-4",children:d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 lg:gap-8 text-center text-white",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-blue-300 mb-1 sm:mb-2",children:"1000+"}),d.jsx("div",{className:"text-blue-100 text-xs sm:text-sm lg:text-base",children:"Quiz đa dạng"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-purple-300 mb-1 sm:mb-2",children:"10K+"}),d.jsx("div",{className:"text-blue-100 text-xs sm:text-sm lg:text-base",children:"Người chơi"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-indigo-300 mb-1 sm:mb-2",children:"50K+"}),d.jsx("div",{className:"text-blue-100 text-xs sm:text-sm lg:text-base",children:"Lượt chơi"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-cyan-300 mb-1 sm:mb-2",children:"24/7"}),d.jsx("div",{className:"text-blue-100 text-xs sm:text-sm lg:text-base",children:"Hỗ trợ"})]})]})})}),d.jsx("footer",{className:"text-center text-blue-200 py-4 sm:py-6 lg:py-8 px-4",children:d.jsx("p",{children:"© 2025 Quiz Trivia. Tất cả quyền được bảo lưu."})})]});/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bX=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),VI=e=>{const t=bX(e);return t.charAt(0).toUpperCase()+t.slice(1)},DL=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),_X=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>v.createElement("svg",{ref:l,...EX,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:DL("lucide",i),...!s&&!_X(o)&&{"aria-hidden":"true"},...o},[...a.map(([c,u])=>v.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(e,t)=>{const n=v.forwardRef(({className:r,...i},s)=>v.createElement(TX,{ref:s,iconNode:t,className:DL(`lucide-${wX(VI(e))}`,`lucide-${e}`,r),...i}));return n.displayName=VI(e),n};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SX=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],AX=Se("activity",SX);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PX=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],IX=Se("award",PX);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kX=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ul=Se("book-open",kX);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CX=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],NX=Se("chart-column",CX);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OX=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],t0=Se("check",OX);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]],RX=Se("chrome",jX);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],n0=Se("circle-alert",DX);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MX=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ML=Se("circle-check-big",MX);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],FI=Se("circle-x",LX);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],UI=Se("clock",$X);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],VX=Se("download",zX);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FX=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],BI=Se("eye-off",FX);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UX=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ls=Se("eye",UX);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BX=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],qI=Se("file-text",BX);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qX=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],KX=Se("file",qX);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WX=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],HX=Se("image",WX);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GX=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],KI=Se("lock",GX);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QX=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],LL=Se("mail",QX);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YX=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],XX=Se("message-square",YX);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JX=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ZX=Se("pen-line",JX);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eJ=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Il=Se("refresh-cw",eJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tJ=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],WI=Se("rotate-ccw",tJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nJ=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],rJ=Se("search",nJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iJ=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],HI=Se("sparkles",iJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sJ=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],aJ=Se("square-pen",sJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oJ=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],r0=Se("star",oJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],GI=Se("target",lJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cJ=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],uJ=Se("timer",cJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dJ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fJ=Se("trash-2",dJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],pJ=Se("trending-down",hJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mJ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],gJ=Se("trending-up",mJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],QI=Se("upload",yJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ow=Se("user",vJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],YI=Se("users",xJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],XI=Se("wand-sparkles",wJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hh=Se("x",bJ),ri="quizReviews",_J={async createReview(e,t,n,r){try{console.log("Creating review with data:",{reviewData:e,userId:t,userName:n,userAvatar:r});const i={...e,userId:t,userName:n,userAvatar:r||null,createdAt:new Date,updatedAt:new Date,helpful:[],reported:[]};console.log("Review document to be saved:",i);const s=await Ys(Pe(oe,ri),i);console.log("Review saved successfully with ID:",s.id);try{await this.updateQuizReviewStats(e.quizId),console.log("Quiz stats updated successfully")}catch(a){console.warn("Error updating quiz stats (review still saved):",a)}return s.id}catch(i){throw console.error("Error creating review:",i),console.error("Error details:",JSON.stringify(i,null,2)),new Error(`Không thể tạo đánh giá: ${i instanceof Error?i.message:"Unknown error"}`)}},async getQuizReviewsSimple(e){try{console.log(`🔍 Getting reviews (simple) for quiz: ${e}`);const t=$t(Pe(oe,ri),wr("quizId","==",e)),r=(await We(t)).docs.map(i=>{var a,o;const s=i.data();return{id:i.id,...s,createdAt:(a=s.createdAt)!=null&&a.toDate?s.createdAt.toDate():new Date(s.createdAt)||new Date,updatedAt:(o=s.updatedAt)!=null&&o.toDate?s.updatedAt.toDate():new Date(s.updatedAt)||new Date}});return r.sort((i,s)=>s.createdAt.getTime()-i.createdAt.getTime()),console.log(`✅ Found ${r.length} reviews for quiz ${e} (simple query)`),r}catch(t){throw console.error("Error getting quiz reviews (simple):",t),t}},async getQuizReviews(e,t="newest",n=50){try{console.log(`🔍 Getting reviews for quiz: ${e}, sortBy: ${t}`);const r=$t(Pe(oe,ri),wr("quizId","==",e),vc(n));let s=(await We(r)).docs.map(a=>{var l,c;const o=a.data();return{id:a.id,...o,createdAt:(l=o.createdAt)!=null&&l.toDate?o.createdAt.toDate():new Date(o.createdAt)||new Date,updatedAt:(c=o.updatedAt)!=null&&c.toDate?o.updatedAt.toDate():new Date(o.updatedAt)||new Date}});switch(t){case"newest":s=s.sort((a,o)=>o.createdAt.getTime()-a.createdAt.getTime());break;case"oldest":s=s.sort((a,o)=>a.createdAt.getTime()-o.createdAt.getTime());break;case"helpful":s=s.sort((a,o)=>{var l,c;return(((l=o.helpful)==null?void 0:l.length)||0)-(((c=a.helpful)==null?void 0:c.length)||0)});break}return console.log(`✅ Found ${s.length} reviews for quiz ${e}`),s}catch(r){throw console.error("Error getting quiz reviews:",r),r}},async getQuizReviewStats(e){try{const t=$t(Pe(oe,ri),wr("quizId","==",e)),r=(await We(t)).docs.map(l=>l.data()),i=r.length;if(i===0)return{totalReviews:0,averageRating:0,ratingDistribution:{1:0,2:0,3:0,4:0,5:0}};const a=r.reduce((l,c)=>l+c.rating,0)/i,o={1:0,2:0,3:0,4:0,5:0};return r.forEach(l=>{o[l.rating]++}),{totalReviews:i,averageRating:Math.round(a*10)/10,ratingDistribution:o}}catch(t){throw console.error("Error getting quiz review stats:",t),t}},async updateReview(e,t){try{const n=Le(oe,ri,e);await Et(n,{...t,updatedAt:new Date});const r=await yi(n);r.exists()&&await this.updateQuizReviewStats(r.data().quizId)}catch(n){throw console.error("Error updating review:",n),n}},async deleteReview(e){try{const t=Le(oe,ri,e),n=await yi(t);if(n.exists()){const r=n.data().quizId;await Tl(t),await this.updateQuizReviewStats(r)}}catch(t){throw console.error("Error deleting review:",t),t}},async markReviewHelpful(e,t){try{const n=Le(oe,ri,e);await Et(n,{helpful:Xx(t)})}catch(n){throw console.error("Error marking review as helpful:",n),n}},async removeHelpfulMark(e,t){try{const n=Le(oe,ri,e);await Et(n,{helpful:xM(t)})}catch(n){throw console.error("Error removing helpful mark:",n),n}},async reportReview(e,t){try{const n=Le(oe,ri,e);await Et(n,{reported:Xx(t)})}catch(n){throw console.error("Error reporting review:",n),n}},async updateQuizReviewStats(e){try{const t=await this.getQuizReviewStats(e),n=Le(oe,"quizzes",e);await Et(n,{reviewStats:t,averageRating:t.averageRating,totalReviews:t.totalReviews})}catch(t){throw console.error("Error updating quiz review stats:",t),t}},async getUserReview(e,t){try{const n=$t(Pe(oe,ri),wr("quizId","==",e),wr("userId","==",t)),r=await We(n);if(r.empty)return null;const i=r.docs[0];return{id:i.id,...i.data(),createdAt:i.data().createdAt.toDate(),updatedAt:i.data().updatedAt.toDate()}}catch(n){throw console.error("Error getting user review:",n),n}}},EJ=({quiz:e,viewMode:t="grid"})=>{const n=m=>{switch(m){case"easy":return"bg-green-100 text-green-800 border-green-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"hard":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},r=m=>{if(m<60)return`${m}m`;const g=Math.floor(m/60),y=m%60;return y>0?`${g}h ${y}m`:`${g}h`},i=({rating:m,reviewCount:g,size:y="sm"})=>{const b=y==="sm"?"w-4 h-4":"w-5 h-5",w=y==="sm"?"text-sm":"text-base";return d.jsxs("div",{className:`flex items-center gap-1 ${w}`,children:[d.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(x=>d.jsx(r0,{className:`${b} ${x<=Math.round(m)?"text-yellow-400 fill-current":"text-gray-300"}`},x))}),d.jsx("span",{className:"text-gray-600 font-medium",children:m.toFixed(1)}),d.jsxs("span",{className:"text-gray-500",children:["(",g,")"]})]})},s=sr(m=>m.auth.user),[a,o]=v.useState(!1),[l,c]=v.useState(!1),[u,f]=v.useState(null);v.useEffect(()=>{(async()=>{try{const g=await _J.getQuizReviewStats(e.id);f(g)}catch(g){console.error("Error fetching review stats:",g)}})()},[e.id]),v.useEffect(()=>{if(!s)return;(async()=>{const g=Le(oe,"user_favorites",s.uid),y=await yi(g);if(y.exists()){const b=y.data();o(Array.isArray(b.quizIds)&&b.quizIds.includes(e.id))}else o(!1)})()},[s,e.id]);const p=async m=>{if(m.preventDefault(),!s)return;c(!0);const g=Le(oe,"user_favorites",s.uid);try{(await yi(g)).exists()?await Et(g,{quizIds:a?xM(e.id):Xx(e.id)}):await Ql(g,{quizIds:[e.id]}),o(!a),V.success(a?"Đã bỏ yêu thích quiz!":"Đã thêm vào yêu thích!"),window.location.pathname.startsWith("/favorites")&&window.location.reload()}catch{V.error("Lỗi khi cập nhật yêu thích!")}finally{c(!1)}};return t==="list"?d.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden flex-shrink-0 bg-gradient-to-br from-blue-500 to-purple-600 relative",children:e.imageUrl?d.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover"}):d.jsx("div",{className:"w-full h-full flex items-center justify-center text-white text-2xl font-bold",children:e.category.charAt(0).toUpperCase()})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate pr-4",children:e.title}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[d.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${n(e.difficulty)}`,children:e.difficulty.charAt(0).toUpperCase()+e.difficulty.slice(1)}),e.isCompleted&&d.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded font-medium",children:"✓ Hoàn thành"})]})]}),d.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-1",children:e.description}),d.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500 mb-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),e.category]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.questions.length," câu hỏi"]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),r(e.duration)]}),e.totalPlayers&&d.jsxs("div",{className:"flex items-center",children:[d.jsx(Ls,{className:"w-4 h-4 mr-1"}),e.totalPlayers," lượt chơi"]}),u&&u.totalReviews>0&&d.jsx(i,{rating:u.averageRating,reviewCount:u.totalReviews})]}),e.tags&&e.tags.length>0&&d.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[e.tags.slice(0,4).map((m,g)=>d.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:m},g)),e.tags.length>4&&d.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:["+",e.tags.length-4]})]})]}),d.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[d.jsx("button",{onClick:p,disabled:!s||l,className:`p-2 border rounded-lg transition-colors ${a?"bg-yellow-100 border-yellow-400 text-yellow-600":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,title:a?"Bỏ yêu thích":"Yêu thích quiz này",children:d.jsx("svg",{className:"w-5 h-5",fill:a?"gold":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),d.jsx(De,{to:`/quiz/${e.id}/reviews`,className:"p-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",title:"Xem đánh giá",children:d.jsx(Ls,{className:"w-5 h-5"})}),d.jsx(De,{to:`/quiz/${e.id}/preview`,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 px-6 rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-200",onClick:()=>console.log("Quiz card clicked:",e.id,e.title),children:e.isCompleted?"Chơi lại":"Xem chi tiết"})]})]})}):d.jsxs("div",{className:"bg-white rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden border border-gray-100 hover:border-blue-300 group transform hover:scale-105 cursor-pointer flex flex-col h-full",children:[d.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-700 overflow-hidden",children:[e.imageUrl?d.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):d.jsxs("div",{className:"w-full h-full flex items-center justify-center relative",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400/20 to-purple-600/20 backdrop-blur-3xl"}),d.jsx("div",{className:"relative text-white text-6xl font-bold opacity-30 drop-shadow-lg",children:e.category.charAt(0).toUpperCase()}),d.jsx("div",{className:"absolute bottom-4 left-4 text-white/90 font-semibold text-sm px-3 py-1 bg-white/20 backdrop-blur-sm rounded-full border border-white/30",children:e.category})]}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-black/20 to-transparent z-10"}),d.jsxs("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2 z-20",children:[d.jsx("span",{className:`px-3 py-1.5 rounded-2xl text-xs font-semibold backdrop-blur-sm shadow-lg ${n(e.difficulty)}`,children:e.difficulty==="easy"?"🟢 Dễ":e.difficulty==="medium"?"🟡 Trung bình":"🔴 Khó"}),e.isPublic&&d.jsx("span",{className:"px-3 py-1.5 rounded-2xl text-xs font-semibold bg-green-500/80 text-white backdrop-blur-sm shadow-lg",children:"📢 Công khai"})]}),d.jsx("div",{className:"absolute top-4 right-4 z-20",children:d.jsx("button",{onClick:p,disabled:!s||l,className:`p-2.5 backdrop-blur-sm rounded-2xl shadow-lg transition-all duration-300 ${a?"bg-yellow-400/90 border border-yellow-300 text-yellow-900":"bg-white/20 border border-white/30 text-white hover:bg-white/30"}`,title:a?"Bỏ yêu thích":"Yêu thích quiz này",children:d.jsx("svg",{className:"w-5 h-5",fill:a?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})})}),d.jsxs("div",{className:"absolute bottom-4 left-4 right-4 z-20 flex items-center justify-between",children:[d.jsx("div",{className:"flex items-center space-x-3",children:e.totalPlayers&&d.jsxs("div",{className:"flex items-center text-white/90 text-sm bg-black/30 backdrop-blur-sm px-3 py-1.5 rounded-2xl",children:[d.jsx(Ls,{className:"w-4 h-4 mr-1.5"}),e.totalPlayers]})}),u&&u.totalReviews>0&&d.jsxs("div",{className:"flex items-center text-white text-sm bg-black/30 backdrop-blur-sm px-3 py-1.5 rounded-2xl",children:[d.jsx(r0,{className:"w-4 h-4 mr-1.5 fill-current text-yellow-400"}),u.averageRating.toFixed(1)]})]})]}),d.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[d.jsx("div",{className:"flex items-start justify-between mb-4",children:d.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-2 flex-1",children:e.title})}),d.jsx("p",{className:"text-gray-600 text-sm mb-6 line-clamp-2 leading-relaxed",children:e.description}),d.jsxs("div",{className:"space-y-4 mb-6",children:[d.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),d.jsx("span",{className:"font-medium",children:e.category})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-2 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("span",{className:"font-medium",children:r(e.duration)})]})]}),d.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-2 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsxs("span",{className:"font-medium",children:[e.questions.length," câu hỏi"]})]}),u&&u.totalReviews>0&&d.jsxs("div",{className:"flex items-center",children:[d.jsx(r0,{className:"w-4 h-4 mr-1 text-yellow-500 fill-current"}),d.jsxs("span",{className:"font-medium",children:[u.averageRating.toFixed(1)," (",u.totalReviews,")"]})]})]})]}),e.isCompleted&&d.jsxs("div",{className:"flex items-center text-green-600 text-sm mb-4 bg-green-50 px-3 py-2 rounded-2xl border border-green-200",children:[d.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),d.jsxs("span",{className:"font-semibold",children:["Đã hoàn thành: ",e.score,"%"]})]}),e.tags&&e.tags.length>0&&d.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[e.tags.slice(0,3).map((m,g)=>d.jsxs("span",{className:"px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-700 text-xs rounded-2xl font-medium transition-colors",children:["#",m]},g)),e.tags.length>3&&d.jsxs("span",{className:"px-3 py-1.5 bg-gray-100 text-gray-600 text-xs rounded-2xl font-medium",children:["+",e.tags.length-3," more"]})]}),d.jsxs("div",{className:"flex gap-3 mt-auto pt-4 border-t border-gray-100",children:[d.jsx(De,{to:`/quiz/${e.id}`,className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white py-3 px-6 rounded-2xl font-semibold text-center transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",onClick:()=>console.log("Quiz card clicked:",e.id,e.title),children:e.isCompleted?"🔄 Chơi lại":"🚀 Bắt đầu"}),d.jsx(De,{to:`/quiz/${e.id}/reviews`,className:"px-4 py-3 border-2 border-gray-200 hover:border-blue-300 text-gray-700 hover:text-blue-600 rounded-2xl transition-all duration-300 hover:bg-blue-50",title:"Xem đánh giá",children:d.jsx(Ls,{className:"w-5 h-5"})})]})]})]})},Fge=()=>d.jsxs("div",{className:"bg-white rounded-xl shadow-lg animate-pulse h-96 flex flex-col",children:[d.jsx("div",{className:"h-48 bg-gray-200 w-full"}),d.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[d.jsx("div",{className:"h-6 bg-gray-200 rounded w-2/3 mb-4"}),d.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),d.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-6"}),d.jsxs("div",{className:"flex gap-2 mt-auto",children:[d.jsx("div",{className:"h-10 w-24 bg-gray-200 rounded"}),d.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded"})]})]})]}),i0=({variant:e="primary",size:t="md",loading:n=!1,icon:r,children:i,className:s="",disabled:a,...o})=>{const l="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",c={primary:"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500",secondary:"bg-gray-600 hover:bg-gray-700 text-white focus:ring-gray-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",outline:"border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white focus:ring-blue-500"},u={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},f=a||n;return d.jsxs("button",{className:`
        ${l}
        ${c[e]}
        ${u[t]}
        ${f?"opacity-50 cursor-not-allowed":""}
        ${s}
      `,disabled:f,...o,children:[n&&d.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!n&&r&&d.jsx("span",{className:"mr-2",children:r}),i]})},TJ=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(!0),[i,s]=v.useState("all");v.useEffect(()=>{(async()=>{try{r(!0),t([{id:"1",title:"JavaScript Fundamentals",description:"Kiến thức cơ bản về JavaScript",category:"Programming",difficulty:"easy",questions:[],duration:15,createdBy:"system",createdAt:new Date,updatedAt:new Date,isPublished:!0,tags:["javascript","basic"],attempts:1250,averageScore:78.5,totalPlayers:890,status:"approved"},{id:"2",title:"React Hooks Deep Dive",description:"Tìm hiểu sâu về React Hooks",category:"Programming",difficulty:"medium",questions:[],duration:20,createdBy:"system",createdAt:new Date,updatedAt:new Date,isPublished:!0,tags:["react","hooks"],attempts:980,averageScore:72.3,totalPlayers:654,status:"approved"},{id:"3",title:"HTML & CSS Basics",description:"Nền tảng HTML và CSS",category:"Web Development",difficulty:"easy",questions:[],duration:12,createdBy:"system",createdAt:new Date,updatedAt:new Date,isPublished:!0,tags:["html","css"],attempts:875,averageScore:82.1,totalPlayers:567,status:"approved"},{id:"4",title:"TypeScript Advanced",description:"TypeScript nâng cao",category:"Programming",difficulty:"hard",questions:[],duration:25,createdBy:"system",createdAt:new Date,updatedAt:new Date,isPublished:!0,tags:["typescript","advanced"],attempts:432,averageScore:65.8,totalPlayers:298,status:"approved"},{id:"5",title:"Node.js Backend Development",description:"Phát triển backend với Node.js",category:"Backend",difficulty:"medium",questions:[],duration:18,createdBy:"system",createdAt:new Date,updatedAt:new Date,isPublished:!0,tags:["nodejs","backend"],attempts:623,averageScore:70.4,totalPlayers:401,status:"approved"}])}catch(u){console.error("Error loading popular quizzes:",u)}finally{r(!1)}})()},[i]);const a=c=>{switch(c){case"easy":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"hard":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},o=c=>{switch(c){case 0:return"🥇";case 1:return"🥈";case 2:return"🥉";default:return`#${c+1}`}},l=c=>{switch(c){case 0:return"bg-gradient-to-r from-yellow-400 to-yellow-600 text-white";case 1:return"bg-gradient-to-r from-gray-400 to-gray-600 text-white";case 2:return"bg-gradient-to-r from-orange-400 to-orange-600 text-white";default:return"bg-blue-100 text-blue-800"}};return d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"🔥 Quiz Phổ Biến Nhất"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Thời gian:"}),d.jsxs("select",{value:i,onChange:c=>s(c.target.value),className:"border border-gray-300 rounded-lg px-3 py-1 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[d.jsx("option",{value:"all",children:"Tất cả"}),d.jsx("option",{value:"week",children:"Tuần này"}),d.jsx("option",{value:"month",children:"Tháng này"})]})]})]}),n?d.jsx("div",{className:"flex justify-center py-8",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):d.jsx("div",{className:"space-y-4",children:e.map((c,u)=>d.jsxs("div",{className:`p-6 rounded-xl border transition-all duration-300 hover:shadow-lg ${u<3?"border-yellow-200 bg-gradient-to-r from-yellow-50 to-orange-50":"border-gray-200"}`,children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg ${l(u)}`,children:o(u)}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900",children:c.title}),d.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${a(c.difficulty)}`,children:c.difficulty.toUpperCase()})]}),d.jsx("p",{className:"text-gray-600 text-sm mb-2",children:c.description}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[d.jsxs("span",{children:["📂 ",c.category]}),d.jsxs("span",{children:["⏱️ ",c.duration," phút"]}),d.jsxs("span",{children:["👥 ",c.totalPlayers," người chơi"]})]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:c.attempts.toLocaleString()}),d.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"lượt chơi"}),d.jsxs("div",{className:"text-sm font-medium text-green-600",children:["⭐ ",c.averageScore.toFixed(1),"% TB"]}),d.jsxs("div",{className:"flex space-x-2 mt-3",children:[d.jsx(De,{to:`/quiz/${c.id}`,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"🎯 Chơi ngay"}),d.jsx(De,{to:`/quiz/${c.id}/preview`,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:"👁️ Xem trước"})]})]})]}),d.jsxs("div",{className:"mt-4",children:[d.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-1",children:[d.jsx("span",{children:"Độ phổ biến"}),d.jsxs("span",{children:[Math.round(c.attempts/e[0].attempts*100),"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${u===0?"bg-gradient-to-r from-yellow-400 to-orange-500":u===1?"bg-gradient-to-r from-gray-400 to-gray-500":u===2?"bg-gradient-to-r from-orange-400 to-orange-500":"bg-blue-500"}`,style:{width:`${c.attempts/e[0].attempts*100}%`}})})]})]},c.id))}),d.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 text-center",children:d.jsx(De,{to:"/quizzes",className:"text-blue-600 hover:text-blue-800 font-medium",children:"📚 Xem tất cả Quiz →"})})]})},SJ=()=>{var f;const e=gg(),{user:t}=sr(p=>p.auth),{quizzes:n,loading:r}=sr(p=>p.quiz),[i,s]=v.useState({totalQuizzes:0,totalUsers:0,completedQuizzes:0,totalCreators:0}),[a,o]=v.useState([]),[l,c]=v.useState(!0);v.useEffect(()=>{n.length===0&&e(Jh({user:t})),u()},[e,t,n.length]);const u=async()=>{try{c(!0);const[p,m]=await Promise.all([We(Pe(oe,"quizzes")),We(Pe(oe,"users"))]),y=m.docs.map(x=>x.data()).filter(x=>x.isActive!==!1&&x.isDeleted!==!0),b=y.filter(x=>x.role==="creator"||x.role==="admin");s({totalQuizzes:p.size,totalUsers:y.length,completedQuizzes:0,totalCreators:b.length})}catch(p){console.error("Error loading real stats:",p)}finally{c(!1)}};return v.useEffect(()=>{if(n.length>0){const p=n.filter(m=>m.isPublic).sort((m,g)=>(g.attempts||0)-(m.attempts||0)).slice(0,6);o(p)}},[n]),r?d.jsx("div",{className:"flex items-center justify-center min-h-96",children:Array.from({length:4}).map((p,m)=>d.jsx("div",{className:"animate-pulse bg-white rounded-xl shadow-lg h-40 w-80 m-4"},m))}):d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-800 rounded-3xl p-8 lg:p-12 text-white shadow-2xl relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-white/5 backdrop-blur-3xl"}),d.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -translate-y-32 translate-x-32"}),d.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/10 rounded-full translate-y-24 -translate-x-24"}),d.jsxs("div",{className:"relative max-w-5xl",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsx("div",{className:"w-16 h-16 lg:w-20 lg:h-20 bg-white/20 backdrop-blur-sm rounded-3xl flex items-center justify-center ring-4 ring-white/30 shadow-2xl mr-6",children:d.jsx("span",{className:"text-3xl lg:text-4xl",children:"🎯"})}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl lg:text-5xl font-bold mb-2 drop-shadow-lg",children:["Chào mừng trở lại, ",((f=t==null?void 0:t.displayName)==null?void 0:f.split(" ")[0])||"Quiz Master","!"]}),d.jsx("p",{className:"text-blue-100 text-lg lg:text-xl",children:"Sẵn sàng thử thách kiến thức của bạn chưa?"})]})]}),d.jsx("p",{className:"text-xl lg:text-2xl text-blue-100 mb-8 leading-relaxed",children:"Khám phá hàng nghìn quiz thú vị, thử thách bản thân và leo lên bảng xếp hạng! 🚀"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 lg:gap-6",children:[d.jsx(De,{to:"/quizzes",children:d.jsxs(i0,{className:"w-full sm:w-auto bg-white text-blue-600 hover:bg-blue-50 font-bold px-8 py-4 text-lg rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:[d.jsx("span",{className:"mr-2",children:"📚"}),"Khám phá Quiz"]})}),d.jsx(De,{to:"/creator",children:d.jsxs(i0,{className:"w-full sm:w-auto border-2 border-white text-white hover:bg-white hover:text-blue-600 font-bold px-8 py-4 text-lg rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:[d.jsx("span",{className:"mr-2",children:"✨"}),"Tạo Quiz mới"]})})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsx("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 border border-gray-100 group hover:border-blue-200",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-600 text-sm font-medium mb-2",children:"Tổng số Quiz"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900",children:l?"...":i.totalQuizzes}),d.jsx("p",{className:"text-xs text-green-600 font-medium mt-1",children:"📈 Dữ liệu thực tế"})]}),d.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:d.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),d.jsx("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 border border-gray-100 group hover:border-green-200",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-600 text-sm font-medium mb-2",children:"Người dùng"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900",children:l?"...":i.totalUsers}),d.jsx("p",{className:"text-xs text-green-600 font-medium mt-1",children:"👥 Đã đăng ký"})]}),d.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:d.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})})]})}),d.jsx("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 border border-gray-100 group hover:border-purple-200",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-600 text-sm font-medium mb-2",children:"Quiz hoàn thành"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900",children:l?"...":i.completedQuizzes}),d.jsx("p",{className:"text-xs text-purple-600 font-medium mt-1",children:"✅ Chờ cập nhật"})]}),d.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:d.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),d.jsx("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 border border-gray-100 group hover:border-yellow-200",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-600 text-sm font-medium mb-2",children:"Người tạo"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900",children:l?"...":i.totalCreators}),d.jsx("p",{className:"text-xs text-yellow-600 font-medium mt-1",children:"✨ Creator + Admin"})]}),d.jsx("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-2xl p-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:d.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})})]})})]}),a.length>0&&d.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-500 rounded-2xl flex items-center justify-center mr-4 shadow-lg",children:d.jsx("span",{className:"text-2xl",children:"🔥"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Quiz Trending"}),d.jsx("p",{className:"text-gray-600",children:"Những quiz được yêu thích nhất"})]})]}),d.jsxs(De,{to:"/quizzes",className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-6 py-3 rounded-2xl font-semibold hover:from-orange-600 hover:to-red-600 transition-all duration-300 flex items-center shadow-lg hover:shadow-xl transform hover:scale-105",children:[d.jsx("span",{children:"Xem tất cả"}),d.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]}),a.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 lg:gap-8",children:a.map(p=>d.jsx("div",{className:"transform hover:scale-105 transition-all duration-300",children:d.jsx(EJ,{quiz:p})},p.id))}):d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:d.jsx("span",{className:"text-4xl",children:"📝"})}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Chưa có quiz trending"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Hãy bắt đầu tạo quiz đầu tiên của bạn!"}),d.jsx(De,{to:"/creator",children:d.jsx(i0,{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-2xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-300",children:"Tạo Quiz ngay"})})]})]}),d.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[d.jsxs("div",{className:"flex items-center mb-8",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center mr-4 shadow-lg",children:d.jsx("span",{className:"text-2xl",children:"⚡"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Hành động nhanh"}),d.jsx("p",{className:"text-gray-600",children:"Những thao tác thường dùng để bắt đầu"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs(De,{to:"/creator",className:"group bg-gradient-to-br from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 rounded-2xl p-8 transition-all duration-300 transform hover:scale-105 hover:shadow-xl border border-blue-200",children:[d.jsx("div",{className:"text-blue-600 mb-6 group-hover:scale-110 transition-transform duration-300",children:d.jsx("svg",{className:"w-14 h-14",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Tạo Quiz mới"}),d.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Thiết kế và chia sẻ quiz của riêng bạn với mọi người"}),d.jsxs("div",{className:"mt-4 text-blue-600 font-semibold group-hover:translate-x-1 transition-transform duration-300 flex items-center",children:["Bắt đầu tạo ",d.jsx("span",{className:"ml-2",children:"→"})]})]}),d.jsxs(De,{to:"/quizzes?filter=random",className:"group bg-gradient-to-br from-green-50 to-green-100 hover:from-green-100 hover:to-green-200 rounded-2xl p-8 transition-all duration-300 transform hover:scale-105 hover:shadow-xl border border-green-200",children:[d.jsx("div",{className:"text-green-600 mb-6 group-hover:scale-110 transition-transform duration-300",children:d.jsx("svg",{className:"w-14 h-14",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Quiz ngẫu nhiên"}),d.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Nhảy vào một quiz bất kỳ và thử thách kiến thức của bạn"}),d.jsxs("div",{className:"mt-4 text-green-600 font-semibold group-hover:translate-x-1 transition-transform duration-300 flex items-center",children:["Chơi ngay ",d.jsx("span",{className:"ml-2",children:"→"})]})]}),d.jsxs(De,{to:"/profile",className:"group bg-gradient-to-br from-purple-50 to-purple-100 hover:from-purple-100 hover:to-purple-200 rounded-2xl p-8 transition-all duration-300 transform hover:scale-105 hover:shadow-xl border border-purple-200",children:[d.jsx("div",{className:"text-purple-600 mb-6 group-hover:scale-110 transition-transform duration-300",children:d.jsx("svg",{className:"w-14 h-14",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Xem tiến độ"}),d.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Kiểm tra thành tích và lịch sử làm quiz của bạn"}),d.jsxs("div",{className:"mt-4 text-purple-600 font-semibold group-hover:translate-x-1 transition-transform duration-300 flex items-center",children:["Xem chi tiết ",d.jsx("span",{className:"ml-2",children:"→"})]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[d.jsxs("div",{className:"flex items-center mb-8",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center mr-4 shadow-lg",children:d.jsx("span",{className:"text-2xl",children:"🏆"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Quiz phổ biến"}),d.jsx("p",{className:"text-gray-600",children:"Những quiz được yêu thích nhất tuần này"})]})]}),d.jsx(TJ,{})]})]})};var JI;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(JI||(JI={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZI;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(ZI||(ZI={}));var ek;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(ek||(ek={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=["user","model","function","system"];var nk;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(nk||(nk={}));var rk;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(rk||(rk={}));var ik;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(ik||(ik={}));var sk;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(sk||(sk={}));var Mu;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Mu||(Mu={}));var ak;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(ak||(ak={}));var ok;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(ok||(ok={}));var lk;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(lk||(lk={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class Uo extends xn{constructor(t,n){super(t),this.response=n}}class $L extends xn{constructor(t,n,r,i){super(t),this.status=n,this.statusText=r,this.errorDetails=i}}class Xs extends xn{}class zL extends xn{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AJ="https://generativelanguage.googleapis.com",PJ="v1beta",IJ="0.24.1",kJ="genai-js";var yo;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(yo||(yo={}));class CJ{constructor(t,n,r,i,s){this.model=t,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=s}toString(){var t,n;const r=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||PJ;let s=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||AJ}/${r}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function NJ(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${kJ}/${IJ}`),t.join(" ")}async function OJ(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",NJ(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let r=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new Xs(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,s]of r.entries()){if(i==="x-goog-api-key")throw new Xs(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Xs(`Header name ${i} can only be set using the apiClient field`);n.append(i,s)}}return n}async function jJ(e,t,n,r,i,s){const a=new CJ(e,t,n,r,s);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},LJ(s)),{method:"POST",headers:await OJ(a),body:i})}}async function cf(e,t,n,r,i,s={},a=fetch){const{url:o,fetchOptions:l}=await jJ(e,t,n,r,i,s);return RJ(o,l,a)}async function RJ(e,t,n=fetch){let r;try{r=await n(e,t)}catch(i){DJ(i,e)}return r.ok||await MJ(r,e),r}function DJ(e,t){let n=e;throw n.name==="AbortError"?(n=new zL(`Request aborted when fetching ${t.toString()}: ${e.message}`),n.stack=e.stack):e instanceof $L||e instanceof Xs||(n=new xn(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack),n}async function MJ(e,t){let n="",r;try{const i=await e.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new $L(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,r)}function LJ(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const n=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>n.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Zh(e.candidates[0]))throw new Uo(`${Ss(e)}`,e);return $J(e)}else if(e.promptFeedback)throw new Uo(`Text not available. ${Ss(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Zh(e.candidates[0]))throw new Uo(`${Ss(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),ck(e)[0]}else if(e.promptFeedback)throw new Uo(`Function call not available. ${Ss(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Zh(e.candidates[0]))throw new Uo(`${Ss(e)}`,e);return ck(e)}else if(e.promptFeedback)throw new Uo(`Function call not available. ${Ss(e)}`,e)},e}function $J(e){var t,n,r,i;const s=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const a of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)a.text&&s.push(a.text),a.executableCode&&s.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&s.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function ck(e){var t,n,r,i;const s=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const a of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)a.functionCall&&s.push(a.functionCall);if(s.length>0)return s}const zJ=[Mu.RECITATION,Mu.SAFETY,Mu.LANGUAGE];function Zh(e){return!!e.finishReason&&zJ.includes(e.finishReason)}function Ss(e){var t,n,r;let i="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)i+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(i+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const s=e.candidates[0];Zh(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}function wd(e){return this instanceof wd?(this.v=e,this):new wd(e)}function VJ(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(p){r[p]&&(i[p]=function(m){return new Promise(function(g,y){s.push([p,m,g,y])>1||o(p,m)})})}function o(p,m){try{l(r[p](m))}catch(g){f(s[0][3],g)}}function l(p){p.value instanceof wd?Promise.resolve(p.value.v).then(c,u):f(s[0][2],p)}function c(p){o("next",p)}function u(p){o("throw",p)}function f(p,m){p(m),s.shift(),s.length&&o(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function FJ(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=qJ(t),[r,i]=n.tee();return{stream:BJ(r),response:UJ(i)}}async function UJ(e){const t=[],n=e.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return C1(KJ(t));t.push(i)}}function BJ(e){return VJ(this,arguments,function*(){const n=e.getReader();for(;;){const{value:r,done:i}=yield wd(n.read());if(i)break;yield yield wd(C1(r))}})}function qJ(e){const t=e.getReader();return new ReadableStream({start(r){let i="";return s();function s(){return t.read().then(({value:a,done:o})=>{if(o){if(i.trim()){r.error(new xn("Failed to parse stream"));return}r.close();return}i+=a;let l=i.match(uk),c;for(;l;){try{c=JSON.parse(l[1])}catch{r.error(new xn(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(c),i=i.substring(l[0].length),l=i.match(uk)}return s()}).catch(a=>{let o=a;throw o.stack=a.stack,o.name==="AbortError"?o=new zL("Request aborted when reading from the stream"):o=new xn("Error reading from the stream"),o})}}})}function KJ(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const r of e){if(r.candidates){let i=0;for(const s of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:i}),n.candidates[i].citationMetadata=s.citationMetadata,n.candidates[i].groundingMetadata=s.groundingMetadata,n.candidates[i].finishReason=s.finishReason,n.candidates[i].finishMessage=s.finishMessage,n.candidates[i].safetyRatings=s.safetyRatings,s.content&&s.content.parts){n.candidates[i].content||(n.candidates[i].content={role:s.content.role||"user",parts:[]});const a={};for(const o of s.content.parts)o.text&&(a.text=o.text),o.functionCall&&(a.functionCall=o.functionCall),o.executableCode&&(a.executableCode=o.executableCode),o.codeExecutionResult&&(a.codeExecutionResult=o.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),n.candidates[i].content.parts.push(a)}i++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(e,t,n,r){const i=await cf(t,yo.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),r);return FJ(i)}async function FL(e,t,n,r){const s=await(await cf(t,yo.GENERATE_CONTENT,e,!1,JSON.stringify(n),r)).json();return{response:C1(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function bd(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const n of e)typeof n=="string"?t.push({text:n}):t.push(n);return WJ(t)}function WJ(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const s of e)"functionResponse"in s?(n.parts.push(s),i=!0):(t.parts.push(s),r=!0);if(r&&i)throw new xn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new xn("No content is provided for sending chat message.");return r?t:n}function HJ(e,t){var n;let r={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(n=t==null?void 0:t.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=e.generateContentRequest!=null;if(e.contents){if(i)throw new Xs("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(i)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const s=bd(e);r.contents=[s]}return{generateContentRequest:r}}function dk(e){let t;return e.contents?t=e:t={contents:[bd(e)]},e.systemInstruction&&(t.systemInstruction=UL(e.systemInstruction)),t}function GJ(e){return typeof e=="string"||Array.isArray(e)?{content:bd(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],QJ={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function YJ(e){let t=!1;for(const n of e){const{role:r,parts:i}=n;if(!t&&r!=="user")throw new xn(`First content should be with role 'user', got ${r}`);if(!tk.includes(r))throw new xn(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(tk)}`);if(!Array.isArray(i))throw new xn("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new xn("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const o of i)for(const l of fk)l in o&&(s[l]+=1);const a=QJ[r];for(const o of fk)if(!a.includes(o)&&s[o]>0)throw new xn(`Content with role '${r}' can't contain '${o}' part`);t=!0}}function hk(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="SILENT_ERROR";class XJ{constructor(t,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r!=null&&r.history&&(YJ(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var r,i,s,a,o,l;await this._sendPromise;const c=bd(t),u={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},f=Object.assign(Object.assign({},this._requestOptions),n);let p;return this._sendPromise=this._sendPromise.then(()=>FL(this._apiKey,this.model,u,f)).then(m=>{var g;if(hk(m.response)){this._history.push(c);const y=Object.assign({parts:[],role:"model"},(g=m.response.candidates)===null||g===void 0?void 0:g[0].content);this._history.push(y)}else{const y=Ss(m.response);y&&console.warn(`sendMessage() was unsuccessful. ${y}. Inspect response object for details.`)}p=m}).catch(m=>{throw this._sendPromise=Promise.resolve(),m}),await this._sendPromise,p}async sendMessageStream(t,n={}){var r,i,s,a,o,l;await this._sendPromise;const c=bd(t),u={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},f=Object.assign(Object.assign({},this._requestOptions),n),p=VL(this._apiKey,this.model,u,f);return this._sendPromise=this._sendPromise.then(()=>p).catch(m=>{throw new Error(pk)}).then(m=>m.response).then(m=>{if(hk(m)){this._history.push(c);const g=Object.assign({},m.candidates[0].content);g.role||(g.role="model"),this._history.push(g)}else{const g=Ss(m);g&&console.warn(`sendMessageStream() was unsuccessful. ${g}. Inspect response object for details.`)}}).catch(m=>{m.message!==pk&&console.error(m)}),p}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JJ(e,t,n,r){return(await cf(t,yo.COUNT_TOKENS,e,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZJ(e,t,n,r){return(await cf(t,yo.EMBED_CONTENT,e,!1,JSON.stringify(n),r)).json()}async function eZ(e,t,n,r){const i=n.requests.map(a=>Object.assign(Object.assign({},a),{model:t}));return(await cf(t,yo.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(t,n,r={}){this.apiKey=t,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=UL(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var r;const i=dk(t),s=Object.assign(Object.assign({},this._requestOptions),n);return FL(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}async generateContentStream(t,n={}){var r;const i=dk(t),s=Object.assign(Object.assign({},this._requestOptions),n);return VL(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}startChat(t){var n;return new XJ(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const r=HJ(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return JJ(this.apiKey,this.model,r,i)}async embedContent(t,n={}){const r=GJ(t),i=Object.assign(Object.assign({},this._requestOptions),n);return ZJ(this.apiKey,this.model,r,i)}async batchEmbedContents(t,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return eZ(this.apiKey,this.model,t,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new xn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new mk(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,r){if(!t.name)throw new Xs("Cached content must contain a `name` field.");if(!t.model)throw new Xs("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const a of i)if(n!=null&&n[a]&&t[a]&&(n==null?void 0:n[a])!==t[a]){if(a==="model"){const o=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(o===l)continue}throw new Xs(`Different value for "${a}" specified in modelParams (${n[a]}) and cachedContent (${t[a]})`)}const s=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new mk(this.apiKey,s,r)}}const tZ="AIzaSyBSA4zCEsVUROJVJPAElcQ1I1cfii4bFqw";class nZ{constructor(){Uc(this,"genAI");this.genAI=new BL(tZ)}async generateQuestions(t,n,r){try{const i=this.genAI.getGenerativeModel({model:"gemini-1.5-flash"}),s=`
Tạo ${r} câu hỏi trắc nghiệm về chủ đề "${t}" với độ khó ${n}.

Yêu cầu định dạng JSON chính xác:
{
  "questions": [
    {
      "text": "Câu hỏi...",
      "answers": [
        {"text": "Đáp án A", "isCorrect": false},
        {"text": "Đáp án B", "isCorrect": true},
        {"text": "Đáp án C", "isCorrect": false},
        {"text": "Đáp án D", "isCorrect": false}
      ]
    }
  ]
}

Lưu ý:
- Mỗi câu hỏi phải có đúng 4 đáp án
- Chỉ có 1 đáp án đúng (isCorrect: true)
- Câu hỏi phải rõ ràng, chính xác
- Đáp án phải hợp lý và đa dạng
- Trả về CHÍNH XÁC định dạng JSON, không thêm text khác
`;let l=(await(await i.generateContent(s)).response).text();l=l.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();const c=JSON.parse(l);if(!c.questions||!Array.isArray(c.questions))throw new Error("Invalid response structure");return c.questions.forEach((u,f)=>{if(!u.text||!u.answers||!Array.isArray(u.answers)||u.answers.length!==4)throw new Error(`Invalid question structure at index ${f}`);if(u.answers.filter(m=>m.isCorrect).length!==1)throw new Error(`Question ${f+1} must have exactly 1 correct answer`)}),{success:!0,questions:c.questions,message:`Đã tạo thành công ${c.questions.length} câu hỏi`}}catch(i){return console.error("Gemini AI Error:",i),i instanceof SyntaxError?{success:!1,error:"Lỗi định dạng JSON từ AI. Vui lòng thử lại.",questions:[]}:{success:!1,error:i instanceof Error?i.message:"Có lỗi xảy ra khi tạo câu hỏi",questions:[]}}}async testConnection(){try{return{success:!0,message:"Kết nối AI thành công!",response:(await(await this.genAI.getGenerativeModel({model:"gemini-1.5-flash"}).generateContent("Chào bạn! Hãy trả lời ngắn gọn bằng tiếng Việt: AI đang hoạt động tốt không?")).response).text()}}catch(t){return console.error("Test connection error:",t),{success:!1,message:"Không thể kết nối đến AI",error:t instanceof Error?t.message:"Unknown error"}}}}const gk=new nZ;class rZ{constructor(t){Uc(this,"genAI");this.genAI=new BL(t)}async processFile(t){switch(this.getFileType(t)){case"image":return this.processImage(t);case"pdf":return this.processPDF(t);case"doc":return this.processDocument(t);case"text":return this.processTextFile(t);default:return{content:"",type:"text",error:`Loại file không được hỗ trợ: ${t.type}`}}}getFileType(t){var i;const n=(i=t.name.split(".").pop())==null?void 0:i.toLowerCase(),r=t.type.toLowerCase();return r.startsWith("image/")?"image":r==="application/pdf"||n==="pdf"?"pdf":r.includes("word")||["doc","docx"].includes(n||"")?"doc":r.startsWith("text/")||["txt","md","csv"].includes(n||"")?"text":"unknown"}async processImage(t){try{const n=this.genAI.getGenerativeModel({model:"gemini-1.5-flash"}),r=await this.fileToBase64(t);return{content:(await(await n.generateContent([`
Phân tích hình ảnh này và trích xuất nội dung văn bản. 
Nếu có biểu đồ, bảng, hoặc thông tin trực quan, hãy mô tả chi tiết.
Trả về nội dung một cách có cấu trúc và rõ ràng để có thể tạo câu hỏi.
`,{inlineData:{data:r,mimeType:t.type}}])).response).text(),type:"image"}}catch(n){return{content:"",type:"image",error:`Lỗi xử lý ảnh: ${n instanceof Error?n.message:"Unknown error"}`}}}async processPDF(t){try{const n=await this.fileToBase64(t);return{content:(await(await this.genAI.getGenerativeModel({model:"gemini-1.5-flash"}).generateContent([`
Đây là file PDF. Hãy trích xuất và phân tích nội dung văn bản từ file này.
Tóm tắt nội dung chính và cung cấp thông tin chi tiết để có thể tạo câu hỏi.
Nếu có bảng, biểu đồ hoặc hình ảnh, hãy mô tả chúng.
`,{inlineData:{data:n,mimeType:t.type}}])).response).text(),type:"document"}}catch(n){return{content:"",type:"document",error:`Lỗi xử lý PDF: ${n instanceof Error?n.message:"Unknown error"}`}}}async processDocument(t){try{const n=await this.fileToBase64(t);return{content:(await(await this.genAI.getGenerativeModel({model:"gemini-1.5-flash"}).generateContent([`
Đây là file tài liệu Word. Hãy trích xuất và phân tích nội dung văn bản từ file này.
Tóm tắt nội dung chính và cung cấp thông tin chi tiết để có thể tạo câu hỏi.
Bao gồm cả định dạng, tiêu đề, và cấu trúc của tài liệu.
`,{inlineData:{data:n,mimeType:t.type||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}}])).response).text(),type:"document"}}catch(n){return{content:"",type:"document",error:`Lỗi xử lý tài liệu: ${n instanceof Error?n.message:"Unknown error"}`}}}async processTextFile(t){try{return{content:await this.readTextFile(t),type:"text"}}catch(n){return{content:"",type:"text",error:`Lỗi đọc file text: ${n instanceof Error?n.message:"Unknown error"}`}}}async fileToBase64(t){return new Promise((n,r)=>{const i=new FileReader;i.onload=()=>{const a=i.result.split(",")[1];n(a)},i.onerror=r,i.readAsDataURL(t)})}async readTextFile(t){return new Promise((n,r)=>{const i=new FileReader;i.onload=s=>{var a;return n((a=s.target)==null?void 0:a.result)},i.onerror=r,i.readAsText(t,"UTF-8")})}}const iZ={maxRequestsPerMinute:60},sZ=({onQuestionsGenerated:e})=>{const[t,n]=v.useState(!1),[r,i]=v.useState(!1),[s,a]=v.useState(!1),[o,l]=v.useState("idle"),[c,u]=v.useState(null),[f,p]=v.useState(""),[m,g]=v.useState({topic:"",difficulty:"easy",numQuestions:5,useFileContent:!1}),y=async()=>{i(!0);try{const I=await gk.testConnection();I.success?(l("connected"),V.success("✅ Kết nối AI thành công!")):(l("failed"),V.error("❌ Không thể kết nối đến AI: "+I.message))}catch{l("failed"),V.error("❌ Lỗi kết nối AI")}finally{i(!1)}},b=async I=>{var T;const N=(T=I.target.files)==null?void 0:T[0];if(N){a(!0);try{const A="AIzaSyBSA4zCEsVUROJVJPAElcQ1I1cfii4bFqw",C=await new rZ(A).processFile(N);C.content&&!C.error?(u(N),p(C.content),g(j=>{var D;return{...j,topic:((D=C.content)==null?void 0:D.substring(0,100))+"..."||j.topic,useFileContent:!0}}),V.success(`Đã xử lý file ${N.name} thành công!`)):V.error(C.error||"Không thể xử lý file này")}catch(A){console.error("File processing error:",A),V.error("Lỗi khi xử lý file")}finally{a(!1)}}},w=()=>{u(null),p(""),g(I=>({...I,useFileContent:!1}))},x=async()=>{const I=m.useFileContent&&f?`Dựa trên nội dung file đã tải lên: ${f}. Tạo câu hỏi về: ${m.topic}`:m.topic;if(!I.trim()){V.error("Vui lòng nhập chủ đề hoặc tải lên file!");return}n(!0);try{const N=await gk.generateQuestions(I,m.difficulty,m.numQuestions);N.success&&N.questions?(e(N.questions),V.success(`✅ ${N.message}`),g({topic:"",difficulty:"easy",numQuestions:5,useFileContent:!1}),u(null),p("")):V.error("❌ "+N.error)}catch(N){console.error("Generate questions error:",N),V.error("❌ Có lỗi xảy ra khi tạo câu hỏi")}finally{n(!1)}},_=I=>{switch(I){case"easy":return"🟢 Dễ";case"medium":return"🟡 Trung bình";case"hard":return"🔴 Khó";default:return I}},P=()=>{switch(o){case"connected":return d.jsx(ML,{className:"w-4 h-4 text-green-500"});case"failed":return d.jsx(FI,{className:"w-4 h-4 text-red-500"});default:return d.jsx(HI,{className:"w-4 h-4 text-gray-400"})}};return d.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 border border-purple-200 rounded-xl p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg flex items-center justify-center",children:d.jsx(XI,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"🤖 AI Generator (Client-side)"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Tạo câu hỏi tự động bằng Google Gemini AI"})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[P(),d.jsxs("button",{onClick:y,disabled:r,className:"px-3 py-1.5 text-xs bg-white border border-gray-200 rounded-lg hover:bg-gray-50 disabled:opacity-50 flex items-center gap-2",children:[r?d.jsx(Il,{className:"w-3 h-3 animate-spin"}):d.jsx(HI,{className:"w-3 h-3"}),"Test kết nối"]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"📚 Chủ đề"}),d.jsx("input",{type:"text",value:m.topic,onChange:I=>g({...m,topic:I.target.value}),placeholder:"VD: JavaScript, Lịch sử Việt Nam, Toán học...",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),d.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-purple-400 transition-colors",children:[d.jsxs("div",{className:"text-center",children:[d.jsx(QI,{className:"mx-auto h-12 w-12 text-gray-400"}),d.jsxs("div",{className:"mt-4",children:[d.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[d.jsx("span",{className:"mt-2 block text-sm font-medium text-gray-900",children:"📎 Tải lên file để AI phân tích"}),d.jsx("span",{className:"mt-1 block text-xs text-gray-500",children:"Hỗ trợ: Ảnh (JPG, PNG), PDF, Word (DOC, DOCX), Text (TXT)"}),d.jsxs("span",{className:"mt-2 inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[d.jsx(QI,{className:"w-4 h-4 mr-2"}),"Chọn file"]})]}),d.jsx("input",{id:"file-upload",type:"file",className:"sr-only",accept:".jpg,.jpeg,.png,.pdf,.doc,.docx,.txt",onChange:b,disabled:s})]})]}),c&&d.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[c.type.startsWith("image/")?d.jsx(HX,{className:"w-5 h-5 text-green-600"}):c.type==="application/pdf"?d.jsx(qI,{className:"w-5 h-5 text-red-600"}):c.type.includes("document")||c.type.includes("word")?d.jsx(KX,{className:"w-5 h-5 text-blue-600"}):d.jsx(qI,{className:"w-5 h-5 text-gray-600"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-green-800",children:c.name}),d.jsxs("p",{className:"text-xs text-green-600",children:[(c.size/1024/1024).toFixed(2)," MB - Đã xử lý thành công"]})]})]}),d.jsx("button",{onClick:w,className:"text-green-600 hover:text-green-800",children:d.jsx(FI,{className:"w-5 h-5"})})]})}),s&&d.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Il,{className:"w-5 h-5 text-blue-600 animate-spin"}),d.jsx("span",{className:"text-sm text-blue-700",children:"Đang xử lý file..."})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"🎯 Độ khó"}),d.jsxs("select",{value:m.difficulty,onChange:I=>g({...m,difficulty:I.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[d.jsx("option",{value:"easy",children:"🟢 Dễ"}),d.jsx("option",{value:"medium",children:"🟡 Trung bình"}),d.jsx("option",{value:"hard",children:"🔴 Khó"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"🔢 Số câu hỏi"}),d.jsxs("select",{value:m.numQuestions,onChange:I=>g({...m,numQuestions:parseInt(I.target.value)}),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[d.jsx("option",{value:3,children:"3 câu"}),d.jsx("option",{value:5,children:"5 câu"}),d.jsx("option",{value:10,children:"10 câu"}),d.jsx("option",{value:15,children:"15 câu"}),d.jsx("option",{value:20,children:"20 câu"})]})]})]}),d.jsx("button",{onClick:x,disabled:t||!m.topic.trim()&&!f,className:"w-full px-6 py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-semibold rounded-lg hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center gap-3",children:t?d.jsxs(d.Fragment,{children:[d.jsx(Il,{className:"w-5 h-5 animate-spin"}),"Đang tạo câu hỏi..."]}):d.jsxs(d.Fragment,{children:[d.jsx(XI,{className:"w-5 h-5"}),"Tạo ",m.numQuestions," câu hỏi ",_(m.difficulty),m.useFileContent&&" từ file"]})}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[d.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"💡 Thông tin:"}),d.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[d.jsx("li",{children:"• Sử dụng Google Gemini AI miễn phí"}),d.jsx("li",{children:"• Không cần Firebase Functions"}),d.jsx("li",{children:"• Chạy trực tiếp trên trình duyệt"}),d.jsxs("li",{children:["• ",d.jsx("strong",{children:"Mới:"})," Hỗ trợ đọc file ảnh, PDF, Word, Text"]}),d.jsxs("li",{children:["• Free tier: ",iZ.maxRequestsPerMinute," requests/phút"]})]})]})]})]})},aZ=()=>{const e=t=>{console.log("✅ Questions generated:",t),alert(`Đã tạo thành công ${t.length} câu hỏi! Kiểm tra console để xem chi tiết.`)};return d.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"🧪 Test AI Generator (Client-side)"}),d.jsx("p",{className:"text-lg text-gray-600",children:"Test tính năng tạo câu hỏi bằng Google Gemini AI miễn phí"})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsx(sZ,{onQuestionsGenerated:e}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[d.jsx("h3",{className:"text-lg font-bold text-green-600 mb-4",children:"✅ Ưu điểm"}),d.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[d.jsxs("li",{children:["• ",d.jsx("strong",{children:"Miễn phí:"})," Sử dụng Google Gemini API free tier"]}),d.jsxs("li",{children:["• ",d.jsx("strong",{children:"Không cần server:"})," Chạy trực tiếp trên browser"]}),d.jsxs("li",{children:["• ",d.jsx("strong",{children:"Không cần Firebase Functions:"})," Tiết kiệm chi phí"]}),d.jsxs("li",{children:["• ",d.jsx("strong",{children:"Real-time:"})," Phản hồi nhanh"]}),d.jsxs("li",{children:["• ",d.jsx("strong",{children:"60 requests/phút:"})," Giới hạn khá cao"]})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[d.jsx("h3",{className:"text-lg font-bold text-orange-600 mb-4",children:"⚠️ Lưu ý"}),d.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[d.jsxs("li",{children:["• ",d.jsx("strong",{children:"API Key exposed:"})," Có thể thấy trong client"]}),d.jsxs("li",{children:["• ",d.jsx("strong",{children:"Rate limiting:"})," 60 requests/phút"]}),d.jsxs("li",{children:["• ",d.jsx("strong",{children:"Network dependency:"})," Cần kết nối internet"]}),d.jsxs("li",{children:["• ",d.jsx("strong",{children:"CORS:"})," Có thể gặp vấn đề CORS"]}),d.jsxs("li",{children:["• ",d.jsx("strong",{children:"Client-side only:"})," Không chạy được offline"]})]})]})]}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[d.jsx("h3",{className:"text-lg font-bold text-blue-800 mb-4",children:"📖 Hướng dẫn sử dụng"}),d.jsxs("ol",{className:"space-y-2 text-sm text-blue-700",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"1."}),' Nhấn "Test kết nối" để kiểm tra API']}),d.jsxs("li",{children:[d.jsx("strong",{children:"2."})," Nhập chủ đề bạn muốn tạo câu hỏi"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"3."})," Chọn độ khó và số câu hỏi"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"4."}),' Nhấn "Tạo câu hỏi" và đợi kết quả']}),d.jsxs("li",{children:[d.jsx("strong",{children:"5."})," Kiểm tra console để xem JSON response"]})]})]})]})]})})};class uf{constructor(t=0,n="Network Error"){this.status=t,this.text=n}}const oZ=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},Yt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:oZ()},N1=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},lZ=(e,t="https://api.emailjs.com")=>{if(!e)return;const n=N1(e);Yt.publicKey=n.publicKey,Yt.blockHeadless=n.blockHeadless,Yt.storageProvider=n.storageProvider,Yt.blockList=n.blockList,Yt.limitRate=n.limitRate,Yt.origin=n.origin||t},qL=async(e,t,n={})=>{const r=await fetch(Yt.origin+e,{method:"POST",headers:n,body:t}),i=await r.text(),s=new uf(r.status,i);if(r.ok)return s;throw s},KL=(e,t,n)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},cZ=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},WL=e=>e.webdriver||!e.languages||e.languages.length===0,HL=()=>new uf(451,"Unavailable For Headless Browser"),uZ=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},dZ=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},fZ=(e,t)=>e instanceof FormData?e.get(t):e[t],GL=(e,t)=>{if(dZ(e))return!1;uZ(e.list,e.watchVariable);const n=fZ(t,e.watchVariable);return typeof n!="string"?!1:e.list.includes(n)},QL=()=>new uf(403,"Forbidden"),hZ=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},pZ=async(e,t,n)=>{const r=Number(await n.get(e)||0);return t-Date.now()+r},YL=async(e,t,n)=>{if(!t.throttle||!n)return!1;hZ(t.throttle,t.id);const r=t.id||e;return await pZ(r,t.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},XL=()=>new uf(429,"Too Many Requests"),mZ=async(e,t,n,r)=>{const i=N1(r),s=i.publicKey||Yt.publicKey,a=i.blockHeadless||Yt.blockHeadless,o=i.storageProvider||Yt.storageProvider,l={...Yt.blockList,...i.blockList},c={...Yt.limitRate,...i.limitRate};return a&&WL(navigator)?Promise.reject(HL()):(KL(s,e,t),cZ(n),n&&GL(l,n)?Promise.reject(QL()):await YL(location.pathname,c,o)?Promise.reject(XL()):qL("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:e,template_id:t,template_params:n}),{"Content-type":"application/json"}))},gZ=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},yZ=e=>typeof e=="string"?document.querySelector(e):e,vZ=async(e,t,n,r)=>{const i=N1(r),s=i.publicKey||Yt.publicKey,a=i.blockHeadless||Yt.blockHeadless,o=Yt.storageProvider||i.storageProvider,l={...Yt.blockList,...i.blockList},c={...Yt.limitRate,...i.limitRate};if(a&&WL(navigator))return Promise.reject(HL());const u=yZ(n);KL(s,e,t),gZ(u);const f=new FormData(u);return GL(l,f)?Promise.reject(QL()):await YL(location.pathname,c,o)?Promise.reject(XL()):(f.append("lib_version","4.4.1"),f.append("service_id",e),f.append("template_id",t),f.append("user_id",s),qL("/api/v1.0/email/send-form",f))},yk={init:lZ,send:mZ,sendForm:vZ,EmailJSResponseStatus:uf},s0={SERVICE_ID:"service_z0wmuk1",TEMPLATE_ID:"template_4eh8284",PUBLIC_KEY:"EsTsdBR5D5grAFCfF"},Da=class Da{constructor(){yk.init(s0.PUBLIC_KEY)}static getInstance(){return Da.instance||(Da.instance=new Da),Da.instance}async sendOTPEmail(t,n){try{const r={to_email:t,otp_code:n,app_name:"Quiz Trivia App",from_name:"Quiz Trivia Team",message:`Mã xác thực của bạn là: ${n}. Mã này có hiệu lực trong 10 phút.`};console.log("🚀 Sending OTP email via EmailJS to:",t);const i=await yk.send(s0.SERVICE_ID,s0.TEMPLATE_ID,r);if(i.status===200)return console.log("✅ Email sent successfully:",i),{success:!0,message:`Mã xác thực đã được gửi đến ${t}. Vui lòng kiểm tra hộp thư.`};throw new Error(`EmailJS error: ${i.text}`)}catch(r){return console.error("❌ EmailJS send error:",r),{success:!1,message:"Không thể gửi email xác thực. Vui lòng thử lại sau."}}}};Uc(Da,"instance");let lw=Da;const xZ=lw.getInstance(),wZ=()=>Math.floor(1e5+Math.random()*9e5).toString(),bZ=async(e,t)=>{try{await _Z(e);const n={email:e.toLowerCase().trim(),code:t,expiresAt:new Date(Date.now()+10*60*1e3),isVerified:!1,createdAt:new Date,attempts:0,maxAttempts:3};return(await Ys(Pe(oe,"otp_verifications"),n)).id}catch(n){throw console.error("Error storing OTP:",n),new Error("Failed to store OTP verification")}},_Z=async e=>{try{const t=$t(Pe(oe,"otp_verifications"),wr("email","==",e.toLowerCase().trim())),r=(await We(t)).docs.map(i=>Tl(i.ref));await Promise.all(r)}catch(t){console.error("Error deleting existing OTP:",t)}},EZ=async(e,t)=>{try{const n=$t(Pe(oe,"otp_verifications"),wr("email","==",e.toLowerCase().trim()),wr("isVerified","==",!1)),r=await We(n);if(r.empty)return{success:!1,message:"Không tìm thấy mã OTP hoặc mã đã hết hạn"};const i=r.docs[0],s=i.data(),a=s.expiresAt instanceof Date?s.expiresAt:s.expiresAt.toDate();return new Date>a?(await Tl(i.ref),{success:!1,message:"Mã OTP đã hết hạn. Vui lòng yêu cầu mã mới"}):s.attempts>=s.maxAttempts?(await Tl(i.ref),{success:!1,message:"Đã vượt quá số lần thử. Vui lòng yêu cầu mã mới"}):s.code===t.trim()?(await Tl(i.ref),{success:!0,message:"Xác thực thành công!"}):(await Et(i.ref,{attempts:s.attempts+1}),{success:!1,message:`Mã OTP không đúng. Còn lại ${s.maxAttempts-(s.attempts+1)} lần thử`})}catch(n){return console.error("Error verifying OTP:",n),{success:!1,message:"Có lỗi xảy ra khi xác thực mã OTP"}}},TZ=async(e,t)=>{try{console.log(`📧 Sending OTP via EmailJS to ${e}...`);const n=await xZ.sendOTPEmail(e,t);if(n.success){console.log(`✅ OTP email sent successfully to ${e}`);try{await Ys(Pe(oe,"email_queue"),{to:e,template:"otp_verification",data:{code:t,expiresIn:"10 phút"},createdAt:xu(),status:"sent_via_emailjs",method:"emailjs"})}catch(r){console.warn("Failed to log email to queue:",r)}return!0}else throw new Error(n.message||"Failed to send email via EmailJS")}catch(n){throw console.error("Error sending OTP email:",n),new Error(n.message||"Không thể gửi email. Vui lòng kiểm tra kết nối internet.")}},JL=async e=>{try{const t=wZ();return console.log(`🔢 Generated OTP: ${t} for ${e}`),await bZ(e,t),console.log(`💾 OTP stored in database for ${e}`),await TZ(e,t),{success:!0,message:`Mã xác thực đã được gửi đến ${e}. Vui lòng kiểm tra hộp thư và nhập mã 6 số.`}}catch(t){return console.error("Error generating and sending OTP:",t),t.message.includes("internet")||t.message.includes("network")?{success:!1,message:"Không thể kết nối internet. Vui lòng kiểm tra kết nối mạng và thử lại."}:{success:!1,message:t.message||"Có lỗi xảy ra khi gửi mã xác thực. Vui lòng thử lại sau."}}},SZ=({email:e,onVerificationSuccess:t,onCancel:n})=>{const[r,i]=v.useState(["","","","","",""]),[s,a]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(60),[f,p]=v.useState(!1),m=v.useRef([]);v.useEffect(()=>{if(c>0&&!f){const _=setInterval(()=>{u(P=>P-1)},1e3);return()=>clearInterval(_)}else c===0&&p(!0)},[c,f]);const g=(_,P)=>{var N;if(P.length>1||!/^\d*$/.test(P))return;const I=[...r];I[_]=P,i(I),P&&_<5&&((N=m.current[_+1])==null||N.focus())},y=(_,P)=>{var I;P.key==="Backspace"&&!r[_]&&_>0&&((I=m.current[_-1])==null||I.focus())},b=_=>{var A;_.preventDefault();const P=_.clipboardData.getData("text").slice(0,6);if(!/^\d+$/.test(P))return;const I=P.split("").concat(["","","","","",""]).slice(0,6);i(I);const N=I.findIndex(k=>!k),T=N===-1?5:Math.min(N,5);(A=m.current[T])==null||A.focus()},w=async()=>{var P;const _=r.join("");if(_.length!==6){V.error("Vui lòng nhập đầy đủ 6 số");return}a(!0);try{const I=await EZ(e,_);I.success?(V.success(I.message),t()):(V.error(I.message),i(["","","","","",""]),(P=m.current[0])==null||P.focus())}catch{V.error("Có lỗi xảy ra khi xác thực")}finally{a(!1)}},x=async()=>{var _;l(!0);try{const P=await JL(e);P.success?(V.success(P.message),u(60),p(!1),i(["","","","","",""]),(_=m.current[0])==null||_.focus()):V.error(P.message)}catch{V.error("Không thể gửi lại mã xác thực")}finally{l(!1)}};return v.useEffect(()=>{r.join("").length===6&&!s&&w()},[r]),d.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-2xl shadow-xl p-8",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(LL,{className:"w-8 h-8 text-blue-600"})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Xác thực email"}),d.jsx("p",{className:"text-gray-600",children:"Chúng tôi đã gửi mã xác thực 6 số đến"}),d.jsx("p",{className:"font-semibold text-blue-600",children:e})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Nhập mã xác thực"}),d.jsx("div",{className:"flex gap-3 justify-center",onPaste:b,children:r.map((_,P)=>d.jsx("input",{ref:I=>m.current[P]=I,type:"text",inputMode:"numeric",pattern:"\\d*",maxLength:1,value:_,onChange:I=>g(P,I.target.value),onKeyDown:I=>y(P,I),className:"w-12 h-12 text-center text-xl font-bold border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",disabled:s},P))})]}),d.jsx("div",{className:"text-center mb-6",children:f?d.jsxs("button",{onClick:x,disabled:o,className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium mx-auto disabled:opacity-50",children:[d.jsx(Il,{className:`w-4 h-4 ${o?"animate-spin":""}`}),"Gửi lại mã xác thực"]}):d.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-600",children:[d.jsx(uJ,{className:"w-4 h-4"}),d.jsxs("span",{children:["Gửi lại mã sau ",c,"s"]})]})}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("button",{onClick:w,disabled:s||r.join("").length!==6,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2 font-medium",children:s?d.jsxs(d.Fragment,{children:[d.jsx(Il,{className:"w-4 h-4 animate-spin"}),"Đang xác thực..."]}):d.jsxs(d.Fragment,{children:[d.jsx(ML,{className:"w-4 h-4"}),"Xác thực"]})}),d.jsx("button",{onClick:n,className:"w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Quay lại"})]}),d.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:[d.jsx("p",{children:"Không nhận được mã?"}),d.jsx("p",{children:'Kiểm tra thư mục spam hoặc nhấn "Gửi lại mã xác thực"'})]})]})},AZ=()=>{const e=Ud(),[t,n]=v.useState(!0),[r,i]=v.useState(!1),[s,a]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[f,p]=v.useState(null),[m,g]=v.useState({email:"",password:"",confirmPassword:"",displayName:"",acceptTerms:!1}),y=T=>{const{name:A,value:k,type:C,checked:j}=T.target;g(D=>({...D,[A]:C==="checkbox"?j:k}))},b=()=>{if(!m.email.trim())return V.error("Vui lòng nhập email"),!1;if(!m.password)return V.error("Vui lòng nhập mật khẩu"),!1;if(!t){if(!m.displayName.trim())return V.error("Vui lòng nhập tên hiển thị"),!1;if(m.password!==m.confirmPassword)return V.error("Mật khẩu xác nhận không khớp"),!1;if(m.password.length<6)return V.error("Mật khẩu phải có ít nhất 6 ký tự"),!1;if(!m.acceptTerms)return V.error("Vui lòng đồng ý với điều khoản sử dụng"),!1}return!0},w=async(T,A={})=>{if(!T)return;const k=Le(oe,"users",T.uid);(await yi(k)).exists()||await Ql(k,{uid:T.uid,email:T.email,role:"user",createdAt:new Date,isActive:!0,emailVerified:T.emailVerified,needsRoleSelection:!0,...A})},x=async()=>{if(b()){i(!0);try{const T=await JL(m.email.trim());T.success?(p({email:m.email.trim(),password:m.password,displayName:m.displayName.trim()}),u(!0),V.success(T.message)):V.error(T.message)}catch(T){console.error("Registration error:",T),V.error("Có lỗi xảy ra khi gửi mã xác thực: "+(T.message||"Vui lòng thử lại"))}finally{i(!1)}}},_=async()=>{if(!f){V.error("Không tìm thấy thông tin đăng ký");return}i(!0);try{const T=await UH(Ki,f.email,f.password);await w(T.user,{displayName:f.displayName,emailVerified:!0,verificationMethod:"otp"}),V.success("Đăng ký thành công! Chào mừng bạn đến với Quiz App!"),g({email:"",password:"",confirmPassword:"",displayName:"",acceptTerms:!1}),p(null),u(!1),e("/role-selection")}catch(T){switch(console.error("Final registration error:",T),T.code){case"auth/email-already-in-use":V.error("Email này đã được sử dụng");break;case"auth/weak-password":V.error("Mật khẩu quá yếu");break;case"auth/invalid-email":V.error("Email không hợp lệ");break;default:V.error("Lỗi tạo tài khoản: "+(T.message||"Vui lòng thử lại"))}u(!1),p(null)}finally{i(!1)}},P=()=>{u(!1),p(null),V.info("Đã hủy quá trình đăng ký")},I=async()=>{if(b()){i(!0);try{const T=await BH(Ki,m.email.trim(),m.password),A=Le(oe,"users",T.user.uid);await Ql(A,{lastLoginAt:new Date,emailVerified:T.user.emailVerified},{merge:!0}),V.success("Đăng nhập thành công!"),e("/")}catch(T){switch(console.error("Login error:",T),T.code){case"auth/user-not-found":V.error("Email không tồn tại");break;case"auth/wrong-password":V.error("Mật khẩu không đúng");break;case"auth/invalid-email":V.error("Email không hợp lệ");break;case"auth/user-disabled":V.error("Tài khoản đã bị vô hiệu hóa");break;default:V.error("Lỗi đăng nhập: "+(T.message||"Vui lòng thử lại"))}}finally{i(!1)}}},N=async()=>{i(!0);try{const T=new Ci,A=await mG(Ki,T);await w(A.user,{displayName:A.user.displayName,photoURL:A.user.photoURL,provider:"google",emailVerified:!0}),V.success("Đăng nhập Google thành công!"),e("/")}catch(T){console.error("Google login error:",T),V.error("Lỗi đăng nhập Google: "+(T.message||"Vui lòng thử lại"))}finally{i(!1)}};return c&&f?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:d.jsx(SZ,{email:f.email,onVerificationSuccess:_,onCancel:P})}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:d.jsx("div",{className:"max-w-md w-full space-y-8",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:t?"Đăng nhập":"Đăng ký"}),d.jsx("p",{className:"mt-2 text-sm text-gray-600",children:t?"Chào mừng trở lại!":"Tạo tài khoản mới"})]}),d.jsxs("form",{className:"space-y-6",onSubmit:T=>T.preventDefault(),children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(LL,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"email",name:"email",value:m.email,onChange:y,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nhập email của bạn",required:!0})]})]}),!t&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên hiển thị"}),d.jsxs("div",{className:"relative",children:[d.jsx(ow,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",name:"displayName",value:m.displayName,onChange:y,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nhập tên hiển thị",required:!t})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu"}),d.jsxs("div",{className:"relative",children:[d.jsx(KI,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:s?"text":"password",name:"password",value:m.password,onChange:y,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nhập mật khẩu",required:!0}),d.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s?d.jsx(BI,{className:"w-5 h-5"}):d.jsx(Ls,{className:"w-5 h-5"})})]})]}),!t&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Xác nhận mật khẩu"}),d.jsxs("div",{className:"relative",children:[d.jsx(KI,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:o?"text":"password",name:"confirmPassword",value:m.confirmPassword,onChange:y,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Xác nhận mật khẩu",required:!t}),d.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?d.jsx(BI,{className:"w-5 h-5"}):d.jsx(Ls,{className:"w-5 h-5"})})]})]}),!t&&d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",name:"acceptTerms",checked:m.acceptTerms,onChange:y,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",required:!t}),d.jsxs("label",{className:"ml-2 text-sm text-gray-600",children:["Tôi đồng ý với"," ",d.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"điều khoản sử dụng"})]})]}),d.jsx("button",{type:"button",onClick:t?I:x,disabled:r,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:r?"Đang xử lý...":t?"Đăng nhập":"Đăng ký"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-300"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Hoặc"})})]}),d.jsxs("button",{type:"button",onClick:N,disabled:r,className:"w-full bg-white border border-gray-300 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium flex items-center justify-center gap-2",children:[d.jsx(RX,{className:"w-5 h-5"}),"Đăng nhập với Google"]}),d.jsx("div",{className:"text-center",children:d.jsx("button",{type:"button",onClick:()=>{n(!t),g({email:"",password:"",confirmPassword:"",displayName:"",acceptTerms:!1})},className:"text-blue-600 hover:text-blue-500 font-medium",children:t?"Chưa có tài khoản? Đăng ký ngay":"Đã có tài khoản? Đăng nhập"})})]})]})})})},ZL=({children:e,title:t})=>{const{user:n}=sr(r=>r.auth);return(n==null?void 0:n.role)!=="admin"?d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-600",children:"Bạn không có quyền truy cập trang này."})}):d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx("div",{className:"bg-white shadow-sm border-b",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center py-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"🔧 Admin Panel"})}),t&&d.jsx("div",{className:"ml-4 pl-4 border-l border-gray-200",children:d.jsx("h2",{className:"text-lg font-medium text-gray-700",children:t})})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("span",{className:"text-sm text-gray-500",children:["Xin chào, ",n==null?void 0:n.email]}),d.jsx("div",{className:"h-8 w-8 bg-blue-500 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-white text-sm font-medium",children:"A"})})]})]})})}),d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e})]})},PZ=()=>{const[e,t]=v.useState({totalQuizzes:0,totalUsers:0,completedQuizzes:0,totalCreators:0});v.useEffect(()=>{(async()=>{try{const b=(await We(Pe(oe,"quizzes"))).docs.map(T=>T.data()).filter(T=>T.status==="approved"),w=b.length,x=b.filter(T=>T.completed===!0||T.status==="completed").length,_=b.map(T=>T.creatorId).filter((T,A,k)=>T&&k.indexOf(T)===A).length,N=(await We(Pe(oe,"users"))).docs.map(T=>T.data()).length;t({totalQuizzes:w,totalUsers:N,completedQuizzes:x,totalCreators:_})}catch{}})()},[]);const{user:n}=sr(m=>m.auth),[r,i]=v.useState(!1),[s,a]=v.useState(!1),[o,l]=v.useState({message:"",type:"info",targetRole:"all"}),c=async()=>{if(!o.message.trim()){V.error("Vui lòng nhập nội dung thông báo!");return}a(!0);try{await Ys(Pe(oe,"system_notifications"),{message:o.message,type:o.type,createdAt:new Date,isActive:!0,targetRole:o.targetRole}),l({message:"",type:"info",targetRole:"all"}),i(!1),V.success("Đã gửi thông báo hệ thống!")}catch(m){console.error("Error creating notification:",m),V.error("Lỗi khi gửi thông báo!")}finally{a(!1)}},u=async()=>{a(!0);try{const m=["users","quizzes","categories","quiz_results"],g={};for(const _ of m){const P=await We(Pe(oe,_));g[_]=P.docs.map(I=>({id:I.id,...I.data()}))}const y=JSON.stringify(g,null,2),b=new Blob([y],{type:"application/json"}),w=URL.createObjectURL(b),x=document.createElement("a");x.href=w,x.download=`quiz-app-backup-${new Date().toISOString().split("T")[0]}.json`,x.click(),V.success("Backup dữ liệu thành công!")}catch{V.error("Lỗi khi backup dữ liệu!")}finally{a(!1)}},f=async()=>{if(confirm("Bạn có chắc muốn xóa tất cả thông báo đang hiển thị?")){a(!0);try{const g=(await We(Pe(oe,"system_notifications"))).docs.map(y=>Et(y.ref,{isActive:!1}));await Promise.all(g),V.success("Đã tắt tất cả thông báo!")}catch(m){console.error("Error deleting notifications:",m),V.error("Lỗi khi xóa thông báo!")}finally{a(!1)}}},p=async()=>{if(confirm("Bạn có chắc muốn dọn dẹp dữ liệu đã xoá (quiz, user)?")){a(!0);try{const y=(await We(Pe(oe,"quizzes"))).docs.filter(_=>_.data().deleted===!0).map(_=>Et(Le(oe,"quizzes",_.id),{isPurged:!0})),x=(await We(Pe(oe,"users"))).docs.filter(_=>_.data().deleted===!0).map(_=>Et(Le(oe,"users",_.id),{isPurged:!0}));await Promise.all([...y,...x]),V.success("Đã dọn dẹp dữ liệu xoá!")}catch{V.error("Lỗi khi dọn dẹp dữ liệu xoá!")}finally{a(!1)}}};return(n==null?void 0:n.role)!=="admin"?d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-600",children:"Bạn không có quyền truy cập trang này."})}):d.jsxs(ZL,{title:"Dashboard",children:[d.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg shadow-lg p-6 mb-8 text-white",children:[d.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Chào mừng đến với Admin Dashboard"}),d.jsx("p",{className:"text-blue-100",children:"Quản lý toàn bộ hệ thống Quiz một cách hiệu quả"})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 mb-6 md:mb-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6 border border-gray-200",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:d.jsx("span",{className:"text-2xl",children:"📚"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("h3",{className:"text-sm md:text-base font-semibold text-gray-900",children:"Tổng số Quiz"}),d.jsx("div",{className:"text-xl md:text-3xl font-bold text-blue-600",children:e.totalQuizzes})]})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6 border border-gray-200",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:d.jsx("span",{className:"text-2xl",children:"👥"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("h3",{className:"text-sm md:text-base font-semibold text-gray-900",children:"Người dùng"}),d.jsx("div",{className:"text-xl md:text-3xl font-bold text-green-600",children:e.totalUsers})]})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6 border border-gray-200",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:d.jsx("span",{className:"text-2xl",children:"✅"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("h3",{className:"text-sm md:text-base font-semibold text-gray-900",children:"Quiz hoàn thành"}),d.jsx("div",{className:"text-xl md:text-3xl font-bold text-purple-600",children:e.completedQuizzes})]})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6 border border-gray-200",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:d.jsx("span",{className:"text-2xl",children:"✏️"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("h3",{className:"text-sm md:text-base font-semibold text-gray-900",children:"Người tạo"}),d.jsx("div",{className:"text-xl md:text-3xl font-bold text-orange-600",children:e.totalCreators})]})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[d.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-3 md:mb-4",children:"Quản lý Quiz"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(De,{to:"/admin/quiz-management",className:"w-full text-left p-2 md:p-3 hover:bg-gray-50 rounded border block text-sm md:text-base",children:"📝 Duyệt Quiz"}),d.jsx(De,{to:"/admin/categories",className:"w-full text-left p-2 md:p-3 hover:bg-gray-50 rounded border block text-sm md:text-base",children:"📂 Quản lý danh mục"}),d.jsx(De,{to:"/admin/quiz-stats",className:"w-full text-left p-2 md:p-3 hover:bg-gray-50 rounded border block text-sm md:text-base",children:"📊 Thống kê Quiz"})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[d.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-3 md:mb-4",children:"Quản lý người dùng"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(De,{to:"/admin/users",className:"w-full text-left p-2 md:p-3 hover:bg-gray-50 rounded border block text-sm md:text-base",children:"👥 Danh sách người dùng"}),d.jsx(De,{to:"/admin/roles",className:"w-full text-left p-2 md:p-3 hover:bg-gray-50 rounded border block text-sm md:text-base",children:"🔐 Phân quyền người dùng"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h2",{className:"text-lg md:text-xl font-semibold text-gray-900 flex items-center",children:[d.jsx("span",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:"⚡"}),"Thao tác nhanh"]}),d.jsx("span",{className:"text-sm text-gray-500",children:"Các chức năng quan trọng"})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:[d.jsx("button",{onClick:()=>i(!0),className:"group bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white p-4 rounded-lg font-medium transition-all duration-200 transform hover:scale-105 shadow-md hover:shadow-lg",disabled:s,children:d.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[d.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform",children:"📢"}),d.jsx("span",{className:"text-sm font-medium",children:"Gửi thông báo"})]})}),d.jsx("button",{onClick:f,className:"group bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white p-4 rounded-lg font-medium transition-all duration-200 transform hover:scale-105 shadow-md hover:shadow-lg",disabled:s,children:d.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[d.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform",children:"❌"}),d.jsx("span",{className:"text-sm font-medium",children:"Xóa thông báo"})]})}),d.jsx("button",{onClick:u,className:"group bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white p-4 rounded-lg font-medium transition-all duration-200 transform hover:scale-105 shadow-md hover:shadow-lg",disabled:s,children:d.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[d.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform",children:"💾"}),d.jsx("span",{className:"text-sm font-medium",children:"Backup dữ liệu"})]})}),d.jsx("button",{onClick:p,className:"group bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white p-4 rounded-lg font-medium transition-all duration-200 transform hover:scale-105 shadow-md hover:shadow-lg",disabled:s,children:d.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[d.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform",children:"🗑️"}),d.jsx("span",{className:"text-sm font-medium",children:"Dọn dẹp dữ liệu"})]})})]})]}),r&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 md:p-6 w-full max-w-md mx-4",children:[d.jsx("h2",{className:"text-lg md:text-xl font-semibold mb-4",children:"Gửi thông báo hệ thống"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nội dung thông báo"}),d.jsx("textarea",{value:o.message,onChange:m=>l(g=>({...g,message:m.target.value})),placeholder:"Nhập nội dung thông báo...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",rows:4})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại thông báo"}),d.jsxs("select",{value:o.type,onChange:m=>l(g=>({...g,type:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[d.jsx("option",{value:"info",children:"Thông tin (Xanh)"}),d.jsx("option",{value:"warning",children:"Cảnh báo (Vàng)"}),d.jsx("option",{value:"success",children:"Thành công (Xanh lá)"}),d.jsx("option",{value:"error",children:"Lỗi (Đỏ)"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Đối tượng nhận"}),d.jsxs("select",{value:o.targetRole,onChange:m=>l(g=>({...g,targetRole:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[d.jsx("option",{value:"all",children:"Tất cả người dùng"}),d.jsx("option",{value:"user",children:"Chỉ User"}),d.jsx("option",{value:"creator",children:"Chỉ Creator"})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-4",children:[d.jsx("button",{onClick:()=>i(!1),className:"w-full sm:w-auto px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors text-sm md:text-base",disabled:s,children:"Hủy"}),d.jsx("button",{onClick:c,disabled:s||!o.message.trim(),className:"w-full sm:w-auto px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm md:text-base",children:s?"Đang gửi...":"Gửi thông báo"})]})]})]})})]})},IZ=(e,t,n,r)=>{var s,a,o,l;const i=[n,{code:t,...r||{}}];if((a=(s=e==null?void 0:e.services)==null?void 0:s.logger)!=null&&a.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);Ya(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(o=e==null?void 0:e.services)==null?void 0:o.logger)!=null&&l.warn?e.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},vk={},cw=(e,t,n,r)=>{Ya(n)&&vk[n]||(Ya(n)&&(vk[n]=new Date),IZ(e,t,n,r))},e4=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},uw=(e,t,n)=>{e.loadNamespaces(t,e4(e,n))},xk=(e,t,n,r)=>{if(Ya(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return uw(e,n,r);n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,e4(e,r))},kZ=(e,t,n={})=>!t.languages||!t.languages.length?(cw(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,e))return!1}}),Ya=e=>typeof e=="string",CZ=e=>typeof e=="object"&&e!==null,NZ=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,OZ={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},jZ=e=>OZ[e],RZ=e=>e.replace(NZ,jZ);let dw={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:RZ};const DZ=(e={})=>{dw={...dw,...e}},MZ=()=>dw;let t4;const LZ=e=>{t4=e},$Z=()=>t4,zZ={type:"3rdParty",init(e){DZ(e.options.react),LZ(e)}},VZ=v.createContext();class FZ{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const UZ=(e,t)=>{const n=v.useRef();return v.useEffect(()=>{n.current=e},[e,t]),n.current},n4=(e,t,n,r)=>e.getFixedT(t,n,r),BZ=(e,t,n,r)=>v.useCallback(n4(e,t,n,r),[e,t,n,r]),qZ=(e,t={})=>{var P,I,N,T;const{i18n:n}=t,{i18n:r,defaultNS:i}=v.useContext(VZ)||{},s=n||r||$Z();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new FZ),!s){cw(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const A=(C,j)=>Ya(j)?j:CZ(j)&&Ya(j.defaultValue)?j.defaultValue:Array.isArray(C)?C[C.length-1]:C,k=[A,{},!1];return k.t=A,k.i18n={},k.ready=!1,k}(P=s.options.react)!=null&&P.wait&&cw(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...MZ(),...s.options.react,...t},{useSuspense:o,keyPrefix:l}=a;let c=i||((I=s.options)==null?void 0:I.defaultNS);c=Ya(c)?[c]:c||["translation"],(T=(N=s.reportNamespaces).addUsedNamespaces)==null||T.call(N,c);const u=(s.isInitialized||s.initializedStoreOnce)&&c.every(A=>kZ(A,s,a)),f=BZ(s,t.lng||null,a.nsMode==="fallback"?c:c[0],l),p=()=>f,m=()=>n4(s,t.lng||null,a.nsMode==="fallback"?c:c[0],l),[g,y]=v.useState(p);let b=c.join();t.lng&&(b=`${t.lng}${b}`);const w=UZ(b),x=v.useRef(!0);v.useEffect(()=>{const{bindI18n:A,bindI18nStore:k}=a;x.current=!0,!u&&!o&&(t.lng?xk(s,t.lng,c,()=>{x.current&&y(m)}):uw(s,c,()=>{x.current&&y(m)})),u&&w&&w!==b&&x.current&&y(m);const C=()=>{x.current&&y(m)};return A&&(s==null||s.on(A,C)),k&&(s==null||s.store.on(k,C)),()=>{x.current=!1,s&&A&&(A==null||A.split(" ").forEach(j=>s.off(j,C))),k&&s&&k.split(" ").forEach(j=>s.store.off(j,C))}},[s,b]),v.useEffect(()=>{x.current&&u&&y(p)},[s,l,u]);const _=[g,s,u];if(_.t=g,_.i18n=s,_.ready=u,u||!u&&!o)return _;throw new Promise(A=>{t.lng?xk(s,t.lng,c,()=>A()):uw(s,c,()=>A())})},KZ=()=>{const{user:e}=sr(M=>M.auth),t=Ud(),{t:n}=qZ(),[r,i]=v.useState([]),[s,a]=v.useState([]),[o,l]=v.useState(!0),[c,u]=v.useState(null),[f,p]=v.useState("all"),[m,g]=v.useState("quizzes"),[y,b]=v.useState(!1),[w,x]=v.useState(null),[_,P]=v.useState(""),I=M=>{if(!M)return new Date;if(M&&typeof M.toDate=="function")return M.toDate();if(M instanceof Date)return M;if(typeof M=="string"||typeof M=="number"){const B=new Date(M);return isNaN(B.getTime())?new Date:B}return M&&typeof M=="object"&&M.seconds?new Date(M.seconds*1e3):(console.warn("Unknown date format:",M),new Date)};v.useEffect(()=>{N(),T()},[]);const N=async()=>{try{l(!0),u(null),console.log("🔍 Loading quizzes from Firestore...");const M=$t(Pe(oe,"quizzes"),ma("createdAt","desc")),B=await We(M);console.log("📊 Firestore response:",{empty:B.empty,size:B.size,docs:B.docs.length});const ae=[];B.forEach(ne=>{const he=ne.data();console.log("📝 Quiz data raw:",{id:ne.id,title:he.title,status:he.status,createdAt:he.createdAt,createdAtType:typeof he.createdAt});try{ae.push({id:ne.id,title:he.title||"Untitled Quiz",description:he.description||"",status:he.status||"pending",createdBy:he.createdBy||"unknown",createdAt:I(he.createdAt),questions:he.questions||[],difficulty:he.difficulty||"easy",category:he.category||"general",isPublic:he.isPublic||!1,isPublished:he.isPublished||!1})}catch($e){console.error("Error parsing quiz:",ne.id,$e)}}),console.log("✅ Loaded quizzes:",ae.length),i(ae),ae.length===0&&(console.log("⚠️ No quizzes found, showing empty state"),V.info("Chưa có quiz nào trong hệ thống"))}catch(M){console.error("❌ Error loading quizzes:",M),u("Không thể tải danh sách quiz"),V.error("Không thể tải danh sách quiz: "+M)}finally{l(!1)}},T=async()=>{try{console.log("🔍 Loading edit requests...");const M=$t(Pe(oe,"editRequests"),wr("status","==","pending")),B=await We(M),ae=[];B.forEach(ne=>{const he=ne.data();ae.push({id:ne.id,...he,requestedAt:I(he.requestedAt)})}),ae.sort((ne,he)=>{const $e=ne.requestedAt?new Date(ne.requestedAt).getTime():0;return(he.requestedAt?new Date(he.requestedAt).getTime():0)-$e}),console.log("✅ Loaded edit requests:",ae.length),a(ae)}catch(M){console.error("❌ Error loading edit requests:",M);try{console.log("🔄 Trying fallback approach...");const B=$t(Pe(oe,"editRequests")),ae=await We(B),ne=[];ae.forEach(he=>{const $e=he.data();$e.status==="pending"&&ne.push({id:he.id,...$e,requestedAt:I($e.requestedAt)})}),ne.sort((he,$e)=>{const Kn=he.requestedAt?new Date(he.requestedAt).getTime():0;return($e.requestedAt?new Date($e.requestedAt).getTime():0)-Kn}),console.log("✅ Fallback loaded edit requests:",ne.length),a(ne)}catch(B){console.error("❌ Fallback also failed:",B),a([])}}},A=M=>{t(`/admin/edit-quiz/${M}`)},k=M=>{x(M),b(!0)},C=async M=>{try{const B=Le(oe,"quizzes",M);await Et(B,{status:"approved",isPublished:!0,approvedAt:new Date,approvedBy:e==null?void 0:e.uid}),i(ae=>ae.map(ne=>ne.id===M?{...ne,status:"approved",isPublished:!0}:ne)),V.success("Đã phê duyệt quiz thành công!")}catch(B){console.error("Error approving quiz:",B),V.error("Không thể duyệt quiz")}},j=async M=>{try{const B=Le(oe,"quizzes",M);await Et(B,{status:"rejected",isPublished:!1,rejectedAt:new Date,rejectedBy:e==null?void 0:e.uid}),i(ae=>ae.map(ne=>ne.id===M?{...ne,status:"rejected",isPublished:!1}:ne)),V.success("Đã từ chối quiz!")}catch(B){console.error("Error rejecting quiz:",B),V.error("Không thể từ chối quiz")}},D=async(M,B)=>{try{const ae=s.find($e=>$e.id===M);if(!ae){V.error("Không tìm thấy yêu cầu chỉnh sửa");return}const ne=Le(oe,"editRequests",M);await Et(ne,{status:"approved",reviewedBy:e==null?void 0:e.uid,reviewedByName:(e==null?void 0:e.displayName)||"Admin",reviewedAt:new Date});const he=Le(oe,"quizzes",B);await Et(he,{canEdit:!0,editRequestApproved:!0,lastEditRequestApproved:new Date,approvedBy:e==null?void 0:e.uid}),await Ys(Pe(oe,"notifications"),{userId:ae.requestedBy,type:"edit_request_approved",title:"Yêu cầu chỉnh sửa đã được phê duyệt",message:`Yêu cầu chỉnh sửa quiz "${ae.quizTitle}" của bạn đã được admin phê duyệt. Bạn có thể chỉnh sửa quiz ngay bây giờ.`,quizId:B,createdAt:xu(),read:!1}),a($e=>$e.filter(Kn=>Kn.id!==M)),V.success(`Đã phê duyệt yêu cầu chỉnh sửa của ${ae.requestedByName||ae.requestedByEmail}!`)}catch(ae){console.error("Error approving edit request:",ae),V.error("Không thể phê duyệt yêu cầu chỉnh sửa")}},R=async M=>{try{const B=s.find(ne=>ne.id===M);if(!B){V.error("Không tìm thấy yêu cầu chỉnh sửa");return}const ae=Le(oe,"editRequests",M);await Et(ae,{status:"rejected",reviewedBy:e==null?void 0:e.uid,reviewedByName:(e==null?void 0:e.displayName)||"Admin",reviewedAt:new Date}),await Ys(Pe(oe,"notifications"),{userId:B.requestedBy,type:"edit_request_rejected",title:"Yêu cầu chỉnh sửa đã bị từ chối",message:`Yêu cầu chỉnh sửa quiz "${B.quizTitle}" của bạn đã bị admin từ chối. Vui lòng liên hệ admin để biết thêm chi tiết.`,quizId:B.quizId,createdAt:xu(),read:!1}),a(ne=>ne.filter(he=>he.id!==M)),V.success(`Đã từ chối yêu cầu chỉnh sửa của ${B.requestedByName||B.requestedByEmail}!`)}catch(B){console.error("Error rejecting edit request:",B),V.error("Không thể từ chối yêu cầu chỉnh sửa")}},Q=async()=>{var M,B,ae,ne;try{console.log("🔧 Creating sample edit requests...");const he=$t(Pe(oe,"quizzes")),$e=await We(he);if($e.empty){V.info("Không có quiz nào để tạo yêu cầu chỉnh sửa mẫu");return}const Kn=$e.docs.slice(0,3),J=[{quizId:(M=Kn[0])==null?void 0:M.id,quizTitle:((B=Kn[0])==null?void 0:B.data().title)||"Quiz mẫu 1",requestedBy:(e==null?void 0:e.uid)||"sample-user-1",requestedByName:(e==null?void 0:e.displayName)||"Creator Test",requestedByEmail:(e==null?void 0:e.email)||"creator@test.com",status:"pending",requestedAt:xu(),reason:"Cần cập nhật một số câu hỏi không chính xác",description:"Tôi muốn chỉnh sửa câu hỏi số 3 và 5 vì có lỗi chính tả"},{quizId:(ae=Kn[1])==null?void 0:ae.id,quizTitle:((ne=Kn[1])==null?void 0:ne.data().title)||"Quiz mẫu 2",requestedBy:"sample-user-2",requestedByName:"Creator Alpha",requestedByEmail:"alpha@creator.com",status:"pending",requestedAt:xu(),reason:"Thêm câu hỏi mới",description:"Quiz này cần thêm 5 câu hỏi nữa để đạt tiêu chuẩn"}];for(const pe of J)pe.quizId&&await Ys(Pe(oe,"editRequests"),pe);V.success(`Đã tạo ${J.filter(pe=>pe.quizId).length} yêu cầu chỉnh sửa mẫu!`),await T()}catch(he){console.error("Error creating sample edit requests:",he),V.error("Không thể tạo yêu cầu chỉnh sửa mẫu")}},de=async M=>{try{const B=Le(oe,"quizzes",M);await Et(B,{status:"pending",isPublished:!1,reopenedAt:new Date,reopenedBy:e==null?void 0:e.uid}),i(ae=>ae.map(ne=>ne.id===M?{...ne,status:"pending",isPublished:!1}:ne)),V.success("Đã mở lại quiz để xem xét!")}catch(B){console.error("Error reopening quiz:",B),V.error("Không thể mở lại quiz")}},ue=async M=>{if(window.confirm("Bạn có chắc chắn muốn xóa quiz này không?"))try{console.log("🗑️ Deleting quiz from database:",M),await Tl(Le(oe,"quizzes",M)),console.log("✅ Quiz deleted from database successfully"),i(B=>B.filter(ae=>ae.id!==M)),V.success("Quiz đã được xóa khỏi database")}catch(B){console.error("❌ Error deleting quiz:",B),V.error("Không thể xóa quiz: "+B)}},X=r.filter(M=>{const B=f==="all"||M.status===f,ae=M.title.toLowerCase().includes(_.toLowerCase())||M.description.toLowerCase().includes(_.toLowerCase());return B&&ae}),G={all:r.length,pending:r.filter(M=>M.status==="pending").length,approved:r.filter(M=>M.status==="approved").length,rejected:r.filter(M=>M.status==="rejected").length},ie=M=>{switch(M){case"approved":return d.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"✅ Đã duyệt"});case"rejected":return d.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:"❌ Từ chối"});default:return d.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 rounded-full text-xs font-medium",children:"⏳ Chờ duyệt"})}},ce=M=>{switch(M){case"easy":return d.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:"🟢 Dễ"});case"hard":return d.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs",children:"🔴 Khó"});default:return d.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs",children:"🟡 Trung bình"})}};return!e||e.role!=="admin"?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"⛔ Không có quyền truy cập"}),d.jsx("p",{className:"text-gray-600",children:"Bạn cần quyền admin để truy cập trang này."})]})}):o?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),d.jsx("p",{className:"mt-4 text-gray-600",children:"Đang tải danh sách quiz..."})]})}):c?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"❌ Lỗi"}),d.jsx("p",{className:"text-gray-600 mb-4",children:c}),d.jsx("button",{onClick:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Thử lại"})]})}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50",children:d.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-800 shadow-xl",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8",children:d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"w-12 h-12 lg:w-14 lg:h-14 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center ring-2 ring-white/30 shadow-lg",children:d.jsx(ul,{className:"w-6 h-6 lg:w-7 lg:h-7 text-white drop-shadow-sm"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white drop-shadow-sm",children:n("admin.quizManagement")}),d.jsx("p",{className:"text-blue-100 text-sm lg:text-base mt-1",children:"Duyệt và quản lý tất cả quiz trong hệ thống"})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 lg:gap-4",children:[d.jsxs("button",{onClick:()=>{N(),T()},className:"w-full sm:w-auto px-4 py-2.5 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white rounded-xl transition-all duration-200 flex items-center justify-center gap-2 border border-white/20 hover:border-white/40 shadow-lg hover:shadow-xl",title:"Làm mới danh sách",children:[d.jsx(WI,{className:"w-4 h-4"}),d.jsx("span",{className:"font-medium",children:"Làm mới"})]}),d.jsx("div",{className:"flex items-center space-x-3 bg-white/10 backdrop-blur-sm rounded-xl px-4 py-2.5 border border-white/20 shadow-lg",children:d.jsx(ow,{className:"w-4 h-4 text-white"})}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-3",children:[d.jsx("span",{className:"text-white text-sm font-medium truncate max-w-32 lg:max-w-none",children:e==null?void 0:e.email}),d.jsx("span",{className:"px-2 py-1 bg-gradient-to-r from-yellow-400 to-yellow-500 text-yellow-900 rounded-full text-xs font-bold shadow-sm",children:"Admin"})]})]})]})})})}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[d.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng Quiz"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:G.all})]}),d.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:d.jsx(NX,{className:"w-6 h-6 text-blue-600"})})]})}),d.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Chờ duyệt"}),d.jsx("p",{className:"text-2xl font-bold text-orange-600",children:G.pending})]}),d.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:d.jsx(UI,{className:"w-6 h-6 text-orange-600"})})]})}),d.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đã duyệt"}),d.jsx("p",{className:"text-2xl font-bold text-green-600",children:G.approved})]}),d.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:d.jsx(t0,{className:"w-6 h-6 text-green-600"})})]})}),d.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đã từ chối"}),d.jsx("p",{className:"text-2xl font-bold text-red-600",children:G.rejected})]}),d.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:d.jsx(hh,{className:"w-6 h-6 text-red-600"})})]})})]}),d.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-8",children:d.jsxs("div",{className:"flex border-b border-gray-200",children:[d.jsx("button",{onClick:()=>g("quizzes"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${m==="quizzes"?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ul,{className:"w-4 h-4"}),"Quản lý Quiz",d.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs",children:r.length})]})}),d.jsx("button",{onClick:()=>g("editRequests"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${m==="editRequests"?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(n0,{className:"w-4 h-4"}),"Yêu cầu chỉnh sửa",d.jsx("span",{className:"bg-orange-100 text-orange-600 px-2 py-1 rounded-full text-xs",children:s.length})]})})]})}),m==="quizzes"&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-8",children:d.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"relative",children:[d.jsx(rJ,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Tìm kiếm quiz theo tiêu đề, mô tả...",value:_,onChange:M=>P(M.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),d.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[d.jsx("button",{onClick:()=>p("all"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${f==="all"?"bg-blue-600 text-white shadow-sm":"text-gray-700 hover:text-gray-900"}`,children:"Tất cả"}),d.jsx("button",{onClick:()=>p("pending"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${f==="pending"?"bg-orange-600 text-white shadow-sm":"text-gray-700 hover:text-gray-900"}`,children:"Chờ duyệt"}),d.jsx("button",{onClick:()=>p("approved"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${f==="approved"?"bg-green-600 text-white shadow-sm":"text-gray-700 hover:text-gray-900"}`,children:"Đã duyệt"}),d.jsx("button",{onClick:()=>p("rejected"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${f==="rejected"?"bg-red-600 text-white shadow-sm":"text-gray-700 hover:text-gray-900"}`,children:"Từ chối"})]})]})}),X.length===0?d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[d.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:d.jsx(ul,{className:"w-10 h-10 text-gray-400"})}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:_?"Không tìm thấy quiz phù hợp":"Chưa có quiz nào"}),d.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:_?"Thử thay đổi từ khóa tìm kiếm hoặc bộ lọc để xem thêm quiz.":"Hiện tại chưa có quiz nào trong hệ thống. Người tạo có thể tạo quiz từ trang Creator."}),!_&&d.jsx("div",{className:"flex justify-center",children:d.jsxs("button",{onClick:()=>window.open("/creator","_blank"),className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[d.jsx(ul,{className:"w-5 h-5"}),"Đi đến trang Creator"]})})]}):d.jsx("div",{className:"grid gap-6",children:X.map(M=>d.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900",children:M.title}),ie(M.status),ce(M.difficulty)]}),d.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:M.description}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:"Danh mục:"})," ",M.category]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:"Số câu hỏi:"})," ",M.questions.length]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:"Tạo lúc:"})," ",M.createdAt.toLocaleDateString("vi-VN")]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 ml-6",children:[d.jsx("button",{onClick:()=>k(M),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Xem trước chi tiết",children:d.jsx(Ls,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>A(M.id),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Chỉnh sửa quiz",children:d.jsx(ZX,{className:"w-5 h-5"})}),M.status==="pending"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>C(M.id),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Phê duyệt quiz",children:d.jsx(t0,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>j(M.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Từ chối quiz",children:d.jsx(hh,{className:"w-5 h-5"})})]}),(M.status==="approved"||M.status==="rejected")&&d.jsx("button",{onClick:()=>de(M.id),className:"p-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Mở lại để xem xét",children:d.jsx(WI,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>ue(M.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Xóa quiz vĩnh viễn",children:d.jsx(fJ,{className:"w-5 h-5"})})]})]})},M.id))})]}),m==="editRequests"&&d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[d.jsx(n0,{className:"w-5 h-5 text-orange-500"}),"Yêu cầu chỉnh sửa Quiz (",s.length,")"]}),s.length===0&&d.jsx("button",{onClick:Q,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Tạo dữ liệu mẫu"})]}),s.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx(n0,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500 mb-4",children:"Không có yêu cầu chỉnh sửa nào"}),d.jsx("p",{className:"text-sm text-gray-400",children:'Nhấn "Tạo dữ liệu mẫu" để tạo một số yêu cầu chỉnh sửa cho mục đích test'})]}):d.jsx("div",{className:"space-y-4",children:s.map(M=>{var B;return d.jsx("div",{className:"border border-gray-200 rounded-lg p-6 bg-white shadow-sm",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:d.jsx(ow,{className:"w-5 h-5 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-900",children:M.requestedByName||M.requestedByEmail||"Người dùng không xác định"}),d.jsx("p",{className:"text-sm text-gray-500",children:M.requestedByEmail||M.requestedBy||"Email không xác định"})]})]}),d.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-3",children:[d.jsxs("h5",{className:"font-medium text-gray-900 mb-2",children:["📝 Quiz: ",M.quizTitle||"Tên quiz không xác định"]}),d.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[d.jsx("strong",{children:"Lý do yêu cầu:"})," ",M.reason||"Không có lý do cụ thể"]}),M.description&&d.jsxs("p",{className:"text-sm text-gray-600",children:[d.jsx("strong",{children:"Chi tiết:"})," ",M.description]})]}),d.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(UI,{className:"w-4 h-4"}),((B=M.requestedAt)==null?void 0:B.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}))||"Thời gian không xác định"]}),d.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-700 rounded-full text-xs font-medium",children:"Chờ xử lý"})]})]}),d.jsxs("div",{className:"flex gap-2 ml-6",children:[d.jsxs("button",{onClick:()=>D(M.id,M.quizId),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-sm",title:"Phê duyệt yêu cầu",children:[d.jsx(t0,{className:"w-4 h-4"}),"Duyệt"]}),d.jsxs("button",{onClick:()=>R(M.id),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm",title:"Từ chối yêu cầu",children:[d.jsx(hh,{className:"w-4 h-4"}),"Từ chối"]})]})]})},M.id)})})]}),y&&w&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsx("div",{className:"p-6 border-b border-gray-200",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("h2",{className:"text-xl font-bold",children:["Xem trước Quiz: ",w.title]}),d.jsx("button",{onClick:()=>b(!1),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg",children:d.jsx(hh,{className:"w-5 h-5"})})]})}),d.jsx("div",{className:"p-6",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold mb-2",children:"Mô tả:"}),d.jsx("p",{className:"text-gray-600",children:w.description})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold",children:"Danh mục:"})," ",w.category]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold",children:"Độ khó:"})," ",w.difficulty]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold",children:"Số câu hỏi:"})," ",w.questions.length]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold",children:"Trạng thái:"})," ",ie(w.status||"pending")]})]}),w.questions.length>0&&d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold mb-4",children:"Câu hỏi:"}),d.jsx("div",{className:"space-y-4",children:w.questions.map((M,B)=>d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsxs("h4",{className:"font-medium mb-2",children:[B+1,". ",M.text]}),M.answers&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:M.answers.map((ae,ne)=>d.jsxs("div",{className:`p-2 rounded ${ae.isCorrect?"bg-green-100 text-green-800":"bg-gray-100"}`,children:[String.fromCharCode(65+ne),". ",ae.text,ae.isCorrect&&" ✓"]},ne))})]},B))})]})]})})]})})]})]})},WZ=({isOpen:e,onClose:t,title:n,children:r,size:i="md",closeOnBackdrop:s=!0,showCloseButton:a=!0})=>{v.useEffect(()=>{const l=c=>{c.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",l),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",l),document.body.style.overflow="unset"}},[e,t]);const o={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return e?d.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:s?t:void 0}),d.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:d.jsxs("div",{className:`
            relative bg-white rounded-lg shadow-xl transform transition-all
            w-full ${o[i]}
          `,onClick:l=>l.stopPropagation(),children:[(n||a)&&d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n&&d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n}),a&&d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors p-1","aria-label":"Đóng modal",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsx("div",{className:"p-6",children:r})]})})]}):null},wk=()=>{const{user:e}=sr(g=>g.auth),[t,n]=v.useState([]),[r,i]=v.useState(!0),[s,a]=v.useState("all"),[o,l]=v.useState({open:!1,type:null});v.useEffect(()=>{c()},[]);const c=async()=>{try{const y=(await We(Pe(oe,"users"))).docs.map(b=>({id:b.id,...b.data()})).filter(b=>!b.isDeleted);n(y)}catch(g){console.error("Error fetching users:",g)}finally{i(!1)}},u=async(g,y)=>{if(g===(e==null?void 0:e.uid)&&y!=="admin"){V.error("Bạn không thể thay đổi quyền của chính mình!");return}i(!0);try{await Et(Le(oe,"users",g),{role:y}),n(b=>b.map(w=>w.id===g?{...w,role:y}:w)),V.success("Đã cập nhật quyền người dùng!")}catch(b){console.error("Error updating user role:",b),V.error("Có lỗi xảy ra!")}finally{i(!1)}},f=async(g,y)=>{if(g===(e==null?void 0:e.uid)){V.error("Bạn không thể khóa tài khoản của chính mình!");return}i(!0);try{await Et(Le(oe,"users",g),{isActive:!y}),n(b=>b.map(w=>w.id===g?{...w,isActive:!y}:w)),V.success(`Đã ${y?"khóa":"kích hoạt"} tài khoản!`)}catch(b){console.error("Error updating user status:",b),V.error("Có lỗi xảy ra!")}finally{i(!1)}},p=async g=>{if(g===(e==null?void 0:e.uid)){V.error("Bạn không thể xóa tài khoản của chính mình!");return}i(!0);try{await Et(Le(oe,"users",g),{isActive:!1,isDeleted:!0,deletedAt:new Date,deletedBy:e==null?void 0:e.uid}),n(y=>y.filter(b=>b.id!==g)),V.success("Đã vô hiệu hóa tài khoản người dùng!")}catch(y){console.error("Error deleting user:",y),V.error("Có lỗi xảy ra khi xóa người dùng!")}finally{i(!1)}},m=s==="all"?t:t.filter(g=>g.role===s);return(e==null?void 0:e.role)!=="admin"?d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-600",children:"Bạn không có quyền truy cập trang này."})}):r?d.jsx("div",{className:"flex items-center justify-center min-h-96",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):d.jsxs(ZL,{title:"👥 Quản lý người dùng",children:[d.jsx("div",{className:"mb-6",children:d.jsx("div",{className:"flex space-x-4",children:[{key:"all",label:"Tất cả",count:t.length},{key:"admin",label:"Admin",count:t.filter(g=>g.role==="admin").length},{key:"creator",label:"Creator",count:t.filter(g=>g.role==="creator").length},{key:"user",label:"User",count:t.filter(g=>g.role==="user").length}].map(g=>d.jsxs("button",{onClick:()=>a(g.key),className:`px-4 py-2 rounded-lg font-medium transition-colors ${s===g.key?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[g.label," (",g.count,")"]},g.key))})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tổng người dùng"}),d.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.length})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Đang hoạt động"}),d.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.filter(g=>g.isActive!==!1).length})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Creator"}),d.jsx("p",{className:"text-3xl font-bold text-purple-600",children:t.filter(g=>g.role==="creator").length})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Admin"}),d.jsx("p",{className:"text-3xl font-bold text-red-600",children:t.filter(g=>g.role==="admin").length})]})]}),d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Người dùng"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vai trò"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày tạo"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tác"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(g=>{var y,b,w,x,_;return d.jsxs("tr",{className:g.id===(e==null?void 0:e.uid)?"bg-blue-50":"",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:d.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:d.jsx("span",{className:"text-sm font-medium text-gray-700",children:((y=g.displayName)==null?void 0:y.charAt(0))||((b=g.email)==null?void 0:b.charAt(0))||"U"})})}),d.jsxs("div",{className:"ml-4",children:[d.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[g.displayName||"Chưa có tên",g.id===(e==null?void 0:e.uid)&&d.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"(Bạn)"})]}),d.jsx("div",{className:"text-sm text-gray-500",children:g.email})]})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("select",{value:g.role,onChange:P=>l({open:!0,type:"roleChange",payload:{userId:g.id,newRole:P.target.value},message:`Bạn có chắc chắn muốn đổi quyền cho người dùng này thành ${P.target.value}?`}),disabled:g.id===(e==null?void 0:e.uid),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[d.jsx("option",{value:"user",children:"User"}),d.jsx("option",{value:"creator",children:"Creator"}),d.jsx("option",{value:"admin",children:"Admin"})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${g.isActive!==!1?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:g.isActive!==!1?"Hoạt động":"Bị khóa"})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((_=(x=(w=g.createdAt)==null?void 0:w.toDate)==null?void 0:x.call(w))==null?void 0:_.toLocaleDateString())||"N/A"}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:d.jsx("div",{className:"flex space-x-2",children:g.id!==(e==null?void 0:e.uid)&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>l({open:!0,type:"toggleUserStatus",payload:{userId:g.id,currentStatus:g.isActive!==!1},message:g.isActive!==!1?"Bạn có chắc chắn muốn khóa tài khoản này?":"Bạn có chắc chắn muốn kích hoạt tài khoản này?"}),className:`px-3 py-1 rounded text-xs ${g.isActive!==!1?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"}`,disabled:r,children:g.isActive!==!1?"Khóa":"Kích hoạt"}),d.jsx("button",{onClick:()=>l({open:!0,type:"deleteUser",payload:{userId:g.id},message:"Bạn có chắc chắn muốn xóa người dùng này?"}),className:"px-3 py-1 bg-red-100 text-red-600 rounded text-xs hover:bg-red-200",disabled:r,children:"Xóa"})]})})})]},g.id)})})]})}),d.jsxs(WZ,{isOpen:o.open,onClose:()=>l({open:!1,type:null}),title:"Xác nhận thao tác",children:[d.jsx("div",{className:"mb-4",children:o.message}),d.jsxs("div",{className:"flex justify-end space-x-2",children:[d.jsx("button",{onClick:()=>l({open:!1,type:null}),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",disabled:r,children:"Hủy"}),d.jsx("button",{onClick:async()=>{o.type==="deleteUser"&&await p(o.payload.userId),o.type==="toggleUserStatus"&&await f(o.payload.userId,o.payload.currentStatus),o.type==="roleChange"&&await u(o.payload.userId,o.payload.newRole),l({open:!1,type:null})},className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",disabled:r,children:"Xác nhận"})]})]})]})};var Hg={},r4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(r4);var O1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(O1);var j1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(j1);var Gg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],i=n.length;if(i===0)return r;let s=0,a="",o="",l=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<i;){const c=n[s];o?c==="\\"&&s+1<i?(s++,a+=n[s]):c===o?o="":a+=c:l?c==='"'||c==="'"?o=c:c==="]"?(l=!1,r.push(a),a=""):a+=c:c==="["?(l=!0,a&&(r.push(a),a="")):c==="."?a&&(r.push(a),a=""):a+=c,s++}return a&&r.push(a),r}e.toPath=t})(Gg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r4,n=O1,r=j1,i=Gg;function s(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?n.isDeepKey(l)?s(o,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const u=o[l];return u===void 0?c:u}default:{if(Array.isArray(l))return a(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?c:u}}}function a(o,l,c){if(l.length===0)return c;let u=o;for(let f=0;f<l.length;f++){if(u==null||t.isUnsafeProperty(l[f]))return c;u=u[l[f]]}return u===void 0?c:u}e.get=s})(Hg);var HZ=Hg.get;const oa=bi(HZ);var Jt=e=>e===0?0:e>0?1:-1,or=e=>typeof e=="number"&&e!=+e,Ua=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ee=e=>(typeof e=="number"||e instanceof Number)&&!or(e),vi=e=>ee(e)||typeof e=="string",GZ=0,la=e=>{var t=++GZ;return"".concat(e||"").concat(t)},Nn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ee(t)&&typeof t!="string")return r;var s;if(Ua(t)){if(n==null)return r;var a=t.indexOf("%");s=n*parseFloat(t.slice(0,a))/100}else s=+t;return or(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},i4=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1},Xn=(e,t)=>ee(e)&&ee(t)?n=>e+n*(t-e):()=>t;function Bo(e,t,n){return ee(e)&&ee(t)?e+n*(t-e):t}function s4(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):oa(r,t))===n)}var Ue=e=>e===null||typeof e>"u",df=e=>Ue(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),QZ=["viewBox","children"],YZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],bk=["points","pathLength"],a0={svg:QZ,polygon:bk,polyline:bk},R1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],D1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{R1.includes(i)&&(r[i]=s=>n[i](n,s))}),r},XZ=(e,t,n)=>r=>(e(t,n,r),null),ff=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var s=e[i];R1.includes(i)&&typeof s=="function"&&(r||(r={}),r[i]=XZ(s,t,n))}),r},_k=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Ek=null,o0=null,a4=e=>{if(e===Ek&&Array.isArray(o0))return o0;var t=[];return v.Children.forEach(e,n=>{Ue(n)||(l9.isFragment(n)?t=t.concat(a4(n.props.children)):t.push(n))}),o0=t,Ek=e,t};function hf(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>_k(i)):r=[_k(t)],a4(e).forEach(i=>{var s=oa(i,"type.displayName")||oa(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}var Qg=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,JZ=(e,t,n,r)=>{var i,s=(i=r&&(a0==null?void 0:a0[r]))!==null&&i!==void 0?i:[];return t.startsWith("data-")||typeof e!="function"&&(r&&s.includes(t)||YZ.includes(t))||n&&R1.includes(t)},be=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(s=>{var a;JZ((a=r)===null||a===void 0?void 0:a[s],s,t,n)&&(i[s]=r[s])}),i},ZZ=["children","width","height","viewBox","className","style","title","desc"];function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fw.apply(null,arguments)}function eee(e,t){if(e==null)return{};var n,r,i=tee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var M1=v.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:o,title:l,desc:c}=e,u=eee(e,ZZ),f=s||{width:r,height:i,x:0,y:0},p=we("recharts-surface",a);return v.createElement("svg",fw({},be(u,!0,"svg"),{className:p,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),v.createElement("title",null,l),v.createElement("desc",null,c),n)}),nee=["children","className"];function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hw.apply(null,arguments)}function ree(e,t){if(e==null)return{};var n,r,i=iee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ht=v.forwardRef((e,t)=>{var{children:n,className:r}=e,i=ree(e,nee),s=we("recharts-layer",r);return v.createElement("g",hw({className:s},be(i,!0),{ref:t}),n)}),o4=v.createContext(null),see=()=>v.useContext(o4);function Qe(e){return function(){return e}}const l4=Math.cos,Gp=Math.sin,ti=Math.sqrt,Qp=Math.PI,Yg=2*Qp,pw=Math.PI,mw=2*pw,Oa=1e-6,aee=mw-Oa;function c4(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function oee(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return c4;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class lee{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?c4:oee(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-t,c=i-n,u=a-t,f=o-n,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>Oa)if(!(Math.abs(f*l-c*u)>Oa)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-a,g=i-o,y=l*l+c*c,b=m*m+g*g,w=Math.sqrt(y),x=Math.sqrt(p),_=s*Math.tan((pw-Math.acos((y+p-b)/(2*w*x)))/2),P=_/x,I=_/w;Math.abs(P-1)>Oa&&this._append`L${t+P*u},${n+P*f}`,this._append`A${s},${s},0,0,${+(f*m>u*g)},${this._x1=t+I*l},${this._y1=n+I*c}`}}arc(t,n,r,i,s,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=t+o,u=n+l,f=1^a,p=a?i-s:s-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Oa||Math.abs(this._y1-u)>Oa)&&this._append`L${c},${u}`,r&&(p<0&&(p=p%mw+mw),p>aee?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:p>Oa&&this._append`A${r},${r},0,${+(p>=pw)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function L1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new lee(t)}function $1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function u4(e){this._context=e}u4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Xg(e){return new u4(e)}function d4(e){return e[0]}function f4(e){return e[1]}function h4(e,t){var n=Qe(!0),r=null,i=Xg,s=null,a=L1(o);e=typeof e=="function"?e:e===void 0?d4:Qe(e),t=typeof t=="function"?t:t===void 0?f4:Qe(t);function o(l){var c,u=(l=$1(l)).length,f,p=!1,m;for(r==null&&(s=i(m=a())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+e(f,c,l),+t(f,c,l));if(m)return s=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Qe(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Qe(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Qe(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function ph(e,t,n){var r=null,i=Qe(!0),s=null,a=Xg,o=null,l=L1(c);e=typeof e=="function"?e:e===void 0?d4:Qe(+e),t=typeof t=="function"?t:Qe(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?f4:Qe(+n);function c(f){var p,m,g,y=(f=$1(f)).length,b,w=!1,x,_=new Array(y),P=new Array(y);for(s==null&&(o=a(x=l())),p=0;p<=y;++p){if(!(p<y&&i(b=f[p],p,f))===w)if(w=!w)m=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=p-1;g>=m;--g)o.point(_[g],P[g]);o.lineEnd(),o.areaEnd()}w&&(_[p]=+e(b,p,f),P[p]=+t(b,p,f),o.point(r?+r(b,p,f):_[p],n?+n(b,p,f):P[p]))}if(x)return o=null,x+""||null}function u(){return h4().defined(i).curve(a).context(s)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Qe(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Qe(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Qe(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Qe(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Qe(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Qe(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Qe(!!f),c):i},c.curve=function(f){return arguments.length?(a=f,s!=null&&(o=a(s)),c):a},c.context=function(f){return arguments.length?(f==null?s=o=null:o=a(s=f),c):s},c}class p4{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function cee(e){return new p4(e,!0)}function uee(e){return new p4(e,!1)}const z1={draw(e,t){const n=ti(t/Qp);e.moveTo(n,0),e.arc(0,0,n,0,Yg)}},dee={draw(e,t){const n=ti(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},m4=ti(1/3),fee=m4*2,hee={draw(e,t){const n=ti(t/fee),r=n*m4;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},pee={draw(e,t){const n=ti(t),r=-n/2;e.rect(r,r,n,n)}},mee=.8908130915292852,g4=Gp(Qp/10)/Gp(7*Qp/10),gee=Gp(Yg/10)*g4,yee=-l4(Yg/10)*g4,vee={draw(e,t){const n=ti(t*mee),r=gee*n,i=yee*n;e.moveTo(0,-n),e.lineTo(r,i);for(let s=1;s<5;++s){const a=Yg*s/5,o=l4(a),l=Gp(a);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*i,l*r+o*i)}e.closePath()}},l0=ti(3),xee={draw(e,t){const n=-ti(t/(l0*3));e.moveTo(0,n*2),e.lineTo(-l0*n,-n),e.lineTo(l0*n,-n),e.closePath()}},hr=-.5,pr=ti(3)/2,gw=1/ti(12),wee=(gw/2+1)*3,bee={draw(e,t){const n=ti(t/wee),r=n/2,i=n*gw,s=r,a=n*gw+n,o=-s,l=a;e.moveTo(r,i),e.lineTo(s,a),e.lineTo(o,l),e.lineTo(hr*r-pr*i,pr*r+hr*i),e.lineTo(hr*s-pr*a,pr*s+hr*a),e.lineTo(hr*o-pr*l,pr*o+hr*l),e.lineTo(hr*r+pr*i,hr*i-pr*r),e.lineTo(hr*s+pr*a,hr*a-pr*s),e.lineTo(hr*o+pr*l,hr*l-pr*o),e.closePath()}};function _ee(e,t){let n=null,r=L1(i);e=typeof e=="function"?e:Qe(e||z1),t=typeof t=="function"?t:Qe(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Qe(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Qe(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Yp(){}function Xp(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function y4(e){this._context=e}y4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Eee(e){return new y4(e)}function v4(e){this._context=e}v4.prototype={areaStart:Yp,areaEnd:Yp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Xp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Tee(e){return new v4(e)}function x4(e){this._context=e}x4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Xp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function See(e){return new x4(e)}function w4(e){this._context=e}w4.prototype={areaStart:Yp,areaEnd:Yp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Aee(e){return new w4(e)}function Tk(e){return e<0?-1:1}function Sk(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(Tk(s)+Tk(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function Ak(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function c0(e,t,n){var r=e._x0,i=e._y0,s=e._x1,a=e._y1,o=(s-r)/3;e._context.bezierCurveTo(r+o,i+o*t,s-o,a-o*n,s,a)}function Jp(e){this._context=e}Jp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:c0(this,this._t0,Ak(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,c0(this,Ak(this,n=Sk(this,e,t)),n);break;default:c0(this,this._t0,n=Sk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function b4(e){this._context=new _4(e)}(b4.prototype=Object.create(Jp.prototype)).point=function(e,t){Jp.prototype.point.call(this,t,e)};function _4(e){this._context=e}_4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function Pee(e){return new Jp(e)}function Iee(e){return new b4(e)}function E4(e){this._context=e}E4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Pk(e),i=Pk(t),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Pk(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function kee(e){return new E4(e)}function Jg(e,t){this._context=e,this._t=t}Jg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Cee(e){return new Jg(e,.5)}function Nee(e){return new Jg(e,0)}function Oee(e){return new Jg(e,1)}function Yl(e,t){if((a=e.length)>1)for(var n=1,r,i,s=e[t[0]],a,o=s.length;n<a;++n)for(i=s,s=e[t[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function yw(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function jee(e,t){return e[t]}function Ree(e){const t=[];return t.key=e,t}function Dee(){var e=Qe([]),t=yw,n=Yl,r=jee;function i(s){var a=Array.from(e.apply(this,arguments),Ree),o,l=a.length,c=-1,u;for(const f of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+r(f,a[o].key,c,s)]).data=f;for(o=0,u=$1(t(a));o<l;++o)a[u[o]].index=o;return n(a,u),a}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Qe(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Qe(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?yw:typeof s=="function"?s:Qe(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??Yl,i):n},i}function Mee(e,t){if((r=e.length)>0){for(var n,r,i=0,s=e[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}Yl(e,t)}}function Lee(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=e[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}Yl(e,t)}}function $ee(e,t){if(!(!((a=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,c=0;o<a;++o){for(var u=e[t[o]],f=u[r][1]||0,p=u[r-1][1]||0,m=(f-p)/2,g=0;g<o;++g){var y=e[t[g]],b=y[r][1]||0,w=y[r-1][1]||0;m+=b-w}l+=f,c+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Yl(e,t)}}var zee=["type","size","sizeType"];function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vw.apply(null,arguments)}function Ik(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(n),!0).forEach(function(r){Vee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vee(e,t,n){return(t=Fee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fee(e){var t=Uee(e,"string");return typeof t=="symbol"?t:t+""}function Uee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bee(e,t){if(e==null)return{};var n,r,i=qee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var T4={symbolCircle:z1,symbolCross:dee,symbolDiamond:hee,symbolSquare:pee,symbolStar:vee,symbolTriangle:xee,symbolWye:bee},Kee=Math.PI/180,Wee=e=>{var t="symbol".concat(df(e));return T4[t]||z1},Hee=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*Kee;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Gee=(e,t)=>{T4["symbol".concat(df(e))]=t},V1=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=Bee(e,zee),s=kk(kk({},i),{},{type:t,size:n,sizeType:r}),a=()=>{var f=Wee(t),p=_ee().type(f).size(Hee(n,r,t));return p()},{className:o,cx:l,cy:c}=s,u=be(s,!0);return l===+l&&c===+c&&n===+n?v.createElement("path",vw({},u,{className:we("recharts-symbols",o),transform:"translate(".concat(l,", ").concat(c,")"),d:a()})):null};V1.registerSymbol=Gee;function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xw.apply(null,arguments)}function Ck(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(n),!0).forEach(function(r){F1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F1(e,t,n){return(t=Yee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yee(e){var t=Xee(e,"string");return typeof t=="symbol"?t:t+""}function Xee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mr=32;class U1 extends v.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,i=mr/2,s=mr/6,a=mr/3,o=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline")return v.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:mr,y2:i,className:"recharts-legend-icon"});if(l==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(mr,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return v.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(mr/8,"h").concat(mr,"v").concat(mr*3/4,"h").concat(-mr,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var c=Qee({},t);return delete c.legendIcon,v.cloneElement(t.legendIcon,c)}return v.createElement(V1,{fill:o,cx:i,cy:i,size:mr,sizeType:"diameter",type:l})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:a}=this.props,o={x:0,y:0,width:mr,height:mr},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,f)=>{var p=u.formatter||i,m=we({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var g=u.inactive?s:u.color,y=p?p(u.value,u,f):u.value;return v.createElement("li",xw({className:m,style:l,key:"legend-item-".concat(f)},ff(this.props,u,f)),v.createElement(M1,{width:n,height:n,viewBox:o,style:c,"aria-label":"".concat(y," legend icon")},this.renderIcon(u,a)),v.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},y))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}F1(U1,"displayName","Legend");F1(U1,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var S4={},A4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],o=r(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}e.uniqBy=t})(A4);var B1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(B1);var P4={},Zg={},I4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(I4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I4;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Zg);var k4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(k4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zg,n=k4;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(P4);var C4={},N4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hg;function n(r){return function(i){return t.get(i,r)}}e.property=n})(N4);var O4={},u0={},d0={},q1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(q1);var K1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(K1);var ey={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(ey);var Nk;function Jee(){return Nk||(Nk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W1(),n=q1,r=K1,i=ey;function s(f,p,m){return typeof m!="function"?t.isMatch(f,p):a(f,p,function g(y,b,w,x,_,P){const I=m(y,b,w,x,_,P);return I!==void 0?!!I:a(y,b,g,P)},new Map)}function a(f,p,m,g){if(p===f)return!0;switch(typeof p){case"object":return o(f,p,m,g);case"function":return Object.keys(p).length>0?a(f,{...p},m,g):i.eq(f,p);default:return n.isObject(f)?typeof p=="string"?p==="":!0:i.eq(f,p)}}function o(f,p,m,g){if(p==null)return!0;if(Array.isArray(p))return c(f,p,m,g);if(p instanceof Map)return l(f,p,m,g);if(p instanceof Set)return u(f,p,m,g);const y=Object.keys(p);if(f==null)return y.length===0;if(y.length===0)return!0;if(g&&g.has(p))return g.get(p)===f;g&&g.set(p,f);try{for(let b=0;b<y.length;b++){const w=y[b];if(!r.isPrimitive(f)&&!(w in f)||p[w]===void 0&&f[w]!==void 0||p[w]===null&&f[w]!==null||!m(f[w],p[w],w,f,p,g))return!1}return!0}finally{g&&g.delete(p)}}function l(f,p,m,g){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[y,b]of p.entries()){const w=f.get(y);if(m(w,b,y,f,p,g)===!1)return!1}return!0}function c(f,p,m,g){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const y=new Set;for(let b=0;b<p.length;b++){const w=p[b];let x=!1;for(let _=0;_<f.length;_++){if(y.has(_))continue;const P=f[_];let I=!1;if(m(P,w,b,f,p,g)&&(I=!0),I){y.add(_),x=!0;break}}if(!x)return!1}return!0}function u(f,p,m,g){return p.size===0?!0:f instanceof Set?c([...f],[...p],m,g):!1}e.isMatchWith=s,e.isSetMatch=u}(d0)),d0}var Ok;function W1(){return Ok||(Ok=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jee();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n}(u0)),u0}var j4={},H1={},G1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(G1);var ty={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(ty);var ny={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",f="[object Function]",p="[object ArrayBuffer]",m="[object Object]",g="[object Error]",y="[object DataView]",b="[object Uint8Array]",w="[object Uint8ClampedArray]",x="[object Uint16Array]",_="[object Uint32Array]",P="[object BigUint64Array]",I="[object Int8Array]",N="[object Int16Array]",T="[object Int32Array]",A="[object BigInt64Array]",k="[object Float32Array]",C="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=p,e.arrayTag=u,e.bigInt64ArrayTag=A,e.bigUint64ArrayTag=P,e.booleanTag=i,e.dataViewTag=y,e.dateTag=o,e.errorTag=g,e.float32ArrayTag=k,e.float64ArrayTag=C,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=T,e.int8ArrayTag=I,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=a,e.uint16ArrayTag=x,e.uint32ArrayTag=_,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=w})(ny);var R4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(R4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G1,n=ty,r=ny,i=K1,s=R4;function a(u,f){return o(u,void 0,u,new Map,f)}function o(u,f,p,m=new Map,g=void 0){const y=g==null?void 0:g(u,f,p,m);if(y!=null)return y;if(i.isPrimitive(u))return u;if(m.has(u))return m.get(u);if(Array.isArray(u)){const b=new Array(u.length);m.set(u,b);for(let w=0;w<u.length;w++)b[w]=o(u[w],w,p,m,g);return Object.hasOwn(u,"index")&&(b.index=u.index),Object.hasOwn(u,"input")&&(b.input=u.input),b}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const b=new RegExp(u.source,u.flags);return b.lastIndex=u.lastIndex,b}if(u instanceof Map){const b=new Map;m.set(u,b);for(const[w,x]of u)b.set(w,o(x,w,p,m,g));return b}if(u instanceof Set){const b=new Set;m.set(u,b);for(const w of u)b.add(o(w,void 0,p,m,g));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(s.isTypedArray(u)){const b=new(Object.getPrototypeOf(u)).constructor(u.length);m.set(u,b);for(let w=0;w<u.length;w++)b[w]=o(u[w],w,p,m,g);return b}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const b=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return m.set(u,b),l(b,u,p,m,g),b}if(typeof File<"u"&&u instanceof File){const b=new File([u],u.name,{type:u.type});return m.set(u,b),l(b,u,p,m,g),b}if(u instanceof Blob){const b=new Blob([u],{type:u.type});return m.set(u,b),l(b,u,p,m,g),b}if(u instanceof Error){const b=new u.constructor;return m.set(u,b),b.message=u.message,b.name=u.name,b.stack=u.stack,b.cause=u.cause,l(b,u,p,m,g),b}if(typeof u=="object"&&c(u)){const b=Object.create(Object.getPrototypeOf(u));return m.set(u,b),l(b,u,p,m,g),b}return u}function l(u,f,p=u,m,g){const y=[...Object.keys(f),...t.getSymbols(f)];for(let b=0;b<y.length;b++){const w=y[b],x=Object.getOwnPropertyDescriptor(u,w);(x==null||x.writable)&&(u[w]=o(f[w],w,p,m,g))}}function c(u){switch(n.getTag(u)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=o,e.copyProperties=l})(H1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H1;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(j4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W1(),n=j4;function r(i){return i=n.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=r})(O4);var D4={},M4={},L4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H1,n=ny;function r(i,s){return t.cloneDeepWith(i,(a,o,l,c)=>{const u=s==null?void 0:s(a,o,l,c);if(u!=null)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case n.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=r})(L4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L4;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(M4);var $4={},Q1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Q1);var z4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ty;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(z4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O1,n=Q1,r=z4,i=Gg;function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(a==null?void 0:a[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=a;for(let u=0;u<l.length;u++){const f=l[u];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=s})($4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W1(),n=j1,r=M4,i=Hg,s=$4;function a(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(c){const u=i.get(c,o);return u===void 0?s.has(c,o):l===void 0?u===void 0:t.isMatch(u,l)}}e.matchesProperty=a})(D4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B1,n=N4,r=O4,i=D4;function s(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}e.iteratee=s})(C4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A4,n=B1,r=P4,i=C4;function s(a,o=n.identity){return r.isArrayLikeObject(a)?t.uniqBy(Array.from(a),i.iteratee(o)):[]}e.uniqBy=s})(S4);var Zee=S4.uniqBy;const jk=bi(Zee);function V4(e,t,n){return t===!0?jk(e,n):typeof t=="function"?jk(e,t):e}var Y1=v.createContext(null),ete=e=>e,lt=()=>{var e=v.useContext(Y1);return e?e.store.dispatch:ete},ep=()=>{},tte=()=>ep,nte=(e,t)=>e===t;function se(e){var t=v.useContext(Y1);return JR.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:tte,t?t.store.getState:ep,t?t.store.getState:ep,t?e:ep,nte)}function rte(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function ite(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function ste(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Rk=e=>Array.isArray(e)?e:[e];function ate(e){const t=Array.isArray(e[0])?e[0]:e;return ste(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function ote(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var lte=class{constructor(e){this.value=e}deref(){return this.value}},cte=typeof WeakRef<"u"?WeakRef:lte,ute=0,Dk=1;function mh(){return{s:ute,v:void 0,o:null,p:null}}function F4(e,t={}){let n=mh();const{resultEqualityCheck:r}=t;let i,s=0;function a(){var f;let o=n;const{length:l}=arguments;for(let p=0,m=l;p<m;p++){const g=arguments[p];if(typeof g=="function"||typeof g=="object"&&g!==null){let y=o.o;y===null&&(o.o=y=new WeakMap);const b=y.get(g);b===void 0?(o=mh(),y.set(g,o)):o=b}else{let y=o.p;y===null&&(o.p=y=new Map);const b=y.get(g);b===void 0?(o=mh(),y.set(g,o)):o=b}}const c=o;let u;if(o.s===Dk)u=o.v;else if(u=e.apply(null,arguments),s++,r){const p=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;p!=null&&r(p,u)&&(u=p,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new cte(u):u}return c.s=Dk,c.v=u,u}return a.clearCache=()=>{n=mh(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function dte(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,a=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),rte(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:m=F4,argsMemoizeOptions:g=[]}=u,y=Rk(p),b=Rk(g),w=ate(i),x=f(function(){return s++,c.apply(null,arguments)},...y),_=m(function(){a++;const I=ote(w,arguments);return o=x.apply(null,I),o},...b);return Object.assign(_,{resultFunc:c,memoizedResultFunc:x,dependencies:w,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var $=dte(F4),fte=Object.assign((e,t=$)=>{ite(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((a,o,l)=>(a[n[l]]=o,a),{}))},{withTypes:()=>fte}),U4={},B4={},q4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=t(r),o=t(i);if(a===o&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};e.compareValues=n})(q4);var K4={},X1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(X1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X1,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}e.isKey=i})(K4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q4,n=K4,r=Gg;function i(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const c=(m,g)=>{let y=m;for(let b=0;b<g.length&&y!=null;++b)y=y[g[b]];return y},u=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:c(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?c(g,m):typeof g=="object"?g[m]:g,f=a.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return s.map(m=>({original:m,criteria:f.map(g=>u(g,m))})).slice().sort((m,g)=>{for(let y=0;y<f.length;y++){const b=t.compareValues(m.criteria[y],g.criteria[y],o[y]);if(b!==0)return b}return 0}).map(m=>m.original)}e.orderBy=i})(B4);var W4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],s=Math.floor(r),a=(o,l)=>{for(let c=0;c<o.length;c++){const u=o[c];Array.isArray(u)&&l<s?a(u,l+1):i.push(u)}};return a(n,0),i}e.flatten=t})(W4);var J1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q1,n=Zg,r=q1,i=ey;function s(a,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],a):!1}e.isIterateeCall=s})(J1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B4,n=W4,r=J1;function i(s,...a){const o=a.length;return o>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(s,n.flatten(a),["asc"])}e.sortBy=i})(U4);var hte=U4.sortBy;const ry=bi(hte);var H4=e=>e.legend.settings,pte=e=>e.legend.size,mte=e=>e.legend.payload,gte=$([mte,H4],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?ry(r,n):r});function yte(){return se(gte)}var gh=1;function G4(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=v.useState({height:0,left:0,top:0,width:0}),r=v.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-t.height)>gh||Math.abs(a.left-t.left)>gh||Math.abs(a.top-t.top)>gh||Math.abs(a.width-t.width)>gh)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var vte={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Q4=qn({name:"chartLayout",initialState:vte,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:xte,setLayout:wte,setChartSize:bte,setScale:_te}=Q4.actions,Ete=Q4.reducer;function Mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mk(Object(n),!0).forEach(function(r){Tte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tte(e,t,n){return(t=Ste(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ste(e){var t=Ate(e,"string");return typeof t=="symbol"?t:t+""}function Ate(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zp=Math.PI/180,Pte=e=>e*180/Math.PI,At=(e,t,n,r)=>({x:e+Math.cos(-Zp*r)*n,y:t+Math.sin(-Zp*r)*n}),Y4=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Ite=(e,t)=>{var{x:n,y:r}=e,{x:i,y:s}=t;return Math.sqrt((n-i)**2+(r-s)**2)},kte=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:s}=t,a=Ite({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(n-i)/a,l=Math.acos(o);return r>s&&(l=2*Math.PI-l),{radius:a,angle:Pte(l),angleInRadian:l}},Cte=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:t-s*360,endAngle:n-s*360}},Nte=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return e+a*360},Ote=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:s}=kte({x:n,y:r},t),{innerRadius:a,outerRadius:o}=t;if(i<a||i>o||i===0)return null;var{startAngle:l,endAngle:c}=Cte(t),u=s,f;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;f=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=l}return f?Lk(Lk({},t),{},{radius:i,angle:Nte(u,t)}):null};function $k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$k(Object(n),!0).forEach(function(r){jte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jte(e,t,n){return(t=Rte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rte(e){var t=Dte(e,"string");return typeof t=="symbol"?t:t+""}function Dte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function He(e,t,n){return Ue(e)||Ue(t)?n:vi(t)?oa(e,t,n):typeof t=="function"?t(e):n}var Mte=(e,t,n,r,i)=>{var s,a=-1,o=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?n[l-1].coordinate:n[o-1].coordinate,u=n[l].coordinate,f=l>=o-1?n[0].coordinate:n[l+1].coordinate,p=void 0;if(Jt(u-c)!==Jt(f-u)){var m=[];if(Jt(f-u)===Jt(i[1]-i[0])){p=f;var g=u+i[1]-i[0];m[0]=Math.min(g,(g+c)/2),m[1]=Math.max(g,(g+c)/2)}else{p=c;var y=f+i[1]-i[0];m[0]=Math.min(u,(y+u)/2),m[1]=Math.max(u,(y+u)/2)}var b=[Math.min(u,(p+u)/2),Math.max(u,(p+u)/2)];if(e>b[0]&&e<=b[1]||e>=m[0]&&e<=m[1]){({index:a}=n[l]);break}}else{var w=Math.min(c,f),x=Math.max(c,f);if(e>(w+u)/2&&e<=(x+u)/2){({index:a}=n[l]);break}}}else if(t){for(var _=0;_<o;_++)if(_===0&&e<=(t[_].coordinate+t[_+1].coordinate)/2||_>0&&_<o-1&&e>(t[_].coordinate+t[_-1].coordinate)/2&&e<=(t[_].coordinate+t[_+1].coordinate)/2||_===o-1&&e>(t[_].coordinate+t[_-1].coordinate)/2){({index:a}=t[_]);break}}return a},Lte=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:o}=t;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&ee(e[s]))return xr(xr({},e),{},{[s]:e[s]+(r||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&ee(e[a]))return xr(xr({},e),{},{[a]:e[a]+(i||0)})}return e},Ei=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",zk=1e-4,$te=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-zk,s=Math.max(r[0],r[1])+zk,a=e(t[0]),o=e(t[n-1]);(a<i||a>s||o<i||o>s)&&e.domain([t[0],t[n-1]])}},zte=(e,t)=>{if(!t||t.length!==2||!ee(t[0])||!ee(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ee(e[0])||e[0]<n)&&(i[0]=n),(!ee(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Vte=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0,a=0;a<t;++a){var o=or(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=s,e[a][n][1]=s+o,s=e[a][n][1])}},Fte=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0;s<t;++s){var a=or(e[s][n][1])?e[s][n][0]:e[s][n][1];a>=0?(e[s][n][0]=i,e[s][n][1]=i+a,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},Ute={sign:Vte,expand:Mee,none:Yl,silhouette:Lee,wiggle:$ee,positive:Fte},Bte=(e,t,n)=>{var r=Ute[n],i=Dee().keys(t).value((s,a)=>+He(s,a,0)).order(yw).offset(r);return i(e)};function Z1(e){return e==null?void 0:String(e)}function em(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:s,dataKey:a}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ue(i[t.dataKey])){var o=s4(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=He(i,Ue(a)?t.dataKey:a);return Ue(l)?null:t.scale(l)}var Vk=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:s,index:a}=e;if(t.type==="category")return n[a]?n[a].coordinate+r:null;var o=He(s,t.dataKey,t.scale.domain()[a]);return Ue(o)?null:t.scale(o)-i/2+r},qte=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Kte=e=>{var t=e.flat(2).filter(ee);return[Math.min(...t),Math.max(...t)]},Wte=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Hte=(e,t,n)=>{if(e!=null)return Wte(Object.keys(e).reduce((r,i)=>{var s=e[i],{stackedData:a}=s,o=a.reduce((l,c)=>{var u=Kte(c.slice(t,n+1));return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},Fk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Uk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vo=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=ry(t,u=>u.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var l=i[a],c=i[a-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function Bk(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:s}=e;return xr(xr({},t),{},{dataKey:n,payload:r,value:i,name:s})}function xa(e,t){if(e)return String(e);if(typeof t=="string")return t}function Gte(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var s=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return s?{x:e,y:t}:null}return r?Ote({x:e,y:t},r):null}var Qte=(e,t,n,r)=>{var i=t.find(c=>c&&c.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,{radius:a}=r;return xr(xr(xr({},r),At(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:l}=r;return xr(xr(xr({},r),At(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}},Yte=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,ds=e=>e.layout.width,fs=e=>e.layout.height,Xte=e=>e.layout.scale,X4=e=>e.layout.margin,eE=$(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),tE=$(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),J4="data-recharts-item-index",Z4="data-recharts-item-data-key",iy=60;function qk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qk(Object(n),!0).forEach(function(r){Jte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jte(e,t,n){return(t=Zte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zte(e){var t=ene(e,"string");return typeof t=="symbol"?t:t+""}function ene(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tne=e=>e.brush.height,Ot=$([ds,fs,X4,tne,eE,tE,H4,pte],(e,t,n,r,i,s,a,o)=>{var l=s.reduce((g,y)=>{var{orientation:b}=y;if(!y.mirror&&!y.hide){var w=typeof y.width=="number"?y.width:iy;return bs(bs({},g),{},{[b]:g[b]+w})}return g},{left:n.left||0,right:n.right||0}),c=i.reduce((g,y)=>{var{orientation:b}=y;return!y.mirror&&!y.hide?bs(bs({},g),{},{[b]:oa(g,"".concat(b))+y.height}):g},{top:n.top||0,bottom:n.bottom||0}),u=bs(bs({},c),l),f=u.bottom;u.bottom+=r,u=Lte(u,a,o);var p=e-u.left-u.right,m=t-u.top-u.bottom;return bs(bs({brushBottom:f},u),{},{width:Math.max(p,0),height:Math.max(m,0)})}),nne=$(Ot,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),e$=$(ds,fs,(e,t)=>({x:0,y:0,width:e,height:t})),rne=v.createContext(null),Rn=()=>v.useContext(rne)!=null,sy=e=>e.brush,ay=$([sy,Ot,X4],(e,t,n)=>({height:e.height,x:ee(e.x)?e.x:t.left,y:ee(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:ee(e.width)?e.width:t.width})),nE=()=>{var e,t=Rn(),n=se(nne),r=se(ay),i=(e=se(sy))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},ine={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},sne=()=>{var e;return(e=se(Ot))!==null&&e!==void 0?e:ine},t$=()=>se(ds),n$=()=>se(fs),ane={top:0,right:0,bottom:0,left:0},one=()=>{var e;return(e=se(t=>t.layout.margin))!==null&&e!==void 0?e:ane},Ce=e=>e.layout.layoutType,pf=()=>se(Ce),r$=Symbol.for("immer-nothing"),Kk=Symbol.for("immer-draftable"),lr=Symbol.for("immer-state");function Fr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Xl=Object.getPrototypeOf;function Jl(e){return!!e&&!!e[lr]}function xo(e){var t;return e?i$(e)||Array.isArray(e)||!!e[Kk]||!!((t=e.constructor)!=null&&t[Kk])||ly(e)||cy(e):!1}var lne=Object.prototype.constructor.toString();function i$(e){if(!e||typeof e!="object")return!1;const t=Xl(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===lne}function tm(e,t){oy(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function oy(e){const t=e[lr];return t?t.type_:Array.isArray(e)?1:ly(e)?2:cy(e)?3:0}function ww(e,t){return oy(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function s$(e,t,n){const r=oy(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function cne(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ly(e){return e instanceof Map}function cy(e){return e instanceof Set}function ja(e){return e.copy_||e.base_}function bw(e,t){if(ly(e))return new Map(e);if(cy(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=i$(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[lr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(Xl(e),r)}else{const r=Xl(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function rE(e,t=!1){return uy(e)||Jl(e)||!xo(e)||(oy(e)>1&&(e.set=e.add=e.clear=e.delete=une),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>rE(r,!0))),e}function une(){Fr(2)}function uy(e){return Object.isFrozen(e)}var dne={};function wo(e){const t=dne[e];return t||Fr(0,e),t}var _d;function a$(){return _d}function fne(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Wk(e,t){t&&(wo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function _w(e){Ew(e),e.drafts_.forEach(hne),e.drafts_=null}function Ew(e){e===_d&&(_d=e.parent_)}function Hk(e){return _d=fne(_d,e)}function hne(e){const t=e[lr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Gk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[lr].modified_&&(_w(t),Fr(4)),xo(e)&&(e=nm(t,e),t.parent_||rm(t,e)),t.patches_&&wo("Patches").generateReplacementPatches_(n[lr].base_,e,t.patches_,t.inversePatches_)):e=nm(t,n,[]),_w(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==r$?e:void 0}function nm(e,t,n){if(uy(t))return t;const r=t[lr];if(!r)return tm(t,(i,s)=>Qk(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return rm(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,a=!1;r.type_===3&&(s=new Set(i),i.clear(),a=!0),tm(s,(o,l)=>Qk(e,r,i,o,l,n,a)),rm(e,i,!1),n&&e.patches_&&wo("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Qk(e,t,n,r,i,s,a){if(Jl(i)){const o=s&&t&&t.type_!==3&&!ww(t.assigned_,r)?s.concat(r):void 0,l=nm(e,i,o);if(s$(n,r,l),Jl(l))e.canAutoFreeze_=!1;else return}else a&&n.add(i);if(xo(i)&&!uy(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;nm(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&rm(e,i)}}function rm(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&rE(t,n)}function pne(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:a$(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=iE;n&&(i=[r],s=Ed);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,o}var iE={get(e,t){if(t===lr)return e;const n=ja(e);if(!ww(n,t))return mne(e,n,t);const r=n[t];return e.finalized_||!xo(r)?r:r===f0(e.base_,t)?(h0(e),e.copy_[t]=Sw(r,e)):r},has(e,t){return t in ja(e)},ownKeys(e){return Reflect.ownKeys(ja(e))},set(e,t,n){const r=o$(ja(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=f0(ja(e),t),s=i==null?void 0:i[lr];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(cne(n,i)&&(n!==void 0||ww(e.base_,t)))return!0;h0(e),Tw(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return f0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,h0(e),Tw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ja(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Fr(11)},getPrototypeOf(e){return Xl(e.base_)},setPrototypeOf(){Fr(12)}},Ed={};tm(iE,(e,t)=>{Ed[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ed.deleteProperty=function(e,t){return Ed.set.call(this,e,t,void 0)};Ed.set=function(e,t,n){return iE.set.call(this,e[0],t,n,e[0])};function f0(e,t){const n=e[lr];return(n?ja(n):e)[t]}function mne(e,t,n){var i;const r=o$(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function o$(e,t){if(!(t in e))return;let n=Xl(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Xl(n)}}function Tw(e){e.modified_||(e.modified_=!0,e.parent_&&Tw(e.parent_))}function h0(e){e.copy_||(e.copy_=bw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var gne=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const a=this;return function(l=s,...c){return a.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&Fr(6),r!==void 0&&typeof r!="function"&&Fr(7);let i;if(xo(t)){const s=Hk(this),a=Sw(t,void 0);let o=!0;try{i=n(a),o=!1}finally{o?_w(s):Ew(s)}return Wk(s,r),Gk(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===r$&&(i=void 0),this.autoFreeze_&&rE(i,!0),r){const s=[],a=[];wo("Patches").generateReplacementPatches_(t,i,s,a),r(s,a)}return i}else Fr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(a,...o)=>this.produceWithPatches(a,l=>t(l,...o));let r,i;return[this.produce(t,n,(a,o)=>{r=a,i=o}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){xo(e)||Fr(8),Jl(e)&&(e=yne(e));const t=Hk(this),n=Sw(e,void 0);return n[lr].isManual_=!0,Ew(t),n}finishDraft(e,t){const n=e&&e[lr];(!n||!n.isManual_)&&Fr(9);const{scope_:r}=n;return Wk(r,t),Gk(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=wo("Patches").applyPatches_;return Jl(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Sw(e,t){const n=ly(e)?wo("MapSet").proxyMap_(e,t):cy(e)?wo("MapSet").proxySet_(e,t):pne(e,t);return(t?t.scope_:a$()).drafts_.push(n),n}function yne(e){return Jl(e)||Fr(10,e),l$(e)}function l$(e){if(!xo(e)||uy(e))return e;const t=e[lr];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=bw(e,t.scope_.immer_.useStrictShallowCopy_)}else n=bw(e,!0);return tm(n,(r,i)=>{s$(n,r,l$(i))}),t&&(t.finalized_=!1),n}var cr=new gne;cr.produce;cr.produceWithPatches.bind(cr);cr.setAutoFreeze.bind(cr);cr.setUseStrictShallowCopy.bind(cr);cr.applyPatches.bind(cr);cr.createDraft.bind(cr);cr.finishDraft.bind(cr);var vne={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},c$=qn({name:"legend",initialState:vne,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Ui(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:Yk,setLegendSettings:xne,addLegendPayload:u$,removeLegendPayload:d$}=c$.actions,wne=c$.reducer,bne=["contextPayload"];function Aw(){return Aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Aw.apply(null,arguments)}function Xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(n),!0).forEach(function(r){sE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sE(e,t,n){return(t=_ne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ne(e){var t=Ene(e,"string");return typeof t=="symbol"?t:t+""}function Ene(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tne(e,t){if(e==null)return{};var n,r,i=Sne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Sne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ane(e){return e.value}function Pne(e){var{contextPayload:t}=e,n=Tne(e,bne),r=V4(t,e.payloadUniqBy,Ane),i=Zl(Zl({},n),{},{payload:r});return v.isValidElement(e.content)?v.cloneElement(e.content,i):typeof e.content=="function"?v.createElement(e.content,i):v.createElement(U1,i)}function Ine(e,t,n,r,i,s){var{layout:a,align:o,verticalAlign:l}=t,c,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&a==="vertical"?c={left:((r||0)-s.width)/2}:c=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?u={top:((i||0)-s.height)/2}:u=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Zl(Zl({},c),u)}function kne(e){var t=lt();return v.useEffect(()=>{t(xne(e))},[t,e]),null}function Cne(e){var t=lt();return v.useEffect(()=>(t(Yk(e)),()=>{t(Yk({width:0,height:0}))}),[t,e]),null}function Nne(e){var t=yte(),n=see(),r=one(),{width:i,height:s,wrapperStyle:a,portal:o}=e,[l,c]=G4([t]),u=t$(),f=n$(),p=u-(r.left||0)-(r.right||0),m=kl.getWidthOrHeight(e.layout,s,i,p),g=o?a:Zl(Zl({position:"absolute",width:(m==null?void 0:m.width)||i||"auto",height:(m==null?void 0:m.height)||s||"auto"},Ine(a,e,r,u,f,l)),a),y=o??n;if(y==null)return null;var b=v.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:c},v.createElement(kne,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),v.createElement(Cne,{width:l.width,height:l.height}),v.createElement(Pne,Aw({},e,m,{margin:r,chartWidth:u,chartHeight:f,contextPayload:t})));return Wm.createPortal(b,y)}class kl extends v.PureComponent{static getWidthOrHeight(t,n,r,i){return t==="vertical"&&ee(n)?{height:n}:t==="horizontal"?{width:r||i}:null}render(){return v.createElement(Nne,this.props)}}sE(kl,"displayName","Legend");sE(kl,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Pw(){return Pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pw.apply(null,arguments)}function Jk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function p0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jk(Object(n),!0).forEach(function(r){One(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function One(e,t,n){return(t=jne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jne(e){var t=Rne(e,"string");return typeof t=="symbol"?t:t+""}function Rne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dne(e){return Array.isArray(e)&&vi(e[0])&&vi(e[1])?e.join(" ~ "):e}var Mne=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:f,accessibilityLayer:p=!1}=e,m=()=>{if(s&&s.length){var I={padding:0,margin:0},N=(o?ry(s,o):s).map((T,A)=>{if(T.type==="none")return null;var k=T.formatter||a||Dne,{value:C,name:j}=T,D=C,R=j;if(k){var Q=k(C,j,T,A,s);if(Array.isArray(Q))[D,R]=Q;else if(Q!=null)D=Q;else return null}var de=p0({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},r);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:de},vi(R)?v.createElement("span",{className:"recharts-tooltip-item-name"},R):null,vi(R)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},D),v.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:I},N)}return null},g=p0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),y=p0({margin:0},i),b=!Ue(u),w=b?u:"",x=we("recharts-default-tooltip",l),_=we("recharts-tooltip-label",c);b&&f&&s!==void 0&&s!==null&&(w=f(u,s));var P=p?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",Pw({className:x,style:g},P),v.createElement("p",{className:_,style:y},v.isValidElement(w)?w:"".concat(w)),m())},Zc="recharts-tooltip-wrapper",Lne={visibility:"hidden"};function $ne(e){var{coordinate:t,translateX:n,translateY:r}=e;return we(Zc,{["".concat(Zc,"-right")]:ee(n)&&t&&ee(t.x)&&n>=t.x,["".concat(Zc,"-left")]:ee(n)&&t&&ee(t.x)&&n<t.x,["".concat(Zc,"-bottom")]:ee(r)&&t&&ee(t.y)&&r>=t.y,["".concat(Zc,"-top")]:ee(r)&&t&&ee(t.y)&&r<t.y})}function Zk(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(s&&ee(s[r]))return s[r];var u=n[r]-o-(i>0?i:0),f=n[r]+i;if(t[r])return a[r]?u:f;var p=l[r];if(p==null)return 0;if(a[r]){var m=u,g=p;return m<g?Math.max(f,p):Math.max(u,p)}if(c==null)return 0;var y=f+o,b=p+c;return y>b?Math.max(u,p):Math.max(f,p)}function zne(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Vne(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:l}=e,c,u,f;return a.height>0&&a.width>0&&n?(u=Zk({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=Zk({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=zne({translateX:u,translateY:f,useTranslate3d:o})):c=Lne,{cssProperties:c,cssClasses:$ne({translateX:u,translateY:f,coordinate:n})}}function eC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eC(Object(n),!0).forEach(function(r){Iw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iw(e,t,n){return(t=Fne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fne(e){var t=Une(e,"string");return typeof t=="symbol"?t:t+""}function Une(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Bne extends v.PureComponent{constructor(){super(...arguments),Iw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Iw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:f,useTranslate3d:p,viewBox:m,wrapperStyle:g,lastBoundingBox:y,innerRef:b,hasPortalFromProps:w}=this.props,{cssClasses:x,cssProperties:_}=Vne({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:c,position:u,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:p,viewBox:m}),P=w?{}:yh(yh({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),I=yh(yh({},P),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},g);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:I,ref:b},s)}}var qne=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),wa={isSsr:qne()},f$=()=>se(e=>e.rootProps.accessibilityLayer);function rn(e){return Number.isFinite(e)}function ec(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function kw(){return kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kw.apply(null,arguments)}function tC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tC(Object(n),!0).forEach(function(r){Kne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kne(e,t,n){return(t=Wne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wne(e){var t=Hne(e,"string");return typeof t=="symbol"?t:t+""}function Hne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rC={curveBasisClosed:Tee,curveBasisOpen:See,curveBasis:Eee,curveBumpX:cee,curveBumpY:uee,curveLinearClosed:Aee,curveLinear:Xg,curveMonotoneX:Pee,curveMonotoneY:Iee,curveNatural:kee,curveStep:Cee,curveStepAfter:Oee,curveStepBefore:Nee},vh=e=>rn(e.x)&&rn(e.y),eu=e=>e.x,tu=e=>e.y,Gne=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(df(e));return(n==="curveMonotone"||n==="curveBump")&&t?rC["".concat(n).concat(t==="vertical"?"Y":"X")]:rC[n]||Xg},Qne=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=e,a=Gne(t,i),o=s?n.filter(vh):n,l;if(Array.isArray(r)){var c=s?r.filter(f=>vh(f)):r,u=o.map((f,p)=>nC(nC({},f),{},{base:c[p]}));return i==="vertical"?l=ph().y(tu).x1(eu).x0(f=>f.base.x):l=ph().x(eu).y1(tu).y0(f=>f.base.y),l.defined(vh).curve(a),l(u)}return i==="vertical"&&ee(r)?l=ph().y(tu).x1(eu).x0(r):ee(r)?l=ph().x(eu).y1(tu).y0(r):l=h4().x(eu).y(tu),l.defined(vh).curve(a),l(o)},Cl=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var s=n&&n.length?Qne(e):r;return v.createElement("path",kw({},be(e,!1),D1(e),{className:we("recharts-curve",t),d:s===null?void 0:s,ref:i}))},Yne=["x","y","top","left","width","height","className"];function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cw.apply(null,arguments)}function iC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iC(Object(n),!0).forEach(function(r){Jne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jne(e,t,n){return(t=Zne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zne(e){var t=ere(e,"string");return typeof t=="symbol"?t:t+""}function ere(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tre(e,t){if(e==null)return{};var n,r,i=nre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var rre=(e,t,n,r,i,s)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),ire=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:o}=e,l=tre(e,Yne),c=Xne({x:t,y:n,top:r,left:i,width:s,height:a},l);return!ee(t)||!ee(n)||!ee(s)||!ee(a)||!ee(r)||!ee(i)?null:v.createElement("path",Cw({},be(c,!0),{className:we("recharts-cross",o),d:rre(t,n,s,a,r,i)}))};function sre(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function sC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function are(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sC(Object(n),!0).forEach(function(r){ore(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ore(e,t,n){return(t=lre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lre(e){var t=cre(e,"string");return typeof t=="symbol"?t:t+""}function cre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Or(e,t){var n=are({},e),r=t,i=Object.keys(t),s=i.reduce((a,o)=>(a[o]===void 0&&r[o]!==void 0&&(a[o]=r[o]),a),n);return s}var h$={},p$={},m$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}e.isPlainObject=t})(m$);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m$,n=G1,r=ty,i=ny,s=ey;function a(c,u,f){return o(c,u,void 0,void 0,void 0,void 0,f)}function o(c,u,f,p,m,g,y){const b=y(c,u,f,p,m,g);if(b!==void 0)return b;if(typeof c==typeof u)switch(typeof c){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return c===u;case"number":return c===u||Object.is(c,u);case"function":return c===u;case"object":return l(c,u,g,y)}return l(c,u,g,y)}function l(c,u,f,p){if(Object.is(c,u))return!0;let m=r.getTag(c),g=r.getTag(u);if(m===i.argumentsTag&&(m=i.objectTag),g===i.argumentsTag&&(g=i.objectTag),m!==g)return!1;switch(m){case i.stringTag:return c.toString()===u.toString();case i.numberTag:{const w=c.valueOf(),x=u.valueOf();return s.eq(w,x)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(c.valueOf(),u.valueOf());case i.regexpTag:return c.source===u.source&&c.flags===u.flags;case i.functionTag:return c===u}f=f??new Map;const y=f.get(c),b=f.get(u);if(y!=null&&b!=null)return y===u;f.set(c,u),f.set(u,c);try{switch(m){case i.mapTag:{if(c.size!==u.size)return!1;for(const[w,x]of c.entries())if(!u.has(w)||!o(x,u.get(w),w,c,u,f,p))return!1;return!0}case i.setTag:{if(c.size!==u.size)return!1;const w=Array.from(c.values()),x=Array.from(u.values());for(let _=0;_<w.length;_++){const P=w[_],I=x.findIndex(N=>o(P,N,void 0,c,u,f,p));if(I===-1)return!1;x.splice(I,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(c)!==Buffer.isBuffer(u)||c.length!==u.length)return!1;for(let w=0;w<c.length;w++)if(!o(c[w],u[w],w,c,u,f,p))return!1;return!0}case i.arrayBufferTag:return c.byteLength!==u.byteLength?!1:l(new Uint8Array(c),new Uint8Array(u),f,p);case i.dataViewTag:return c.byteLength!==u.byteLength||c.byteOffset!==u.byteOffset?!1:l(new Uint8Array(c),new Uint8Array(u),f,p);case i.errorTag:return c.name===u.name&&c.message===u.message;case i.objectTag:{if(!(l(c.constructor,u.constructor,f,p)||t.isPlainObject(c)&&t.isPlainObject(u)))return!1;const x=[...Object.keys(c),...n.getSymbols(c)],_=[...Object.keys(u),...n.getSymbols(u)];if(x.length!==_.length)return!1;for(let P=0;P<x.length;P++){const I=x[P],N=c[I];if(!Object.hasOwn(u,I))return!1;const T=u[I];if(!o(N,T,I,c,u,f,p))return!1}return!0}default:return!1}}finally{f.delete(c),f.delete(u)}}e.isEqualWith=a})(p$);var g$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(g$);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p$,n=g$;function r(i,s){return t.isEqualWith(i,s,n.noop)}e.isEqual=r})(h$);var ure=h$.isEqual;const dre=bi(ure);function fre(e){var t={},n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...c]=o;if(typeof l=="number"){i=e.setTimeout(s.bind(null,c),l);return}s(l),i=e.setTimeout(s.bind(null,c));return}typeof a=="object"&&(t=a,n(t)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>e}}var im=1e-4,y$=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],v$=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),aC=(e,t)=>n=>{var r=y$(e,t);return v$(r,n)},hre=(e,t)=>n=>{var r=y$(e,t),i=[...r.map((s,a)=>s*a).slice(1),0];return v$(i,n)},oC=function(){for(var t,n,r,i,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];if(a.length===1)switch(a[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var l=a[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([t,r,n,i]=l[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else a.length===4&&([t,r,n,i]=a);var c=aC(t,n),u=aC(r,i),f=hre(t,n),p=g=>g>1?1:g<0?0:g,m=g=>{for(var y=g>1?1:g,b=y,w=0;w<8;++w){var x=c(b)-y,_=f(b);if(Math.abs(x-y)<im||_<im)return u(b);b=p(b-x/_)}return u(b)};return m.isStepper=!1,m},pre=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,s=(a,o,l)=>{var c=-(a-o)*n,u=l*r,f=l+(c-u)*i/1e3,p=l*i/1e3+a;return Math.abs(p-o)<im&&Math.abs(f)<im?[o,0]:[p,f]};return s.isStepper=!0,s.dt=i,s},mre=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return oC(e);case"spring":return pre();default:if(e.split("(")[0]==="cubic-bezier")return oC(e)}return typeof e=="function"?e:null};function lC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lC(Object(n),!0).forEach(function(r){gre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gre(e,t,n){return(t=yre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yre(e){var t=vre(e,"string");return typeof t=="symbol"?t:t+""}function vre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xre=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),wre=(e,t,n)=>e.map(r=>"".concat(xre(r)," ").concat(t,"ms ").concat(n)).join(","),bre=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Td=(e,t)=>Object.keys(t).reduce((n,r)=>cC(cC({},n),{},{[r]:e(r,t[r])}),{});function uC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uC(Object(n),!0).forEach(function(r){_re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _re(e,t,n){return(t=Ere(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ere(e){var t=Tre(e,"string");return typeof t=="symbol"?t:t+""}function Tre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sm=(e,t,n)=>e+(t-e)*n,Nw=e=>{var{from:t,to:n}=e;return t!==n},x$=(e,t,n)=>{var r=Td((i,s)=>{if(Nw(s)){var[a,o]=e(s.from,s.to,s.velocity);return Qt(Qt({},s),{},{from:a,velocity:o})}return s},t);return n<1?Td((i,s)=>Nw(s)?Qt(Qt({},s),{},{velocity:sm(s.velocity,r[i].velocity,n),from:sm(s.from,r[i].from,n)}):s,t):x$(e,r,n-1)};function Sre(e,t,n,r,i,s){var a,o=r.reduce((p,m)=>Qt(Qt({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Td((p,m)=>m.from,o),c=()=>!Object.values(o).filter(Nw).length,u=null,f=p=>{a||(a=p);var m=p-a,g=m/n.dt;o=x$(n,o,g),i(Qt(Qt(Qt({},e),t),l())),a=p,c()||(u=s.setTimeout(f))};return()=>(u=s.setTimeout(f),()=>{u()})}function Are(e,t,n,r,i,s,a){var o=null,l=i.reduce((f,p)=>Qt(Qt({},f),{},{[p]:[e[p],t[p]]}),{}),c,u=f=>{c||(c=f);var p=(f-c)/r,m=Td((y,b)=>sm(...b,n(p)),l);if(s(Qt(Qt(Qt({},e),t),m)),p<1)o=a.setTimeout(u);else{var g=Td((y,b)=>sm(...b,n(1)),l);s(Qt(Qt(Qt({},e),t),g))}};return()=>(o=a.setTimeout(u),()=>{o()})}const Pre=(e,t,n,r,i,s)=>{var a=bre(e,t);return n.isStepper===!0?Sre(e,t,n,a,i,s):Are(e,t,n,r,a,i,s)};class Ire{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}var kre=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ow.apply(null,arguments)}function Cre(e,t){if(e==null)return{};var n,r,i=Nre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function dC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _s(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(n),!0).forEach(function(r){Ba(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ba(e,t,n){return(t=Ore(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ore(e){var t=jre(e,"string");return typeof t=="symbol"?t:t+""}function jre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rre(){return fre(new Ire)}class aE extends v.PureComponent{constructor(t,n){super(t,n),Ba(this,"mounted",!1),Ba(this,"manager",null),Ba(this,"stopJSAnimation",null),Ba(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:s,to:a,children:o,duration:l,animationManager:c}=this.props;if(this.manager=c,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||l<=0){this.state={style:{}},typeof o=="function"&&(this.state={style:a});return}if(s){if(typeof o=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:n}=this.props;this.mounted=!0,!(!t||!n)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:s,to:a,from:o}=this.props,{style:l}=this.state;if(r){if(!n){var c={style:i?{[i]:a}:a};this.state&&l&&(i&&l[i]!==a||!i&&l!==a)&&this.setState(c);return}if(!(dre(t.to,a)&&t.canBegin&&t.isActive)){var u=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=u||s?o:t.to;if(this.state&&l){var p={style:i?{[i]:f}:f};(i&&l[i]!==f||!i&&l!==f)&&this.setState(p)}this.runAnimation(_s(_s({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:n,to:r,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l}=t,c=Pre(n,r,mre(s),i,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=c()};this.manager.start([l,a,u,i,o])}runAnimation(t){var{begin:n,duration:r,attributeName:i,to:s,easing:a,onAnimationStart:o,onAnimationEnd:l,children:c}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof c=="function"||a==="spring"){this.runJSAnimation(t);return}var u=i?{[i]:s}:s,f=wre(Object.keys(u),r,a);this.manager.start([o,n,_s(_s({},u),{},{transition:f}),r,l])}render(){var t=this.props,{children:n,begin:r,duration:i,attributeName:s,easing:a,isActive:o,from:l,to:c,canBegin:u,onAnimationEnd:f,shouldReAnimate:p,onAnimationReStart:m,animationManager:g}=t,y=Cre(t,kre),b=v.Children.count(n),w=this.state.style;if(typeof n=="function")return n(w);if(!o||b===0||i<=0)return n;var x=_=>{var{style:P={},className:I}=_.props,N=v.cloneElement(_,_s(_s({},y),{},{style:_s(_s({},P),w),className:I}));return N};return b===1?x(v.Children.only(n)):v.createElement("div",null,v.Children.map(n,_=>x(_)))}}Ba(aE,"displayName","Animate");Ba(aE,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var Dre=v.createContext(null);function ss(e){var t,n,r=v.useContext(Dre);return v.createElement(aE,Ow({},e,{animationManager:(t=(n=e.animationManager)!==null&&n!==void 0?n:r)!==null&&t!==void 0?t:Rre()}))}function am(){return am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},am.apply(null,arguments)}var fC=(e,t,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,o=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,c;if(s>0&&i instanceof Array){for(var u=[0,0,0,0],f=0,p=4;f<p;f++)u[f]=i[f]>s?s:i[f];c="M".concat(e,",").concat(t+a*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(e+o*u[0],",").concat(t)),c+="L ".concat(e+n-o*u[1],",").concat(t),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(e+n,",").concat(t+a*u[1])),c+="L ".concat(e+n,",").concat(t+r-a*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(e+n-o*u[2],",").concat(t+r)),c+="L ".concat(e+o*u[3],",").concat(t+r),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+r-a*u[3])),c+="Z"}else if(s>0&&i===+i&&i>0){var m=Math.min(s,i);c="M ".concat(e,",").concat(t+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+o*m,",").concat(t,`
            L `).concat(e+n-o*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+n,",").concat(t+a*m,`
            L `).concat(e+n,",").concat(t+r-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+n-o*m,",").concat(t+r,`
            L `).concat(e+o*m,",").concat(t+r,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e,",").concat(t+r-a*m," Z")}else c="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return c},Mre={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},w$=e=>{var t=Or(e,Mre),n=v.useRef(null),[r,i]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&i(w)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:c,className:u}=t,{animationEasing:f,animationDuration:p,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:y}=t;if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var b=we("recharts-rectangle",u);return y?v.createElement(ss,{canBegin:r>0,from:{width:o,height:l,x:s,y:a},to:{width:o,height:l,x:s,y:a},duration:p,animationEasing:f,isActive:y},w=>{var{width:x,height:_,x:P,y:I}=w;return v.createElement(ss,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:g,easing:f},v.createElement("path",am({},be(t,!0),{className:b,d:fC(P,I,x,_,c),ref:n})))}):v.createElement("path",am({},be(t,!0),{className:b,d:fC(s,a,o,l,c)}))};function b$(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:s}=e,a=At(t,n,r,i),o=At(t,n,r,s);return{points:[a,o],cx:t,cy:n,radius:r,startAngle:i,endAngle:s}}function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jw.apply(null,arguments)}var Lre=(e,t)=>{var n=Jt(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},xh=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=e,c=o*(a?1:-1)+r,u=Math.asin(o/c)/Zp,f=l?i:i+s*u,p=At(t,n,c,f),m=At(t,n,r,f),g=l?i-s*u:i,y=At(t,n,c*Math.cos(u*Zp),g);return{center:p,circleTangency:m,lineTangency:y,theta:u}},_$=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=e,o=Lre(s,a),l=s+o,c=At(t,n,i,s),u=At(t,n,i,l),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(r>0){var p=At(t,n,r,s),m=At(t,n,r,l);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=l),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(t,",").concat(n," Z");return f},$re=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:c}=e,u=Jt(c-l),{circleTangency:f,lineTangency:p,theta:m}=xh({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:s,cornerIsExternal:o}),{circleTangency:g,lineTangency:y,theta:b}=xh({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:s,cornerIsExternal:o}),w=o?Math.abs(l-c):Math.abs(l-c)-m-b;if(w<0)return a?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):_$({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var x="M ".concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,`
  `);if(r>0){var{circleTangency:_,lineTangency:P,theta:I}=xh({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:N,lineTangency:T,theta:A}=xh({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),k=o?Math.abs(l-c):Math.abs(l-c)-I-A;if(k<0&&s===0)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+="L".concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(u>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(P.x,",").concat(P.y,"Z")}else x+="L".concat(t,",").concat(n,"Z");return x},zre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},E$=e=>{var t=Or(e,zre),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u,className:f}=t;if(s<i||c===u)return null;var p=we("recharts-sector",f),m=s-i,g=Nn(a,m,0,!0),y;return g>0&&Math.abs(c-u)<360?y=$re({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}):y=_$({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:u}),v.createElement("path",jw({},be(t,!0),{className:p,d:y}))};function Vre(e,t,n){var r,i,s,a;if(e==="horizontal")r=t.x,s=r,i=n.top,a=n.top+n.height;else if(e==="vertical")i=t.y,a=i,r=n.left,s=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:l,innerRadius:c,outerRadius:u,angle:f}=t,p=At(o,l,c,f),m=At(o,l,u,f);r=p.x,i=p.y,s=m.x,a=m.y}else return b$(t);return[{x:r,y:i},{x:s,y:a}]}var T$={},S$={},A$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X1;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(A$);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A$;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(S$);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J1,n=S$;function r(i,s,a){a&&typeof a!="number"&&t.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=a;return l}e.range=r})(T$);var Fre=T$.range;const P$=bi(Fre);function Js(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ure(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function oE(e){let t,n,r;e.length!==2?(t=Js,n=(o,l)=>Js(e(o),l),r=(o,l)=>e(o)-l):(t=e===Js||e===Ure?e:Bre,n=e,r=e);function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function a(o,l,c=0,u=o.length){const f=i(o,l,c,u-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:a,right:s}}function Bre(){return 0}function I$(e){return e===null?NaN:+e}function*qre(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Kre=oE(Js),mf=Kre.right;oE(I$).center;class hC extends Map{constructor(t,n=Gre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(pC(this,t))}has(t){return super.has(pC(this,t))}set(t,n){return super.set(Wre(this,t),n)}delete(t){return super.delete(Hre(this,t))}}function pC({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Wre({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Hre({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Gre(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Qre(e=Js){if(e===Js)return k$;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function k$(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Yre=Math.sqrt(50),Xre=Math.sqrt(10),Jre=Math.sqrt(2);function om(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=Yre?10:s>=Xre?5:s>=Jre?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?om(e,t,n*2):[o,l,c]}function Rw(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,a]=r?om(t,e,n):om(e,t,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function Dw(e,t,n){return t=+t,e=+e,n=+n,om(e,t,n)[2]}function Mw(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Dw(t,e,n):Dw(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function mC(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function gC(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function C$(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?k$:Qre(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(t-c*f/l+p)),g=Math.min(r,Math.floor(t+(l-c)*f/l+p));C$(e,t,m,g,i)}const s=e[t];let a=n,o=r;for(nu(e,n,t),i(e[r],s)>0&&nu(e,n,r);a<o;){for(nu(e,a,o),++a,--o;i(e[a],s)<0;)++a;for(;i(e[o],s)>0;)--o}i(e[n],s)===0?nu(e,n,o):(++o,nu(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function nu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Zre(e,t,n){if(e=Float64Array.from(qre(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return gC(e);if(t>=1)return mC(e);var r,i=(r-1)*t,s=Math.floor(i),a=mC(C$(e,s).subarray(0,s+1)),o=gC(e.subarray(s+1));return a+(o-a)*(i-s)}}function eie(e,t,n=I$){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),a=+n(e[s],s,e),o=+n(e[s+1],s+1,e);return a+(o-a)*(i-s)}}function tie(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function jr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function hs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Lw=Symbol("implicit");function lE(){var e=new hC,t=[],n=[],r=Lw;function i(s){let a=e.get(s);if(a===void 0){if(r!==Lw)return r;e.set(s,a=t.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new hC;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return lE(t,n).unknown(r)},jr.apply(i,arguments),i}function cE(){var e=lE().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,a,o=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var p=t().length,m=i<r,g=m?i:r,y=m?r:i;s=(y-g)/Math.max(1,p-l+c*2),o&&(s=Math.floor(s)),g+=(y-g-s*(p-l))*u,a=s*(1-l),o&&(g=Math.round(g),a=Math.round(a));var b=tie(p).map(function(w){return g+s*w});return n(m?b.reverse():b)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(p){return arguments.length?(o=!!p,f()):o},e.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),f()):u},e.copy=function(){return cE(t(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},jr.apply(f(),arguments)}function N$(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return N$(t())},e}function nie(){return N$(cE.apply(null,arguments).paddingInner(1))}function uE(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function O$(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function gf(){}var Sd=.7,lm=1/Sd,Nl="\\s*([+-]?\\d+)\\s*",Ad="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rie=/^#([0-9a-f]{3,8})$/,iie=new RegExp(`^rgb\\(${Nl},${Nl},${Nl}\\)$`),sie=new RegExp(`^rgb\\(${pi},${pi},${pi}\\)$`),aie=new RegExp(`^rgba\\(${Nl},${Nl},${Nl},${Ad}\\)$`),oie=new RegExp(`^rgba\\(${pi},${pi},${pi},${Ad}\\)$`),lie=new RegExp(`^hsl\\(${Ad},${pi},${pi}\\)$`),cie=new RegExp(`^hsla\\(${Ad},${pi},${pi},${Ad}\\)$`),yC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uE(gf,Pd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vC,formatHex:vC,formatHex8:uie,formatHsl:die,formatRgb:xC,toString:xC});function vC(){return this.rgb().formatHex()}function uie(){return this.rgb().formatHex8()}function die(){return j$(this).formatHsl()}function xC(){return this.rgb().formatRgb()}function Pd(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=rie.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?wC(t):n===3?new zn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?wh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?wh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=iie.exec(e))?new zn(t[1],t[2],t[3],1):(t=sie.exec(e))?new zn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=aie.exec(e))?wh(t[1],t[2],t[3],t[4]):(t=oie.exec(e))?wh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=lie.exec(e))?EC(t[1],t[2]/100,t[3]/100,1):(t=cie.exec(e))?EC(t[1],t[2]/100,t[3]/100,t[4]):yC.hasOwnProperty(e)?wC(yC[e]):e==="transparent"?new zn(NaN,NaN,NaN,0):null}function wC(e){return new zn(e>>16&255,e>>8&255,e&255,1)}function wh(e,t,n,r){return r<=0&&(e=t=n=NaN),new zn(e,t,n,r)}function fie(e){return e instanceof gf||(e=Pd(e)),e?(e=e.rgb(),new zn(e.r,e.g,e.b,e.opacity)):new zn}function $w(e,t,n,r){return arguments.length===1?fie(e):new zn(e,t,n,r??1)}function zn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}uE(zn,$w,O$(gf,{brighter(e){return e=e==null?lm:Math.pow(lm,e),new zn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Sd:Math.pow(Sd,e),new zn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new zn(Xa(this.r),Xa(this.g),Xa(this.b),cm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bC,formatHex:bC,formatHex8:hie,formatRgb:_C,toString:_C}));function bC(){return`#${qa(this.r)}${qa(this.g)}${qa(this.b)}`}function hie(){return`#${qa(this.r)}${qa(this.g)}${qa(this.b)}${qa((isNaN(this.opacity)?1:this.opacity)*255)}`}function _C(){const e=cm(this.opacity);return`${e===1?"rgb(":"rgba("}${Xa(this.r)}, ${Xa(this.g)}, ${Xa(this.b)}${e===1?")":`, ${e})`}`}function cm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qa(e){return e=Xa(e),(e<16?"0":"")+e.toString(16)}function EC(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ur(e,t,n,r)}function j$(e){if(e instanceof Ur)return new Ur(e.h,e.s,e.l,e.opacity);if(e instanceof gf||(e=Pd(e)),!e)return new Ur;if(e instanceof Ur)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(t===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-t)/o+2:a=(t-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Ur(a,o,l,e.opacity)}function pie(e,t,n,r){return arguments.length===1?j$(e):new Ur(e,t,n,r??1)}function Ur(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}uE(Ur,pie,O$(gf,{brighter(e){return e=e==null?lm:Math.pow(lm,e),new Ur(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Sd:Math.pow(Sd,e),new Ur(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new zn(m0(e>=240?e-240:e+120,i,r),m0(e,i,r),m0(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ur(TC(this.h),bh(this.s),bh(this.l),cm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cm(this.opacity);return`${e===1?"hsl(":"hsla("}${TC(this.h)}, ${bh(this.s)*100}%, ${bh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function TC(e){return e=(e||0)%360,e<0?e+360:e}function bh(e){return Math.max(0,Math.min(1,e||0))}function m0(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const dE=e=>()=>e;function mie(e,t){return function(n){return e+n*t}}function gie(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function yie(e){return(e=+e)==1?R$:function(t,n){return n-t?gie(t,n,e):dE(isNaN(t)?n:t)}}function R$(e,t){var n=t-e;return n?mie(e,n):dE(isNaN(e)?t:e)}const SC=function e(t){var n=yie(t);function r(i,s){var a=n((i=$w(i)).r,(s=$w(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),c=R$(i.opacity,s.opacity);return function(u){return i.r=a(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function vie(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function xie(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function wie(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=wc(e[a],t[a]);for(;a<n;++a)s[a]=t[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function bie(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function um(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function _ie(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=wc(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var zw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,g0=new RegExp(zw.source,"g");function Eie(e){return function(){return e}}function Tie(e){return function(t){return e(t)+""}}function Sie(e,t){var n=zw.lastIndex=g0.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(e=e+"",t=t+"";(r=zw.exec(e))&&(i=g0.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:um(r,i)})),n=g0.lastIndex;return n<t.length&&(s=t.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?Tie(l[0].x):Eie(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function wc(e,t){var n=typeof t,r;return t==null||n==="boolean"?dE(t):(n==="number"?um:n==="string"?(r=Pd(t))?(t=r,SC):Sie:t instanceof Pd?SC:t instanceof Date?bie:xie(t)?vie:Array.isArray(t)?wie:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_ie:um)(e,t)}function fE(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Aie(e,t){t===void 0&&(t=e,e=wc);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function Pie(e){return function(){return e}}function dm(e){return+e}var AC=[0,1];function Pn(e){return e}function Vw(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Pie(isNaN(t)?NaN:.5)}function Iie(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function kie(e,t,n){var r=e[0],i=e[1],s=t[0],a=t[1];return i<r?(r=Vw(i,r),s=n(a,s)):(r=Vw(r,i),s=n(s,a)),function(o){return s(r(o))}}function Cie(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Vw(e[a],e[a+1]),s[a]=n(t[a],t[a+1]);return function(o){var l=mf(e,o,1,r)-1;return s[l](i[l](o))}}function yf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dy(){var e=AC,t=AC,n=wc,r,i,s,a=Pn,o,l,c;function u(){var p=Math.min(e.length,t.length);return a!==Pn&&(a=Iie(e[0],e[p-1])),o=p>2?Cie:kie,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?s:(l||(l=o(e.map(r),t,n)))(r(a(p)))}return f.invert=function(p){return a(i((c||(c=o(t,e.map(r),um)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,dm),u()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=fE,u()},f.clamp=function(p){return arguments.length?(a=p?!0:Pn,u()):a!==Pn},f.interpolate=function(p){return arguments.length?(n=p,u()):n},f.unknown=function(p){return arguments.length?(s=p,f):s},function(p,m){return r=p,i=m,u()}}function hE(){return dy()(Pn,Pn)}function Nie(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fm(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function tc(e){return e=fm(Math.abs(e)),e?e[1]:NaN}function Oie(e,t){return function(n,r){for(var i=n.length,s=[],a=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[a=(a+1)%e.length];return s.reverse().join(t)}}function jie(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Rie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Id(e){if(!(t=Rie.exec(e)))throw new Error("invalid format: "+e);var t;return new pE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Id.prototype=pE.prototype;function pE(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}pE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Die(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var D$;function Mie(e,t){var n=fm(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(D$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+fm(e,Math.max(0,t+s-1))[0]}function PC(e,t){var n=fm(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const IC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Nie,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>PC(e*100,t),r:PC,s:Mie,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function kC(e){return e}var CC=Array.prototype.map,NC=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Lie(e){var t=e.grouping===void 0||e.thousands===void 0?kC:Oie(CC.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?kC:jie(CC.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=Id(f);var p=f.fill,m=f.align,g=f.sign,y=f.symbol,b=f.zero,w=f.width,x=f.comma,_=f.precision,P=f.trim,I=f.type;I==="n"?(x=!0,I="g"):IC[I]||(_===void 0&&(_=12),P=!0,I="g"),(b||p==="0"&&m==="=")&&(b=!0,p="0",m="=");var N=y==="$"?n:y==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",T=y==="$"?r:/[%p]/.test(I)?a:"",A=IC[I],k=/[defgprs%]/.test(I);_=_===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function C(j){var D=N,R=T,Q,de,ue;if(I==="c")R=A(j)+R,j="";else{j=+j;var X=j<0||1/j<0;if(j=isNaN(j)?l:A(Math.abs(j),_),P&&(j=Die(j)),X&&+j==0&&g!=="+"&&(X=!1),D=(X?g==="("?g:o:g==="-"||g==="("?"":g)+D,R=(I==="s"?NC[8+D$/3]:"")+R+(X&&g==="("?")":""),k){for(Q=-1,de=j.length;++Q<de;)if(ue=j.charCodeAt(Q),48>ue||ue>57){R=(ue===46?i+j.slice(Q+1):j.slice(Q))+R,j=j.slice(0,Q);break}}}x&&!b&&(j=t(j,1/0));var U=D.length+j.length+R.length,G=U<w?new Array(w-U+1).join(p):"";switch(x&&b&&(j=t(G+j,G.length?w-R.length:1/0),G=""),m){case"<":j=D+j+R+G;break;case"=":j=D+G+j+R;break;case"^":j=G.slice(0,U=G.length>>1)+D+j+R+G.slice(U);break;default:j=G+D+j+R;break}return s(j)}return C.toString=function(){return f+""},C}function u(f,p){var m=c((f=Id(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(tc(p)/3)))*3,y=Math.pow(10,-g),b=NC[8+g/3];return function(w){return m(y*w)+b}}return{format:c,formatPrefix:u}}var _h,mE,M$;$ie({thousands:",",grouping:[3],currency:["$",""]});function $ie(e){return _h=Lie(e),mE=_h.format,M$=_h.formatPrefix,_h}function zie(e){return Math.max(0,-tc(Math.abs(e)))}function Vie(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tc(t)/3)))*3-tc(Math.abs(e)))}function Fie(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,tc(t)-tc(e))+1}function L$(e,t,n,r){var i=Mw(e,t,n),s;switch(r=Id(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=Vie(i,a))&&(r.precision=s),M$(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Fie(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=zie(i))&&(r.precision=s-(r.type==="%")*2);break}}return mE(r)}function ba(e){var t=e.domain;return e.ticks=function(n){var r=t();return Rw(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return L$(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,a=r[i],o=r[s],l,c,u=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);u-- >0;){if(c=Dw(a,o,n),c===l)return r[i]=a,r[s]=o,t(r);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function $$(){var e=hE();return e.copy=function(){return yf(e,$$())},jr.apply(e,arguments),ba(e)}function z$(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,dm),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return z$(e).unknown(t)},e=arguments.length?Array.from(e,dm):[0,1],ba(n)}function V$(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),e[n]=t.floor(i),e[r]=t.ceil(s),e}function OC(e){return Math.log(e)}function jC(e){return Math.exp(e)}function Uie(e){return-Math.log(-e)}function Bie(e){return-Math.exp(-e)}function qie(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Kie(e){return e===10?qie:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Wie(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function RC(e){return(t,n)=>-e(-t,n)}function gE(e){const t=e(OC,jC),n=t.domain;let r=10,i,s;function a(){return i=Wie(r),s=Kie(r),n()[0]<0?(i=RC(i),s=RC(s),e(Uie,Bie)):e(OC,jC),t}return t.base=function(o){return arguments.length?(r=+o,a()):r},t.domain=function(o){return arguments.length?(n(o),a()):n()},t.ticks=o=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let p=i(c),m=i(u),g,y;const b=o==null?10:+o;let w=[];if(!(r%1)&&m-p<b){if(p=Math.floor(p),m=Math.ceil(m),c>0){for(;p<=m;++p)for(g=1;g<r;++g)if(y=p<0?g/s(-p):g*s(p),!(y<c)){if(y>u)break;w.push(y)}}else for(;p<=m;++p)for(g=r-1;g>=1;--g)if(y=p>0?g/s(-p):g*s(p),!(y<c)){if(y>u)break;w.push(y)}w.length*2<b&&(w=Rw(c,u,b))}else w=Rw(p,m,Math.min(m-p,b)).map(s);return f?w.reverse():w},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Id(l)).precision==null&&(l.trim=!0),l=mE(l)),o===1/0)return l;const c=Math.max(1,r*o/t.ticks().length);return u=>{let f=u/s(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},t.nice=()=>n(V$(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),t}function F$(){const e=gE(dy()).domain([1,10]);return e.copy=()=>yf(e,F$()).base(e.base()),jr.apply(e,arguments),e}function DC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function MC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yE(e){var t=1,n=e(DC(t),MC(t));return n.constant=function(r){return arguments.length?e(DC(t=+r),MC(t)):t},ba(n)}function U$(){var e=yE(dy());return e.copy=function(){return yf(e,U$()).constant(e.constant())},jr.apply(e,arguments)}function LC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Hie(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Gie(e){return e<0?-e*e:e*e}function vE(e){var t=e(Pn,Pn),n=1;function r(){return n===1?e(Pn,Pn):n===.5?e(Hie,Gie):e(LC(n),LC(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ba(t)}function xE(){var e=vE(dy());return e.copy=function(){return yf(e,xE()).exponent(e.exponent())},jr.apply(e,arguments),e}function Qie(){return xE.apply(null,arguments).exponent(.5)}function $C(e){return Math.sign(e)*e*e}function Yie(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function B$(){var e=hE(),t=[0,1],n=!1,r;function i(s){var a=Yie(e(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return e.invert($C(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,dm)).map($C)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return B$(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},jr.apply(i,arguments),ba(i)}function q$(){var e=[],t=[],n=[],r;function i(){var a=0,o=Math.max(1,t.length);for(n=new Array(o-1);++a<o;)n[a-1]=eie(e,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:t[mf(n,a)]}return s.invertExtent=function(a){var o=t.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let o of a)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Js),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return q$().domain(e).range(t).unknown(r)},jr.apply(s,arguments)}function K$(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[mf(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return a}return a.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return K$().domain([e,t]).range(i).unknown(s)},jr.apply(ba(a),arguments)}function W$(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[mf(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return W$().domain(e).range(t).unknown(n)},jr.apply(i,arguments)}const y0=new Date,v0=new Date;function jt(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),t(s,o),e(s);while(c<s&&s<a);return l},i.filter=s=>jt(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;t(a,-1),!s(a););else for(;--o>=0;)for(;t(a,1),!s(a););}),n&&(i.count=(s,a)=>(y0.setTime(+s),v0.setTime(+a),e(y0),e(v0),Math.floor(n(y0,v0))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const hm=jt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);hm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?jt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):hm);hm.range;const $i=1e3,_r=$i*60,zi=_r*60,as=zi*24,wE=as*7,zC=as*30,x0=as*365,Ka=jt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*$i)},(e,t)=>(t-e)/$i,e=>e.getUTCSeconds());Ka.range;const bE=jt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$i)},(e,t)=>{e.setTime(+e+t*_r)},(e,t)=>(t-e)/_r,e=>e.getMinutes());bE.range;const _E=jt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*_r)},(e,t)=>(t-e)/_r,e=>e.getUTCMinutes());_E.range;const EE=jt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$i-e.getMinutes()*_r)},(e,t)=>{e.setTime(+e+t*zi)},(e,t)=>(t-e)/zi,e=>e.getHours());EE.range;const TE=jt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*zi)},(e,t)=>(t-e)/zi,e=>e.getUTCHours());TE.range;const vf=jt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*_r)/as,e=>e.getDate()-1);vf.range;const fy=jt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/as,e=>e.getUTCDate()-1);fy.range;const H$=jt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/as,e=>Math.floor(e/as));H$.range;function Oo(e){return jt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*_r)/wE)}const hy=Oo(0),pm=Oo(1),Xie=Oo(2),Jie=Oo(3),nc=Oo(4),Zie=Oo(5),ese=Oo(6);hy.range;pm.range;Xie.range;Jie.range;nc.range;Zie.range;ese.range;function jo(e){return jt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/wE)}const py=jo(0),mm=jo(1),tse=jo(2),nse=jo(3),rc=jo(4),rse=jo(5),ise=jo(6);py.range;mm.range;tse.range;nse.range;rc.range;rse.range;ise.range;const SE=jt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());SE.range;const AE=jt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());AE.range;const os=jt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());os.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});os.range;const ls=jt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ls.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ls.range;function G$(e,t,n,r,i,s){const a=[[Ka,1,$i],[Ka,5,5*$i],[Ka,15,15*$i],[Ka,30,30*$i],[s,1,_r],[s,5,5*_r],[s,15,15*_r],[s,30,30*_r],[i,1,zi],[i,3,3*zi],[i,6,6*zi],[i,12,12*zi],[r,1,as],[r,2,2*as],[n,1,wE],[t,1,zC],[t,3,3*zC],[e,1,x0]];function o(c,u,f){const p=u<c;p&&([c,u]=[u,c]);const m=f&&typeof f.range=="function"?f:l(c,u,f),g=m?m.range(c,+u+1):[];return p?g.reverse():g}function l(c,u,f){const p=Math.abs(u-c)/f,m=oE(([,,b])=>b).right(a,p);if(m===a.length)return e.every(Mw(c/x0,u/x0,f));if(m===0)return hm.every(Math.max(Mw(c,u,f),1));const[g,y]=a[p/a[m-1][2]<a[m][2]/p?m-1:m];return g.every(y)}return[o,l]}const[sse,ase]=G$(ls,AE,py,H$,TE,_E),[ose,lse]=G$(os,SE,hy,vf,EE,bE);function w0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function b0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ru(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function cse(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,a=e.shortDays,o=e.months,l=e.shortMonths,c=iu(i),u=su(i),f=iu(s),p=su(s),m=iu(a),g=su(a),y=iu(o),b=su(o),w=iu(l),x=su(l),_={a:X,A:U,b:G,B:ie,c:null,d:KC,e:KC,f:Ose,g:Use,G:qse,H:kse,I:Cse,j:Nse,L:Q$,m:jse,M:Rse,p:ce,q:M,Q:GC,s:QC,S:Dse,u:Mse,U:Lse,V:$se,w:zse,W:Vse,x:null,X:null,y:Fse,Y:Bse,Z:Kse,"%":HC},P={a:B,A:ae,b:ne,B:he,c:null,d:WC,e:WC,f:Qse,g:sae,G:oae,H:Wse,I:Hse,j:Gse,L:X$,m:Yse,M:Xse,p:$e,q:Kn,Q:GC,s:QC,S:Jse,u:Zse,U:eae,V:tae,w:nae,W:rae,x:null,X:null,y:iae,Y:aae,Z:lae,"%":HC},I={a:C,A:j,b:D,B:R,c:Q,d:BC,e:BC,f:Sse,g:UC,G:FC,H:qC,I:qC,j:bse,L:Tse,m:wse,M:_se,p:k,q:xse,Q:Pse,s:Ise,S:Ese,u:pse,U:mse,V:gse,w:hse,W:yse,x:de,X:ue,y:UC,Y:FC,Z:vse,"%":Ase};_.x=N(n,_),_.X=N(r,_),_.c=N(t,_),P.x=N(n,P),P.X=N(r,P),P.c=N(t,P);function N(J,pe){return function(_e){var K=[],Rt=-1,Me=0,qt=J.length,an,Ti,Pf;for(_e instanceof Date||(_e=new Date(+_e));++Rt<qt;)J.charCodeAt(Rt)===37&&(K.push(J.slice(Me,Rt)),(Ti=VC[an=J.charAt(++Rt)])!=null?an=J.charAt(++Rt):Ti=an==="e"?" ":"0",(Pf=pe[an])&&(an=Pf(_e,Ti)),K.push(an),Me=Rt+1);return K.push(J.slice(Me,Rt)),K.join("")}}function T(J,pe){return function(_e){var K=ru(1900,void 0,1),Rt=A(K,J,_e+="",0),Me,qt;if(Rt!=_e.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(pe&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(Me=b0(ru(K.y,0,1)),qt=Me.getUTCDay(),Me=qt>4||qt===0?mm.ceil(Me):mm(Me),Me=fy.offset(Me,(K.V-1)*7),K.y=Me.getUTCFullYear(),K.m=Me.getUTCMonth(),K.d=Me.getUTCDate()+(K.w+6)%7):(Me=w0(ru(K.y,0,1)),qt=Me.getDay(),Me=qt>4||qt===0?pm.ceil(Me):pm(Me),Me=vf.offset(Me,(K.V-1)*7),K.y=Me.getFullYear(),K.m=Me.getMonth(),K.d=Me.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),qt="Z"in K?b0(ru(K.y,0,1)).getUTCDay():w0(ru(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(qt+5)%7:K.w+K.U*7-(qt+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,b0(K)):w0(K)}}function A(J,pe,_e,K){for(var Rt=0,Me=pe.length,qt=_e.length,an,Ti;Rt<Me;){if(K>=qt)return-1;if(an=pe.charCodeAt(Rt++),an===37){if(an=pe.charAt(Rt++),Ti=I[an in VC?pe.charAt(Rt++):an],!Ti||(K=Ti(J,_e,K))<0)return-1}else if(an!=_e.charCodeAt(K++))return-1}return K}function k(J,pe,_e){var K=c.exec(pe.slice(_e));return K?(J.p=u.get(K[0].toLowerCase()),_e+K[0].length):-1}function C(J,pe,_e){var K=m.exec(pe.slice(_e));return K?(J.w=g.get(K[0].toLowerCase()),_e+K[0].length):-1}function j(J,pe,_e){var K=f.exec(pe.slice(_e));return K?(J.w=p.get(K[0].toLowerCase()),_e+K[0].length):-1}function D(J,pe,_e){var K=w.exec(pe.slice(_e));return K?(J.m=x.get(K[0].toLowerCase()),_e+K[0].length):-1}function R(J,pe,_e){var K=y.exec(pe.slice(_e));return K?(J.m=b.get(K[0].toLowerCase()),_e+K[0].length):-1}function Q(J,pe,_e){return A(J,t,pe,_e)}function de(J,pe,_e){return A(J,n,pe,_e)}function ue(J,pe,_e){return A(J,r,pe,_e)}function X(J){return a[J.getDay()]}function U(J){return s[J.getDay()]}function G(J){return l[J.getMonth()]}function ie(J){return o[J.getMonth()]}function ce(J){return i[+(J.getHours()>=12)]}function M(J){return 1+~~(J.getMonth()/3)}function B(J){return a[J.getUTCDay()]}function ae(J){return s[J.getUTCDay()]}function ne(J){return l[J.getUTCMonth()]}function he(J){return o[J.getUTCMonth()]}function $e(J){return i[+(J.getUTCHours()>=12)]}function Kn(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var pe=N(J+="",_);return pe.toString=function(){return J},pe},parse:function(J){var pe=T(J+="",!1);return pe.toString=function(){return J},pe},utcFormat:function(J){var pe=N(J+="",P);return pe.toString=function(){return J},pe},utcParse:function(J){var pe=T(J+="",!0);return pe.toString=function(){return J},pe}}}var VC={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,use=/^%/,dse=/[\\^$*+?|[\]().{}]/g;function Re(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function fse(e){return e.replace(dse,"\\$&")}function iu(e){return new RegExp("^(?:"+e.map(fse).join("|")+")","i")}function su(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function hse(e,t,n){var r=Ut.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function pse(e,t,n){var r=Ut.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function mse(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function gse(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function yse(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function FC(e,t,n){var r=Ut.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function UC(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function vse(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function xse(e,t,n){var r=Ut.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function wse(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function BC(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function bse(e,t,n){var r=Ut.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function qC(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function _se(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Ese(e,t,n){var r=Ut.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Tse(e,t,n){var r=Ut.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Sse(e,t,n){var r=Ut.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ase(e,t,n){var r=use.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Pse(e,t,n){var r=Ut.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Ise(e,t,n){var r=Ut.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function KC(e,t){return Re(e.getDate(),t,2)}function kse(e,t){return Re(e.getHours(),t,2)}function Cse(e,t){return Re(e.getHours()%12||12,t,2)}function Nse(e,t){return Re(1+vf.count(os(e),e),t,3)}function Q$(e,t){return Re(e.getMilliseconds(),t,3)}function Ose(e,t){return Q$(e,t)+"000"}function jse(e,t){return Re(e.getMonth()+1,t,2)}function Rse(e,t){return Re(e.getMinutes(),t,2)}function Dse(e,t){return Re(e.getSeconds(),t,2)}function Mse(e){var t=e.getDay();return t===0?7:t}function Lse(e,t){return Re(hy.count(os(e)-1,e),t,2)}function Y$(e){var t=e.getDay();return t>=4||t===0?nc(e):nc.ceil(e)}function $se(e,t){return e=Y$(e),Re(nc.count(os(e),e)+(os(e).getDay()===4),t,2)}function zse(e){return e.getDay()}function Vse(e,t){return Re(pm.count(os(e)-1,e),t,2)}function Fse(e,t){return Re(e.getFullYear()%100,t,2)}function Use(e,t){return e=Y$(e),Re(e.getFullYear()%100,t,2)}function Bse(e,t){return Re(e.getFullYear()%1e4,t,4)}function qse(e,t){var n=e.getDay();return e=n>=4||n===0?nc(e):nc.ceil(e),Re(e.getFullYear()%1e4,t,4)}function Kse(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Re(t/60|0,"0",2)+Re(t%60,"0",2)}function WC(e,t){return Re(e.getUTCDate(),t,2)}function Wse(e,t){return Re(e.getUTCHours(),t,2)}function Hse(e,t){return Re(e.getUTCHours()%12||12,t,2)}function Gse(e,t){return Re(1+fy.count(ls(e),e),t,3)}function X$(e,t){return Re(e.getUTCMilliseconds(),t,3)}function Qse(e,t){return X$(e,t)+"000"}function Yse(e,t){return Re(e.getUTCMonth()+1,t,2)}function Xse(e,t){return Re(e.getUTCMinutes(),t,2)}function Jse(e,t){return Re(e.getUTCSeconds(),t,2)}function Zse(e){var t=e.getUTCDay();return t===0?7:t}function eae(e,t){return Re(py.count(ls(e)-1,e),t,2)}function J$(e){var t=e.getUTCDay();return t>=4||t===0?rc(e):rc.ceil(e)}function tae(e,t){return e=J$(e),Re(rc.count(ls(e),e)+(ls(e).getUTCDay()===4),t,2)}function nae(e){return e.getUTCDay()}function rae(e,t){return Re(mm.count(ls(e)-1,e),t,2)}function iae(e,t){return Re(e.getUTCFullYear()%100,t,2)}function sae(e,t){return e=J$(e),Re(e.getUTCFullYear()%100,t,2)}function aae(e,t){return Re(e.getUTCFullYear()%1e4,t,4)}function oae(e,t){var n=e.getUTCDay();return e=n>=4||n===0?rc(e):rc.ceil(e),Re(e.getUTCFullYear()%1e4,t,4)}function lae(){return"+0000"}function HC(){return"%"}function GC(e){return+e}function QC(e){return Math.floor(+e/1e3)}var qo,Z$,e6;cae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cae(e){return qo=cse(e),Z$=qo.format,qo.parse,e6=qo.utcFormat,qo.utcParse,qo}function uae(e){return new Date(e)}function dae(e){return e instanceof Date?+e:+new Date(+e)}function PE(e,t,n,r,i,s,a,o,l,c){var u=hE(),f=u.invert,p=u.domain,m=c(".%L"),g=c(":%S"),y=c("%I:%M"),b=c("%I %p"),w=c("%a %d"),x=c("%b %d"),_=c("%B"),P=c("%Y");function I(N){return(l(N)<N?m:o(N)<N?g:a(N)<N?y:s(N)<N?b:r(N)<N?i(N)<N?w:x:n(N)<N?_:P)(N)}return u.invert=function(N){return new Date(f(N))},u.domain=function(N){return arguments.length?p(Array.from(N,dae)):p().map(uae)},u.ticks=function(N){var T=p();return e(T[0],T[T.length-1],N??10)},u.tickFormat=function(N,T){return T==null?I:c(T)},u.nice=function(N){var T=p();return(!N||typeof N.range!="function")&&(N=t(T[0],T[T.length-1],N??10)),N?p(V$(T,N)):u},u.copy=function(){return yf(u,PE(e,t,n,r,i,s,a,o,l,c))},u}function fae(){return jr.apply(PE(ose,lse,os,SE,hy,vf,EE,bE,Ka,Z$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hae(){return jr.apply(PE(sse,ase,ls,AE,py,fy,TE,_E,Ka,e6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function my(){var e=0,t=1,n,r,i,s,a=Pn,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(s(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(a=f,c):a};function u(f){return function(p){var m,g;return arguments.length?([m,g]=p,a=f(m,g),c):[a(0),a(1)]}}return c.range=u(wc),c.rangeRound=u(fE),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return s=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function _a(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function t6(){var e=ba(my()(Pn));return e.copy=function(){return _a(e,t6())},hs.apply(e,arguments)}function n6(){var e=gE(my()).domain([1,10]);return e.copy=function(){return _a(e,n6()).base(e.base())},hs.apply(e,arguments)}function r6(){var e=yE(my());return e.copy=function(){return _a(e,r6()).constant(e.constant())},hs.apply(e,arguments)}function IE(){var e=vE(my());return e.copy=function(){return _a(e,IE()).exponent(e.exponent())},hs.apply(e,arguments)}function pae(){return IE.apply(null,arguments).exponent(.5)}function i6(){var e=[],t=Pn;function n(r){if(r!=null&&!isNaN(r=+r))return t((mf(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Js),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Zre(e,s/r))},n.copy=function(){return i6(t).domain(e)},hs.apply(n,arguments)}function gy(){var e=0,t=.5,n=1,r=1,i,s,a,o,l,c=Pn,u,f=!1,p;function m(y){return isNaN(y=+y)?p:(y=.5+((y=+u(y))-s)*(r*y<r*s?o:l),c(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,n]=y,i=u(e=+e),s=u(t=+t),a=u(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,m):[e,t,n]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(c=y,m):c};function g(y){return function(b){var w,x,_;return arguments.length?([w,x,_]=b,c=Aie(y,[w,x,_]),m):[c(0),c(.5),c(1)]}}return m.range=g(wc),m.rangeRound=g(fE),m.unknown=function(y){return arguments.length?(p=y,m):p},function(y){return u=y,i=y(e),s=y(t),a=y(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,m}}function s6(){var e=ba(gy()(Pn));return e.copy=function(){return _a(e,s6())},hs.apply(e,arguments)}function a6(){var e=gE(gy()).domain([.1,1,10]);return e.copy=function(){return _a(e,a6()).base(e.base())},hs.apply(e,arguments)}function o6(){var e=yE(gy());return e.copy=function(){return _a(e,o6()).constant(e.constant())},hs.apply(e,arguments)}function kE(){var e=vE(gy());return e.copy=function(){return _a(e,kE()).exponent(e.exponent())},hs.apply(e,arguments)}function mae(){return kE.apply(null,arguments).exponent(.5)}const wu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:cE,scaleDiverging:s6,scaleDivergingLog:a6,scaleDivergingPow:kE,scaleDivergingSqrt:mae,scaleDivergingSymlog:o6,scaleIdentity:z$,scaleImplicit:Lw,scaleLinear:$$,scaleLog:F$,scaleOrdinal:lE,scalePoint:nie,scalePow:xE,scaleQuantile:q$,scaleQuantize:K$,scaleRadial:B$,scaleSequential:t6,scaleSequentialLog:n6,scaleSequentialPow:IE,scaleSequentialQuantile:i6,scaleSequentialSqrt:pae,scaleSequentialSymlog:r6,scaleSqrt:Qie,scaleSymlog:U$,scaleThreshold:W$,scaleTime:fae,scaleUtc:hae,tickFormat:L$},Symbol.toStringTag,{value:"Module"}));var Ro=e=>e.chartData,CE=$([Ro],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),yy=(e,t,n,r)=>r?CE(e):Ro(e);function ic(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(rn(t)&&rn(n))return!0}return!1}function YC(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function gae(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,s;if(rn(n))i=n;else if(typeof n=="function")return;if(rn(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(ic(a))return a}}function yae(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ic(r))return YC(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,a,o;if(i==="auto")t!=null&&(a=Math.min(...t));else if(ee(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&Fk.test(i)){var l=Fk.exec(i);if(l==null||t==null)a=void 0;else{var c=+l[1];a=t[0]-c}}else a=t==null?void 0:t[0];if(s==="auto")t!=null&&(o=Math.max(...t));else if(ee(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&Uk.test(s)){var u=Uk.exec(s);if(u==null||t==null)o=void 0;else{var f=+u[1];o=t[1]+f}}else o=t==null?void 0:t[1];var p=[a,o];if(ic(p))return t==null?p:YC(p,t,n)}}}var bc=1e9,vae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},OE,st=!0,kr="[DecimalError] ",Ja=kr+"Invalid argument: ",NE=kr+"Exponent out of range: ",_c=Math.floor,Ra=Math.pow,xae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zn,Mt=1e7,et=7,l6=9007199254740991,gm=_c(l6/et),te={};te.absoluteValue=te.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};te.comparedTo=te.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};te.decimalPlaces=te.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*et;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};te.dividedBy=te.div=function(e){return Wi(this,new this.constructor(e))};te.dividedToIntegerBy=te.idiv=function(e){var t=this,n=t.constructor;return Ge(Wi(t,new n(e),0,1),n.precision)};te.equals=te.eq=function(e){return!this.cmp(e)};te.exponent=function(){return Pt(this)};te.greaterThan=te.gt=function(e){return this.cmp(e)>0};te.greaterThanOrEqualTo=te.gte=function(e){return this.cmp(e)>=0};te.isInteger=te.isint=function(){return this.e>this.d.length-2};te.isNegative=te.isneg=function(){return this.s<0};te.isPositive=te.ispos=function(){return this.s>0};te.isZero=function(){return this.s===0};te.lessThan=te.lt=function(e){return this.cmp(e)<0};te.lessThanOrEqualTo=te.lte=function(e){return this.cmp(e)<1};te.logarithm=te.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Zn))throw Error(kr+"NaN");if(n.s<1)throw Error(kr+(n.s?"NaN":"-Infinity"));return n.eq(Zn)?new r(0):(st=!1,t=Wi(kd(n,s),kd(e,s),s),st=!0,Ge(t,i))};te.minus=te.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?d6(t,e):c6(t,(e.s=-e.s,e))};te.modulo=te.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(kr+"NaN");return n.s?(st=!1,t=Wi(n,e,0,1).times(e),st=!0,n.minus(t)):Ge(new r(n),i)};te.naturalExponential=te.exp=function(){return u6(this)};te.naturalLogarithm=te.ln=function(){return kd(this)};te.negated=te.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};te.plus=te.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?c6(t,e):d6(t,(e.s=-e.s,e))};te.precision=te.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ja+e);if(t=Pt(i)+1,r=i.d.length-1,n=r*et+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};te.squareRoot=te.sqrt=function(){var e,t,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(kr+"NaN")}for(e=Pt(o),st=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=ai(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=_c((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(Wi(o,s,a+2)).times(.5),ai(s.d).slice(0,a)===(t=ai(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(Ge(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(t!="9999")break;a+=4}return st=!0,Ge(r,n)};te.times=te.mul=function(e){var t,n,r,i,s,a,o,l,c,u=this,f=u.constructor,p=u.d,m=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,n=u.e+e.e,l=p.length,c=m.length,l<c&&(s=p,p=m,m=s,a=l,l=c,c=a),s=[],a=l+c,r=a;r--;)s.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)o=s[i]+m[r]*p[i-r-1]+t,s[i--]=o%Mt|0,t=o/Mt|0;s[i]=(s[i]+t)%Mt|0}for(;!s[--a];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,st?Ge(e,f.precision):e};te.toDecimalPlaces=te.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(xi(e,0,bc),t===void 0?t=r.rounding:xi(t,0,8),Ge(n,e+Pt(n)+1,t))};te.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=bo(r,!0):(xi(e,0,bc),t===void 0?t=i.rounding:xi(t,0,8),r=Ge(new i(r),e+1,t),n=bo(r,!0,e+1)),n};te.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?bo(i):(xi(e,0,bc),t===void 0?t=s.rounding:xi(t,0,8),r=Ge(new s(i),e+Pt(i)+1,t),n=bo(r.abs(),!1,e+Pt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};te.toInteger=te.toint=function(){var e=this,t=e.constructor;return Ge(new t(e),Pt(e)+1,t.rounding)};te.toNumber=function(){return+this};te.toPower=te.pow=function(e){var t,n,r,i,s,a,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(Zn);if(o=new l(o),!o.s){if(e.s<1)throw Error(kr+"Infinity");return o}if(o.eq(Zn))return o;if(r=l.precision,e.eq(Zn))return Ge(o,r);if(t=e.e,n=e.d.length-1,a=t>=n,s=o.s,a){if((n=u<0?-u:u)<=l6){for(i=new l(Zn),t=Math.ceil(r/et+4),st=!1;n%2&&(i=i.times(o),JC(i.d,t)),n=_c(n/2),n!==0;)o=o.times(o),JC(o.d,t);return st=!0,e.s<0?new l(Zn).div(i):Ge(i,r)}}else if(s<0)throw Error(kr+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,st=!1,i=e.times(kd(o,r+c)),st=!0,i=u6(i),i.s=s,i};te.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?(n=Pt(i),r=bo(i,n<=s.toExpNeg||n>=s.toExpPos)):(xi(e,1,bc),t===void 0?t=s.rounding:xi(t,0,8),i=Ge(new s(i),e,t),n=Pt(i),r=bo(i,e<=n||n<=s.toExpNeg,e)),r};te.toSignificantDigits=te.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(xi(e,1,bc),t===void 0?t=r.rounding:xi(t,0,8)),Ge(new r(n),e,t)};te.toString=te.valueOf=te.val=te.toJSON=te[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Pt(e),n=e.constructor;return bo(e,t<=n.toExpNeg||t>=n.toExpPos)};function c6(e,t){var n,r,i,s,a,o,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),st?Ge(t,f):t;if(l=e.d,c=t.d,a=e.e,i=t.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=c.length):(r=c,i=a,o=l.length),a=Math.ceil(f/et),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/Mt|0,l[s]%=Mt;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,st?Ge(t,f):t}function xi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ja+e)}function ai(e){var t,n,r,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)r=e[t]+"",n=et-r.length,n&&(s+=As(n)),s+=r;a=e[t],r=a+"",n=et-r.length,n&&(s+=As(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Wi=function(){function e(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%Mt|0,a=s/Mt|0;return a&&r.unshift(a),r}function t(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*Mt+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,c,u,f,p,m,g,y,b,w,x,_,P,I,N,T,A,k=r.constructor,C=r.s==i.s?1:-1,j=r.d,D=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(kr+"Division by zero");for(l=r.e-i.e,T=D.length,I=j.length,m=new k(C),g=m.d=[],c=0;D[c]==(j[c]||0);)++c;if(D[c]>(j[c]||0)&&--l,s==null?x=s=k.precision:a?x=s+(Pt(r)-Pt(i))+1:x=s,x<0)return new k(0);if(x=x/et+2|0,c=0,T==1)for(u=0,D=D[0],x++;(c<I||u)&&x--;c++)_=u*Mt+(j[c]||0),g[c]=_/D|0,u=_%D|0;else{for(u=Mt/(D[0]+1)|0,u>1&&(D=e(D,u),j=e(j,u),T=D.length,I=j.length),P=T,y=j.slice(0,T),b=y.length;b<T;)y[b++]=0;A=D.slice(),A.unshift(0),N=D[0],D[1]>=Mt/2&&++N;do u=0,o=t(D,y,T,b),o<0?(w=y[0],T!=b&&(w=w*Mt+(y[1]||0)),u=w/N|0,u>1?(u>=Mt&&(u=Mt-1),f=e(D,u),p=f.length,b=y.length,o=t(f,y,p,b),o==1&&(u--,n(f,T<p?A:D,p))):(u==0&&(o=u=1),f=D.slice()),p=f.length,p<b&&f.unshift(0),n(y,f,b),o==-1&&(b=y.length,o=t(D,y,T,b),o<1&&(u++,n(y,T<b?A:D,b))),b=y.length):o===0&&(u++,y=[0]),g[c++]=u,o&&y[0]?y[b++]=j[P]||0:(y=[j[P]],b=1);while((P++<I||y[0]!==void 0)&&x--)}return g[0]||g.shift(),m.e=l,Ge(m,a?s+Pt(m)+1:s)}}();function u6(e,t){var n,r,i,s,a,o,l=0,c=0,u=e.constructor,f=u.precision;if(Pt(e)>16)throw Error(NE+Pt(e));if(!e.s)return new u(Zn);for(st=!1,o=f,a=new u(.03125);e.abs().gte(.1);)e=e.times(a),c+=5;for(r=Math.log(Ra(2,c))/Math.LN10*2+5|0,o+=r,n=i=s=new u(Zn),u.precision=o;;){if(i=Ge(i.times(e),o),n=n.times(++l),a=s.plus(Wi(i,n,o)),ai(a.d).slice(0,o)===ai(s.d).slice(0,o)){for(;c--;)s=Ge(s.times(s),o);return u.precision=f,t==null?(st=!0,Ge(s,f)):s}s=a}}function Pt(e){for(var t=e.e*et,n=e.d[0];n>=10;n/=10)t++;return t}function _0(e,t,n){if(t>e.LN10.sd())throw st=!0,n&&(e.precision=n),Error(kr+"LN10 precision limit exceeded");return Ge(new e(e.LN10),t)}function As(e){for(var t="";e--;)t+="0";return t}function kd(e,t){var n,r,i,s,a,o,l,c,u,f=1,p=10,m=e,g=m.d,y=m.constructor,b=y.precision;if(m.s<1)throw Error(kr+(m.s?"NaN":"-Infinity"));if(m.eq(Zn))return new y(0);if(t==null?(st=!1,c=b):c=t,m.eq(10))return t==null&&(st=!0),_0(y,c);if(c+=p,y.precision=c,n=ai(g),r=n.charAt(0),s=Pt(m),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=ai(m.d),r=n.charAt(0),f++;s=Pt(m),r>1?(m=new y("0."+n),s++):m=new y(r+"."+n.slice(1))}else return l=_0(y,c+2,b).times(s+""),m=kd(new y(r+"."+n.slice(1)),c-p).plus(l),y.precision=b,t==null?(st=!0,Ge(m,b)):m;for(o=a=m=Wi(m.minus(Zn),m.plus(Zn),c),u=Ge(m.times(m),c),i=3;;){if(a=Ge(a.times(u),c),l=o.plus(Wi(a,new y(i),c)),ai(l.d).slice(0,c)===ai(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(_0(y,c+2,b).times(s+""))),o=Wi(o,new y(f),c),y.precision=b,t==null?(st=!0,Ge(o,b)):o;o=l,i+=2}}function XC(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=_c(n/et),e.d=[],r=(n+1)%et,n<0&&(r+=et),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=et;r<i;)e.d.push(+t.slice(r,r+=et));t=t.slice(r),r=et-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),st&&(e.e>gm||e.e<-gm))throw Error(NE+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ge(e,t,n){var r,i,s,a,o,l,c,u,f=e.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(r=t-a,r<0)r+=et,i=t,c=f[u=0];else{if(u=Math.ceil((r+1)/et),s=f.length,u>=s)return e;for(c=s=f[u],a=1;s>=10;s/=10)a++;r%=et,i=r-et+a}if(n!==void 0&&(s=Ra(10,a-i-1),o=c/s%10|0,l=t<0||f[u+1]!==void 0||c%s,l=n<4?(o||l)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/Ra(10,a-i):0:f[u-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(s=Pt(e),f.length=1,t=t-s-1,f[0]=Ra(10,(et-t%et)%et),e.e=_c(-t/et)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=u,s=1,u--):(f.length=u+1,s=Ra(10,et-r),f[u]=i>0?(c/Ra(10,a-i)%Ra(10,i)|0)*s:0),l)for(;;)if(u==0){(f[0]+=s)==Mt&&(f[0]=1,++e.e);break}else{if(f[u]+=s,f[u]!=Mt)break;f[u--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(st&&(e.e>gm||e.e<-gm))throw Error(NE+Pt(e));return e}function d6(e,t){var n,r,i,s,a,o,l,c,u,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),st?Ge(t,m):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),a=c-r,a){for(u=a<0,u?(n=l,a=-a,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(m/et),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}a=0}for(u&&(n=l,l=f,f=n,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(s=i;s&&l[--s]===0;)l[s]=Mt-1;--l[s],l[i]+=Mt}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,st?Ge(t,m):t):new p(0)}function bo(e,t,n){var r,i=Pt(e),s=ai(e.d),a=s.length;return t?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+As(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+As(-i-1)+s,n&&(r=n-a)>0&&(s+=As(r))):i>=a?(s+=As(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+As(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=As(r))),e.s<0?"-"+s:s}function JC(e,t){if(e.length>t)return e.length=t,!0}function f6(e){var t,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ja+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return XC(a,s.toString())}else if(typeof s!="string")throw Error(Ja+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,xae.test(s))XC(a,s);else throw Error(Ja+s)}if(i.prototype=te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=f6,i.config=i.set=wae,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function wae(e){if(!e||typeof e!="object")throw Error(kr+"Object expected");var t,n,r,i=["precision",1,bc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(_c(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Ja+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ja+n+": "+r);return this}var OE=f6(vae);Zn=new OE(1);const ze=OE;var bae=e=>e,h6={},p6=e=>e===h6,ZC=e=>function t(){return arguments.length===0||arguments.length===1&&p6(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},m6=(e,t)=>e===1?t:ZC(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(a=>a!==h6).length;return s>=e?t(...r):m6(e-s,ZC(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var c=r.map(u=>p6(u)?o.shift():u);return t(...c,...o)}))}),vy=e=>m6(e.length,e),Fw=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},_ae=vy((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Eae=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return bae;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,l)=>l(o),s(...arguments))}},Uw=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),g6=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t&&i.every((a,o)=>{var l;return a===((l=t)===null||l===void 0?void 0:l[o])})||(t=i,n=e(...i)),n}};function y6(e){var t;return e===0?t=1:t=Math.floor(new ze(e).abs().log(10).toNumber())+1,t}function v6(e,t,n){for(var r=new ze(e),i=0,s=[];r.lt(t)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}vy((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});vy((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});vy((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var x6=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},w6=(e,t,n)=>{if(e.lte(0))return new ze(0);var r=y6(e.toNumber()),i=new ze(10).pow(r),s=e.div(i),a=r!==1?.05:.1,o=new ze(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return t?new ze(l.toNumber()):new ze(Math.ceil(l.toNumber()))},Tae=(e,t,n)=>{var r=new ze(1),i=new ze(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(r=new ze(10).pow(y6(e)-1),i=new ze(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new ze(Math.floor(e)))}else e===0?i=new ze(Math.floor((t-1)/2)):n||(i=new ze(Math.floor(e)));var a=Math.floor((t-1)/2),o=Eae(_ae(l=>i.add(new ze(l-a).mul(r)).toNumber()),Fw);return o(0,t)},b6=function(t,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new ze(0),tickMin:new ze(0),tickMax:new ze(0)};var a=w6(new ze(n).sub(t).div(r-1),i,s),o;t<=0&&n>=0?o=new ze(0):(o=new ze(t).add(n).div(2),o=o.sub(new ze(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new ze(n).sub(o).div(a).toNumber()),u=l+c+1;return u>r?b6(t,n,r,i,s+1):(u<r&&(c=n>0?c+(r-u):c,l=n>0?l:l+(r-u)),{step:a,tickMin:o.sub(new ze(l).mul(a)),tickMax:o.add(new ze(c).mul(a))})};function Sae(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[a,o]=x6([t,n]);if(a===-1/0||o===1/0){var l=o===1/0?[a,...Fw(0,r-1).map(()=>1/0)]:[...Fw(0,r-1).map(()=>-1/0),o];return t>n?Uw(l):l}if(a===o)return Tae(a,r,i);var{step:c,tickMin:u,tickMax:f}=b6(a,o,s,i,0),p=v6(u,f.add(new ze(.1).mul(c)),c);return t>n?Uw(p):p}function Aae(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=x6([n,r]);if(s===-1/0||a===1/0)return[n,r];if(s===a)return[s];var o=Math.max(t,2),l=w6(new ze(a).sub(s).div(o-1),i,0),c=[...v6(new ze(s),new ze(a),l),a];return i===!1&&(c=c.map(u=>Math.round(u))),n>r?Uw(c):c}var Pae=g6(Sae),Iae=g6(Aae),_6=e=>e.rootProps.maxBarSize,kae=e=>e.rootProps.barGap,E6=e=>e.rootProps.barCategoryGap,Cae=e=>e.rootProps.barSize,xf=e=>e.rootProps.stackOffset,jE=e=>e.options.chartName,RE=e=>e.rootProps.syncId,T6=e=>e.rootProps.syncMethod,DE=e=>e.options.eventEmitter,Ni={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Yn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},xy=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Nae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ni.angleAxisId,includeHidden:!1,name:void 0,reversed:Ni.reversed,scale:Ni.scale,tick:Ni.tick,tickCount:void 0,ticks:void 0,type:Ni.type,unit:void 0},Oae={allowDataOverflow:Yn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Yn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Yn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Yn.scale,tick:Yn.tick,tickCount:Yn.tickCount,ticks:void 0,type:Yn.type,unit:void 0},jae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ni.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ni.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ni.scale,tick:Ni.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Rae={allowDataOverflow:Yn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Yn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Yn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Yn.scale,tick:Yn.tick,tickCount:Yn.tickCount,ticks:void 0,type:"category",unit:void 0},ME=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?jae:Nae,LE=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Rae:Oae,wy=e=>e.polarOptions,$E=$([ds,fs,Ot],Y4),S6=$([wy,$E],(e,t)=>{if(e!=null)return Nn(e.innerRadius,t,0)}),A6=$([wy,$E],(e,t)=>{if(e!=null)return Nn(e.outerRadius,t,t*.8)}),Dae=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},P6=$([wy],Dae);$([ME,P6],xy);var I6=$([$E,S6,A6],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});$([LE,I6],xy);var Mae=$([Ce,wy,S6,A6,ds,fs],(e,t,n,r,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:a,cy:o,startAngle:l,endAngle:c}=t;return{cx:Nn(a,i,i/2),cy:Nn(o,s,s/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),xt=(e,t)=>t,wf=(e,t,n)=>n;function eN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ym(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eN(Object(n),!0).forEach(function(r){Lae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lae(e,t,n){return(t=$ae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ae(e){var t=zae(e,"string");return typeof t=="symbol"?t:t+""}function zae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bw=[0,"auto"],Hn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ps=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return n??Hn},Gn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Bw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:iy},Ea=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return n??Gn},Vae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},zE=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Vae},wt=(e,t,n)=>{switch(t){case"xAxis":return ps(e,n);case"yAxis":return Ea(e,n);case"zAxis":return zE(e,n);case"angleAxis":return ME(e,n);case"radiusAxis":return LE(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Fae=(e,t,n)=>{switch(t){case"xAxis":return ps(e,n);case"yAxis":return Ea(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},bf=(e,t,n)=>{switch(t){case"xAxis":return ps(e,n);case"yAxis":return Ea(e,n);case"angleAxis":return ME(e,n);case"radiusAxis":return LE(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},k6=e=>e.graphicalItems.countOfBars>0;function VE(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var _f=e=>e.graphicalItems.cartesianItems,Uae=$([xt,wf],VE),FE=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Ef=$([_f,wt,Uae],FE),C6=e=>e.filter(t=>t.stackId===void 0),Bae=$([Ef],C6),UE=e=>e.map(t=>t.data).filter(Boolean).flat(1),qae=$([Ef],UE),BE=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},by=$([qae,yy],BE),qE=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:He(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:He(i,r)}))):e.map(r=>({value:r})),_y=$([by,wt,Ef],qE);function N6(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Do(e){return e.filter(t=>vi(t)||t instanceof Date).map(Number).filter(t=>or(t)===!1)}function Kae(e,t,n){return!n||typeof t!="number"||or(t)?[]:n.length?Do(n.flatMap(r=>{var i=He(e,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!rn(s)||!rn(a)))return[t-s,t+a]})):[]}var O6=(e,t,n)=>{var r={},i=t.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[a,o]=s,l=o.map(c=>c.dataKey);return[a,{stackedData:Bte(e,l,n),graphicalItems:o}]}))},Cd=$([by,Ef,xf],O6),j6=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var s=Hte(e,r,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Wae=$([Cd,Ro,xt],j6),R6=(e,t,n,r)=>n.length>0?e.flatMap(i=>n.flatMap(s=>{var a,o,l=(a=s.errorBars)===null||a===void 0?void 0:a.filter(u=>N6(r,u)),c=He(i,(o=t.dataKey)!==null&&o!==void 0?o:s.dataKey);return{value:c,errorDomain:Kae(i,c,l)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:He(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),Hae=$(by,wt,Bae,xt,R6);function Gae(e){var{value:t}=e;if(vi(t)||t instanceof Date)return t}var Qae=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Do(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Yae=(e,t,n)=>{var r=e.map(Gae).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&i4(r))?P$(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},KE=e=>{var t;if(e==null||!("domain"in e))return Bw;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Do(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Bw},WE=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},D6=e=>e.referenceElements.dots,Ec=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Xae=$([D6,xt,wf],Ec),M6=e=>e.referenceElements.areas,Jae=$([M6,xt,wf],Ec),L6=e=>e.referenceElements.lines,Zae=$([L6,xt,wf],Ec),$6=(e,t)=>{var n=Do(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},eoe=$(Xae,xt,$6),z6=(e,t)=>{var n=Do(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},toe=$([Jae,xt],z6),V6=(e,t)=>{var n=Do(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},noe=$(Zae,xt,V6),roe=$(eoe,noe,toe,(e,t,n)=>WE(e,n,t)),F6=$([wt],KE),HE=(e,t,n,r,i)=>{var s=gae(t,e.allowDataOverflow);return s??yae(t,WE(n,i,Qae(r)),e.allowDataOverflow)},ioe=$([wt,F6,Wae,Hae,roe],HE),soe=[0,1],GE=(e,t,n,r,i,s,a)=>{if(!(e==null||n==null||n.length===0)){var{dataKey:o,type:l}=e,c=Ei(t,s);return c&&o==null?P$(0,n.length):l==="category"?Yae(r,e,c):i==="expand"?soe:a}},QE=$([wt,Ce,by,_y,xf,xt,ioe],GE),U6=(e,t,n,r,i)=>{if(e!=null){var{scale:s,type:a}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(df(s));return o in wu?o:"point"}}},Tc=$([wt,Ce,k6,jE,xt],U6);function aoe(e){if(e!=null){if(e in wu)return wu[e]();var t="scale".concat(df(e));if(t in wu)return wu[t]()}}function YE(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=aoe(t);if(i!=null){var s=i.domain(n).range(r);return $te(s),s}}}var XE=(e,t,n)=>{var r=KE(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ic(e))return Pae(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ic(e))return Iae(e,t.tickCount,t.allowDecimals)}},JE=$([QE,bf,Tc],XE),ZE=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ic(t)&&Array.isArray(n)&&n.length>0){var i=t[0],s=n[0],a=t[1],o=n[n.length-1];return[Math.min(i,s),Math.max(a,o)]}return t},ooe=$([wt,QE,JE,xt],ZE),loe=$(_y,wt,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Do(e.map(o=>o.value))).sort((o,l)=>o-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var a=r[s+1]-r[s];n=Math.min(n,a)}return n/i}}),B6=$(loe,Ce,E6,Ot,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!rn(e))return 0;var s=t==="vertical"?r.height:r.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var a=Nn(n,e*s),o=e*s/2;return o-a-(o-a)/s*a}return 0}),coe=(e,t)=>{var n=ps(e,t);return n==null||typeof n.padding!="string"?0:B6(e,"xAxis",t,n.padding)},uoe=(e,t)=>{var n=Ea(e,t);return n==null||typeof n.padding!="string"?0:B6(e,"yAxis",t,n.padding)},doe=$(ps,coe,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),foe=$(Ea,uoe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),hoe=$([Ot,doe,ay,sy,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),poe=$([Ot,Ce,foe,ay,sy,(e,t,n)=>n],(e,t,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Tf=(e,t,n,r)=>{var i;switch(t){case"xAxis":return hoe(e,n,r);case"yAxis":return poe(e,n,r);case"zAxis":return(i=zE(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return P6(e);case"radiusAxis":return I6(e,n);default:return}},q6=$([wt,Tf],xy),Sc=$([wt,Tc,ooe,q6],YE);$(Ef,xt,(e,t)=>e.flatMap(n=>{var r;return(r=n.errorBars)!==null&&r!==void 0?r:[]}).filter(n=>N6(t,n)));function K6(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ey=(e,t)=>t,Ty=(e,t,n)=>n,moe=$(eE,Ey,Ty,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(K6)),goe=$(tE,Ey,Ty,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(K6)),W6=(e,t)=>({width:e.width,height:t.height}),yoe=(e,t)=>{var n=typeof t.width=="number"?t.width:iy;return{width:n,height:e.height}},H6=$(Ot,ps,W6),voe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},xoe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},woe=$(fs,Ot,moe,Ey,Ty,(e,t,n,r,i)=>{var s={},a;return n.forEach(o=>{var l=W6(t,o);a==null&&(a=voe(t,r,e));var c=r==="top"&&!i||r==="bottom"&&i;s[o.id]=a-Number(c)*l.height,a+=(c?-1:1)*l.height}),s}),boe=$(ds,Ot,goe,Ey,Ty,(e,t,n,r,i)=>{var s={},a;return n.forEach(o=>{var l=yoe(t,o);a==null&&(a=xoe(t,r,e));var c=r==="left"&&!i||r==="right"&&i;s[o.id]=a-Number(c)*l.width,a+=(c?-1:1)*l.width}),s}),_oe=(e,t)=>{var n=Ot(e),r=ps(e,t);if(r!=null){var i=woe(e,r.orientation,r.mirror),s=i[t];return s==null?{x:n.left,y:0}:{x:n.left,y:s}}},Eoe=(e,t)=>{var n=Ot(e),r=Ea(e,t);if(r!=null){var i=boe(e,r.orientation,r.mirror),s=i[t];return s==null?{x:0,y:n.top}:{x:s,y:n.top}}},G6=$(Ot,Ea,(e,t)=>{var n=typeof t.width=="number"?t.width:iy;return{width:n,height:e.height}}),tN=(e,t,n)=>{switch(t){case"xAxis":return H6(e,n).width;case"yAxis":return G6(e,n).height;default:return}},Q6=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,o=Ei(e,r),l=t.map(c=>c.value);if(a&&o&&s==="category"&&i&&i4(l))return l}},eT=$([Ce,_y,wt,xt],Q6),Y6=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=Ei(e,r);if(a&&(i==="number"||s!=="auto"))return t.map(o=>o.value)}},tT=$([Ce,_y,bf,xt],Y6);$([Ce,Fae,Tc,Sc,eT,tT,Tf,JE,xt],(e,t,n,r,i,s,a,o,l)=>{if(t==null)return null;var c=Ei(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:c,niceTicks:o,range:a,realScaleType:n,scale:r}});var Toe=(e,t,n,r,i,s,a,o,l)=>{if(!(t==null||r==null)){var c=Ei(e,l),{type:u,ticks:f,tickCount:p}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=u==="category"&&r.bandwidth?r.bandwidth()/m:0;g=l==="angleAxis"&&s!=null&&s.length>=2?Jt(s[0]-s[1])*2*g:g;var y=f||i;if(y){var b=y.map((w,x)=>{var _=a?a.indexOf(w):w;return{index:x,coordinate:r(_)+g,value:w,offset:g}});return b.filter(w=>!or(w.coordinate))}return c&&o?o.map((w,x)=>({coordinate:r(w)+g,value:w,index:x,offset:g})):r.ticks?r.ticks(p).map(w=>({coordinate:r(w)+g,value:w,offset:g})):r.domain().map((w,x)=>({coordinate:r(w)+g,value:a?a[w]:w,index:x,offset:g}))}},X6=$([Ce,bf,Tc,Sc,JE,Tf,eT,tT,xt],Toe),Soe=(e,t,n,r,i,s,a)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var o=Ei(e,a),{tickCount:l}=t,c=0;return c=a==="angleAxis"&&(r==null?void 0:r.length)>=2?Jt(r[0]-r[1])*2*c:c,o&&s?s.map((u,f)=>({coordinate:n(u)+c,value:u,index:f,offset:c})):n.ticks?n.ticks(l).map(u=>({coordinate:n(u)+c,value:u,offset:c})):n.domain().map((u,f)=>({coordinate:n(u)+c,value:i?i[u]:u,index:f,offset:c}))}},wi=$([Ce,bf,Sc,Tf,eT,tT,xt],Soe),Cr=$(wt,Sc,(e,t)=>{if(!(e==null||t==null))return ym(ym({},e),{},{scale:t})}),Aoe=$([wt,Tc,QE,q6],YE);$((e,t,n)=>zE(e,n),Aoe,(e,t)=>{if(!(e==null||t==null))return ym(ym({},e),{},{scale:t})});var Poe=$([Ce,eE,tE],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),J6=e=>e.options.defaultTooltipEventType,Z6=e=>e.options.validateTooltipEventTypes;function e3(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function nT(e,t){var n=J6(e),r=Z6(e);return e3(t,n,r)}function Ioe(e){return se(t=>nT(t,e))}var t3=(e,t)=>{var n,r=Number(t);if(!(or(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},koe=e=>e.tooltip.settings,js={active:!1,index:null,dataKey:void 0,coordinate:void 0},Coe={itemInteraction:{click:js,hover:js},axisInteraction:{click:js,hover:js},keyboardInteraction:js,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},n3=qn({name:"tooltip",initialState:Coe,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Ui(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Noe,removeTooltipEntrySettings:Ooe,setTooltipSettingsState:joe,setActiveMouseOverItemIndex:r3,mouseLeaveItem:Roe,mouseLeaveChart:i3,setActiveClickItemIndex:Doe,setMouseOverAxisIndex:s3,setMouseClickAxisIndex:Moe,setSyncInteraction:qw,setKeyboardInteraction:Kw}=n3.actions,Loe=n3.reducer;function nN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Eh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(n),!0).forEach(function(r){$oe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $oe(e,t,n){return(t=zoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zoe(e){var t=Voe(e,"string");return typeof t=="symbol"?t:t+""}function Voe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Foe(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Uoe(e){return e.index!=null}var a3=(e,t,n,r)=>{if(t==null)return js;var i=Foe(e,t,n);if(i==null)return js;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(Uoe(i)){if(s)return Eh(Eh({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Eh(Eh({},js),{},{coordinate:i.coordinate})},rT=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!rn(r))return n;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(r,s)))},o3=(e,t,n,r,i,s,a,o)=>{if(!(s==null||o==null)){var l=a[0],c=l==null?void 0:o(l.positions,s);if(c!=null)return c;var u=i==null?void 0:i[Number(s)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:u.coordinate}}}},l3=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},Sf=e=>e.options.tooltipPayloadSearcher,Ac=e=>e.tooltip;function rN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(n),!0).forEach(function(r){Boe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Boe(e,t,n){return(t=qoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qoe(e){var t=Koe(e,"string");return typeof t=="symbol"?t:t+""}function Koe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Woe(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Hoe(e,t){return e??t}var c3=(e,t,n,r,i,s,a)=>{if(!(t==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=n,f=[];return e.reduce((p,m)=>{var g,{dataDefinedOnItem:y,settings:b}=m,w=Hoe(y,o),x=Woe(w,c,u),_=(g=b==null?void 0:b.dataKey)!==null&&g!==void 0?g:r==null?void 0:r.dataKey,P=b==null?void 0:b.nameKey,I;if(r!=null&&r.dataKey&&Array.isArray(x)&&!Array.isArray(x[0])&&a==="axis"?I=s4(x,r.dataKey,i):I=s(x,t,l,P),Array.isArray(I))I.forEach(T=>{var A=iN(iN({},b),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});p.push(Bk({tooltipEntrySettings:A,dataKey:T.dataKey,payload:T.payload,value:He(T.payload,T.dataKey),name:T.name}))});else{var N;p.push(Bk({tooltipEntrySettings:b,dataKey:_,payload:I,value:He(I,_),name:(N=He(I,P))!==null&&N!==void 0?N:b==null?void 0:b.name}))}return p},f)}},Bt=e=>{var t=Ce(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Pc=e=>e.tooltip.settings.axisId,sn=e=>{var t=Bt(e),n=Pc(e);return bf(e,t,n)},iT=$([sn,Ce,k6,jE,Bt],U6),Goe=$([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Qoe=$([Bt,Pc],VE),Sy=$([Goe,sn,Qoe],FE),Yoe=$([Sy],UE),Mo=$([Yoe,Ro],BE),sT=$([Mo,sn,Sy],qE),Xoe=$([sn],KE),Joe=$([Mo,Sy,xf],O6),Zoe=$([Joe,Ro,Bt],j6),ele=$([Sy],C6),tle=$([Mo,sn,ele,Bt],R6),nle=$([D6,Bt,Pc],Ec),rle=$([nle,Bt],$6),ile=$([M6,Bt,Pc],Ec),sle=$([ile,Bt],z6),ale=$([L6,Bt,Pc],Ec),ole=$([ale,Bt],V6),lle=$([rle,ole,sle],WE),cle=$([sn,Xoe,Zoe,tle,lle],HE),u3=$([sn,Ce,Mo,sT,xf,Bt,cle],GE),ule=$([u3,sn,iT],XE),dle=$([sn,u3,ule,Bt],ZE),d3=e=>{var t=Bt(e),n=Pc(e),r=!1;return Tf(e,t,n,r)},f3=$([sn,d3],xy),h3=$([sn,iT,dle,f3],YE),fle=$([Ce,sT,sn,Bt],Q6),hle=$([Ce,sT,sn,Bt],Y6),ple=(e,t,n,r,i,s,a,o)=>{if(t){var{type:l}=t,c=Ei(e,o);if(r){var u=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/u:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Jt(i[0]-i[1])*2*f:f,c&&a?a.map((p,m)=>({coordinate:r(p)+f,value:p,index:m,offset:f})):r.domain().map((p,m)=>({coordinate:r(p)+f,value:s?s[p]:p,index:m,offset:f}))}}},ms=$([Ce,sn,iT,h3,d3,fle,hle,Bt],ple),aT=$([J6,Z6,koe],(e,t,n)=>e3(n.shared,e,t)),p3=e=>e.tooltip.settings.trigger,oT=e=>e.tooltip.settings.defaultIndex,Ay=$([Ac,aT,p3,oT],a3),ca=$([Ay,Mo],rT),m3=$([ms,ca],t3),g3=$([Ay],e=>{if(e)return e.dataKey}),y3=$([Ac,aT,p3,oT],l3),mle=$([ds,fs,Ce,Ot,ms,oT,y3,Sf],o3),gle=$([Ay,mle],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),yle=$([Ay],e=>e.active),vle=$([y3,ca,Ro,sn,m3,Sf,aT],c3),xle=$([vle],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function sN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(n),!0).forEach(function(r){wle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wle(e,t,n){return(t=ble(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ble(e){var t=_le(e,"string");return typeof t=="symbol"?t:t+""}function _le(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ele=()=>se(sn),Tle=()=>{var e=Ele(),t=se(ms),n=se(h3);return vo(aN(aN({},e),{},{scale:n}),t)},v3=()=>se(jE),lT=(e,t)=>t,x3=(e,t,n)=>n,cT=(e,t,n,r)=>r,Sle=$(ms,e=>ry(e,t=>t.coordinate)),uT=$([Ac,lT,x3,cT],a3),w3=$([uT,Mo],rT),Ale=(e,t,n)=>{if(t!=null){var r=Ac(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},b3=$([Ac,lT,x3,cT],l3),vm=$([ds,fs,Ce,Ot,ms,cT,b3,Sf],o3),Ple=$([uT,vm],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),_3=$(ms,w3,t3),Ile=$([b3,w3,Ro,sn,_3,Sf,lT],c3),kle=$([uT],e=>({isActive:e.active,activeIndex:e.index})),Cle=(e,t,n,r,i,s,a,o)=>{if(!(!e||!t||!r||!i||!s)){var l=Gte(e.chartX,e.chartY,t,n,o);if(l){var c=Yte(l,t),u=Mte(c,a,s,r,i),f=Qte(t,s,u,l);return{activeIndex:String(u),activeCoordinate:f}}}};function Ww(){return Ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ww.apply(null,arguments)}function oN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Th(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(n),!0).forEach(function(r){Nle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nle(e,t,n){return(t=Ole(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ole(e){var t=jle(e,"string");return typeof t=="symbol"?t:t+""}function jle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rle(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:s,layout:a,cursor:o,tooltipEventType:l,chartName:c}=e,u=t,f=n,p=r;if(!o||!u||c!=="ScatterChart"&&l!=="axis")return null;var m,g;if(c==="ScatterChart")m=u,g=ire;else if(c==="BarChart")m=sre(a,u,i,s),g=w$;else if(a==="radial"){var{cx:y,cy:b,radius:w,startAngle:x,endAngle:_}=b$(u);m={cx:y,cy:b,startAngle:x,endAngle:_,innerRadius:w,outerRadius:w},g=E$}else m={points:Vre(a,u,i)},g=Cl;var P=typeof o=="object"&&"className"in o?o.className:void 0,I=Th(Th(Th(Th({stroke:"#ccc",pointerEvents:"none"},i),m),be(o,!1)),{},{payload:f,payloadIndex:p,className:we("recharts-tooltip-cursor",P)});return v.isValidElement(o)?v.cloneElement(o,I):v.createElement(g,I)}function Dle(e){var t=Tle(),n=sne(),r=pf(),i=v3();return v.createElement(Rle,Ww({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var E3=v.createContext(null),Mle=()=>v.useContext(E3),T3={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new i(u,f||l,p),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,g=new Array(m);p<m;p++)g[p]=f[p].fn;return g},o.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,p,m,g){var y=n?n+c:c;if(!this._events[y])return!1;var b=this._events[y],w=arguments.length,x,_;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,f),!0;case 4:return b.fn.call(b.context,u,f,p),!0;case 5:return b.fn.call(b.context,u,f,p,m),!0;case 6:return b.fn.call(b.context,u,f,p,m,g),!0}for(_=1,x=new Array(w-1);_<w;_++)x[_-1]=arguments[_];b.fn.apply(b.context,x)}else{var P=b.length,I;for(_=0;_<P;_++)switch(b[_].once&&this.removeListener(c,b[_].fn,void 0,!0),w){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,u);break;case 3:b[_].fn.call(b[_].context,u,f);break;case 4:b[_].fn.call(b[_].context,u,f,p);break;default:if(!x)for(I=1,x=new Array(w-1);I<w;I++)x[I-1]=arguments[I];b[_].fn.apply(b[_].context,x)}}return!0},o.prototype.on=function(c,u,f){return s(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return s(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,p){var m=n?n+c:c;if(!this._events[m])return this;if(!u)return a(this,m),this;var g=this._events[m];if(g.fn)g.fn===u&&(!p||g.once)&&(!f||g.context===f)&&a(this,m);else{for(var y=0,b=[],w=g.length;y<w;y++)(g[y].fn!==u||p&&!g[y].once||f&&g[y].context!==f)&&b.push(g[y]);b.length?this._events[m]=b.length===1?b[0]:b:a(this,m)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(T3);var Lle=T3.exports;const $le=bi(Lle);var Nd=new $le,Hw="recharts.syncEvent.tooltip",lN="recharts.syncEvent.brush";function Py(e,t){if(t){var n=Number.parseInt(t,10);if(!or(n))return e==null?void 0:e[n]}}var zle={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},S3=qn({name:"options",initialState:zle,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Vle=S3.reducer,{createEventEmitter:Fle}=S3.actions;function Ule(e){return e.tooltip.syncInteraction}var Ble={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},A3=qn({name:"chartData",initialState:Ble,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:cN,setDataStartEndIndexes:qle}=A3.actions,Kle=A3.reducer,P3=()=>{};function Wle(){var e=se(RE),t=se(DE),n=lt(),r=se(T6),i=se(ms),s=pf(),a=nE(),o=se(l=>l.rootProps.className);v.useEffect(()=>{if(e==null)return P3;var l=(c,u,f)=>{if(t!==f&&e===c){if(r==="index"){n(u);return}if(i!=null){var p;if(typeof r=="function"){var m={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},g=r(i,m);p=i[g]}else r==="value"&&(p=i.find(N=>String(N.value)===u.payload.label));var{coordinate:y}=u.payload;if(p==null||u.payload.active===!1||y==null||a==null){n(qw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:b,y:w}=y,x=Math.min(b,a.x+a.width),_=Math.min(w,a.y+a.height),P={x:s==="horizontal"?p.coordinate:x,y:s==="horizontal"?_:p.coordinate},I=qw({active:u.payload.active,coordinate:P,dataKey:u.payload.dataKey,index:String(p.index),label:u.payload.label});n(I)}}};return Nd.on(Hw,l),()=>{Nd.off(Hw,l)}},[o,n,t,e,r,i,s,a])}function Hle(){var e=se(RE),t=se(DE),n=lt();v.useEffect(()=>{if(e==null)return P3;var r=(i,s,a)=>{t!==a&&e===i&&n(qle(s))};return Nd.on(lN,r),()=>{Nd.off(lN,r)}},[n,t,e])}function Gle(){var e=lt();v.useEffect(()=>{e(Fle())},[e]),Wle(),Hle()}function Qle(e,t,n,r,i,s){var a=se(p=>Ale(p,e,t)),o=se(DE),l=se(RE),c=se(T6),u=se(Ule),f=u==null?void 0:u.active;v.useEffect(()=>{if(!f&&l!=null&&o!=null){var p=qw({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r});Nd.emit(Hw,l,p,o)}},[f,n,a,i,r,o,l,c,s])}function uN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(n),!0).forEach(function(r){Yle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yle(e,t,n){return(t=Xle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xle(e){var t=Jle(e,"string");return typeof t=="symbol"?t:t+""}function Jle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zle(e){return e.dataKey}function ece(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(Mne,t)}var fN=[],tce={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!wa.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Sh(e){var t=Or(e,tce),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:s,content:a,filterNull:o,isAnimationActive:l,offset:c,payloadUniqBy:u,position:f,reverseDirection:p,useTranslate3d:m,wrapperStyle:g,cursor:y,shared:b,trigger:w,defaultIndex:x,portal:_,axisId:P}=t,I=lt(),N=typeof x=="number"?String(x):x;v.useEffect(()=>{I(joe({shared:b,trigger:w,axisId:P,active:n,defaultIndex:N}))},[I,b,w,P,n,N]);var T=nE(),A=f$(),k=Ioe(b),{activeIndex:C,isActive:j}=se(ne=>kle(ne,k,w,N)),D=se(ne=>Ile(ne,k,w,N)),R=se(ne=>_3(ne,k,w,N)),Q=se(ne=>Ple(ne,k,w,N)),de=D,ue=Mle(),X=n??j,[U,G]=G4([de,X]),ie=k==="axis"?R:void 0;Qle(k,w,Q,ie,C,X);var ce=_??ue;if(ce==null)return null;var M=de??fN;X||(M=fN),o&&M.length&&(M=V4(de.filter(ne=>ne.value!=null&&(ne.hide!==!0||t.includeHidden)),u,Zle));var B=M.length>0,ae=v.createElement(Bne,{allowEscapeViewBox:r,animationDuration:i,animationEasing:s,isAnimationActive:l,active:X,coordinate:Q,hasPayload:B,offset:c,position:f,reverseDirection:p,useTranslate3d:m,viewBox:T,wrapperStyle:g,lastBoundingBox:U,innerRef:G,hasPortalFromProps:!!_},ece(a,dN(dN({},t),{},{payload:M,label:ie,active:X,coordinate:Q,accessibilityLayer:A})));return v.createElement(v.Fragment,null,Wm.createPortal(ae,ce),X&&v.createElement(Dle,{cursor:y,tooltipEventType:k,coordinate:Q,payload:de,index:C}))}var I3={},k3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=0,i={}){typeof i!="object"&&(i={});let s=null,a=null,o=null,l=0,c=null,u;const{leading:f=!1,trailing:p=!0,maxWait:m}=i,g="maxWait"in i,y=g?Math.max(Number(m)||0,r):0,b=T=>(s!==null&&(u=n.apply(a,s)),s=a=null,l=T,u),w=T=>(l=T,c=setTimeout(I,r),f&&s!==null?b(T):u),x=T=>(c=null,p&&s!==null?b(T):u),_=T=>{if(o===null)return!0;const A=T-o,k=A>=r||A<0,C=g&&T-l>=y;return k||C},P=T=>{const A=o===null?0:T-o,k=r-A,C=y-(T-l);return g?Math.min(k,C):k},I=()=>{const T=Date.now();if(_(T))return x(T);c=setTimeout(I,P(T))},N=function(...T){const A=Date.now(),k=_(A);if(s=T,a=this,o=A,k){if(c===null)return w(A);if(g)return clearTimeout(c),c=setTimeout(I,r),b(A)}return c===null&&(c=setTimeout(I,r)),u};return N.cancel=()=>{c!==null&&clearTimeout(c),l=0,o=s=a=c=null},N.flush=()=>c===null?u:x(Date.now()),N}e.debounce=t})(k3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k3;function n(r,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return t.debounce(r,i,{leading:a,maxWait:i,trailing:o})}e.throttle=n})(I3);var nce=I3.throttle;const rce=bi(nce);var E0=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function hN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function T0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(n),!0).forEach(function(r){ice(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ice(e,t,n){return(t=sce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sce(e){var t=ace(e,"string");return typeof t=="symbol"?t:t+""}function ace(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ah=v.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:o,maxHeight:l,children:c,debounce:u=0,id:f,className:p,onResize:m,style:g={}}=e,y=v.useRef(null),b=v.useRef();b.current=m,v.useImperativeHandle(t,()=>y.current);var[w,x]=v.useState({containerWidth:r.width,containerHeight:r.height}),_=v.useCallback((I,N)=>{x(T=>{var A=Math.round(I),k=Math.round(N);return T.containerWidth===A&&T.containerHeight===k?T:{containerWidth:A,containerHeight:k}})},[]);v.useEffect(()=>{var I=k=>{var C,{width:j,height:D}=k[0].contentRect;_(j,D),(C=b.current)===null||C===void 0||C.call(b,j,D)};u>0&&(I=rce(I,u,{trailing:!0,leading:!1}));var N=new ResizeObserver(I),{width:T,height:A}=y.current.getBoundingClientRect();return _(T,A),N.observe(y.current),()=>{N.disconnect()}},[_,u]);var P=v.useMemo(()=>{var{containerWidth:I,containerHeight:N}=w;if(I<0||N<0)return null;E0(Ua(i)||Ua(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),E0(!n||n>0,"The aspect(%s) must be greater than zero.",n);var T=Ua(i)?I:i,A=Ua(s)?N:s;return n&&n>0&&(T?A=T/n:A&&(T=A*n),l&&A>l&&(A=l)),E0(T>0||A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,A,i,s,a,o,n),v.Children.map(c,k=>v.cloneElement(k,{width:T,height:A,style:T0({width:T,height:A},k.props.style)}))},[n,c,s,l,o,a,w,i]);return v.createElement("div",{id:f?"".concat(f):void 0,className:we("recharts-responsive-container",p),style:T0(T0({},g),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:y},v.createElement("div",{style:{width:0,height:0,overflow:"visible"}},P))}),Af=e=>null;Af.displayName="Cell";function pN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(n),!0).forEach(function(r){oce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oce(e,t,n){return(t=lce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lce(e){var t=cce(e,"string");return typeof t=="symbol"?t:t+""}function cce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ko={widthCache:{},cacheCount:0},uce=2e3,dce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},mN="recharts_measurement_span";function fce(e){var t=Gw({},e);return Object.keys(t).forEach(n=>{t[n]||delete t[n]}),t}var Lu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||wa.isSsr)return{width:0,height:0};var r=fce(n),i=JSON.stringify({text:t,copyStyle:r});if(Ko.widthCache[i])return Ko.widthCache[i];try{var s=document.getElementById(mN);s||(s=document.createElement("span"),s.setAttribute("id",mN),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=Gw(Gw({},dce),r);Object.assign(s.style,a),s.textContent="".concat(t);var o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return Ko.widthCache[i]=l,++Ko.cacheCount>uce&&(Ko.cacheCount=0,Ko.widthCache={}),l}catch{return{width:0,height:0}}},gN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,pce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,C3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},mce=Object.keys(C3),dl="NaN";function gce(e,t){return e*C3[t]}class Dn{static parse(t){var n,[,r,i]=(n=pce.exec(t))!==null&&n!==void 0?n:[];return new Dn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,or(t)&&(this.unit=""),n!==""&&!hce.test(n)&&(this.num=NaN,this.unit=""),mce.includes(n)&&(this.num=gce(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Dn(NaN,""):new Dn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Dn(NaN,""):new Dn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Dn(NaN,""):new Dn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Dn(NaN,""):new Dn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return or(this.num)}}function N3(e){if(e.includes(dl))return dl;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,s]=(n=gN.exec(t))!==null&&n!==void 0?n:[],a=Dn.parse(r??""),o=Dn.parse(s??""),l=i==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return dl;t=t.replace(gN,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,f,p]=(c=yN.exec(t))!==null&&c!==void 0?c:[],m=Dn.parse(u??""),g=Dn.parse(p??""),y=f==="+"?m.add(g):m.subtract(g);if(y.isNaN())return dl;t=t.replace(yN,y.toString())}return t}var vN=/\(([^()]*)\)/;function yce(e){for(var t=e,n;(n=vN.exec(t))!=null;){var[,r]=n;t=t.replace(vN,N3(r))}return t}function vce(e){var t=e.replace(/\s+/g,"");return t=yce(t),t=N3(t),t}function xce(e){try{return vce(e)}catch{return dl}}function S0(e){var t=xce(e.slice(5,-1));return t===dl?"":t}var wce=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],bce=["dx","dy","angle","className","breakAll"];function Qw(){return Qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qw.apply(null,arguments)}function xN(e,t){if(e==null)return{};var n,r,i=_ce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _ce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var O3=/[ \f\n\r\t\v\u2028\u2029]+/,j3=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Ue(t)||(n?i=t.toString().split(""):i=t.toString().split(O3));var s=i.map(o=>({word:o,width:Lu(o,r).width})),a=n?0:Lu(" ",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Ece=(e,t,n,r,i)=>{var{maxLines:s,children:a,style:o,breakAll:l}=e,c=ee(s),u=a,f=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return j.reduce((D,R)=>{var{word:Q,width:de}=R,ue=D[D.length-1];if(ue&&(r==null||i||ue.width+de+n<Number(r)))ue.words.push(Q),ue.width+=de+n;else{var X={words:[Q],width:de};D.push(X)}return D},[])},p=f(t),m=C=>C.reduce((j,D)=>j.width>D.width?j:D);if(!c||i)return p;var g=p.length>s||m(p).width>Number(r);if(!g)return p;for(var y="…",b=C=>{var j=u.slice(0,C),D=j3({breakAll:l,style:o,children:j+y}).wordsWithComputedWidth,R=f(D),Q=R.length>s||m(R).width>Number(r);return[Q,R]},w=0,x=u.length-1,_=0,P;w<=x&&_<=u.length-1;){var I=Math.floor((w+x)/2),N=I-1,[T,A]=b(N),[k]=b(I);if(!T&&!k&&(w=I+1),T&&k&&(x=I-1),!T&&k){P=A;break}_++}return P||p},wN=e=>{var t=Ue(e)?[]:e.toString().split(O3);return[{words:t}]},Tce=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=e;if((t||n)&&!wa.isSsr){var o,l,c=j3({breakAll:s,children:r,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:f}=c;o=u,l=f}else return wN(r);return Ece({breakAll:s,children:r,maxLines:a,style:i},o,l,t,n)}return wN(r)},bN="#808080",Iy=v.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:o="start",verticalAnchor:l="end",fill:c=bN}=e,u=xN(e,wce),f=v.useMemo(()=>Tce({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:a,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,a,u.style,u.width]),{dx:p,dy:m,angle:g,className:y,breakAll:b}=u,w=xN(u,bce);if(!vi(n)||!vi(r))return null;var x=n+(ee(p)?p:0),_=r+(ee(m)?m:0),P;switch(l){case"start":P=S0("calc(".concat(s,")"));break;case"middle":P=S0("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:P=S0("calc(".concat(f.length-1," * -").concat(i,")"));break}var I=[];if(a){var N=f[0].width,{width:T}=u;I.push("scale(".concat(ee(T)?T/N:1,")"))}return g&&I.push("rotate(".concat(g,", ").concat(x,", ").concat(_,")")),I.length&&(w.transform=I.join(" ")),v.createElement("text",Qw({},be(w,!0),{ref:t,x,y:_,className:we("recharts-text",y),textAnchor:o,fill:c.includes("url")?bN:c}),f.map((A,k)=>{var C=A.words.join(b?"":" ");return v.createElement("tspan",{x,dy:k===0?P:i,key:"".concat(C,"-").concat(k)},C)}))});Iy.displayName="Text";var Sce=["offset"],Ace=["labelRef"];function _N(e,t){if(e==null)return{};var n,r,i=Pce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function EN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(n),!0).forEach(function(r){Ice(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ice(e,t,n){return(t=kce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kce(e){var t=Cce(e,"string");return typeof t=="symbol"?t:t+""}function Cce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oi.apply(null,arguments)}var Nce=e=>{var{value:t,formatter:n}=e,r=Ue(e.children)?t:e.children;return typeof n=="function"?n(r):r},dT=e=>e!=null&&typeof e=="function",Oce=(e,t)=>{var n=Jt(t-e),r=Math.min(Math.abs(t-e),360);return n*r},jce=(e,t,n)=>{var{position:r,viewBox:i,offset:s,className:a}=e,{cx:o,cy:l,innerRadius:c,outerRadius:u,startAngle:f,endAngle:p,clockWise:m}=i,g=(c+u)/2,y=Oce(f,p),b=y>=0?1:-1,w,x;r==="insideStart"?(w=f+b*s,x=m):r==="insideEnd"?(w=p-b*s,x=!m):r==="end"&&(w=p+b*s,x=m),x=y<=0?x:!x;var _=At(o,l,g,w),P=At(o,l,g,w+(x?1:-1)*359),I="M".concat(_.x,",").concat(_.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(x?0:1,`,
    `).concat(P.x,",").concat(P.y),N=Ue(e.id)?la("recharts-radial-line-"):e.id;return v.createElement("text",Oi({},n,{dominantBaseline:"central",className:we("recharts-radial-bar-label",a)}),v.createElement("defs",null,v.createElement("path",{id:N,d:I})),v.createElement("textPath",{xlinkHref:"#".concat(N)},t))},Rce=e=>{var{viewBox:t,offset:n,position:r}=e,{cx:i,cy:s,innerRadius:a,outerRadius:o,startAngle:l,endAngle:c}=t,u=(l+c)/2;if(r==="outside"){var{x:f,y:p}=At(i,s,o+n,u);return{x:f,y:p,textAnchor:f>=i?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var m=(a+o)/2,{x:g,y}=At(i,s,m,u);return{x:g,y,textAnchor:"middle",verticalAnchor:"middle"}},Dce=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,{x:s,y:a,width:o,height:l}=t,c=l>=0?1:-1,u=c*r,f=c>0?"end":"start",p=c>0?"start":"end",m=o>=0?1:-1,g=m*r,y=m>0?"end":"start",b=m>0?"start":"end";if(i==="top"){var w={x:s+o/2,y:a-c*r,textAnchor:"middle",verticalAnchor:f};return bt(bt({},w),n?{height:Math.max(a-n.y,0),width:o}:{})}if(i==="bottom"){var x={x:s+o/2,y:a+l+u,textAnchor:"middle",verticalAnchor:p};return bt(bt({},x),n?{height:Math.max(n.y+n.height-(a+l),0),width:o}:{})}if(i==="left"){var _={x:s-g,y:a+l/2,textAnchor:y,verticalAnchor:"middle"};return bt(bt({},_),n?{width:Math.max(_.x-n.x,0),height:l}:{})}if(i==="right"){var P={x:s+o+g,y:a+l/2,textAnchor:b,verticalAnchor:"middle"};return bt(bt({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:l}:{})}var I=n?{width:o,height:l}:{};return i==="insideLeft"?bt({x:s+g,y:a+l/2,textAnchor:b,verticalAnchor:"middle"},I):i==="insideRight"?bt({x:s+o-g,y:a+l/2,textAnchor:y,verticalAnchor:"middle"},I):i==="insideTop"?bt({x:s+o/2,y:a+u,textAnchor:"middle",verticalAnchor:p},I):i==="insideBottom"?bt({x:s+o/2,y:a+l-u,textAnchor:"middle",verticalAnchor:f},I):i==="insideTopLeft"?bt({x:s+g,y:a+u,textAnchor:b,verticalAnchor:p},I):i==="insideTopRight"?bt({x:s+o-g,y:a+u,textAnchor:y,verticalAnchor:p},I):i==="insideBottomLeft"?bt({x:s+g,y:a+l-u,textAnchor:b,verticalAnchor:f},I):i==="insideBottomRight"?bt({x:s+o-g,y:a+l-u,textAnchor:y,verticalAnchor:f},I):i&&typeof i=="object"&&(ee(i.x)||Ua(i.x))&&(ee(i.y)||Ua(i.y))?bt({x:s+Nn(i.x,o),y:a+Nn(i.y,l),textAnchor:"end",verticalAnchor:"end"},I):bt({x:s+o/2,y:a+l/2,textAnchor:"middle",verticalAnchor:"middle"},I)},Mce=e=>"cx"in e&&ee(e.cx);function Jn(e){var{offset:t=5}=e,n=_N(e,Sce),r=bt({offset:t},n),{viewBox:i,position:s,value:a,children:o,content:l,className:c="",textBreakAll:u,labelRef:f}=r,p=nE(),m=i||p;if(!m||Ue(a)&&Ue(o)&&!v.isValidElement(l)&&typeof l!="function")return null;if(v.isValidElement(l)){var{labelRef:g}=r,y=_N(r,Ace);return v.cloneElement(l,y)}var b;if(typeof l=="function"){if(b=v.createElement(l,r),v.isValidElement(b))return b}else b=Nce(r);var w=Mce(m),x=be(r,!0);if(w&&(s==="insideStart"||s==="insideEnd"||s==="end"))return jce(r,b,x);var _=w?Rce(r):Dce(r,m);return v.createElement(Iy,Oi({ref:f,className:we("recharts-label",c)},x,_,{breakAll:u}),b)}Jn.displayName="Label";var R3=e=>{var{cx:t,cy:n,angle:r,startAngle:i,endAngle:s,r:a,radius:o,innerRadius:l,outerRadius:c,x:u,y:f,top:p,left:m,width:g,height:y,clockWise:b,labelViewBox:w}=e;if(w)return w;if(ee(g)&&ee(y)){if(ee(u)&&ee(f))return{x:u,y:f,width:g,height:y};if(ee(p)&&ee(m))return{x:p,y:m,width:g,height:y}}if(ee(u)&&ee(f))return{x:u,y:f,width:0,height:0};if(ee(t)&&ee(n))return{cx:t,cy:n,startAngle:i||r||0,endAngle:s||r||0,innerRadius:l||0,outerRadius:c||o||a||0,clockWise:b};if(e.viewBox)return e.viewBox},Lce=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?v.createElement(Jn,Oi({key:"label-implicit"},r)):vi(e)?v.createElement(Jn,Oi({key:"label-implicit",value:e},r)):v.isValidElement(e)?e.type===Jn?v.cloneElement(e,bt({key:"label-implicit"},r)):v.createElement(Jn,Oi({key:"label-implicit",content:e},r)):dT(e)?v.createElement(Jn,Oi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?v.createElement(Jn,Oi({},e,{key:"label-implicit"},r)):null},$ce=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:i,labelRef:s}=t,a=R3(t),o=hf(i,Jn).map((c,u)=>v.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)}));if(!r)return o;var l=Lce(t.label,n||a,s);return[l,...o]};Jn.parseViewBox=R3;Jn.renderCallByParent=$ce;var D3={},M3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(M3);var L3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(L3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M3,n=L3,r=Zg;function i(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=i})(D3);var zce=D3.last;const Vce=bi(zce);var Fce=["valueAccessor"],Uce=["data","dataKey","clockWise","id","textBreakAll"];function xm(){return xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xm.apply(null,arguments)}function TN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TN(Object(n),!0).forEach(function(r){Bce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bce(e,t,n){return(t=qce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qce(e){var t=Kce(e,"string");return typeof t=="symbol"?t:t+""}function Kce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AN(e,t){if(e==null)return{};var n,r,i=Wce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Hce=e=>Array.isArray(e.value)?Vce(e.value):e.value;function Hi(e){var{valueAccessor:t=Hce}=e,n=AN(e,Fce),{data:r,dataKey:i,clockWise:s,id:a,textBreakAll:o}=n,l=AN(n,Uce);return!r||!r.length?null:v.createElement(ht,{className:"recharts-label-list"},r.map((c,u)=>{var f=Ue(i)?t(c,u):He(c&&c.payload,i),p=Ue(a)?{}:{id:"".concat(a,"-").concat(u)};return v.createElement(Jn,xm({},be(c,!0),l,p,{parentViewBox:c.parentViewBox,value:f,textBreakAll:o,viewBox:Jn.parseViewBox(Ue(s)?c:SN(SN({},c),{},{clockWise:s})),key:"label-".concat(u),index:u}))}))}Hi.displayName="LabelList";function Gce(e,t){return e?e===!0?v.createElement(Hi,{key:"labelList-implicit",data:t}):v.isValidElement(e)||dT(e)?v.createElement(Hi,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?v.createElement(Hi,xm({data:t},e,{key:"labelList-implicit"})):null:null}function Qce(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:r}=e,i=hf(r,Hi).map((a,o)=>v.cloneElement(a,{data:t,key:"labelList-".concat(o)}));if(!n)return i;var s=Gce(e.label,t);return[s,...i]}Hi.renderCallByParent=Qce;function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yw.apply(null,arguments)}var fT=e=>{var{cx:t,cy:n,r,className:i}=e,s=we("recharts-dot",i);return t===+t&&n===+n&&r===+r?v.createElement("circle",Yw({},be(e,!1),D1(e),{className:s,cx:t,cy:n,r})):null},$3=e=>e.graphicalItems.polarItems,Yce=$([xt,wf],VE),hT=$([$3,wt,Yce],FE),Xce=$([hT],UE),pT=$([Xce,CE],BE),Jce=$([pT,wt,hT],qE),Zce=$([pT,wt,hT],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var s,a=He(r,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:He(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),PN=()=>{},eue=$([wt,F6,PN,Zce,PN],HE),z3=$([wt,Ce,pT,Jce,xf,xt,eue],GE),tue=$([z3,wt,Tc],XE);$([wt,z3,tue,xt],ZE);var nue={radiusAxis:{},angleAxis:{}},rue=qn({name:"polarAxis",initialState:nue,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),iue=rue.reducer;function IN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(n),!0).forEach(function(r){sue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sue(e,t,n){return(t=aue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aue(e){var t=oue(e,"string");return typeof t=="symbol"?t:t+""}function oue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mT=(e,t)=>t,lue=[],gT=(e,t,n)=>(n==null?void 0:n.length)===0?lue:n,V3=$([CE,mT,gT],(e,t,n)=>{var{chartData:r}=e,i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>kN(kN({},t.presentationProps),s.props))),i!=null)return i}),cue=$([V3,mT,gT],(e,t,n)=>{if(e!=null)return e.map((r,i)=>{var s,a=He(r,t.nameKey,t.name),o;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=t.fill,{value:xa(a,t.dataKey),color:o,payload:r,type:t.legendType}})}),uue=$([$3,mT],(e,t)=>{if(e.some(n=>n.type==="pie"&&t.dataKey===n.dataKey&&t.data===n.data))return t}),due=$([V3,uue,gT,Ot],(e,t,n,r)=>{if(!(t==null||e==null))return ede({offset:r,pieSettings:t,displayedData:e,cells:n})}),fue={countOfBars:0,cartesianItems:[],polarItems:[]},F3=qn({name:"graphicalItems",initialState:fue,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=Ui(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=Ui(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Ui(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addBar:hue,removeBar:pue,addCartesianGraphicalItem:mue,replaceCartesianGraphicalItem:gue,removeCartesianGraphicalItem:yue,addPolarGraphicalItem:vue,removePolarGraphicalItem:xue}=F3.actions,wue=F3.reducer;function CN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(n),!0).forEach(function(r){bue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bue(e,t,n){return(t=_ue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ue(e){var t=Eue(e,"string");return typeof t=="symbol"?t:t+""}function Eue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tue(e){var t=lt(),n=v.useRef(null);return v.useEffect(()=>{var r=NN(NN({},e),{},{stackId:Z1(e.stackId)});n.current===null?t(mue(r)):n.current!==r&&t(gue({prev:n.current,next:r})),n.current=r},[t,e]),v.useEffect(()=>()=>{n.current&&(t(yue(n.current)),n.current=null)},[t]),null}function Sue(e){var t=lt();return v.useEffect(()=>(t(vue(e)),()=>{t(xue(e))}),[t,e]),null}var U3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(U3);var Aue=U3.isPlainObject;const Pue=bi(Aue);function wm(){return wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wm.apply(null,arguments)}var ON=(e,t,n,r,i)=>{var s=n-r,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+n,",").concat(t),a+="L ".concat(e+n-s/2,",").concat(t+i),a+="L ".concat(e+n-s/2-r,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z"),a},Iue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kue=e=>{var t=Or(e,Iue),n=v.useRef(),[r,i]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&i(b)}catch{}},[]);var{x:s,y:a,upperWidth:o,lowerWidth:l,height:c,className:u}=t,{animationEasing:f,animationDuration:p,animationBegin:m,isUpdateAnimationActive:g}=t;if(s!==+s||a!==+a||o!==+o||l!==+l||c!==+c||o===0&&l===0||c===0)return null;var y=we("recharts-trapezoid",u);return g?v.createElement(ss,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:c,x:s,y:a},to:{upperWidth:o,lowerWidth:l,height:c,x:s,y:a},duration:p,animationEasing:f,isActive:g},b=>{var{upperWidth:w,lowerWidth:x,height:_,x:P,y:I}=b;return v.createElement(ss,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:f},v.createElement("path",wm({},be(t,!0),{className:y,d:ON(P,I,w,x,_),ref:n})))}):v.createElement("g",null,v.createElement("path",wm({},be(t,!0),{className:y,d:ON(s,a,o,l,c)})))},Cue=["option","shapeType","propTransformer","activeClassName","isActive"];function Nue(e,t){if(e==null)return{};var n,r,i=Oue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Oue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(n),!0).forEach(function(r){jue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jue(e,t,n){return(t=Rue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rue(e){var t=Due(e,"string");return typeof t=="symbol"?t:t+""}function Due(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mue(e,t){return bm(bm({},t),e)}function Lue(e,t){return e==="symbols"}function RN(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return v.createElement(w$,n);case"trapezoid":return v.createElement(kue,n);case"sector":return v.createElement(E$,n);case"symbols":if(Lue(t))return v.createElement(V1,n);break;default:return null}}function $ue(e){return v.isValidElement(e)?e.props:e}function B3(e){var{option:t,shapeType:n,propTransformer:r=Mue,activeClassName:i="recharts-active-shape",isActive:s}=e,a=Nue(e,Cue),o;if(v.isValidElement(t))o=v.cloneElement(t,bm(bm({},a),$ue(t)));else if(typeof t=="function")o=t(a);else if(Pue(t)&&typeof t!="boolean"){var l=r(t,a);o=v.createElement(RN,{shapeType:n,elementProps:l})}else{var c=a;o=v.createElement(RN,{shapeType:n,elementProps:c})}return s?v.createElement(ht,{className:i},o):o}var yT=(e,t)=>{var n=lt();return(r,i)=>s=>{e==null||e(r,i,s),n(r3({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},vT=e=>{var t=lt();return(n,r)=>i=>{e==null||e(n,r,i),t(Roe())}},xT=(e,t)=>{var n=lt();return(r,i)=>s=>{e==null||e(r,i,s),n(Doe({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function ky(e){var{fn:t,args:n}=e,r=lt(),i=Rn();return v.useEffect(()=>{if(!i){var s=t(n);return r(Noe(s)),()=>{r(Ooe(s))}}},[t,n,r,i]),null}var q3=()=>{};function wT(e){var{legendPayload:t}=e,n=lt(),r=Rn();return v.useEffect(()=>r?q3:(n(u$(t)),()=>{n(d$(t))}),[n,r,t]),null}function zue(e){var{legendPayload:t}=e,n=lt(),r=se(Ce);return v.useEffect(()=>r!=="centric"&&r!=="radial"?q3:(n(u$(t)),()=>{n(d$(t))}),[n,r,t]),null}function Cy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef(la(t)),r=v.useRef(e);return r.current!==e&&(n.current=la(t),r.current=e),n.current}var Vue=["onMouseEnter","onClick","onMouseLeave"];function Fue(e,t){if(e==null)return{};var n,r,i=Uue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Uue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function DN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(n),!0).forEach(function(r){Ny(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ny(e,t,n){return(t=Bue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bue(e){var t=que(e,"string");return typeof t=="symbol"?t:t+""}function que(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _o(){return _o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_o.apply(null,arguments)}function Kue(e){var t=v.useMemo(()=>be(e,!1),[e]),n=v.useMemo(()=>hf(e.children,Af),[e.children]),r=v.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),i=se(s=>cue(s,r,n));return v.createElement(zue,{legendPayload:i})}function Wue(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:a,name:o,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:r==null?void 0:r.map(u=>u.tooltipPayload),positions:r==null?void 0:r.map(u=>u.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:t,nameKey:n,name:xa(o,t),hide:l,type:c,color:a,unit:""}}}var Hue=(e,t)=>e>t?"start":e<t?"end":"middle",Gue=(e,t,n)=>typeof t=="function"?t(e):Nn(t,n,n*.8),Que=(e,t,n)=>{var{top:r,left:i,width:s,height:a}=t,o=Y4(s,a),l=i+Nn(e.cx,s,s/2),c=r+Nn(e.cy,a,a/2),u=Nn(e.innerRadius,o,0),f=Gue(n,e.outerRadius,o),p=e.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:p}},Yue=(e,t)=>{var n=Jt(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Xue=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var n=we("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return v.createElement(Cl,_o({},t,{type:"linear",className:n}))},Jue=(e,t,n)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),v.isValidElement(r)))return r;var i=we("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return v.createElement(Iy,_o({},t,{alignmentBaseline:"middle",className:i}),r)};function Zue(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:s,dataKey:a}=n;if(!r||!i||!t)return null;var o=be(n,!1),l=be(i,!1),c=be(s,!1),u=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,f=t.map((p,m)=>{var g=(p.startAngle+p.endAngle)/2,y=At(p.cx,p.cy,p.outerRadius+u,g),b=gt(gt(gt(gt({},o),p),{},{stroke:"none"},l),{},{index:m,textAnchor:Hue(y.x,p.cx)},y),w=gt(gt(gt(gt({},o),p),{},{fill:"none",stroke:p.fill},c),{},{index:m,points:[At(p.cx,p.cy,p.outerRadius,g),y],key:"line"});return v.createElement(ht,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},s&&Xue(s,w),Jue(i,b,He(p,a)))});return v.createElement(ht,{className:"recharts-pie-labels"},f)}function K3(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,showLabels:s}=e,a=se(ca),{onMouseEnter:o,onClick:l,onMouseLeave:c}=i,u=Fue(i,Vue),f=yT(o,i.dataKey),p=vT(c),m=xT(l,i.dataKey);return t==null?null:v.createElement(v.Fragment,null,t.map((g,y)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&t.length!==1)return null;var b=n&&String(y)===a,w=a?r:null,x=b?n:w,_=gt(gt({},g),{},{stroke:g.stroke,tabIndex:-1,[J4]:y,[Z4]:i.dataKey});return v.createElement(ht,_o({tabIndex:-1,className:"recharts-pie-sector"},ff(u,g,y),{onMouseEnter:f(g,y),onMouseLeave:p(g,y),onClick:m(g,y),key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(y)}),v.createElement(B3,_o({option:x,isActive:b,shapeType:"sector"},_)))}),v.createElement(Zue,{sectors:t,props:i,showLabels:s}))}function ede(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:s}=e,{cornerRadius:a,startAngle:o,endAngle:l,dataKey:c,nameKey:u,tooltipType:f}=n,p=Math.abs(n.minAngle),m=Yue(o,l),g=Math.abs(m),y=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,b=r.filter(N=>He(N,c,0)!==0).length,w=(g>=360?b:b-1)*y,x=g-b*p-w,_=r.reduce((N,T)=>{var A=He(T,c,0);return N+(ee(A)?A:0)},0),P;if(_>0){var I;P=r.map((N,T)=>{var A=He(N,c,0),k=He(N,u,T),C=Que(n,s,N),j=(ee(A)?A:0)/_,D,R=gt(gt({},N),i&&i[T]&&i[T].props);T?D=I.endAngle+Jt(m)*y*(A!==0?1:0):D=o;var Q=D+Jt(m)*((A!==0?p:0)+j*x),de=(D+Q)/2,ue=(C.innerRadius+C.outerRadius)/2,X=[{name:k,value:A,payload:R,dataKey:c,type:f}],U=At(C.cx,C.cy,ue,de);return I=gt(gt(gt(gt({},n.presentationProps),{},{percent:j,cornerRadius:a,name:k,tooltipPayload:X,midAngle:de,middleRadius:ue,tooltipPosition:U},R),C),{},{value:He(N,c),startAngle:D,endAngle:Q,payload:R,paddingAngle:Jt(m)*y}),I})}return P}function tde(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:o,activeShape:l,inactiveShape:c,onAnimationStart:u,onAnimationEnd:f}=t,p=Cy(t,"recharts-pie-"),m=n.current,[g,y]=v.useState(!0),b=v.useCallback(()=>{typeof f=="function"&&f(),y(!1)},[f]),w=v.useCallback(()=>{typeof u=="function"&&u(),y(!0)},[u]);return v.createElement(ss,{begin:s,duration:a,isActive:i,easing:o,from:{t:0},to:{t:1},onAnimationStart:w,onAnimationEnd:b,key:p},x=>{var{t:_}=x,P=[],I=r&&r[0],N=I.startAngle;return r.forEach((T,A)=>{var k=m&&m[A],C=A>0?oa(T,"paddingAngle",0):0;if(k){var j=Xn(k.endAngle-k.startAngle,T.endAngle-T.startAngle),D=gt(gt({},T),{},{startAngle:N+C,endAngle:N+j(_)+C});P.push(D),N=D.endAngle}else{var{endAngle:R,startAngle:Q}=T,de=Xn(0,R-Q),ue=de(_),X=gt(gt({},T),{},{startAngle:N+C,endAngle:N+ue+C});P.push(X),N=X.endAngle}}),n.current=P,v.createElement(ht,null,v.createElement(K3,{sectors:P,activeShape:l,inactiveShape:c,allOtherPieProps:t,showLabels:!g}))})}function nde(e){var{sectors:t,isAnimationActive:n,activeShape:r,inactiveShape:i}=e,s=v.useRef(null),a=s.current;return n&&t&&t.length&&(!a||a!==t)?v.createElement(tde,{props:e,previousSectorsRef:s}):v.createElement(K3,{sectors:t,activeShape:r,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function rde(e){var{hide:t,className:n,rootTabIndex:r}=e,i=we("recharts-pie",n);return t?null:v.createElement(ht,{tabIndex:r,className:i},v.createElement(nde,e))}var W3={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!wa.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function ide(e){var t=Or(e,W3),n=v.useMemo(()=>hf(e.children,Af),[e.children]),r=be(t,!1),i=v.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:r}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,r]),s=se(a=>due(a,i,n));return v.createElement(v.Fragment,null,v.createElement(ky,{fn:Wue,args:gt(gt({},t),{},{sectors:s})}),v.createElement(rde,_o({},t,{sectors:s})))}class bT extends v.PureComponent{constructor(){super(...arguments),Ny(this,"id",la("recharts-pie-"))}render(){return v.createElement(v.Fragment,null,v.createElement(Sue,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),v.createElement(Kue,this.props),v.createElement(ide,this.props),this.props.children)}}Ny(bT,"displayName","Pie");Ny(bT,"defaultProps",W3);var sde=$([Ot],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),ade=$([sde,ds,fs],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),ode=e=>{var t=Rn();return se(n=>Cr(n,"xAxis",e,t))},lde=e=>{var t=Rn();return se(n=>Cr(n,"yAxis",e,t))},Oy=()=>se(ade),cde=()=>se(xle);function MN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function LN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(n),!0).forEach(function(r){ude(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ude(e,t,n){return(t=dde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dde(e){var t=fde(e,"string");return typeof t=="symbol"?t:t+""}function fde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hde=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:s}=e;if(i===!1||t.x==null||t.y==null)return null;var a=LN(LN({index:n,dataKey:s,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},be(i,!1)),D1(i)),o;return v.isValidElement(i)?o=v.cloneElement(i,a):typeof i=="function"?o=i(a):o=v.createElement(fT,a),v.createElement(ht,{className:"recharts-active-dot"},o)};function Xw(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i}=e,s=se(ca),a=cde();if(t==null||a==null)return null;var o=t.find(l=>a.includes(l.payload));return Ue(o)?null:hde({point:o,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r})}var pde=()=>{var e=lt();return v.useEffect(()=>(e(hue()),()=>{e(pue())})),null},mde=["children"];function gde(e,t){if(e==null)return{};var n,r,i=yde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $N=()=>{},H3=v.createContext({addErrorBar:$N,removeErrorBar:$N}),vde={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},G3=v.createContext(vde);function Q3(e){var{children:t}=e,n=gde(e,mde);return v.createElement(G3.Provider,{value:n},t)}var xde=()=>v.useContext(G3),_T=e=>{var{children:t,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:s,data:a,stackId:o,hide:l,type:c,barSize:u}=e,[f,p]=v.useState([]),m=v.useCallback(b=>{p(w=>[...w,b])},[p]),g=v.useCallback(b=>{p(w=>w.filter(x=>x!==b))},[p]),y=Rn();return v.createElement(H3.Provider,{value:{addErrorBar:m,removeErrorBar:g}},v.createElement(Tue,{type:c,data:a,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:s,errorBars:f,stackId:o,hide:l,barSize:u,isPanorama:y}),t)};function wde(e){var{addErrorBar:t,removeErrorBar:n}=v.useContext(H3);return v.useEffect(()=>(t(e),()=>{n(e)}),[t,n,e]),null}var bde=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function Y3(e,t,n){return(t=_de(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _de(e){var t=Ede(e,"string");return typeof t=="symbol"?t:t+""}function Ede(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Od(){return Od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Od.apply(null,arguments)}function Tde(e,t){if(e==null)return{};var n,r,i=Sde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Sde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ade(e){var{direction:t,width:n,dataKey:r,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:o}=e,l=Tde(e,bde),c=be(l,!1),{data:u,dataPointFormatter:f,xAxisId:p,yAxisId:m,errorBarOffset:g}=xde(),y=ode(p),b=lde(m);if((y==null?void 0:y.scale)==null||(b==null?void 0:b.scale)==null||u==null||t==="x"&&y.type!=="number")return null;var w=u.map(x=>{var{x:_,y:P,value:I,errorVal:N}=f(x,r,t);if(!N)return null;var T=[],A,k;if(Array.isArray(N)?[A,k]=N:A=k=N,t==="x"){var{scale:C}=y,j=P+g,D=j+n,R=j-n,Q=C(I-A),de=C(I+k);T.push({x1:de,y1:D,x2:de,y2:R}),T.push({x1:Q,y1:j,x2:de,y2:j}),T.push({x1:Q,y1:D,x2:Q,y2:R})}else if(t==="y"){var{scale:ue}=b,X=_+g,U=X-n,G=X+n,ie=ue(I-A),ce=ue(I+k);T.push({x1:U,y1:ce,x2:G,y2:ce}),T.push({x1:X,y1:ie,x2:X,y2:ce}),T.push({x1:U,y1:ie,x2:G,y2:ie})}var M="".concat(_+g,"px ").concat(P+g,"px");return v.createElement(ht,Od({className:"recharts-errorBar",key:"bar-".concat(T.map(B=>"".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)))},c),T.map(B=>{var ae=i?{transformOrigin:"".concat(B.x1-5,"px")}:void 0;return v.createElement(ss,{from:{transform:"scaleY(0)",transformOrigin:M},to:{transform:"scaleY(1)",transformOrigin:M},begin:s,easing:o,isActive:i,duration:a,key:"line-".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2),style:{transformOrigin:M}},v.createElement("line",Od({},B,{style:ae})))}))});return v.createElement(ht,{className:"recharts-errorBars"},w)}var X3=v.createContext(void 0);function Pde(e){var t=v.useContext(X3);return e??t??"x"}function J3(e){var{direction:t,children:n}=e;return v.createElement(X3.Provider,{value:t},n)}var Z3={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function Ide(e){var t=Pde(e.direction),{width:n,isAnimationActive:r,animationBegin:i,animationDuration:s,animationEasing:a}=Or(e,Z3);return v.createElement(v.Fragment,null,v.createElement(wde,{dataKey:e.dataKey,direction:t}),v.createElement(Ade,Od({},e,{direction:t,width:n,isAnimationActive:r,animationBegin:i,animationDuration:s,animationEasing:a})))}class e5 extends v.Component{render(){return v.createElement(Ide,this.props)}}Y3(e5,"defaultProps",Z3);Y3(e5,"displayName","ErrorBar");var kde="Invariant failed";function Cde(e,t){throw new Error(kde)}var Nde=["x","y"];function Jw(){return Jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jw.apply(null,arguments)}function zN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function au(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(n),!0).forEach(function(r){Ode(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ode(e,t,n){return(t=jde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jde(e){var t=Rde(e,"string");return typeof t=="symbol"?t:t+""}function Rde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dde(e,t){if(e==null)return{};var n,r,i=Mde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Lde(e,t){var{x:n,y:r}=e,i=Dde(e,Nde),s="".concat(n),a=parseInt(s,10),o="".concat(r),l=parseInt(o,10),c="".concat(t.height||i.height),u=parseInt(c,10),f="".concat(t.width||i.width),p=parseInt(f,10);return au(au(au(au(au({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function t5(e){return v.createElement(B3,Jw({shapeType:"rectangle",propTransformer:Lde,activeClassName:"recharts-active-bar"},e))}var $de=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ee(t))return t;var s=ee(r)||Ue(r);return s?t(r,i):(s||Cde(),n)}};function jy(e,t){var n,r,i=se(c=>ps(c,e)),s=se(c=>Ea(c,t)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Hn.allowDataOverflow,o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Gn.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function ET(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=Oy(),{needClipX:s,needClipY:a,needClip:o}=jy(t,n);if(!o)return null;var{x:l,y:c,width:u,height:f}=i;return v.createElement("clipPath",{id:"clipPath-".concat(r)},v.createElement("rect",{x:s?l:l-u/2,y:a?c:c-f/2,width:s?u:u*2,height:a?f:f*2}))}var zde=["onMouseEnter","onMouseLeave","onClick"],Vde=["value","background","tooltipPosition"],Fde=["onMouseEnter","onClick","onMouseLeave"];function jd(){return jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jd.apply(null,arguments)}function VN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(n),!0).forEach(function(r){Ry(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ry(e,t,n){return(t=Ude(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ude(e){var t=Bde(e,"string");return typeof t=="symbol"?t:t+""}function Bde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zw(e,t){if(e==null)return{};var n,r,i=qde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Kde=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:r,value:xa(n,t),payload:e}]};function Wde(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:s,hide:a,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:xa(s,t),hide:a,type:e.tooltipType,color:e.fill,unit:o}}}function Hde(e){var t=se(ca),{data:n,dataKey:r,background:i,allOtherBarProps:s}=e,{onMouseEnter:a,onMouseLeave:o,onClick:l}=s,c=Zw(s,zde),u=yT(a,r),f=vT(o),p=xT(l,r);if(!i||n==null)return null;var m=be(i,!1);return v.createElement(v.Fragment,null,n.map((g,y)=>{var{value:b,background:w,tooltipPosition:x}=g,_=Zw(g,Vde);if(!w)return null;var P=u(g,y),I=f(g,y),N=p(g,y),T=vn(vn(vn(vn(vn({option:i,isActive:String(y)===t},_),{},{fill:"#eee"},w),m),ff(c,g,y)),{},{onMouseEnter:P,onMouseLeave:I,onClick:N,dataKey:r,index:y,className:"recharts-bar-background-rectangle"});return v.createElement(t5,jd({key:"background-bar-".concat(y)},T))}))}function n5(e){var{data:t,props:n,showLabels:r}=e,i=be(n,!1),{shape:s,dataKey:a,activeBar:o}=n,l=se(ca),c=se(g3),{onMouseEnter:u,onClick:f,onMouseLeave:p}=n,m=Zw(n,Fde),g=yT(u,a),y=vT(p),b=xT(f,a);return t?v.createElement(v.Fragment,null,t.map((w,x)=>{var _=o&&String(x)===l&&(c==null||a===c),P=_?o:s,I=vn(vn(vn({},i),w),{},{isActive:_,option:P,index:x,dataKey:a});return v.createElement(ht,jd({className:"recharts-bar-rectangle"},ff(m,w,x),{onMouseEnter:g(w,x),onMouseLeave:y(w,x),onClick:b(w,x),key:"rectangle-".concat(w==null?void 0:w.x,"-").concat(w==null?void 0:w.y,"-").concat(w==null?void 0:w.value,"-").concat(x)}),v.createElement(t5,I))}),r&&Hi.renderCallByParent(n,t)):null}function Gde(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,f=n.current,p=Cy(t,"recharts-bar-"),[m,g]=v.useState(!1),y=v.useCallback(()=>{typeof c=="function"&&c(),g(!1)},[c]),b=v.useCallback(()=>{typeof u=="function"&&u(),g(!0)},[u]);return v.createElement(ss,{begin:a,duration:o,isActive:s,easing:l,from:{t:0},to:{t:1},onAnimationEnd:y,onAnimationStart:b,key:p},w=>{var{t:x}=w,_=x===1?r:r.map((P,I)=>{var N=f&&f[I];if(N){var T=Xn(N.x,P.x),A=Xn(N.y,P.y),k=Xn(N.width,P.width),C=Xn(N.height,P.height);return vn(vn({},P),{},{x:T(x),y:A(x),width:k(x),height:C(x)})}if(i==="horizontal"){var j=Xn(0,P.height),D=j(x);return vn(vn({},P),{},{y:P.y+P.height-D,height:D})}var R=Xn(0,P.width),Q=R(x);return vn(vn({},P),{},{width:Q})});return x>0&&(n.current=_),v.createElement(ht,null,v.createElement(n5,{props:t,data:_,showLabels:!m}))})}function Qde(e){var{data:t,isAnimationActive:n}=e,r=v.useRef(null);return n&&t&&t.length&&(r.current==null||r.current!==t)?v.createElement(Gde,{previousRectanglesRef:r,props:e}):v.createElement(n5,{props:e,data:t,showLabels:!0})}var r5=0,Yde=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:He(e,t)}};class Xde extends v.PureComponent{constructor(){super(...arguments),Ry(this,"id",la("recharts-bar-"))}render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:a,needClip:o,background:l,id:c,layout:u}=this.props;if(t)return null;var f=we("recharts-bar",i),p=Ue(c)?this.id:c;return v.createElement(ht,{className:f},o&&v.createElement("defs",null,v.createElement(ET,{clipPathId:p,xAxisId:s,yAxisId:a})),v.createElement(ht,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(p,")"):null},v.createElement(Hde,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),v.createElement(Qde,this.props)),v.createElement(J3,{direction:u==="horizontal"?"y":"x"},this.props.children))}}var i5={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!wa.isSsr,legendType:"rect",minPointSize:r5,xAxisId:0,yAxisId:0};function Jde(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:u}=Or(e,i5),{needClip:f}=jy(t,n),p=pf(),m=Rn(),g=v.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:s,stackId:Z1(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,s,e.stackId]),y=hf(e.children,Af),b=se(_=>Afe(_,t,n,m,g,y));if(p!=="vertical"&&p!=="horizontal")return null;var w,x=b==null?void 0:b[0];return x==null||x.height==null||x.width==null?w=0:w=p==="vertical"?x.height/2:x.width/2,v.createElement(Q3,{xAxisId:t,yAxisId:n,data:b,dataPointFormatter:Yde,errorBarOffset:w},v.createElement(Xde,jd({},e,{layout:p,needClip:f,data:b,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:u})))}function Zde(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:f,offset:p,cells:m}=e,g=t==="horizontal"?o:a,y=u?g.scale.domain():null,b=qte({numericAxis:g});return f.map((w,x)=>{var _,P,I,N,T,A;u?_=zte(u[x],y):(_=He(w,n),Array.isArray(_)||(_=[b,_]));var k=$de(r,r5)(_[1],x);if(t==="horizontal"){var C,[j,D]=[o.scale(_[0]),o.scale(_[1])];P=Vk({axis:a,ticks:l,bandSize:s,offset:i.offset,entry:w,index:x}),I=(C=D??j)!==null&&C!==void 0?C:void 0,N=i.size;var R=j-D;if(T=or(R)?0:R,A={x:P,y:p.top,width:N,height:p.height},Math.abs(k)>0&&Math.abs(T)<Math.abs(k)){var Q=Jt(T||k)*(Math.abs(k)-Math.abs(T));I-=Q,T+=Q}}else{var[de,ue]=[a.scale(_[0]),a.scale(_[1])];if(P=de,I=Vk({axis:o,ticks:c,bandSize:s,offset:i.offset,entry:w,index:x}),N=ue-de,T=i.size,A={x:p.left,y:I,width:p.width,height:T},Math.abs(k)>0&&Math.abs(N)<Math.abs(k)){var X=Jt(N||k)*(Math.abs(k)-Math.abs(N));N+=X}}var U=vn(vn({},w),{},{x:P,y:I,width:N,height:T,value:u?_:_[1],payload:w,background:A,tooltipPosition:{x:P+N/2,y:I+T/2}},m&&m[x]&&m[x].props);return U})}class _m extends v.PureComponent{render(){return v.createElement(_T,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},v.createElement(pde,null),v.createElement(wT,{legendPayload:Kde(this.props)}),v.createElement(ky,{fn:Wde,args:this.props}),v.createElement(Jde,this.props))}}Ry(_m,"displayName","Bar");Ry(_m,"defaultProps",i5);function FN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ph(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(n),!0).forEach(function(r){efe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function efe(e,t,n){return(t=tfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tfe(e){var t=nfe(e,"string");return typeof t=="symbol"?t:t+""}function nfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rfe=(e,t)=>t,ife=(e,t,n)=>n,sfe=(e,t,n,r)=>r,TT=(e,t,n,r,i)=>i,afe=(e,t,n,r,i)=>i.maxBarSize,ofe=(e,t,n,r,i,s)=>s,UN=(e,t,n)=>{var r=n??e;if(!Ue(r))return Nn(r,t,0)},lfe=$([Ce,_f,rfe,ife,sfe],(e,t,n,r,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),cfe=(e,t,n,r)=>{var i=Ce(e);return i==="horizontal"?Cd(e,"yAxis",n,r):Cd(e,"xAxis",t,r)},ufe=(e,t,n)=>{var r=Ce(e);return r==="horizontal"?tN(e,"xAxis",t):tN(e,"yAxis",n)};function dfe(e){return e.stackId!=null&&e.dataKey!=null}var ffe=(e,t,n)=>{var r={},i=e.filter(dfe),s=e.filter(c=>c.stackId==null),a=i.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),r),o=Object.entries(a).map(c=>{var[u,f]=c,p=f.map(g=>g.dataKey),m=UN(t,n,f[0].barSize);return{stackId:u,dataKeys:p,barSize:m}}),l=s.map(c=>{var u=[c.dataKey].filter(p=>p!=null),f=UN(t,n,c.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...o,...l]},hfe=$([lfe,Cae,ufe],ffe),pfe=(e,t,n,r,i)=>{var s,a,o=Ce(e),l=_6(e),{maxBarSize:c}=i,u=Ue(c)?l:c,f,p;return o==="horizontal"?(f=Cr(e,"xAxis",t,r),p=wi(e,"xAxis",t,r)):(f=Cr(e,"yAxis",n,r),p=wi(e,"yAxis",n,r)),(s=(a=vo(f,p,!0))!==null&&a!==void 0?a:u)!==null&&s!==void 0?s:0},s5=(e,t,n,r)=>{var i=Ce(e),s,a;return i==="horizontal"?(s=Cr(e,"xAxis",t,r),a=wi(e,"xAxis",t,r)):(s=Cr(e,"yAxis",n,r),a=wi(e,"yAxis",n,r)),vo(s,a)};function mfe(e,t,n,r,i){var s=r.length;if(!(s<1)){var a=Nn(e,n,0,!0),o,l=[];if(rn(r[0].barSize)){var c=!1,u=n/s,f=r.reduce((w,x)=>w+(x.barSize||0),0);f+=(s-1)*a,f>=n&&(f-=(s-1)*a,a=0),f>=n&&u>0&&(c=!0,u*=.9,f=s*u);var p=(n-f)/2>>0,m={offset:p-a,size:0};o=r.reduce((w,x)=>{var _,P={stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:m.offset+m.size+a,size:c?u:(_=x.barSize)!==null&&_!==void 0?_:0}},I=[...w,P];return m=I[I.length-1].position,I},l)}else{var g=Nn(t,n,0,!0);n-2*g-(s-1)*a<=0&&(a=0);var y=(n-2*g-(s-1)*a)/s;y>1&&(y>>=0);var b=rn(i)?Math.min(y,i):y;o=r.reduce((w,x,_)=>[...w,{stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:g+(y+a)*_+(y-b)/2,size:b}}],l)}return o}}var gfe=(e,t,n,r,i,s,a)=>{var o=Ue(a)?t:a,l=mfe(n,r,i!==s?i:s,e,o);return i!==s&&l!=null&&(l=l.map(c=>Ph(Ph({},c),{},{position:Ph(Ph({},c.position),{},{offset:c.position.offset-i/2})}))),l},yfe=$([hfe,_6,kae,E6,pfe,s5,afe],gfe),vfe=(e,t,n,r)=>Cr(e,"xAxis",t,r),xfe=(e,t,n,r)=>Cr(e,"yAxis",n,r),wfe=(e,t,n,r)=>wi(e,"xAxis",t,r),bfe=(e,t,n,r)=>wi(e,"yAxis",n,r),_fe=$([yfe,TT],(e,t)=>{if(e!=null){var n=e.find(r=>r.stackId===t.stackId&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),Efe=(e,t)=>{if(!(!e||(t==null?void 0:t.dataKey)==null)){var{stackId:n}=t;if(n!=null){var r=e[n];if(r){var{stackedData:i}=r;if(i){var s=i.find(a=>a.key===t.dataKey);return s}}}}},Tfe=$([_f,TT],(e,t)=>{if(e.some(n=>n.type==="bar"&&t.dataKey===n.dataKey&&t.stackId===n.stackId&&t.stackId===n.stackId))return t}),Sfe=$([cfe,TT],Efe),Afe=$([Ot,vfe,xfe,wfe,bfe,_fe,Ce,yy,s5,Sfe,Tfe,ofe],(e,t,n,r,i,s,a,o,l,c,u,f)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:g}=o;if(!(u==null||s==null||a!=="horizontal"&&a!=="vertical"||t==null||n==null||r==null||i==null||l==null)){var{data:y}=u,b;if(y!=null&&y.length>0?b=y:b=p==null?void 0:p.slice(m,g+1),b!=null)return Zde({layout:a,barSettings:u,pos:s,bandSize:l,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:c,displayedData:b,offset:e,cells:f})}}),a5=e=>{var{chartData:t}=e,n=lt(),r=Rn();return v.useEffect(()=>r?()=>{}:(n(cN(t)),()=>{n(cN(void 0))}),[t,n,r]),null},BN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Pfe=qn({name:"brush",initialState:BN,reducers:{setBrushSettings(e,t){return t.payload==null?BN:t.payload}}}),Ife=Pfe.reducer;function kfe(e,t,n){return(t=Cfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cfe(e){var t=Nfe(e,"string");return typeof t=="symbol"?t:t+""}function Nfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ST{static create(t){return new ST(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}kfe(ST,"EPS",1e-4);function Ofe(e){return(e%180+180)%180}var jfe=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Ofe(i),a=s*Math.PI/180,o=Math.atan(r/n),l=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Rfe={dots:[],areas:[],lines:[]},Dfe=qn({name:"referenceElements",initialState:Rfe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ui(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ui(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ui(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),Mfe=Dfe.reducer,Lfe=v.createContext(void 0),$fe=e=>{var{children:t}=e,[n]=v.useState("".concat(la("recharts"),"-clip")),r=Oy();if(r==null)return null;var{x:i,y:s,width:a,height:o}=r;return v.createElement(Lfe.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:i,y:s,height:o,width:a}))),t)};function A0(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function o5(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function zfe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return jfe(r,n)}function Vfe(e,t,n){var r=n==="width",{x:i,y:s,width:a,height:o}=e;return t===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function Em(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-i)<=0}function Ffe(e,t){return o5(e,t+1)}function Ufe(e,t,n,r,i){for(var s=(r||[]).slice(),{start:a,end:o}=t,l=0,c=1,u=a,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:o5(r,c)};var y=l,b,w=()=>(b===void 0&&(b=n(g,y)),b),x=g.coordinate,_=l===0||Em(e,x,w,u,o);_||(l=0,u=a,c+=1),_&&(u=x+e*(w()/2+i),l+=c)},p;c<=s.length;)if(p=f(),p)return p.v;return[]}function qN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(n),!0).forEach(function(r){Bfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bfe(e,t,n){return(t=qfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qfe(e){var t=Kfe(e,"string");return typeof t=="symbol"?t:t+""}function Kfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wfe(e,t,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:o}=t,{end:l}=t,c=function(p){var m=s[p],g,y=()=>(g===void 0&&(g=n(m,p)),g);if(p===a-1){var b=e*(m.coordinate+e*y()/2-l);s[p]=m=pn(pn({},m),{},{tickCoord:b>0?m.coordinate-b*e:m.coordinate})}else s[p]=m=pn(pn({},m),{},{tickCoord:m.coordinate});var w=Em(e,m.tickCoord,y,o,l);w&&(l=m.tickCoord-e*(y()/2+i),s[p]=pn(pn({},m),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return s}function Hfe(e,t,n,r,i,s){var a=(r||[]).slice(),o=a.length,{start:l,end:c}=t;if(s){var u=r[o-1],f=n(u,o-1),p=e*(u.coordinate+e*f/2-c);a[o-1]=u=pn(pn({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var m=Em(e,u.tickCoord,()=>f,l,c);m&&(c=u.tickCoord-e*(f/2+i),a[o-1]=pn(pn({},u),{},{isShow:!0}))}for(var g=s?o-1:o,y=function(x){var _=a[x],P,I=()=>(P===void 0&&(P=n(_,x)),P);if(x===0){var N=e*(_.coordinate-e*I()/2-l);a[x]=_=pn(pn({},_),{},{tickCoord:N<0?_.coordinate-N*e:_.coordinate})}else a[x]=_=pn(pn({},_),{},{tickCoord:_.coordinate});var T=Em(e,_.tickCoord,I,l,c);T&&(l=_.tickCoord+e*(I()/2+i),a[x]=pn(pn({},_),{},{isShow:!0}))},b=0;b<g;b++)y(b);return a}function Gfe(e,t,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:c,unit:u,angle:f}=e;if(!i||!i.length||!r)return[];if(ee(l)||wa.isSsr){var p;return(p=Ffe(i,ee(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],g=o==="top"||o==="bottom"?"width":"height",y=u&&g==="width"?Lu(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=(_,P)=>{var I=typeof c=="function"?c(_.value,P):_.value;return g==="width"?zfe(Lu(I,{fontSize:t,letterSpacing:n}),y,f):Lu(I,{fontSize:t,letterSpacing:n})[g]},w=i.length>=2?Jt(i[1].coordinate-i[0].coordinate):1,x=Vfe(s,w,g);return l==="equidistantPreserveStart"?Ufe(w,x,b,i,a):(l==="preserveStart"||l==="preserveStartEnd"?m=Hfe(w,x,b,i,a,l==="preserveStartEnd"):m=Wfe(w,x,b,i,a),m.filter(_=>_.isShow))}var Qfe=["viewBox"],Yfe=["viewBox"];function fl(){return fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fl.apply(null,arguments)}function KN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(n),!0).forEach(function(r){AT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WN(e,t){if(e==null)return{};var n,r,i=Xfe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function AT(e,t,n){return(t=Jfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jfe(e){var t=Zfe(e,"string");return typeof t=="symbol"?t:t+""}function Zfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ic extends v.Component{constructor(t){super(t),this.tickRefs=v.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,n){var{viewBox:r}=t,i=WN(t,Qfe),s=this.props,{viewBox:a}=s,o=WN(s,Yfe);return!A0(r,a)||!A0(i,o)||!A0(n,this.state)}getTickLineCoord(t){var{x:n,y:r,width:i,height:s,orientation:a,tickSize:o,mirror:l,tickMargin:c}=this.props,u,f,p,m,g,y,b=l?-1:1,w=t.tickSize||o,x=ee(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":u=f=t.coordinate,m=r+ +!l*s,p=m-b*w,y=p-b*c,g=x;break;case"left":p=m=t.coordinate,f=n+ +!l*i,u=f-b*w,g=u-b*c,y=x;break;case"right":p=m=t.coordinate,f=n+ +l*i,u=f+b*w,g=u+b*c,y=x;break;default:u=f=t.coordinate,m=r+ +l*s,p=m+b*w,y=p+b*c,g=x;break}return{line:{x1:u,y1:p,x2:f,y2:m},tick:{x:g,y}}}getTickTextAnchor(){var{orientation:t,mirror:n}=this.props,r;switch(t){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:t,mirror:n}=this.props;switch(t){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:t,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:o}=this.props,l=It(It(It({},be(this.props,!1)),be(o,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var c=+(s==="top"&&!a||s==="bottom"&&a);l=It(It({},l),{},{x1:t,y1:n+c*i,x2:t+r,y2:n+c*i})}else{var u=+(s==="left"&&!a||s==="right"&&a);l=It(It({},l),{},{x1:t+u*r,y1:n,x2:t+u*r,y2:n+i})}return v.createElement("line",fl({},l,{className:we("recharts-cartesian-axis-line",oa(o,"className"))}))}static renderTickItem(t,n,r){var i,s=we(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))i=v.cloneElement(t,It(It({},n),{},{className:s}));else if(typeof t=="function")i=t(It(It({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=we(a,t.className)),i=v.createElement(Iy,fl({},n,{className:a}),r)}return i}renderTicks(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:a,tickFormatter:o,unit:l}=this.props,c=Gfe(It(It({},this.props),{},{ticks:r}),t,n),u=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),p=be(this.props,!1),m=be(a,!1),g=It(It({},p),{},{fill:"none"},be(i,!1)),y=c.map((b,w)=>{var{line:x,tick:_}=this.getTickLineCoord(b),P=It(It(It(It({textAnchor:u,verticalAnchor:f},p),{},{stroke:"none",fill:s},m),_),{},{index:w,payload:b,visibleTicksCount:c.length,tickFormatter:o});return v.createElement(ht,fl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(b.value,"-").concat(b.coordinate,"-").concat(b.tickCoord)},ff(this.props,b,w)),i&&v.createElement("line",fl({},g,x,{className:we("recharts-cartesian-axis-tick-line",oa(i,"className"))})),a&&Ic.renderTickItem(a,P,"".concat(typeof o=="function"?o(b.value,w):b.value).concat(l||"")))});return y.length>0?v.createElement("g",{className:"recharts-cartesian-axis-ticks"},y):null}render(){var{axisLine:t,width:n,height:r,className:i,hide:s}=this.props;if(s)return null;var{ticks:a}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:v.createElement(ht,{className:we("recharts-cartesian-axis",i),ref:o=>{if(o){var l=o.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(l);var c=l[0];if(c){var u=window.getComputedStyle(c).fontSize,f=window.getComputedStyle(c).letterSpacing;(u!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(c).fontSize,letterSpacing:window.getComputedStyle(c).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),Jn.renderCallByParent(this.props))}}AT(Ic,"displayName","CartesianAxis");AT(Ic,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var l5=(e,t,n,r)=>Cr(e,"xAxis",t,r),c5=(e,t,n,r)=>wi(e,"xAxis",t,r),u5=(e,t,n,r)=>Cr(e,"yAxis",n,r),d5=(e,t,n,r)=>wi(e,"yAxis",n,r),ehe=$([Ce,l5,u5,c5,d5],(e,t,n,r,i)=>Ei(e,"xAxis")?vo(t,r,!1):vo(n,i,!1)),the=(e,t,n,r,i)=>i,nhe=$([_f,the],(e,t)=>{if(e.some(n=>n.type==="line"&&t.dataKey===n.dataKey&&t.data===n.data))return t}),rhe=$([Ce,l5,u5,c5,d5,nhe,ehe,yy],(e,t,n,r,i,s,a,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=o;if(!(s==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null)){var{dataKey:f,data:p}=s,m;if(p!=null&&p.length>0?m=p:m=l==null?void 0:l.slice(c,u+1),m!=null)return _he({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:a,displayedData:m})}}),ihe=["type","layout","connectNulls","needClip"],she=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function f5(e,t){if(e==null)return{};var n,r,i=ahe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ahe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function HN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(n),!0).forEach(function(r){Dy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dy(e,t,n){return(t=ohe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ohe(e){var t=lhe(e,"string");return typeof t=="symbol"?t:t+""}function lhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sc(){return sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sc.apply(null,arguments)}var che=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:r,value:xa(n,t),payload:e}]};function uhe(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:o,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:xa(a,t),hide:o,type:e.tooltipType,color:e.stroke,unit:l}}}var h5=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function dhe(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var fhe=(e,t,n)=>{var r=n.reduce((f,p)=>f+p);if(!r)return h5(t,e);for(var i=Math.floor(e/r),s=e%r,a=t-e,o=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>s){o=[...n.slice(0,l),s-c];break}var u=o.length%2===0?[0,a]:[a];return[...dhe(n,i),...o,...u].map(f=>"".concat(f,"px")).join(", ")};function hhe(e,t){var n;if(v.isValidElement(e))n=v.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=we("recharts-line-dot",typeof e!="boolean"?e.className:"");n=v.createElement(fT,sc({},t,{className:r}))}return n}function phe(e,t){return e==null?!1:t?!0:e.length===1}function mhe(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:s,needClip:a}=r;if(!phe(n,i))return null;var o=Qg(i),l=be(r,!1),c=be(i,!0),u=n.map((p,m)=>{var g=zr(zr(zr({key:"dot-".concat(m),r:3},l),c),{},{index:m,cx:p.x,cy:p.y,dataKey:s,value:p.value,payload:p.payload,points:n});return hhe(i,g)}),f={clipPath:a?"url(#clipPath-".concat(o?"":"dots-").concat(t,")"):null};return v.createElement(ht,sc({className:"recharts-line-dots",key:"dots"},f),u)}function eb(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:s,showLabels:a}=e,{type:o,layout:l,connectNulls:c,needClip:u}=s,f=f5(s,ihe),p=zr(zr({},be(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):null,points:r,type:o,layout:l,connectNulls:c,strokeDasharray:i??s.strokeDasharray});return v.createElement(v.Fragment,null,(r==null?void 0:r.length)>1&&v.createElement(Cl,sc({},p,{pathRef:n})),v.createElement(mhe,{points:r,clipPathId:t,props:s}),a&&Hi.renderCallByParent(s,r))}function ghe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function yhe(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=e,{points:a,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,animateNewValues:p,width:m,height:g,onAnimationEnd:y,onAnimationStart:b}=n,w=i.current,x=Cy(n,"recharts-line-"),[_,P]=v.useState(!1),I=v.useCallback(()=>{typeof y=="function"&&y(),P(!1)},[y]),N=v.useCallback(()=>{typeof b=="function"&&b(),P(!0)},[b]),T=ghe(r.current),A=s.current;return v.createElement(ss,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},onAnimationEnd:I,onAnimationStart:N,key:x},k=>{var{t:C}=k,j=Xn(A,T+A),D=Math.min(j(C),T),R;if(o){var Q="".concat(o).split(/[,\s]+/gim).map(X=>parseFloat(X));R=fhe(D,T,Q)}else R=h5(T,D);if(w){var de=w.length/a.length,ue=C===1?a:a.map((X,U)=>{var G=Math.floor(U*de);if(w[G]){var ie=w[G],ce=Xn(ie.x,X.x),M=Xn(ie.y,X.y);return zr(zr({},X),{},{x:ce(C),y:M(C)})}if(p){var B=Xn(m*2,X.x),ae=Xn(g/2,X.y);return zr(zr({},X),{},{x:B(C),y:ae(C)})}return zr(zr({},X),{},{x:X.x,y:X.y})});return i.current=ue,v.createElement(eb,{props:n,points:ue,clipPathId:t,pathRef:r,showLabels:!_,strokeDasharray:R})}return C>0&&T>0&&(i.current=a,s.current=D),v.createElement(eb,{props:n,points:a,clipPathId:t,pathRef:r,showLabels:!_,strokeDasharray:R})})}function vhe(e){var{clipPathId:t,props:n}=e,{points:r,isAnimationActive:i}=n,s=v.useRef(null),a=v.useRef(0),o=v.useRef(null),l=s.current;return i&&r&&r.length&&l!==r?v.createElement(yhe,{props:n,clipPathId:t,previousPointsRef:s,longestAnimatedLengthRef:a,pathRef:o}):v.createElement(eb,{props:n,points:r,clipPathId:t,pathRef:o,showLabels:!0})}var xhe=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:He(e.payload,t)});class whe extends v.Component{constructor(){super(...arguments),Dy(this,"id",la("recharts-line-"))}render(){var t,{hide:n,dot:r,points:i,className:s,xAxisId:a,yAxisId:o,top:l,left:c,width:u,height:f,id:p,needClip:m,layout:g}=this.props;if(n)return null;var y=we("recharts-line",s),b=Ue(p)?this.id:p,{r:w=3,strokeWidth:x=2}=(t=be(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},_=Qg(r),P=w*2+x;return v.createElement(v.Fragment,null,v.createElement(ht,{className:y},m&&v.createElement("defs",null,v.createElement(ET,{clipPathId:b,xAxisId:a,yAxisId:o}),!_&&v.createElement("clipPath",{id:"clipPath-dots-".concat(b)},v.createElement("rect",{x:c-P/2,y:l-P/2,width:u+P,height:f+P}))),v.createElement(vhe,{props:this.props,clipPathId:b}),v.createElement(J3,{direction:g==="horizontal"?"y":"x"},v.createElement(Q3,{xAxisId:a,yAxisId:o,data:i,dataPointFormatter:xhe,errorBarOffset:0},this.props.children))),v.createElement(Xw,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var p5={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!wa.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function bhe(e){var t=Or(e,p5),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:l,hide:c,isAnimationActive:u,label:f,legendType:p,xAxisId:m,yAxisId:g}=t,y=f5(t,she),{needClip:b}=jy(m,g),{height:w,width:x,x:_,y:P}=Oy(),I=pf(),N=Rn(),T=v.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),A=se(k=>rhe(k,m,g,N,T));return I!=="horizontal"&&I!=="vertical"?null:v.createElement(whe,sc({},y,{connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:u,hide:c,label:f,legendType:p,xAxisId:m,yAxisId:g,points:A,layout:I,height:w,width:x,left:_,top:P,needClip:b}))}function _he(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:o,displayedData:l}=e;return l.map((c,u)=>{var f=He(c,a);return t==="horizontal"?{x:em({axis:n,ticks:i,bandSize:o,entry:c,index:u}),y:Ue(f)?null:r.scale(f),value:f,payload:c}:{x:Ue(f)?null:n.scale(f),y:em({axis:r,ticks:s,bandSize:o,entry:c,index:u}),value:f,payload:c}})}class Tm extends v.PureComponent{render(){return v.createElement(_T,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},v.createElement(wT,{legendPayload:che(this.props)}),v.createElement(ky,{fn:uhe,args:this.props}),v.createElement(bhe,this.props))}}Dy(Tm,"displayName","Line");Dy(Tm,"defaultProps",p5);var m5=(e,t,n,r)=>Cr(e,"xAxis",t,r),g5=(e,t,n,r)=>wi(e,"xAxis",t,r),y5=(e,t,n,r)=>Cr(e,"yAxis",n,r),v5=(e,t,n,r)=>wi(e,"yAxis",n,r),Ehe=$([Ce,m5,y5,g5,v5],(e,t,n,r,i)=>Ei(e,"xAxis")?vo(t,r,!1):vo(n,i,!1)),The=(e,t,n,r,i)=>{var s,a=Ce(e),o=Ei(a,"xAxis"),l;if(o?l=Cd(e,"yAxis",n,r):l=Cd(e,"xAxis",t,r),l!=null){var{dataKey:c,stackId:u}=i;if(u!=null){var f=(s=l[u])===null||s===void 0?void 0:s.stackedData;return f==null?void 0:f.find(p=>p.key===c)}}},She=(e,t,n,r,i)=>i,Ahe=$([_f,She],(e,t)=>{if(e.some(n=>n.type==="area"&&t.dataKey===n.dataKey&&Z1(t.stackId)===n.stackId&&t.data===n.data))return t}),Phe=$([Ce,m5,y5,g5,v5,The,yy,Ehe,Ahe],(e,t,n,r,i,s,a,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:f}=a;if(!(l==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{data:p}=l,m;if(p&&p.length>0?m=p:m=c==null?void 0:c.slice(u,f+1),m!=null){var g=void 0;return Whe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:u,areaSettings:l,stackedData:s,displayedData:m,chartBaseValue:g,bandSize:o})}}}),Ihe=["layout","type","stroke","connectNulls","isRange"],khe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function x5(e,t){if(e==null)return{};var n,r,i=Che(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Che(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function GN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(n),!0).forEach(function(r){My(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function My(e,t,n){return(t=Nhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nhe(e){var t=Ohe(e,"string");return typeof t=="symbol"?t:t+""}function Ohe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zs(){return Zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zs.apply(null,arguments)}function Sm(e,t){return e&&e!=="none"?e:t}var jhe=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:s,hide:a}=e;return[{inactive:a,dataKey:t,type:s,color:Sm(r,i),value:xa(n,t),payload:e}]};function Rhe(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:o,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:xa(a,t),hide:o,type:e.tooltipType,color:Sm(r,s),unit:l}}}var Dhe=(e,t)=>{var n;if(v.isValidElement(e))n=v.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=we("recharts-area-dot",typeof e!="boolean"?e.className:"");n=v.createElement(fT,Zs({},t,{className:r}))}return n};function Mhe(e,t){return e==null?!1:t?!0:e.length===1}function Lhe(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:s,dataKey:a}=r;if(!Mhe(n,s))return null;var o=Qg(s),l=be(r,!1),c=be(s,!0),u=n.map((p,m)=>{var g=Wa(Wa(Wa({key:"dot-".concat(m),r:3},l),c),{},{index:m,cx:p.x,cy:p.y,dataKey:a,value:p.value,payload:p.payload,points:n});return Dhe(s,g)}),f={clipPath:i?"url(#clipPath-".concat(o?"":"dots-").concat(t,")"):void 0};return v.createElement(ht,Zs({className:"recharts-area-dots"},f),u)}function tb(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:s,showLabels:a}=e,{layout:o,type:l,stroke:c,connectNulls:u,isRange:f}=s,p=x5(s,Ihe);return v.createElement(v.Fragment,null,(t==null?void 0:t.length)>1&&v.createElement(ht,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},v.createElement(Cl,Zs({},be(p,!0),{points:t,connectNulls:u,type:l,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),c!=="none"&&v.createElement(Cl,Zs({},be(s,!1),{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:t})),c!=="none"&&f&&v.createElement(Cl,Zs({},be(s,!1),{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:n}))),v.createElement(Lhe,{points:t,props:s,clipPathId:i}),a&&Hi.renderCallByParent(s,t))}function $he(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,s=r[0].y,a=r[r.length-1].y;if(!rn(s)||!rn(a))return null;var o=t*Math.abs(s-a),l=Math.max(...r.map(c=>c.x||0));return ee(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(c=>c.x||0),l)),ee(l)?v.createElement("rect",{x:0,y:s<a?s:s-o,width:l+(i?parseInt("".concat(i),10):1),height:Math.floor(o)}):null}function zhe(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,s=r[0].x,a=r[r.length-1].x;if(!rn(s)||!rn(a))return null;var o=t*Math.abs(s-a),l=Math.max(...r.map(c=>c.y||0));return ee(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(c=>c.y||0),l)),ee(l)?v.createElement("rect",{x:s<a?s:s-o,y:0,width:o,height:Math.floor(l+(i?parseInt("".concat(i),10):1))}):null}function Vhe(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:s}=e;return n==="vertical"?v.createElement($he,{alpha:t,points:r,baseLine:i,strokeWidth:s}):v.createElement(zhe,{alpha:t,points:r,baseLine:i,strokeWidth:s})}function Fhe(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=e,{points:a,baseLine:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,onAnimationStart:p,onAnimationEnd:m}=r,g=Cy(r,"recharts-area-"),[y,b]=v.useState(!0),w=v.useCallback(()=>{typeof m=="function"&&m(),b(!1)},[m]),x=v.useCallback(()=>{typeof p=="function"&&p(),b(!0)},[p]),_=i.current,P=s.current;return v.createElement(ss,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},onAnimationEnd:w,onAnimationStart:x,key:g},I=>{var{t:N}=I;if(_){var T=_.length/a.length,A=N===1?a:a.map((C,j)=>{var D=Math.floor(j*T);if(_[D]){var R=_[D];return Wa(Wa({},C),{},{x:Bo(R.x,C.x,N),y:Bo(R.y,C.y,N)})}return C}),k;return ee(o)?k=Bo(P,o,N):Ue(o)||or(o)?k=Bo(P,0,N):k=o.map((C,j)=>{var D=Math.floor(j*T);if(Array.isArray(P)&&P[D]){var R=P[D];return Wa(Wa({},C),{},{x:Bo(R.x,C.x,N),y:Bo(R.y,C.y,N)})}return C}),N>0&&(i.current=A,s.current=k),v.createElement(tb,{points:A,baseLine:k,needClip:t,clipPathId:n,props:r,showLabels:!y})}return N>0&&(i.current=a,s.current=o),v.createElement(ht,null,v.createElement("defs",null,v.createElement("clipPath",{id:"animationClipPath-".concat(n)},v.createElement(Vhe,{alpha:N,points:a,baseLine:o,layout:r.layout,strokeWidth:r.strokeWidth}))),v.createElement(ht,{clipPath:"url(#animationClipPath-".concat(n,")")},v.createElement(tb,{points:a,baseLine:o,needClip:t,clipPathId:n,props:r,showLabels:!0})))})}function Uhe(e){var{needClip:t,clipPathId:n,props:r}=e,{points:i,baseLine:s,isAnimationActive:a}=r,o=v.useRef(null),l=v.useRef(),c=o.current,u=l.current;return a&&i&&i.length&&(c!==i||u!==s)?v.createElement(Fhe,{needClip:t,clipPathId:n,props:r,previousPointsRef:o,previousBaselineRef:l}):v.createElement(tb,{points:i,baseLine:s,needClip:t,clipPathId:n,props:r,showLabels:!0})}class Bhe extends v.PureComponent{constructor(){super(...arguments),My(this,"id",la("recharts-area-"))}render(){var t,{hide:n,dot:r,points:i,className:s,top:a,left:o,needClip:l,xAxisId:c,yAxisId:u,width:f,height:p,id:m,baseLine:g}=this.props;if(n)return null;var y=we("recharts-area",s),b=Ue(m)?this.id:m,{r:w=3,strokeWidth:x=2}=(t=be(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},_=Qg(r),P=w*2+x;return v.createElement(v.Fragment,null,v.createElement(ht,{className:y},l&&v.createElement("defs",null,v.createElement(ET,{clipPathId:b,xAxisId:c,yAxisId:u}),!_&&v.createElement("clipPath",{id:"clipPath-dots-".concat(b)},v.createElement("rect",{x:o-P/2,y:a-P/2,width:f+P,height:p+P}))),v.createElement(Uhe,{needClip:l,clipPathId:b,props:this.props})),v.createElement(Xw,{points:i,mainColor:Sm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(g)&&v.createElement(Xw,{points:g,mainColor:Sm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var w5={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!wa.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function qhe(e){var t,n=Or(e,w5),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:l,fill:c,fillOpacity:u,hide:f,isAnimationActive:p,legendType:m,stroke:g,xAxisId:y,yAxisId:b}=n,w=x5(n,khe),x=pf(),_=v3(),{needClip:P}=jy(y,b),I=Rn(),N=v.useMemo(()=>({baseValue:e.baseValue,stackId:e.stackId,connectNulls:o,data:e.data,dataKey:e.dataKey}),[e.baseValue,e.stackId,o,e.data,e.dataKey]),{points:T,isRange:A,baseLine:k}=(t=se(Q=>Phe(Q,y,b,I,N)))!==null&&t!==void 0?t:{},{height:C,width:j,x:D,y:R}=Oy();return x!=="horizontal"&&x!=="vertical"||_!=="AreaChart"&&_!=="ComposedChart"?null:v.createElement(Bhe,Zs({},w,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,baseLine:k,connectNulls:o,dot:l,fill:c,fillOpacity:u,height:C,hide:f,layout:x,isAnimationActive:p,isRange:A,legendType:m,needClip:P,points:T,stroke:g,width:j,left:D,top:R,xAxisId:y,yAxisId:b}))}var Khe=(e,t,n,r,i)=>{var s=n??t;if(ee(s))return s;var a=e==="horizontal"?i:r,o=a.scale.domain();if(a.type==="number"){var l=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return s==="dataMin"?c:s==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return s==="dataMin"?o[0]:s==="dataMax"?o[1]:o[0]};function Whe(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:a,xAxis:o,yAxis:l,displayedData:c,dataStartIndex:u,xAxisTicks:f,yAxisTicks:p,bandSize:m}=e,g=i&&i.length,y=Khe(s,a,n,o,l),b=s==="horizontal",w=!1,x=c.map((P,I)=>{var N;g?N=i[u+I]:(N=He(P,r),Array.isArray(N)?w=!0:N=[y,N]);var T=N[1]==null||g&&!t&&He(P,r)==null;return b?{x:em({axis:o,ticks:f,bandSize:m,entry:P,index:I}),y:T?null:l.scale(N[1]),value:N,payload:P}:{x:T?null:o.scale(N[1]),y:em({axis:l,ticks:p,bandSize:m,entry:P,index:I}),value:N,payload:P}}),_;return g||w?_=x.map(P=>{var I=Array.isArray(P.value)?P.value[0]:null;return b?{x:P.x,y:I!=null&&P.y!=null?l.scale(I):null}:{x:I!=null?o.scale(I):null,y:P.y}}):_=b?l.scale(y):o.scale(y),{points:x,baseLine:_,isRange:w}}class PT extends v.PureComponent{render(){return v.createElement(_T,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},v.createElement(wT,{legendPayload:jhe(this.props)}),v.createElement(ky,{fn:Rhe,args:this.props}),v.createElement(qhe,this.props))}}My(PT,"displayName","Area");My(PT,"defaultProps",w5);function QN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QN(Object(n),!0).forEach(function(r){Hhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hhe(e,t,n){return(t=Ghe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ghe(e){var t=Qhe(e,"string");return typeof t=="symbol"?t:t+""}function Qhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yhe={xAxis:{},yAxis:{},zAxis:{}},b5=qn({name:"cartesianAxis",initialState:Yhe,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=YN(YN({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:Xhe,removeXAxis:Jhe,addYAxis:Zhe,removeYAxis:epe,updateYAxisWidth:tpe}=b5.actions,npe=b5.reducer,rpe=["children"],ipe=["dangerouslySetInnerHTML","ticks"];function _5(e,t,n){return(t=spe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function spe(e){var t=ape(e,"string");return typeof t=="symbol"?t:t+""}function ape(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nb(){return nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nb.apply(null,arguments)}function E5(e,t){if(e==null)return{};var n,r,i=ope(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ope(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function lpe(e){var t=lt(),n=v.useMemo(()=>{var{children:s}=e,a=E5(e,rpe);return a},[e]),r=se(s=>ps(s,n.id)),i=n===r;return v.useEffect(()=>(t(Xhe(n)),()=>{t(Jhe(n))}),[n,t]),i?e.children:null}var cpe=e=>{var{xAxisId:t,className:n}=e,r=se(e$),i=Rn(),s="xAxis",a=se(m=>Sc(m,s,t,i)),o=se(m=>X6(m,s,t,i)),l=se(m=>H6(m,t)),c=se(m=>_oe(m,t));if(l==null||c==null)return null;var{dangerouslySetInnerHTML:u,ticks:f}=e,p=E5(e,ipe);return v.createElement(Ic,nb({},p,{scale:a,x:c.x,y:c.y,width:l.width,height:l.height,className:we("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:o}))},upe=e=>{var t,n,r,i,s;return v.createElement(lpe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter},v.createElement(cpe,e))};class $u extends v.Component{render(){return v.createElement(upe,this.props)}}_5($u,"displayName","XAxis");_5($u,"defaultProps",{allowDataOverflow:Hn.allowDataOverflow,allowDecimals:Hn.allowDecimals,allowDuplicatedCategory:Hn.allowDuplicatedCategory,height:Hn.height,hide:!1,mirror:Hn.mirror,orientation:Hn.orientation,padding:Hn.padding,reversed:Hn.reversed,scale:Hn.scale,tickCount:Hn.tickCount,type:Hn.type,xAxisId:0});var dpe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=e,a=0;if(t){t.forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>a&&(a=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+s,c=a+l+o+(n?r:0);return Math.round(c)}return 0},fpe=["dangerouslySetInnerHTML","ticks"];function T5(e,t,n){return(t=hpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hpe(e){var t=ppe(e,"string");return typeof t=="symbol"?t:t+""}function ppe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rb(){return rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rb.apply(null,arguments)}function mpe(e,t){if(e==null)return{};var n,r,i=gpe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ype(e){var t=lt();return v.useEffect(()=>(t(Zhe(e)),()=>{t(epe(e))}),[e,t]),null}var vpe=e=>{var t,{yAxisId:n,className:r,width:i,label:s}=e,a=v.useRef(null),o=v.useRef(null),l=se(e$),c=Rn(),u=lt(),f="yAxis",p=se(_=>Sc(_,f,n,c)),m=se(_=>G6(_,n)),g=se(_=>Eoe(_,n)),y=se(_=>X6(_,f,n,c));if(v.useLayoutEffect(()=>{var _;if(!(i!=="auto"||!m||dT(s)||v.isValidElement(s))){var P=a.current,I=P==null||(_=P.tickRefs)===null||_===void 0?void 0:_.current,{tickSize:N,tickMargin:T}=P.props,A=dpe({ticks:I,label:o.current,labelGapWithTick:5,tickSize:N,tickMargin:T});Math.round(m.width)!==Math.round(A)&&u(tpe({id:n,width:A}))}},[a,a==null||(t=a.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,m==null?void 0:m.width,m,u,s,n,i]),m==null||g==null)return null;var{dangerouslySetInnerHTML:b,ticks:w}=e,x=mpe(e,fpe);return v.createElement(Ic,rb({},x,{ref:a,labelRef:o,scale:p,x:g.x,y:g.y,width:m.width,height:m.height,className:we("recharts-".concat(f," ").concat(f),r),viewBox:l,ticks:y}))},xpe=e=>{var t,n,r,i,s;return v.createElement(v.Fragment,null,v.createElement(ype,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter}),v.createElement(vpe,e))},wpe={allowDataOverflow:Gn.allowDataOverflow,allowDecimals:Gn.allowDecimals,allowDuplicatedCategory:Gn.allowDuplicatedCategory,hide:!1,mirror:Gn.mirror,orientation:Gn.orientation,padding:Gn.padding,reversed:Gn.reversed,scale:Gn.scale,tickCount:Gn.tickCount,type:Gn.type,width:Gn.width,yAxisId:0};class zu extends v.Component{render(){return v.createElement(xpe,this.props)}}T5(zu,"displayName","YAxis");T5(zu,"defaultProps",wpe);var bpe=(e,t)=>t,IT=$([bpe,Ce,Mae,Bt,f3,ms,Sle,Ot],Cle),kT=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},S5=kn("mouseClick"),A5=Hd();A5.startListening({actionCreator:S5,effect:(e,t)=>{var n=e.payload,r=IT(t.getState(),kT(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(Moe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var ib=kn("mouseMove"),P5=Hd();P5.startListening({actionCreator:ib,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=nT(r,r.tooltip.settings.shared),s=IT(r,kT(n));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(s3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(i3()))}});function _pe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var XN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},I5=qn({name:"rootProps",initialState:XN,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:XN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Epe=I5.reducer,{updateOptions:Tpe}=I5.actions,k5=qn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Spe}=k5.actions,Ape=k5.reducer,C5=kn("keyDown"),N5=kn("focus"),CT=Hd();CT.startListening({actionCreator:C5,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(rT(i,Mo(n))),o=ms(n);if(s==="Enter"){var l=vm(n,"axis","hover",String(i.index));t.dispatch(Kw({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var c=Poe(n),u=c==="left-to-right"?1:-1,f=s==="ArrowRight"?1:-1,p=a+f*u;if(!(o==null||p>=o.length||p<0)){var m=vm(n,"axis","hover",String(p));t.dispatch(Kw({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});CT.startListening({actionCreator:N5,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=vm(n,"axis","hover",String(s));t.dispatch(Kw({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var gr=kn("externalEvent"),O5=Hd();O5.startListening({actionCreator:gr,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:gle(n),activeDataKey:g3(n),activeIndex:ca(n),activeLabel:m3(n),activeTooltipIndex:ca(n),isTooltipActive:yle(n)};e.payload.handler(r,e.payload.reactEvent)}}});var Ppe=$([Ac],e=>e.tooltipItemPayloads),Ipe=$([Ppe,Sf,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(o=>o.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=t(s,n);return a}}}),j5=kn("touchMove"),R5=Hd();R5.startListening({actionCreator:j5,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=nT(r,r.tooltip.settings.shared);if(i==="axis"){var s=IT(r,kT({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(s3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,o=n.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(J4),u=(a=l.getAttribute(Z4))!==null&&a!==void 0?a:void 0,f=Ipe(t.getState(),c,u);t.dispatch(r3({activeDataKey:u,activeIndex:c,activeCoordinate:f}))}}});var kpe=m2({brush:Ife,cartesianAxis:npe,chartData:Kle,graphicalItems:wue,layout:Ete,legend:wne,options:Vle,polarAxis:iue,polarOptions:Ape,referenceElements:Mfe,rootProps:Epe,tooltip:Loe}),Cpe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return x2({reducer:kpe,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([A5.middleware,P5.middleware,CT.middleware,O5.middleware,R5.middleware]),devTools:{serialize:{replacer:_pe},name:"recharts-".concat(n)}})};function D5(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Rn(),s=v.useRef(null);if(i)return n;s.current==null&&(s.current=Cpe(t,r));var a=Y1;return v.createElement(g_,{context:a,store:s.current},n)}function M5(e){var{layout:t,width:n,height:r,margin:i}=e,s=lt(),a=Rn();return v.useEffect(()=>{a||(s(wte(t)),s(bte({width:n,height:r})),s(xte(i)))},[s,a,t,n,r,i]),null}function L5(e){var t=lt();return v.useEffect(()=>{t(Tpe(e))},[t,e]),null}var Npe=["children"];function Ope(e,t){if(e==null)return{};var n,r,i=jpe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Am(){return Am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Am.apply(null,arguments)}var Rpe={width:"100%",height:"100%"},Dpe=v.forwardRef((e,t)=>{var n=t$(),r=n$(),i=f$();if(!ec(n)||!ec(r))return null;var{children:s,otherAttributes:a,title:o,desc:l}=e,c,u;return typeof a.tabIndex=="number"?c=a.tabIndex:c=i?0:void 0,typeof a.role=="string"?u=a.role:u=i?"application":void 0,v.createElement(M1,Am({},a,{title:o,desc:l,role:u,tabIndex:c,width:n,height:r,style:Rpe,ref:t}),s)}),Mpe=e=>{var{children:t}=e,n=se(ay);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return v.createElement(M1,{width:r,height:i,x:a,y:s},t)},JN=v.forwardRef((e,t)=>{var{children:n}=e,r=Ope(e,Npe),i=Rn();return i?v.createElement(Mpe,null,n):v.createElement(Dpe,Am({ref:t},r),n)});function Lpe(){var e=lt(),[t,n]=v.useState(null),r=se(Xte);return v.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;rn(s)&&s!==r&&e(_te(s))}},[t,e,r]),n}function ZN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $pe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(n),!0).forEach(function(r){zpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zpe(e,t,n){return(t=Vpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vpe(e){var t=Fpe(e,"string");return typeof t=="symbol"?t:t+""}function Fpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Upe=v.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:f,onMouseUp:p,onTouchEnd:m,onTouchMove:g,onTouchStart:y,style:b,width:w}=e,x=lt(),[_,P]=v.useState(null),[I,N]=v.useState(null);Gle();var T=Lpe(),A=v.useCallback(M=>{T(M),typeof t=="function"&&t(M),P(M),N(M)},[T,t,P,N]),k=v.useCallback(M=>{x(S5(M)),x(gr({handler:s,reactEvent:M}))},[x,s]),C=v.useCallback(M=>{x(ib(M)),x(gr({handler:c,reactEvent:M}))},[x,c]),j=v.useCallback(M=>{x(i3()),x(gr({handler:u,reactEvent:M}))},[x,u]),D=v.useCallback(M=>{x(ib(M)),x(gr({handler:f,reactEvent:M}))},[x,f]),R=v.useCallback(()=>{x(N5())},[x]),Q=v.useCallback(M=>{x(C5(M.key))},[x]),de=v.useCallback(M=>{x(gr({handler:a,reactEvent:M}))},[x,a]),ue=v.useCallback(M=>{x(gr({handler:o,reactEvent:M}))},[x,o]),X=v.useCallback(M=>{x(gr({handler:l,reactEvent:M}))},[x,l]),U=v.useCallback(M=>{x(gr({handler:p,reactEvent:M}))},[x,p]),G=v.useCallback(M=>{x(gr({handler:y,reactEvent:M}))},[x,y]),ie=v.useCallback(M=>{x(j5(M)),x(gr({handler:g,reactEvent:M}))},[x,g]),ce=v.useCallback(M=>{x(gr({handler:m,reactEvent:M}))},[x,m]);return v.createElement(E3.Provider,{value:_},v.createElement(o4.Provider,{value:I},v.createElement("div",{className:we("recharts-wrapper",r),style:$pe({position:"relative",cursor:"default",width:w,height:i},b),onClick:k,onContextMenu:de,onDoubleClick:ue,onFocus:R,onKeyDown:Q,onMouseDown:X,onMouseEnter:C,onMouseLeave:j,onMouseMove:D,onMouseUp:U,onTouchEnd:ce,onTouchMove:ie,onTouchStart:G,ref:A},n)))}),Bpe=["children","className","width","height","style","compact","title","desc"];function qpe(e,t){if(e==null)return{};var n,r,i=Kpe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $5=v.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:s,style:a,compact:o,title:l,desc:c}=e,u=qpe(e,Bpe),f=be(u,!1);return o?v.createElement(JN,{otherAttributes:f,title:l,desc:c},n):v.createElement(Upe,{className:r,style:a,width:i,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(JN,{otherAttributes:f,title:l,desc:c,ref:t},v.createElement($fe,null,n)))}),Wpe=["width","height"];function sb(){return sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sb.apply(null,arguments)}function Hpe(e,t){if(e==null)return{};var n,r,i=Gpe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Qpe={top:5,right:5,bottom:5,left:5},Ype={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Qpe,reverseStackOrder:!1,syncMethod:"index"},NT=v.forwardRef(function(t,n){var r,i=Or(t.categoricalChartProps,Ype),{width:s,height:a}=i,o=Hpe(i,Wpe);if(!ec(s)||!ec(a))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:p}=t,m={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return v.createElement(D5,{preloadedState:{options:m},reduxStoreName:(r=p.id)!==null&&r!==void 0?r:l},v.createElement(a5,{chartData:p.data}),v.createElement(M5,{width:s,height:a,layout:i.layout,margin:i.margin}),v.createElement(L5,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),v.createElement($5,sb({},o,{width:s,height:a,ref:n})))}),Xpe=["axis"],Jpe=v.forwardRef((e,t)=>v.createElement(NT,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Xpe,tooltipPayloadSearcher:Py,categoricalChartProps:e,ref:t})),Zpe=["axis","item"],eme=v.forwardRef((e,t)=>v.createElement(NT,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Zpe,tooltipPayloadSearcher:Py,categoricalChartProps:e,ref:t}));function tme(e){var t=lt();return v.useEffect(()=>{t(Spe(e))},[t,e]),null}var nme=["width","height","layout"];function ab(){return ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ab.apply(null,arguments)}function rme(e,t){if(e==null)return{};var n,r,i=ime(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ime(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var sme={top:5,right:5,bottom:5,left:5},ame={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:sme,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},ome=v.forwardRef(function(t,n){var r,i=Or(t.categoricalChartProps,ame),{width:s,height:a,layout:o}=i,l=rme(i,nme);if(!ec(s)||!ec(a))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:p}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return v.createElement(D5,{preloadedState:{options:m},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:c},v.createElement(a5,{chartData:i.data}),v.createElement(M5,{width:s,height:a,layout:o,margin:i.margin}),v.createElement(L5,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),v.createElement(tme,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),v.createElement($5,ab({width:s,height:a},l,{ref:n})))}),lme=["item"],cme={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ume=v.forwardRef((e,t)=>{var n=Or(e,cme);return v.createElement(ome,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:lme,tooltipPayloadSearcher:Py,categoricalChartProps:n,ref:t})}),dme=["axis"],fme=v.forwardRef((e,t)=>v.createElement(NT,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:dme,tooltipPayloadSearcher:Py,categoricalChartProps:e,ref:t}));const hme=async()=>{try{console.log("🔍 Fetching real quiz data from Firebase...");const e=$t(Pe(oe,"quizzes"),ma("createdAt","desc"),vc(20)),n=(await We(e)).docs.map(r=>({id:r.id,...r.data()}));return console.log("📊 Found real quizzes:",n.length),console.log("Quiz IDs:",n.map(r=>r.id)),n}catch(e){return console.error("❌ Error fetching real quiz data:",e),[]}},pme=async()=>{try{console.log("👥 Fetching real user data from Firebase...");const e=$t(Pe(oe,"users"),ma("createdAt","desc"),vc(50)),n=(await We(e)).docs.map(r=>({id:r.id,...r.data()}));return console.log("👤 Found real users:",n.length),n}catch(e){return console.error("❌ Error fetching real user data:",e),[]}},mme=async()=>{try{console.log("⭐ Fetching real review data from Firebase...");const e=$t(Pe(oe,"quizReviews"),ma("createdAt","desc"),vc(100)),n=(await We(e)).docs.map(r=>({id:r.id,...r.data()}));return console.log("📝 Found real reviews:",n.length),n}catch(e){return console.error("❌ Error fetching real review data:",e),[]}},gme=async()=>{try{console.log("📂 Fetching real category data from Firebase...");const e=$t(Pe(oe,"categories"),ma("name","asc")),n=(await We(e)).docs.map(r=>({id:r.id,...r.data()}));return console.log("🏷️ Found real categories:",n.length),n}catch(e){return console.error("❌ Error fetching real category data:",e),[]}},z5=()=>{const[e,t]=v.useState(!0),[n,r]=v.useState(null),[i,s]=v.useState("overview"),[a,o]=v.useState("30d"),l=Ud();v.useEffect(()=>{c()},[]);const c=async()=>{t(!0);try{const[P,I,N,T]=await Promise.all([hme(),pme(),mme(),gme()]);r({quizzes:P||[],users:I||[],reviews:N||[],categories:T||[]}),V.success("Đã tải dữ liệu thực tế từ Firebase!")}catch(P){console.error("Error loading real data:",P),V.error("Lỗi khi tải dữ liệu thực tế")}finally{t(!1)}},u=()=>{c()},f=()=>{console.log("Exporting data..."),V.info("Chức năng xuất dữ liệu đang được phát triển")},m=(()=>{if(!n)return null;const{quizzes:P,users:I,reviews:N}=n;return{totalUsers:I.length,activeUsers:Math.floor(I.length*.7),totalQuizzes:P.length,completedQuizzes:Math.floor(P.length*4.2),averageScore:78.5,completionRate:85.2,userGrowthRate:12.5,quizCompletionGrowth:8.3,totalReviews:N.length,averageRating:N.length>0?N.reduce((T,A)=>T+(A.rating||0),0)/N.length:0}})(),g=({title:P,value:I,icon:N,change:T,color:A,onClick:k})=>d.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-all duration-200 ${k?"cursor-pointer":""}`,onClick:k,children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:P}),d.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:I})]}),d.jsx("div",{className:`p-3 rounded-full bg-${A}-100`,children:N})]}),d.jsxs("div",{className:"mt-4 flex items-center",children:[T>=0?d.jsx(gJ,{className:"w-4 h-4 text-green-500 mr-1"}):d.jsx(pJ,{className:"w-4 h-4 text-red-500 mr-1"}),d.jsxs("span",{className:`text-sm font-medium ${T>=0?"text-green-600":"text-red-600"}`,children:[T>=0?"+":"",T,"%"]}),d.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs tháng trước"})]})]}),y=()=>{var P;return m?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsx(g,{title:"Tổng người dùng",value:m.totalUsers.toLocaleString(),icon:d.jsx(YI,{className:"w-6 h-6 text-blue-600"}),change:m.userGrowthRate,color:"blue",onClick:()=>s("users")}),d.jsx(g,{title:"Người dùng hoạt động",value:m.activeUsers.toLocaleString(),icon:d.jsx(AX,{className:"w-6 h-6 text-green-600"}),change:8.2,color:"green"}),d.jsx(g,{title:"Tổng quiz",value:m.totalQuizzes.toLocaleString(),icon:d.jsx(ul,{className:"w-6 h-6 text-purple-600"}),change:15.3,color:"purple",onClick:()=>s("quizzes")}),d.jsx(g,{title:"Lượt hoàn thành",value:m.completedQuizzes.toLocaleString(),icon:d.jsx(GI,{className:"w-6 h-6 text-orange-600"}),change:m.quizCompletionGrowth,color:"orange"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tăng trưởng người dùng"}),d.jsx("div",{className:"flex space-x-2",children:["7d","30d","90d","1y"].map(I=>d.jsx("button",{onClick:()=>o(I),className:`px-3 py-1 text-xs rounded-full ${a===I?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:I},I))})]}),d.jsx(Ah,{width:"100%",height:300,children:d.jsxs(fme,{data:[{date:"T1",users:Math.floor(m.totalUsers*.7)},{date:"T2",users:Math.floor(m.totalUsers*.8)},{date:"T3",users:Math.floor(m.totalUsers*.9)},{date:"T4",users:m.totalUsers}],children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"colorUsers",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),d.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]})}),d.jsx($u,{dataKey:"date"}),d.jsx(zu,{}),d.jsx(Sh,{}),d.jsx(PT,{type:"monotone",dataKey:"users",stroke:"#3B82F6",fillOpacity:1,fill:"url(#colorUsers)"})]})})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Hoạt động Quiz"}),d.jsx(Ah,{width:"100%",height:300,children:d.jsxs(eme,{data:[{date:"T1",created:Math.floor(m.totalQuizzes*.2),completed:Math.floor(m.completedQuizzes*.2)},{date:"T2",created:Math.floor(m.totalQuizzes*.3),completed:Math.floor(m.completedQuizzes*.3)},{date:"T3",created:Math.floor(m.totalQuizzes*.4),completed:Math.floor(m.completedQuizzes*.5)},{date:"T4",created:Math.floor(m.totalQuizzes*.1),completed:Math.floor(m.completedQuizzes*.3)}],children:[d.jsx($u,{dataKey:"date"}),d.jsx(zu,{}),d.jsx(Sh,{}),d.jsx(kl,{}),d.jsx(_m,{dataKey:"created",fill:"#10B981",name:"Quiz được tạo"}),d.jsx(_m,{dataKey:"completed",fill:"#3B82F6",name:"Lượt hoàn thành"})]})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hiệu suất tổng quan"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:"Điểm trung bình"}),d.jsxs("span",{className:"font-semibold text-green-600",children:[m.averageScore,"%"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:"Tỷ lệ hoàn thành"}),d.jsxs("span",{className:"font-semibold text-blue-600",children:[m.completionRate,"%"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:"Tổng đánh giá"}),d.jsx("span",{className:"font-semibold text-purple-600",children:m.totalReviews})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:"Đánh giá trung bình"}),d.jsxs("span",{className:"font-semibold text-yellow-600",children:[m.averageRating.toFixed(1)," ⭐"]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top danh mục"}),d.jsx("div",{className:"space-y-3",children:(P=n==null?void 0:n.categories)==null?void 0:P.slice(0,5).map((I,N)=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:I.name||`Danh mục ${N+1}`}),d.jsx("span",{className:"font-semibold text-blue-600",children:n.quizzes.filter(T=>T.category===I.id).length})]},I.id))})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hoạt động gần đây"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),d.jsxs("span",{className:"text-sm text-gray-600",children:[m.totalQuizzes," quiz có sẵn"]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),d.jsxs("span",{className:"text-sm text-gray-600",children:[m.totalUsers," người dùng đăng ký"]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),d.jsxs("span",{className:"text-sm text-gray-600",children:[m.totalReviews," đánh giá"]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),d.jsxs("span",{className:"text-sm text-gray-600",children:[m.completedQuizzes," lượt hoàn thành"]})]})]})]})]})]}):d.jsx("div",{children:"Loading..."})},b=()=>{var P;return d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quản lý người dùng"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-gray-200",children:[d.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"ID"}),d.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Email"}),d.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Vai trò"}),d.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Trạng thái"})]})}),d.jsx("tbody",{children:(P=n==null?void 0:n.users)==null?void 0:P.slice(0,10).map(I=>d.jsxs("tr",{className:"border-b border-gray-100",children:[d.jsx("td",{className:"py-3 px-4 text-sm text-gray-900",children:I.id}),d.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:I.email||"N/A"}),d.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:I.role||"user"}),d.jsx("td",{className:"py-3 px-4",children:d.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Hoạt động"})})]},I.id))})]})})]})})},w=()=>{var P;return d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quản lý Quiz"}),d.jsx("button",{onClick:()=>l("/admin/quiz-management"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Quản lý chi tiết"})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-gray-200",children:[d.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Tiêu đề"}),d.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Danh mục"}),d.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Người tạo"}),d.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Ngày tạo"}),d.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Hành động"})]})}),d.jsx("tbody",{children:(P=n==null?void 0:n.quizzes)==null?void 0:P.slice(0,10).map(I=>d.jsxs("tr",{className:"border-b border-gray-100",children:[d.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:I.title||"Chưa có tiêu đề"}),d.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:I.category||"Chưa phân loại"}),d.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:I.createdBy||"N/A"}),d.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:I.createdAt?new Date(I.createdAt.seconds*1e3).toLocaleDateString():"N/A"}),d.jsx("td",{className:"py-3 px-4",children:d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>l(`/quiz/${I.id}`),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Xem quiz",children:d.jsx(Ls,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>l(`/admin/edit-quiz/${I.id}`),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Chỉnh sửa",children:d.jsx(aJ,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>l(`/quiz/${I.id}/reviews`),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Xem đánh giá",children:d.jsx(XX,{className:"w-4 h-4"})})]})})]},I.id))})]})})]})})},x=()=>d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Chỉ số hiệu suất"}),d.jsx(Ah,{width:"100%",height:300,children:d.jsxs(Jpe,{data:[{month:"T1",score:75,completion:80},{month:"T2",score:78,completion:82},{month:"T3",score:76,completion:85},{month:"T4",score:79,completion:87}],children:[d.jsx($u,{dataKey:"month"}),d.jsx(zu,{}),d.jsx(Sh,{}),d.jsx(kl,{}),d.jsx(Tm,{type:"monotone",dataKey:"score",stroke:"#10B981",name:"Điểm trung bình"}),d.jsx(Tm,{type:"monotone",dataKey:"completion",stroke:"#3B82F6",name:"Tỷ lệ hoàn thành"})]})})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Phân bố đánh giá"}),d.jsx(Ah,{width:"100%",height:300,children:d.jsxs(ume,{children:[d.jsx(bT,{data:[{name:"5 sao",value:35,color:"#10B981"},{name:"4 sao",value:28,color:"#3B82F6"},{name:"3 sao",value:20,color:"#F59E0B"},{name:"2 sao",value:12,color:"#EF4444"},{name:"1 sao",value:5,color:"#6B7280"}],cx:"50%",cy:"50%",outerRadius:100,dataKey:"value",children:[{color:"#10B981"},{color:"#3B82F6"},{color:"#F59E0B"},{color:"#EF4444"},{color:"#6B7280"}].map((P,I)=>d.jsx(Af,{fill:P.color},`cell-${I}`))}),d.jsx(Sh,{}),d.jsx(kl,{})]})})]})]})});if(e)return d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),d.jsx("p",{className:"mt-4 text-gray-600",children:"Đang tải dữ liệu thực tế..."})]})});const _=[{id:"overview",label:"Tổng quan",icon:GI},{id:"users",label:"Người dùng",icon:YI},{id:"quizzes",label:"Quiz",icon:ul},{id:"performance",label:"Hiệu suất",icon:IX}];return d.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[d.jsx("div",{className:"mb-8",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"📊 Thống kê Admin (Dữ liệu thực)"}),d.jsx("p",{className:"text-gray-600",children:"Dashboard thống kê với dữ liệu thực từ Firebase"})]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsxs("button",{onClick:u,disabled:e,className:"flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[d.jsx(Il,{className:`w-4 h-4 mr-2 ${e?"animate-spin":""}`}),"Làm mới"]}),d.jsxs("button",{onClick:f,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(VX,{className:"w-4 h-4 mr-2"}),"Xuất dữ liệu"]})]})]})}),d.jsx("div",{className:"mb-8",children:d.jsx("nav",{className:"flex space-x-1 bg-white rounded-lg p-1 shadow-sm border border-gray-200",children:_.map(P=>{const I=P.icon;return d.jsxs("button",{onClick:()=>s(P.id),className:`flex items-center px-6 py-3 rounded-md font-medium transition-all duration-200 ${i===P.id?"bg-blue-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[d.jsx(I,{className:"w-5 h-5 mr-2"}),P.label]},P.id)})})}),d.jsxs("div",{className:"mb-8",children:[i==="overview"&&y(),i==="users"&&b(),i==="quizzes"&&w(),i==="performance"&&x()]})]})})},yme=Object.freeze(Object.defineProperty({__proto__:null,default:z5},Symbol.toStringTag,{value:"Module"})),vme=()=>d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center mr-3",children:d.jsx("span",{className:"text-white text-xl",children:"📊"})}),d.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Thống kê Admin"})]}),d.jsx("div",{className:"flex items-center space-x-4",children:d.jsx("a",{href:"/admin",className:"bg-gray-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-700 transition-colors duration-200",children:"← Về Admin Dashboard"})})]})})}),d.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("span",{className:"text-green-400 text-xl",children:"✅"})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Thành công! Bạn đang xem trang thống kê với biểu đồ"}),d.jsxs("div",{className:"mt-2 text-sm text-green-700",children:[d.jsx("p",{children:"Trang này hiển thị:"}),d.jsxs("ul",{className:"list-disc list-inside mt-1",children:[d.jsx("li",{children:"📊 Biểu đồ cột - Danh mục phổ biến"}),d.jsx("li",{children:"🥧 Biểu đồ tròn - Tỷ lệ quiz đã duyệt/chờ duyệt"}),d.jsx("li",{children:"📈 8 Cards thống kê chi tiết"}),d.jsx("li",{children:"🎯 Dữ liệu mẫu để demo"})]})]})]})]})}),d.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:d.jsx(z5,{})})]}),xme=({children:e})=>{const{user:t}=sr(s=>s.auth),n=us();if(["/login","/register"].includes(n.pathname))return d.jsx(d.Fragment,{children:e});if(!t)return d.jsx(d.Fragment,{children:e});const i=async()=>{try{await YH(Ki)}catch(s){console.error("Error signing out:",s)}};return d.jsxs("div",{className:"min-h-screen bg-gray-100",children:[d.jsx("header",{className:"bg-white shadow-sm",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h1",{className:"text-xl font-bold text-blue-600",children:"Quiz App"}),d.jsxs("nav",{className:"flex space-x-4",children:[d.jsx(De,{to:"/dashboard",className:"text-gray-700 hover:text-blue-600",children:"Dashboard"}),d.jsx(De,{to:"/quizzes",className:"text-gray-700 hover:text-blue-600",children:"Quiz"}),d.jsx(De,{to:"/favorites",className:"text-gray-700 hover:text-yellow-500",children:"Favorites"}),d.jsx(De,{to:"/leaderboard",className:"text-gray-700 hover:text-green-600",children:"Leaderboard"}),t.role==="creator"||t.role==="admin"?d.jsx(De,{to:"/creator",className:"text-gray-700 hover:text-blue-600",children:"Creator"}):null,t.role==="admin"?d.jsx(De,{to:"/admin",className:"text-gray-700 hover:text-blue-600",children:"Admin"}):null,d.jsx(De,{to:"/profile",className:"text-gray-700 hover:text-blue-600",children:"Profile"}),d.jsx("button",{onClick:i,className:"text-red-600 hover:text-red-800",children:"Logout"})]})]})})}),d.jsx("main",{className:"max-w-7xl mx-auto px-4 py-6",children:e})]})},wme=()=>d.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-8 text-center",children:[d.jsx("div",{className:"text-gray-400 text-7xl mb-4",children:"404"}),d.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Trang không tồn tại"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Rất tiếc, trang bạn đang tìm kiếm không tồn tại hoặc đã bị di chuyển."}),d.jsx(De,{to:"/",className:"inline-block px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Quay về trang chủ"})]})});class bme extends v.Component{constructor(){super(...arguments);Uc(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){var i,s,a;if(console.error("Error caught by ErrorBoundary:",n,r),(i=n.message)!=null&&i.includes("suspended")||(s=n.message)!=null&&s.includes("Suspense")||(a=n.message)!=null&&a.includes("lazy")){console.warn("Suspense-related error suppressed:",n.message);return}this.setState({hasError:!0,error:n,errorInfo:r})}render(){var n;return this.state.hasError?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4 py-8",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-8 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-2.694-.833-3.464 0L3.349 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Đã xảy ra lỗi"}),d.jsx("p",{className:"text-gray-600 mb-6",children:((n=this.state.error)==null?void 0:n.message)||"Ứng dụng gặp sự cố không mong muốn."}),d.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors duration-200",children:"Tải lại trang"}),!1]})}):this.props.children}}const eO=({user:e,onRoleSelected:t})=>{const[n,r]=v.useState(null),[i,s]=v.useState(!1),a=gg(),o=async l=>{try{const c=Le(oe,"users",e.uid);await Ql(c,{role:l,roleSelectedAt:new Date,needsRoleSelection:!1,status:"active",email:e.email,displayName:e.displayName,updatedAt:new Date},{merge:!0}),a(hP(l)),console.log("Role updated in Redux:",l),localStorage.setItem(`user_role_${e.uid}`,l),setTimeout(()=>{console.log("Calling onRoleSelected callback"),t()},100)}catch(c){console.error("Error updating user role:",c),console.warn("Firestore update failed, using localStorage fallback"),a(hP(l)),console.log("Role updated in Redux (fallback):",l),localStorage.setItem(`user_role_${e.uid}`,l),setTimeout(()=>{console.log("Calling onRoleSelected callback (fallback)"),t()},100),setTimeout(()=>{V.info("Vai trò đã được chọn. Dữ liệu sẽ được đồng bộ khi kết nối ổn định.")},1e3)}finally{s(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-md w-full mx-4 shadow-2xl",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Chọn vai trò của bạn"}),d.jsx("p",{className:"text-gray-600",children:"Hãy chọn vai trò phù hợp để bắt đầu sử dụng Quiz Trivia"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 ${n==="user"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>r("user"),children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:d.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"User (Người dùng)"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Tham gia làm quiz, xem kết quả và theo dõi tiến độ học tập của bạn"}),d.jsxs("ul",{className:"mt-2 text-xs text-gray-500 space-y-1",children:[d.jsx("li",{children:"• Làm các quiz có sẵn"}),d.jsx("li",{children:"• Xem lịch sử kết quả"}),d.jsx("li",{children:"• Theo dõi tiến độ học tập"})]})]})]})}),d.jsx("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 ${n==="creator"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>r("creator"),children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:d.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Creator (Người tạo)"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Tạo quiz cho cộng đồng, bao gồm tất cả quyền của User"}),d.jsxs("ul",{className:"mt-2 text-xs text-gray-500 space-y-1",children:[d.jsx("li",{children:"• Tất cả quyền của User"}),d.jsx("li",{children:"• Tạo quiz mới"}),d.jsx("li",{children:"• Quản lý quiz đã tạo"}),d.jsx("li",{children:"• Quiz cần admin phê duyệt"})]})]})]})})]}),d.jsx("div",{className:"mt-6 flex space-x-3",children:d.jsx("button",{onClick:()=>n&&o(n),disabled:!n||i,className:`flex-1 py-3 px-4 rounded-lg font-semibold transition-all duration-200 ${n&&!i?"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:i?d.jsxs("div",{className:"flex items-center justify-center",children:[d.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Đang cập nhật..."]}):"Xác nhận vai trò"})}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx("p",{className:"text-xs text-gray-500",children:"Bạn có thể thay đổi vai trò sau trong phần cài đặt tài khoản"})})]})})},_me=({message:e="Đang tải...",fullScreen:t=!0})=>t?d.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-600 mb-4"}),d.jsx("div",{className:"text-xl font-semibold text-gray-700",children:e})]})}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-4",children:Array.from({length:6}).map((n,r)=>d.jsx("div",{className:"animate-pulse bg-white rounded-xl shadow-lg h-64"},r))}),Wt=({children:e,requiredRole:t})=>{const{user:n,isLoading:r}=sr(i=>i.auth);return console.log("🛡️ ProtectedRoute check:",{hasUser:!!n,isLoading:r,userRole:n==null?void 0:n.role,requiredRole:t,userEmail:n==null?void 0:n.email}),r?(console.log("🛡️ ProtectedRoute: Showing loading..."),d.jsx(_me,{message:"Đang xác thực..."})):n?t&&n.role!==t&&n.role!=="admin"?(console.log("🛡️ ProtectedRoute: Role mismatch, showing unauthorized"),d.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:d.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.962-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),d.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Không có quyền truy cập"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:t==="creator"?"Bạn cần có vai trò Creator để truy cập trang này.":"Bạn cần có vai trò Admin để truy cập trang này."}),d.jsx("div",{className:"mt-6",children:d.jsx("button",{onClick:()=>window.history.back(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:"Quay lại"})})]})})):(console.log("🛡️ ProtectedRoute: Access granted, rendering children"),d.jsx(d.Fragment,{children:e})):(console.log("🛡️ ProtectedRoute: No user, redirecting to login"),d.jsx(Ap,{to:"/login",replace:!0}))},Eme=()=>{const e=sr(n=>n.auth.user),t=gg();return v.useEffect(()=>{if(!(e!=null&&e.uid))return;let n,r=!1;const i=async()=>{try{const a=(await yi(Le(oe,"users",e.uid))).data();a&&a.isActive===!1&&(r||(t(Cx()),V.error("Tài khoản của bạn đã bị khoá. Vui lòng liên hệ quản trị viên."),Ki.currentUser&&await Ki.signOut()))}catch{}};return i(),n=setInterval(i,5e3),()=>{r=!0,clearInterval(n)}},[e==null?void 0:e.uid,t]),null},Pi=({children:e})=>{const{user:t,isAuthenticated:n}=sr(r=>r.auth);return!n||!t?d.jsx(Ap,{to:"/login",replace:!0}):t.role!=="admin"?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-900 via-red-800 to-red-900 flex items-center justify-center px-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-2.694-.833-3.464 0L3.349 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Truy cập bị từ chối"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Bạn không có quyền truy cập vào khu vực admin. Chỉ quản trị viên mới có thể truy cập."}),d.jsx("button",{onClick:()=>window.history.back(),className:"bg-red-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-700 transition-colors duration-200",children:"Quay lại"})]})}):d.jsx(d.Fragment,{children:e})},Tme=()=>{const[e,t]=v.useState(null),[n,r]=v.useState(!0),[i,s]=v.useState(null),{user:a}=sr(c=>c.auth);if(v.useEffect(()=>{(async()=>{if(!a){r(!1);return}try{r(!0);const u=Pe(oe,"system_notifications"),f=$t(u,wr("isActive","==",!0),ma("createdAt","desc"),vc(1)),p=await We(f);if(p.empty){t(null),r(!1);return}let m=null;p.forEach(g=>{const y=g.data();y.id=g.id,(y.targetRole==="all"||!y.targetRole||y.targetRole===a.role)&&(m=y)}),t(m)}catch(u){console.error("Error loading notifications:",u),s("Error loading notifications")}finally{r(!1)}})().catch(console.error)},[a]),n||!e)return null;if(i)return console.error("NotificationBanner error:",i),null;const o=()=>{switch(e.type){case"info":return"bg-blue-100 border-blue-500 text-blue-800";case"warning":return"bg-yellow-100 border-yellow-500 text-yellow-800";case"success":return"bg-green-100 border-green-500 text-green-800";case"error":return"bg-red-100 border-red-500 text-red-800";default:return"bg-gray-100 border-gray-500 text-gray-800"}},l=()=>{switch(e==null?void 0:e.type){case"info":return"text-blue-800 hover:text-blue-600";case"warning":return"text-yellow-800 hover:text-yellow-600";case"success":return"text-green-800 hover:text-green-600";case"error":return"text-red-800 hover:text-red-600";default:return"text-gray-800 hover:text-gray-600"}};return d.jsx("div",{className:`fixed top-0 left-0 right-0 z-50 p-4 border-l-4 ${o()} w-full shadow-md`,children:d.jsxs("div",{className:"max-w-5xl mx-auto flex justify-between items-center",children:[d.jsx("p",{className:"font-medium",children:e.message}),d.jsx("button",{onClick:()=>t(null),className:`ml-4 font-bold text-xl ${l()} hover:scale-110 transition-transform`,"aria-label":"Đóng thông báo",children:"×"})]})})},Sme=xe.lazy(()=>Vt(()=>import("./Dashboard-XvD65FtI.js"),[])),Ame=xe.lazy(()=>Vt(()=>import("./QuizList-nPnVnGAh.js"),[])),Pme=xe.lazy(()=>Vt(()=>import("./QuizPage-BYaPeiZb.js"),__vite__mapDeps([0,1]))),Ime=xe.lazy(()=>Vt(()=>import("./QuizPreviewPage-BG8eN3Fr.js"),__vite__mapDeps([2,3,4,5]))),kme=xe.lazy(()=>Vt(()=>import("./QuizReviewsPage-CyLDWBRA.js"),__vite__mapDeps([6,4,5,7,8]))),Cme=xe.lazy(()=>Vt(()=>import("./ReviewTestPage-Biq-c4jA.js"),__vite__mapDeps([9,7,8,4,5,10,11]))),tO=xe.lazy(()=>Vt(()=>import("./RealQuizListPage-3z8zd5CZ.js"),__vite__mapDeps([12,10]))),Nme=xe.lazy(()=>Vt(()=>import("./ResultPage-CgP755_a.js"),__vite__mapDeps([13,3,4,5,1]))),Ome=xe.lazy(()=>Vt(()=>import("./Profile-CnQj5BNy.js"),__vite__mapDeps([14,15,8]))),jme=xe.lazy(()=>Vt(()=>import("./FavoritesPage-7JnzB0EJ.js"),__vite__mapDeps([16,17]))),Rme=xe.lazy(()=>Vt(()=>import("./LeaderboardPage-BJzY6ugz.js"),[])),Dme=xe.lazy(()=>Vt(()=>import("./CreateQuizPage-CN7N8G8h.js"),__vite__mapDeps([18,19,20]))),nO=xe.lazy(()=>Vt(()=>import("./EditQuizPageAdvanced-BrEyz9-S.js"),__vite__mapDeps([21,15,22,11,10,23,19]))),Mme=xe.lazy(()=>Vt(()=>import("./Creator-CVzil1k5.js"),__vite__mapDeps([24,18,19,20,25,22,5]))),Lme=xe.lazy(()=>Vt(()=>import("./MyQuizzesPage-CG71TGEV.js"),__vite__mapDeps([25,22,5]))),$me=xe.lazy(()=>Vt(()=>import("./CategoryManagement-BMU534C9.js"),__vite__mapDeps([26,22,23]))),zme=xe.lazy(()=>Vt(()=>Promise.resolve().then(()=>yme),void 0)),Vme=xe.lazy(()=>Vt(()=>import("./AdminUtilities-UOsXlYbY.js"),[])),Fme=({children:e})=>{const t=gg();return v.useEffect(()=>{const n=setTimeout(()=>{t(zv())},5e3),r=QH(Ki,async i=>{if(clearTimeout(n),console.log("🔐 Auth state changed:",{user:i?{uid:i.uid,email:i.email,displayName:i.displayName,emailVerified:i.emailVerified}:null,timestamp:new Date().toISOString()}),i)try{const s=Le(oe,"users",i.uid),a=await yi(s);let o="user",l=null;if(a.exists()){if(l=a.data(),l.isDeleted||l.isActive===!1){console.log("🚫 User account is deleted/inactive, logging out"),await Ki.signOut(),t(Cx()),t(zv());return}o=l.role||"user",console.log("✅ Found user document:",{uid:i.uid,role:o,userData:l}),!i.emailVerified&&i.email!=="admin123@gmail.com"&&o!=="admin"&&console.log("📧 Email not verified for regular user, redirecting to verification")}else if(i.email==="admin123@gmail.com"){o="admin",console.log("👑 Creating admin user document");try{await Ql(s,{email:i.email,displayName:i.displayName||"Admin",role:"admin",createdAt:new Date,isActive:!0,emailVerified:!0})}catch(u){console.error("Error creating admin document:",u)}}else if(console.log("🆕 User document not found for:",i.email),i.email==="admin123@gmail.com"){console.log("👑 Creating admin user document");try{await Ql(s,{email:i.email,displayName:i.displayName||"Admin",role:"admin",createdAt:new Date,isActive:!0}),o="admin"}catch(u){console.error("Error creating admin document:",u)}}else console.log("⚠️ Regular user without document, might need role selection"),o=void 0;const c={uid:i.uid,email:i.email,displayName:i.displayName,photoURL:i.photoURL,emailVerified:i.emailVerified,role:o,needsRoleSelection:(l==null?void 0:l.needsRoleSelection)||!o};console.log("📝 Dispatching loginSuccess with:",c),t(fP(c))}catch(s){console.error("Error getting user role:",s);const a=i.email==="admin123@gmail.com"?"admin":"user";t(fP({uid:i.uid,email:i.email,displayName:i.displayName,photoURL:i.photoURL,emailVerified:i.emailVerified,role:a}))}else t(Cx());t(zv())});return()=>{clearTimeout(n),r()}},[t]),d.jsx(d.Fragment,{children:e})},Je=()=>d.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),d.jsx("span",{className:"ml-3 text-lg font-medium text-gray-700",children:"Đang tải..."})]}),Ume=()=>{const{user:e,isLoading:t,authChecked:n,isAuthenticated:r,needsRoleSelection:i}=sr(s=>s.auth);return console.log("📱 AppContent render:",{user:e?{uid:e.uid,email:e.email,role:e.role}:null,isLoading:t,authChecked:n,isAuthenticated:r,needsRoleSelection:i}),t||!n?(console.log("📱 App: Showing loading screen",{isLoading:t,authChecked:n}),d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mb-4"}),d.jsx("div",{className:"text-xl font-semibold text-gray-700",children:"Đang tải dữ liệu..."}),d.jsx("div",{className:"text-sm text-gray-500 mt-2",children:"Vui lòng đợi một chút"}),t&&d.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Đang kiểm tra xác thực..."})]})})):r&&e&&i?(console.log("📱 App: Showing role selection screen"),d.jsx(eO,{user:e,onRoleSelected:()=>window.location.reload()})):d.jsx("div",{children:d.jsxs(WU,{children:[d.jsx(ke,{path:"/landing",element:d.jsx(zI,{})}),d.jsx(ke,{path:"/home",element:d.jsx(SJ,{})}),d.jsx(ke,{path:"/test-ai",element:d.jsx(aZ,{})}),d.jsx(ke,{path:"/login",element:r?d.jsx(Ap,{to:"/dashboard",replace:!0}):d.jsx(AZ,{})}),d.jsx(ke,{path:"/dashboard",element:d.jsx(Wt,{children:d.jsx(v.Suspense,{fallback:d.jsx(Je,{}),children:d.jsx(Sme,{})})})}),d.jsx(ke,{path:"/profile",element:d.jsx(Wt,{children:d.jsx(v.Suspense,{fallback:d.jsx(Je,{}),children:d.jsx(Ome,{})})})}),d.jsx(ke,{path:"/quizzes",element:d.jsx(Wt,{children:d.jsx(v.Suspense,{fallback:d.jsx(Je,{}),children:d.jsx(Ame,{})})})}),d.jsx(ke,{path:"/quiz/:id",element:d.jsx(Wt,{children:d.jsx(v.Suspense,{fallback:d.jsx(Je,{}),children:d.jsx(Pme,{})})})}),d.jsx(ke,{path:"/quiz/:id/preview",element:d.jsx(Wt,{children:d.jsx(v.Suspense,{fallback:d.jsx(Je,{}),children:d.jsx(Ime,{})})})}),d.jsx(ke,{path:"/quiz/:id/reviews",element:d.jsx(Wt,{children:d.jsx(v.Suspense,{fallback:d.jsx(Je,{}),children:d.jsx(kme,{})})})}),d.jsx(ke,{path:"/test-reviews/:quizId",element:d.jsx(Wt,{children:d.jsx(v.Suspense,{fallback:d.jsx(Je,{}),children:d.jsx(Cme,{})})})}),d.jsx(ke,{path:"/real-quizzes",element:d.jsx(Wt,{children:d.jsx(v.Suspense,{fallback:d.jsx(Je,{}),children:d.jsx(tO,{})})})}),d.jsx(ke,{path:"/quiz/:id/edit",element:d.jsx(Wt,{requiredRole:"admin",children:d.jsx(v.Suspense,{fallback:d.jsx(Je,{}),children:d.jsx(nO,{})})})}),d.jsx(ke,{path:"/results/:attemptId",element:d.jsx(Wt,{children:d.jsx(v.Suspense,{fallback:d.jsx(Je,{}),children:d.jsx(Nme,{})})})}),d.jsx(ke,{path:"/create-quiz",element:d.jsx(Wt,{requiredRole:"admin",children:d.jsx(v.Suspense,{fallback:d.jsx(Je,{}),children:d.jsx(Dme,{})})})}),d.jsx(ke,{path:"/creator",element:d.jsx(Wt,{children:d.jsx(v.Suspense,{fallback:d.jsx(Je,{}),children:d.jsx(Mme,{})})})}),d.jsx(ke,{path:"/my-quizzes",element:d.jsx(Wt,{children:d.jsx(v.Suspense,{fallback:d.jsx(Je,{}),children:d.jsx(Lme,{})})})}),d.jsx(ke,{path:"/admin",element:d.jsx(Pi,{children:d.jsx(v.Suspense,{fallback:d.jsx(Je,{}),children:d.jsx(PZ,{})})})}),d.jsx(ke,{path:"/admin/dashboard",element:d.jsx(Ap,{to:"/admin/quiz-management",replace:!0})}),d.jsx(ke,{path:"/admin/quiz-management",element:d.jsx(Pi,{children:d.jsx(v.Suspense,{fallback:d.jsx(Je,{}),children:d.jsx(KZ,{})})})}),d.jsx(ke,{path:"/admin/users",element:d.jsx(Pi,{children:d.jsx(v.Suspense,{fallback:d.jsx(Je,{}),children:d.jsx(wk,{})})})}),d.jsx(ke,{path:"/admin/roles",element:d.jsx(Pi,{children:d.jsx(v.Suspense,{fallback:d.jsx(Je,{}),children:d.jsx(wk,{})})})}),d.jsx(ke,{path:"/admin/quiz-stats",element:d.jsx(Pi,{children:d.jsx(v.Suspense,{fallback:d.jsx(Je,{}),children:d.jsx(vme,{})})})}),d.jsx(ke,{path:"/admin/categories",element:d.jsx(Pi,{children:d.jsx(v.Suspense,{fallback:d.jsx(Je,{}),children:d.jsx($me,{})})})}),d.jsx(ke,{path:"/admin/stats-test",element:d.jsx(Pi,{children:d.jsx(v.Suspense,{fallback:d.jsx(Je,{}),children:d.jsx(zme,{})})})}),d.jsx(ke,{path:"/admin/utilities",element:d.jsx(Pi,{children:d.jsx(v.Suspense,{fallback:d.jsx(Je,{}),children:d.jsx(Vme,{})})})}),d.jsx(ke,{path:"/admin/edit-quiz/:id",element:d.jsx(Pi,{children:d.jsx(v.Suspense,{fallback:d.jsx(Je,{}),children:d.jsx(nO,{})})})}),d.jsx(ke,{path:"/real-quizzes",element:d.jsx(Wt,{children:d.jsx(v.Suspense,{fallback:d.jsx(Je,{}),children:d.jsx(tO,{})})})}),d.jsx(ke,{path:"/role-selection",element:d.jsx(Wt,{children:d.jsx(eO,{user:e,onRoleSelected:()=>window.location.reload()})})}),d.jsx(ke,{path:"/favorites",element:d.jsx(Wt,{children:d.jsx(v.Suspense,{fallback:d.jsx(Je,{}),children:d.jsx(jme,{})})})}),d.jsx(ke,{path:"/leaderboard",element:d.jsx(Wt,{children:d.jsx(v.Suspense,{fallback:d.jsx(Je,{}),children:d.jsx(Rme,{})})})}),d.jsx(ke,{path:"/",element:d.jsx(zI,{})}),d.jsx(ke,{path:"*",element:d.jsx(wme,{})})]})})};function Bme(){return d.jsx(gB,{children:d.jsx(g_,{store:jL,children:d.jsx(Fme,{children:d.jsx(bme,{children:d.jsxs("div",{className:"app-container",children:[d.jsx(Tme,{}),d.jsxs(xme,{children:[d.jsx(Eme,{}),d.jsx(Ume,{}),d.jsx(cX,{position:"top-right",autoClose:3e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,"aria-label":"notification"})]})]})})})})})}const me=e=>typeof e=="string",ou=()=>{let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n},rO=e=>e==null?"":""+e,qme=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},Kme=/###/g,iO=e=>e&&e.indexOf("###")>-1?e.replace(Kme,"."):e,sO=e=>!e||me(e),Vu=(e,t,n)=>{const r=me(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if(sO(e))return{};const s=iO(r[i]);!e[s]&&n&&(e[s]=new n),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={},++i}return sO(e)?{}:{obj:e,k:iO(r[i])}},aO=(e,t,n)=>{const{obj:r,k:i}=Vu(e,t,Object);if(r!==void 0||t.length===1){r[i]=n;return}let s=t[t.length-1],a=t.slice(0,t.length-1),o=Vu(e,a,Object);for(;o.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),o=Vu(e,a,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${s}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=n},Wme=(e,t,n,r)=>{const{obj:i,k:s}=Vu(e,t,Object);i[s]=i[s]||[],i[s].push(n)},Pm=(e,t)=>{const{obj:n,k:r}=Vu(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Hme=(e,t,n)=>{const r=Pm(e,n);return r!==void 0?r:Pm(t,n)},V5=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?me(e[r])||e[r]instanceof String||me(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):V5(e[r],t[r],n):e[r]=t[r]);return e},Wo=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Gme={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Qme=e=>me(e)?e.replace(/[&<>"'\/]/g,t=>Gme[t]):e;class Yme{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const Xme=[" ",",","?","!",";"],Jme=new Yme(20),Zme=(e,t,n)=>{t=t||"",n=n||"";const r=Xme.filter(a=>t.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const i=Jme.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let s=!i.test(e);if(!s){const a=e.indexOf(n);a>0&&!i.test(e.substring(0,a))&&(s=!0)}return s},ob=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(n);let i=e;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let a,o="";for(let l=s;l<r.length;++l)if(l!==s&&(o+=n),o+=r[l],a=i[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<r.length-1)continue;s+=l-s+1;break}i=a}return i},Rd=e=>e==null?void 0:e.replace("_","-"),ege={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,r;(r=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||r.call(n,console,t)}};class Im{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||ege,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(me(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Im(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Im(this.logger,t)}}var oi=new Im;class Ly{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([i,s])=>{for(let a=0;a<s;a++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,s])=>{for(let a=0;a<s;a++)i.apply(i,[t,...n])})}}class oO extends Ly{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r,i={}){var c,u;const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;t.indexOf(".")>-1?o=t.split("."):(o=[t,n],r&&(Array.isArray(r)?o.push(...r):me(r)&&s?o.push(...r.split(s)):o.push(r)));const l=Pm(this.data,o);return!l&&!n&&!r&&t.indexOf(".")>-1&&(t=o[0],n=o[1],r=o.slice(2).join(".")),l||!a||!me(r)?l:ob((u=(c=this.data)==null?void 0:c[t])==null?void 0:u[n],r,s)}addResource(t,n,r,i,s={silent:!1}){const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let o=[t,n];r&&(o=o.concat(a?r.split(a):r)),t.indexOf(".")>-1&&(o=t.split("."),i=n,n=o[1]),this.addNamespaces(n),aO(this.data,o,i),s.silent||this.emit("added",t,n,r,i)}addResources(t,n,r,i={silent:!1}){for(const s in r)(me(r[s])||Array.isArray(r[s]))&&this.addResource(t,n,s,r[s],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,s,a={silent:!1,skipCopy:!1}){let o=[t,n];t.indexOf(".")>-1&&(o=t.split("."),i=r,r=n,n=o[1]),this.addNamespaces(n);let l=Pm(this.data,o)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?V5(l,r,s):l={...l,...r},aO(this.data,o,l),a.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var F5={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(s=>{var a;t=((a=this.processors[s])==null?void 0:a.process(t,n,r,i))??t}),t}};const lO={},cO=e=>!me(e)&&typeof e!="boolean"&&typeof e!="number";class km extends Ly{constructor(t,n={}){super(),qme(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=oi.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const r={...n};if(t==null)return!1;const i=this.resolve(t,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const a=r&&t.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Zme(t,r,i);if(a&&!o){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:me(s)?[s]:s};const c=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(s=c.shift()),t=c.join(i)}return{key:t,namespaces:me(s)?[s]:s}}translate(t,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(t[t.length-1],i),c=l[l.length-1];let u=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const f=i.lng||this.language,p=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return p?s?{res:`${c}${u}${o}`,usedKey:o,exactUsedKey:o,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${u}${o}`:s?{res:o,usedKey:o,exactUsedKey:o,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:o;const m=this.resolve(t,i);let g=m==null?void 0:m.res;const y=(m==null?void 0:m.usedKey)||o,b=(m==null?void 0:m.exactUsedKey)||o,w=["[object Number]","[object Function]","[object RegExp]"],x=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,P=i.count!==void 0&&!me(i.count),I=km.hasDefaultValue(i),N=P?this.pluralResolver.getSuffix(f,i.count,i):"",T=i.ordinal&&P?this.pluralResolver.getSuffix(f,i.count,{ordinal:!1}):"",A=P&&!i.ordinal&&i.count===0,k=A&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${N}`]||i[`defaultValue${T}`]||i.defaultValue;let C=g;_&&!g&&I&&(C=k);const j=cO(C),D=Object.prototype.toString.apply(C);if(_&&C&&j&&w.indexOf(D)<0&&!(me(x)&&Array.isArray(C))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const R=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,C,{...i,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(m.res=R,m.usedParams=this.getUsedParamsDetails(i),m):R}if(a){const R=Array.isArray(C),Q=R?[]:{},de=R?b:y;for(const ue in C)if(Object.prototype.hasOwnProperty.call(C,ue)){const X=`${de}${a}${ue}`;I&&!g?Q[ue]=this.translate(X,{...i,defaultValue:cO(k)?k[ue]:void 0,joinArrays:!1,ns:l}):Q[ue]=this.translate(X,{...i,joinArrays:!1,ns:l}),Q[ue]===X&&(Q[ue]=C[ue])}g=Q}}else if(_&&me(x)&&Array.isArray(g))g=g.join(x),g&&(g=this.extendTranslation(g,t,i,r));else{let R=!1,Q=!1;!this.isValidLookup(g)&&I&&(R=!0,g=k),this.isValidLookup(g)||(Q=!0,g=o);const ue=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Q?void 0:g,X=I&&k!==g&&this.options.updateMissing;if(Q||R||X){if(this.logger.log(X?"updateKey":"missingKey",f,c,o,X?k:g),a){const ce=this.resolve(o,{...i,keySeparator:!1});ce&&ce.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let U=[];const G=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&G&&G[0])for(let ce=0;ce<G.length;ce++)U.push(G[ce]);else this.options.saveMissingTo==="all"?U=this.languageUtils.toResolveHierarchy(i.lng||this.language):U.push(i.lng||this.language);const ie=(ce,M,B)=>{var ne;const ae=I&&B!==g?B:ue;this.options.missingKeyHandler?this.options.missingKeyHandler(ce,c,M,ae,X,i):(ne=this.backendConnector)!=null&&ne.saveMissing&&this.backendConnector.saveMissing(ce,c,M,ae,X,i),this.emit("missingKey",ce,c,M,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?U.forEach(ce=>{const M=this.pluralResolver.getSuffixes(ce,i);A&&i[`defaultValue${this.options.pluralSeparator}zero`]&&M.indexOf(`${this.options.pluralSeparator}zero`)<0&&M.push(`${this.options.pluralSeparator}zero`),M.forEach(B=>{ie([ce],o+B,i[`defaultValue${B}`]||k)})}):ie(U,o,k))}g=this.extendTranslation(g,t,i,m,r),Q&&g===o&&this.options.appendNamespaceToMissingKey&&(g=`${c}${u}${o}`),(Q||R)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${u}${o}`:o,R?g:void 0,i))}return s?(m.res=g,m.usedParams=this.getUsedParamsDetails(i),m):g}extendTranslation(t,n,r,i,s){var l,c;if((l=this.i18nFormat)!=null&&l.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=me(t)&&(((c=r==null?void 0:r.interpolation)==null?void 0:c.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(u){const m=t.match(this.interpolator.nestingRegexp);f=m&&m.length}let p=r.replace&&!me(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),t=this.interpolator.interpolate(t,p,r.lng||this.language||i.usedLng,r),u){const m=t.match(this.interpolator.nestingRegexp),g=m&&m.length;f<g&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,(...m)=>(s==null?void 0:s[0])===m[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):this.translate(...m,n),r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,o=me(a)?[a]:a;return t!=null&&(o!=null&&o.length)&&r.applyPostProcessor!==!1&&(t=F5.handle(o,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t,n={}){let r,i,s,a,o;return me(t)&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),u=c.key;i=u;let f=c.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const p=n.count!==void 0&&!me(n.count),m=p&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(me(n.context)||typeof n.context=="number")&&n.context!=="",y=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(b=>{var w,x;this.isValidLookup(r)||(o=b,!lO[`${y[0]}-${b}`]&&((w=this.utils)!=null&&w.hasLoadedNamespace)&&!((x=this.utils)!=null&&x.hasLoadedNamespace(o))&&(lO[`${y[0]}-${b}`]=!0,this.logger.warn(`key "${i}" for languages "${y.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(_=>{var N;if(this.isValidLookup(r))return;a=_;const P=[u];if((N=this.i18nFormat)!=null&&N.addLookupKeys)this.i18nFormat.addLookupKeys(P,u,_,b,n);else{let T;p&&(T=this.pluralResolver.getSuffix(_,n.count,n));const A=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(P.push(u+T),n.ordinal&&T.indexOf(k)===0&&P.push(u+T.replace(k,this.options.pluralSeparator)),m&&P.push(u+A)),g){const C=`${u}${this.options.contextSeparator}${n.context}`;P.push(C),p&&(P.push(C+T),n.ordinal&&T.indexOf(k)===0&&P.push(C+T.replace(k,this.options.pluralSeparator)),m&&P.push(C+A))}}let I;for(;I=P.pop();)this.isValidLookup(r)||(s=I,r=this.getResource(_,b,I,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:a,usedNS:o}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r,i={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!me(t.replace);let i=r?t.replace:t;if(r&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}class uO{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=oi.create("languageUtils")}getScriptPartFromCode(t){if(t=Rd(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Rd(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(me(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),me(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),i=[],s=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return me(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):me(t)&&s(this.formatLanguageCode(t)),r.forEach(a=>{i.indexOf(a)<0&&s(this.formatLanguageCode(a))}),i}}const dO={zero:0,one:1,two:2,few:3,many:4,other:5},fO={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class tge{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=oi.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const r=Rd(t==="dev"?"en":t),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),fO;if(!t.match(/-|_/))return fO;const l=this.languageUtils.getLanguagePartFromCode(t);a=this.getRule(l,n)}return this.pluralRulesCache[s]=a,a}needsPlural(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,n,r={}){return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,s)=>dO[i]-dO[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(t,n,r={}){const i=this.getRule(t,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}}const hO=(e,t,n,r=".",i=!0)=>{let s=Hme(e,t,n);return!s&&i&&me(n)&&(s=ob(e,n,r),s===void 0&&(s=ob(t,n,r))),s},P0=e=>e.replace(/\$/g,"$$$$");class nge{constructor(t={}){var n;this.logger=oi.create("interpolator"),this.options=t,this.format=((n=t==null?void 0:t.interpolation)==null?void 0:n.format)||(r=>r),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:f,nestingPrefix:p,nestingPrefixEscaped:m,nestingSuffix:g,nestingSuffixEscaped:y,nestingOptionsSeparator:b,maxReplaces:w,alwaysFormat:x}=t.interpolation;this.escape=n!==void 0?n:Qme,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?Wo(s):a||"{{",this.suffix=o?Wo(o):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=p?Wo(p):m||Wo("$t("),this.nestingSuffix=g?Wo(g):y||Wo(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=w||1e3,this.alwaysFormat=x!==void 0?x:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,i){var m;let s,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=g=>{if(g.indexOf(this.formatSeparator)<0){const x=hO(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,r,{...i,...n,interpolationkey:g}):x}const y=g.split(this.formatSeparator),b=y.shift().trim(),w=y.join(this.formatSeparator).trim();return this.format(hO(n,l,b,this.options.keySeparator,this.options.ignoreJSONStructure),w,r,{...i,...n,interpolationkey:b})};this.resetRegExp();const u=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((m=i==null?void 0:i.interpolation)==null?void 0:m.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>P0(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?P0(this.escape(g)):P0(g)}].forEach(g=>{for(o=0;s=g.regex.exec(t);){const y=s[1].trim();if(a=c(y),a===void 0)if(typeof u=="function"){const w=u(t,s,i);a=me(w)?w:""}else if(i&&Object.prototype.hasOwnProperty.call(i,y))a="";else if(f){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${t}`),a="";else!me(a)&&!this.useRawValueToEscape&&(a=rO(a));const b=g.safeValue(a);if(t=t.replace(s[0],b),f?(g.regex.lastIndex+=a.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),t}nest(t,n,r={}){let i,s,a;const o=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const f=l.split(new RegExp(`${u}[ ]*{`));let p=`{${f[1]}`;l=f[0],p=this.interpolate(p,a);const m=p.match(/'/g),g=p.match(/"/g);(((m==null?void 0:m.length)??0)%2===0&&!g||g.length%2!==0)&&(p=p.replace(/'/g,'"'));try{a=JSON.parse(p),c&&(a={...c,...a})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,y),`${l}${u}${p}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;i=this.nestingRegexp.exec(t);){let l=[];a={...r},a=a.replace&&!me(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const c=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(c!==-1&&(l=i[1].slice(c).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),i[1]=i[1].slice(0,c)),s=n(o.call(this,i[1].trim(),a),a),s&&i[0]===t&&!me(s))return s;me(s)||(s=rO(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),s=""),l.length&&(s=l.reduce((u,f)=>this.format(u,f,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),t=t.replace(i[0],s),this.regexp.lastIndex=0}return t}}const rge=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=o.trim();n[u]||(n[u]=c),c==="false"&&(n[u]=!1),c==="true"&&(n[u]=!0),isNaN(c)||(n[u]=parseInt(c,10))}})}return{formatName:t,formatOptions:n}},pO=e=>{const t={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const a=r+JSON.stringify(s);let o=t[a];return o||(o=e(Rd(r),i),t[a]=o),o(n)}},ige=e=>(t,n,r)=>e(Rd(n),r)(t);class sge{constructor(t={}){this.logger=oi.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?pO:ige;this.formats={number:r((i,s)=>{const a=new Intl.NumberFormat(i,{...s});return o=>a.format(o)}),currency:r((i,s)=>{const a=new Intl.NumberFormat(i,{...s,style:"currency"});return o=>a.format(o)}),datetime:r((i,s)=>{const a=new Intl.DateTimeFormat(i,{...s});return o=>a.format(o)}),relativetime:r((i,s)=>{const a=new Intl.RelativeTimeFormat(i,{...s});return o=>a.format(o,s.range||"day")}),list:r((i,s)=>{const a=new Intl.ListFormat(i,{...s});return o=>a.format(o)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=pO(n)}format(t,n,r,i={}){const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(o=>o.indexOf(")")>-1)){const o=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,o)].join(this.formatSeparator)}return s.reduce((o,l)=>{var f;const{formatName:c,formatOptions:u}=rge(l);if(this.formats[c]){let p=o;try{const m=((f=i==null?void 0:i.formatParams)==null?void 0:f[i.interpolationkey])||{},g=m.locale||m.lng||i.locale||i.lng||r;p=this.formats[c](o,g,{...u,...i,...m})}catch(m){this.logger.warn(m)}return p}else this.logger.warn(`there was no format function for ${c}`);return o},t)}}const age=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class oge extends Ly{constructor(t,n,r,i={}){var s,a;super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=oi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(a=(s=this.backend)==null?void 0:s.init)==null||a.call(s,r,i.backend,i)}queueLoad(t,n,r,i){const s={},a={},o={},l={};return t.forEach(c=>{let u=!0;n.forEach(f=>{const p=`${c}|${f}`;!r.reload&&this.store.hasResourceBundle(c,f)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?a[p]===void 0&&(a[p]=!0):(this.state[p]=1,u=!1,a[p]===void 0&&(a[p]=!0),s[p]===void 0&&(s[p]=!0),l[f]===void 0&&(l[f]=!0)))}),u||(o[c]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const i=t.split("|"),s=i[0],a=i[1];n&&this.emit("failedLoading",s,a,n),!n&&r&&this.store.addResourceBundle(s,a,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const o={};this.queue.forEach(l=>{Wme(l.loaded,[s],a),age(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{o[c]||(o[c]={});const u=l.loaded[c];u.length&&u.forEach(f=>{o[c][f]===void 0&&(o[c][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r,i=0,s=this.retryTimeout,a){if(!t.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:s,callback:a});return}this.readingCalls++;const o=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,s*2,a)},s);return}a(c,u)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(t,n);c&&typeof c.then=="function"?c.then(u=>o(null,u)).catch(o):o(null,c)}catch(c){o(c)}return}return l(t,n,o)}prepareLoading(t,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();me(t)&&(t=this.languageUtils.toResolveHierarchy(t)),me(n)&&(n=[n]);const s=this.queueLoad(t,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t,n=""){const r=t.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,a),!a&&o&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,o),this.loaded(t,a,o)})}saveMissing(t,n,r,i,s,a={},o=()=>{}){var l,c,u,f,p;if((c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace&&!((f=(u=this.services)==null?void 0:u.utils)!=null&&f.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((p=this.backend)!=null&&p.create){const m={...a,isUpdate:s},g=this.backend.create.bind(this.backend);if(g.length<6)try{let y;g.length===5?y=g(t,n,r,i,m):y=g(t,n,r,i),y&&typeof y.then=="function"?y.then(b=>o(null,b)).catch(o):o(null,y)}catch(y){o(y)}else g(t,n,r,i,o,m)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}}const mO=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),me(e[1])&&(t.defaultValue=e[1]),me(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),gO=e=>{var t,n;return me(e.ns)&&(e.ns=[e.ns]),me(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),me(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},Ih=()=>{},lge=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class Dd extends Ly{constructor(t={},n){if(super(),this.options=gO(t),this.services={},this.logger=oi,this.modules={external:[]},lge(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(me(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=mO();this.options={...r,...this.options,...gO(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?oi.init(i(this.modules.logger),this.options):oi.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=sge;const u=new uO(this.options);this.store=new oO(this.options.resources,this.options);const f=this.services;f.logger=oi,f.resourceStore=this.store,f.languageUtils=u,f.pluralResolver=new tge(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(f.formatter=i(c),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new nge(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new oge(i(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(m,...g)=>{this.emit(m,...g)}),this.modules.languageDetector&&(f.languageDetector=i(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=i(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new km(this.services,this.options),this.translator.on("*",(m,...g)=>{this.emit(m,...g)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Ih),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...u)=>this.store[c](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...u)=>(this.store[c](...u),this)});const o=ou(),l=()=>{const c=(u,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(f),n(u,f)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(t,n=Ih){var s,a;let r=n;const i=me(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(f=>{f!=="cimode"&&o.indexOf(f)<0&&o.push(f)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>l(u)),(a=(s=this.options.preload)==null?void 0:s.forEach)==null||a.call(s,c=>l(c)),this.services.backendConnector.load(o,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(t,n,r){const i=ou();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=Ih),this.services.backendConnector.reload(t,n,s=>{i.resolve(),r(s)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&F5.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const r=ou();this.emit("languageChanging",t);const i=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},s=(o,l)=>{l?this.isLanguageChangingTo===t&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...c)=>this.t(...c)),n&&n(o,(...c)=>this.t(...c))},a=o=>{var u,f;!t&&!o&&this.services.languageDetector&&(o=[]);const l=me(o)?o:o&&o[0],c=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(me(o)?[o]:o);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),(f=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||f.call(u,c)),this.loadResources(c,p=>{s(p,c)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(t),r}getFixedT(t,n,r){const i=(s,a,...o)=>{let l;typeof a!="object"?l=this.options.overloadTranslationOptionHandler([s,a].concat(o)):l={...a},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const c=this.options.keySeparator||".";let u;return l.keyPrefix&&Array.isArray(s)?u=s.map(f=>`${l.keyPrefix}${c}${f}`):u=l.keyPrefix?`${l.keyPrefix}${c}${s}`:s,this.t(u,l)};return me(t)?i.lng=t:i.lngs=t,i.ns=n,i.keyPrefix=r,i}t(...t){var n;return(n=this.translator)==null?void 0:n.translate(...t)}exists(...t){var n;return(n=this.translator)==null?void 0:n.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const c=this.services.backendConnector.state[`${o}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const o=n.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,t)&&(!i||a(s,t)))}loadNamespaces(t,n){const r=ou();return this.options.ns?(me(t)&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=ou();me(t)&&(t=[t]);const i=this.options.preload||[],s=t.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=i.concat(s),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(t){var i,s;if(t||(t=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const a=new Intl.Locale(t);if(a&&a.getTextInfo){const o=a.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((s=this.services)==null?void 0:s.languageUtils)||new uO(mO());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){return new Dd(t,n)}cloneInstance(t={},n=Ih){const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},s=new Dd(i);if((t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(o=>{s[o]=this[o]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){const o=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},l[c]=Object.keys(l[c]).reduce((u,f)=>(u[f]={...l[c][f]},u),l[c]),l),{});s.store=new oO(o,i),s.services.resourceStore=s.store}return s.translator=new km(s.services,i),s.translator.on("*",(o,...l)=>{s.emit(o,...l)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const _n=Dd.createInstance();_n.createInstance=Dd.createInstance;_n.createInstance;_n.dir;_n.init;_n.loadResources;_n.reloadResources;_n.use;_n.changeLanguage;_n.getFixedT;_n.t;_n.exists;_n.setDefaultNamespace;_n.hasLoadedNamespace;_n.loadNamespaces;_n.loadLanguages;const{slice:cge,forEach:uge}=[];function dge(e){return uge.call(cge.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function fge(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const yO=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,hge=function(e,t){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(t);let s=`${e}=${i}`;if(r.maxAge>0){const a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");s+=`; Max-Age=${Math.floor(a)}`}if(r.domain){if(!yO.test(r.domain))throw new TypeError("option domain is invalid");s+=`; Domain=${r.domain}`}if(r.path){if(!yO.test(r.path))throw new TypeError("option path is invalid");s+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(s+="; Partitioned"),s},vO={create(e,t,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=hge(e,t,i)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var pge={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return vO.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:s}=t;n&&typeof document<"u"&&vO.create(n,e,r,i,s)}},mge={name:"querystring",lookup(e){var r;let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const a=i.substring(1).split("&");for(let o=0;o<a.length;o++){const l=a[o].indexOf("=");l>0&&a[o].substring(0,l)===t&&(n=a[o].substring(l+1))}}return n}},gge={name:"hash",lookup(e){var i;let{lookupHash:t,lookupFromHashIndex:n}=e,r;if(typeof window<"u"){const{hash:s}=window.location;if(s&&s.length>2){const a=s.substring(1);if(t){const o=a.split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===t&&(r=o[l].substring(c+1))}}if(r)return r;if(!r&&n>-1){const o=s.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?(i=o[typeof n=="number"?n:0])==null?void 0:i.replace("/",""):void 0}}}return r}};let Ho=null;const xO=()=>{if(Ho!==null)return Ho;try{if(Ho=typeof window<"u"&&window.localStorage!==null,!Ho)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Ho=!1}return Ho};var yge={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&xO())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&xO()&&window.localStorage.setItem(n,e)}};let Go=null;const wO=()=>{if(Go!==null)return Go;try{if(Go=typeof window<"u"&&window.sessionStorage!==null,!Go)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Go=!1}return Go};var vge={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&wO())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&wO()&&window.sessionStorage.setItem(n,e)}},xge={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let s=0;s<n.length;s++)t.push(n[s]);r&&t.push(r),i&&t.push(i)}return t.length>0?t:void 0}},wge={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const r=t||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},bge={name:"path",lookup(e){var i;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof t=="number"?t:0])==null?void 0:i.replace("/",""):void 0}},_ge={name:"subdomain",lookup(e){var i,s;let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,r=typeof window<"u"&&((s=(i=window.location)==null?void 0:i.hostname)==null?void 0:s.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let U5=!1;try{document.cookie,U5=!0}catch{}const B5=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];U5||B5.splice(1,1);const Ege=()=>({order:B5,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class q5{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=dge(n,this.options||{},Ege()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(pge),this.addDetector(mge),this.addDetector(yge),this.addDetector(vge),this.addDetector(xge),this.addDetector(wge),this.addDetector(bge),this.addDetector(_ge),this.addDetector(gge)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(r=>r!=null&&!fge(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(t,this.options)}))}}q5.type="languageDetector";const Tge={vi:{translation:{common:{loading:"Đang tải...",save:"Lưu",cancel:"Hủy",delete:"Xóa",edit:"Chỉnh sửa",create:"Tạo mới",update:"Cập nhật",search:"Tìm kiếm",filter:"Lọc",sort:"Sắp xếp",yes:"Có",no:"Không",ok:"Đồng ý",back:"Quay lại",next:"Tiếp theo",previous:"Trước đó",close:"Đóng",open:"Mở",view:"Xem",download:"Tải xuống",upload:"Tải lên"},nav:{home:"Trang chủ",quizzes:"Quiz",favorites:"Yêu thích",leaderboard:"Bảng xếp hạng",profile:"Hồ sơ",creator:"Creator",admin:"Quản trị",login:"Đăng nhập",logout:"Đăng xuất",register:"Đăng ký"},auth:{login:"Đăng nhập",register:"Đăng ký",email:"Email",password:"Mật khẩu",confirmPassword:"Xác nhận mật khẩu",displayName:"Tên hiển thị",loginSuccess:"Đăng nhập thành công!",registerSuccess:"Đăng ký thành công!",loginWithGoogle:"Đăng nhập với Google",forgotPassword:"Quên mật khẩu?",emailVerification:"Xác thực email",emailVerificationSent:"Email xác thực đã được gửi! Hãy kiểm tra hộp thư và click vào link xác thực.",emailNotVerified:"Tài khoản của bạn chưa được xác thực email. Vui lòng kiểm tra hộp thư và click vào link xác thực, sau đó thử đăng nhập lại.",welcomeBack:"Chào mừng trở lại với Quiz App",createNewAccount:"Tạo tài khoản mới"},quiz:{title:"Tiêu đề",description:"Mô tả",category:"Danh mục",difficulty:"Độ khó",duration:"Thời gian",questions:"Câu hỏi",question:"Câu hỏi",answer:"Câu trả lời",correctAnswer:"Đáp án đúng",startQuiz:"Bắt đầu Quiz",submitQuiz:"Nộp bài",score:"Điểm số",result:"Kết quả",playNow:"Chơi ngay",preview:"Xem trước",create:"Tạo Quiz",myQuizzes:"Quiz của tôi",popularQuizzes:"Quiz phổ biến",completed:"Đã hoàn thành",attempts:"Lượt chơi",averageScore:"Điểm trung bình",players:"Người chơi",tags:"Thẻ",published:"Đã xuất bản",draft:"Bản nháp"},dashboard:{welcome:"Chào mừng trở lại, {{name}}!",totalQuizzes:"Tổng số Quiz",totalUsers:"Người dùng",completedQuizzes:"Quiz hoàn thành",totalCreators:"Người tạo",realTimeData:"Dữ liệu thực tế",registered:"Đã đăng ký",pending:"Chờ cập nhật",creatorsAndAdmins:"Creator + Admin"},profile:{myProfile:"Hồ sơ của tôi",editProfile:"Chỉnh sửa hồ sơ",changePassword:"Đổi mật khẩu",currentPassword:"Mật khẩu hiện tại",newPassword:"Mật khẩu mới",confirmNewPassword:"Xác nhận mật khẩu mới",updateProfile:"Cập nhật hồ sơ",avatarUrl:"URL Avatar",passwordChangeSuccess:"Đổi mật khẩu thành công!",passwordChangeError:"Có lỗi khi đổi mật khẩu",currentPasswordRequired:"Bạn cần nhập đúng mật khẩu hiện tại để xác thực trước khi đổi mật khẩu mới"},admin:{dashboard:"Bảng điều khiển Admin",userManagement:"Quản lý người dùng",quizManagement:"Quản lý Quiz",categoryManagement:"Quản lý danh mục",statistics:"Thống kê",settings:"Cài đặt"},categories:{programming:"Lập trình",webDevelopment:"Phát triển Web",science:"Khoa học",mathematics:"Toán học",generalKnowledge:"Kiến thức tổng hợp",history:"Lịch sử",sports:"Thể thao",entertainment:"Giải trí"},difficulty:{easy:"Dễ",medium:"Trung bình",hard:"Khó"},messages:{error:"Có lỗi xảy ra",success:"Thành công",noData:"Không có dữ liệu",networkError:"Lỗi kết nối mạng",unauthorized:"Không có quyền truy cập",notFound:"Không tìm thấy",serverError:"Lỗi máy chủ"}}},en:{translation:{common:{loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",create:"Create",update:"Update",search:"Search",filter:"Filter",sort:"Sort",yes:"Yes",no:"No",ok:"OK",back:"Back",next:"Next",previous:"Previous",close:"Close",open:"Open",view:"View",download:"Download",upload:"Upload"},nav:{home:"Home",quizzes:"Quizzes",favorites:"Favorites",leaderboard:"Leaderboard",profile:"Profile",creator:"Creator",admin:"Admin",login:"Login",logout:"Logout",register:"Register"},auth:{login:"Login",register:"Register",email:"Email",password:"Password",confirmPassword:"Confirm Password",displayName:"Display Name",loginSuccess:"Login successful!",registerSuccess:"Registration successful!",loginWithGoogle:"Sign in with Google",forgotPassword:"Forgot password?",emailVerification:"Email Verification",emailVerificationSent:"Verification email sent! Please check your inbox and click the verification link.",emailNotVerified:"Your account has not been verified. Please check your email and click the verification link, then try logging in again.",welcomeBack:"Welcome back to Quiz App",createNewAccount:"Create new account"},quiz:{title:"Title",description:"Description",category:"Category",difficulty:"Difficulty",duration:"Duration",questions:"Questions",question:"Question",answer:"Answer",correctAnswer:"Correct Answer",startQuiz:"Start Quiz",submitQuiz:"Submit Quiz",score:"Score",result:"Result",playNow:"Play Now",preview:"Preview",create:"Create Quiz",myQuizzes:"My Quizzes",popularQuizzes:"Popular Quizzes",completed:"Completed",attempts:"Attempts",averageScore:"Average Score",players:"Players",tags:"Tags",published:"Published",draft:"Draft"},dashboard:{welcome:"Welcome back, {{name}}!",totalQuizzes:"Total Quizzes",totalUsers:"Users",completedQuizzes:"Completed Quizzes",totalCreators:"Creators",realTimeData:"Real-time Data",registered:"Registered",pending:"Pending Update",creatorsAndAdmins:"Creators + Admins"},profile:{myProfile:"My Profile",editProfile:"Edit Profile",changePassword:"Change Password",currentPassword:"Current Password",newPassword:"New Password",confirmNewPassword:"Confirm New Password",updateProfile:"Update Profile",avatarUrl:"Avatar URL",passwordChangeSuccess:"Password changed successfully!",passwordChangeError:"Error changing password",currentPasswordRequired:"You need to enter your current password correctly to authenticate before changing to a new password"},admin:{dashboard:"Admin Dashboard",userManagement:"User Management",quizManagement:"Quiz Management",categoryManagement:"Category Management",statistics:"Statistics",settings:"Settings"},categories:{programming:"Programming",webDevelopment:"Web Development",science:"Science",mathematics:"Mathematics",generalKnowledge:"General Knowledge",history:"History",sports:"Sports",entertainment:"Entertainment"},difficulty:{easy:"Easy",medium:"Medium",hard:"Hard"},messages:{error:"An error occurred",success:"Success",noData:"No data available",networkError:"Network error",unauthorized:"Unauthorized access",notFound:"Not found",serverError:"Server error"}}}};_n.use(q5).use(zZ).init({resources:Tge,lng:"vi",fallbackLng:"vi",detection:{order:["localStorage","navigator"],lookupLocalStorage:"i18nextLng",caches:["localStorage"]},interpolation:{escapeValue:!1}});jR(document.getElementById("root")).render(d.jsx(v.StrictMode,{children:d.jsx(g_,{store:jL,children:d.jsx(Bme,{})})}));export{Ki as $,$t as A,i0 as B,NX as C,wr as D,Ls as E,We as F,rJ as G,ML as H,UI as I,aJ as J,fJ as K,De as L,XX as M,n0 as N,FI as O,GI as P,Fge as Q,xe as R,r0 as S,gJ as T,YI as U,EJ as V,$ge as W,hh as X,ow as Y,ZX as Z,WI as _,Pge as a,Dge as a0,xc as a1,Rge as a2,Mge as a3,Tl as a4,ma as a5,t0 as a6,qI as a7,uX as a8,zge as a9,Vge as aa,Vt as ab,Age as ac,bi as ad,Wm as ae,HI as af,sZ as ag,Lge as ah,_J as b,Il as c,Ud as d,hme as e,us as f,dX as g,pX as h,hX as i,d as j,Le as k,oe as l,Et as m,jge as n,yi as o,Ql as p,Ys as q,v as r,xu as s,Pe as t,sr as u,Se as v,gg as w,Jh as x,V as y,ul as z};
