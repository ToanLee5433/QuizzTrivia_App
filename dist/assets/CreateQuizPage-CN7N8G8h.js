import{ac as Me,ad as oi,r as V,ae as Ge,j as L,z as ai,a7 as zt,S as li,I as si,R as _e,B as Se,y as Ie,af as ui,ag as ci,u as fi,q as di,t as hi,l as vi,s as En}from"./index-CNQy308a.js";import{T as An}from"./tag-BPE5MwZ4.js";const Nn={title:"",description:"",category:"programming",difficulty:"easy",duration:15,imageUrl:"",questions:[],tags:[],allowRetake:!1},pi=[{value:"programming",label:"Lập trình"},{value:"math",label:"Toán học"},{value:"science",label:"Khoa học"},{value:"history",label:"Lịch sử"},{value:"language",label:"Ngôn ngữ"},{value:"general",label:"Tổng hợp"}],gi=[{value:"easy",label:"Dễ"},{value:"medium",label:"Trung bình"},{value:"hard",label:"Khó"}],mt=["Thông tin Quiz","Câu hỏi","Xem lại & Xuất bản"];function Pe(){return Math.random().toString(36).substr(2,9)}function yi(){this.__data__=[],this.size=0}var mi=yi;function bi(e,o){return e===o||e!==e&&o!==o}var pr=bi,xi=pr;function _i(e,o){for(var i=e.length;i--;)if(xi(e[i][0],o))return i;return-1}var Rt=_i,wi=Rt,Oi=Array.prototype,Ei=Oi.splice;function Ai(e){var o=this.__data__,i=wi(o,e);if(i<0)return!1;var t=o.length-1;return i==t?o.pop():Ei.call(o,i,1),--this.size,!0}var Ni=Ai,Si=Rt;function Ti(e){var o=this.__data__,i=Si(o,e);return i<0?void 0:o[i][1]}var ki=Ti,ji=Rt;function Ri(e){return ji(this.__data__,e)>-1}var Ci=Ri,Pi=Rt;function Li(e,o){var i=this.__data__,t=Pi(i,e);return t<0?(++this.size,i.push([e,o])):i[t][1]=o,this}var Di=Li,Ii=mi,Mi=Ni,qi=ki,Bi=Ci,$i=Di;function We(e){var o=-1,i=e==null?0:e.length;for(this.clear();++o<i;){var t=e[o];this.set(t[0],t[1])}}We.prototype.clear=Ii;We.prototype.delete=Mi;We.prototype.get=qi;We.prototype.has=Bi;We.prototype.set=$i;var Ct=We,Fi=Ct;function Ui(){this.__data__=new Fi,this.size=0}var Hi=Ui;function zi(e){var o=this.__data__,i=o.delete(e);return this.size=o.size,i}var Ki=zi;function Gi(e){return this.__data__.get(e)}var Vi=Gi;function Wi(e){return this.__data__.has(e)}var Yi=Wi,Zi=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,gr=Zi,Xi=gr,Qi=typeof self=="object"&&self&&self.Object===Object&&self,Ji=Xi||Qi||Function("return this")(),qe=Ji,eo=qe,to=eo.Symbol,un=to,Sn=un,yr=Object.prototype,no=yr.hasOwnProperty,ro=yr.toString,at=Sn?Sn.toStringTag:void 0;function io(e){var o=no.call(e,at),i=e[at];try{e[at]=void 0;var t=!0}catch{}var l=ro.call(e);return t&&(o?e[at]=i:delete e[at]),l}var oo=io,ao=Object.prototype,lo=ao.toString;function so(e){return lo.call(e)}var uo=so,Tn=un,co=oo,fo=uo,ho="[object Null]",vo="[object Undefined]",kn=Tn?Tn.toStringTag:void 0;function po(e){return e==null?e===void 0?vo:ho:kn&&kn in Object(e)?co(e):fo(e)}var Pt=po;function go(e){var o=typeof e;return e!=null&&(o=="object"||o=="function")}var mr=go,yo=Pt,mo=mr,bo="[object AsyncFunction]",xo="[object Function]",_o="[object GeneratorFunction]",wo="[object Proxy]";function Oo(e){if(!mo(e))return!1;var o=yo(e);return o==xo||o==_o||o==bo||o==wo}var br=Oo,Eo=qe,Ao=Eo["__core-js_shared__"],No=Ao,Kt=No,jn=function(){var e=/[^.]+$/.exec(Kt&&Kt.keys&&Kt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function So(e){return!!jn&&jn in e}var To=So,ko=Function.prototype,jo=ko.toString;function Ro(e){if(e!=null){try{return jo.call(e)}catch{}try{return e+""}catch{}}return""}var xr=Ro,Co=br,Po=To,Lo=mr,Do=xr,Io=/[\\^$.*+?()[\]{}|]/g,Mo=/^\[object .+?Constructor\]$/,qo=Function.prototype,Bo=Object.prototype,$o=qo.toString,Fo=Bo.hasOwnProperty,Uo=RegExp("^"+$o.call(Fo).replace(Io,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ho(e){if(!Lo(e)||Po(e))return!1;var o=Co(e)?Uo:Mo;return o.test(Do(e))}var zo=Ho;function Ko(e,o){return e==null?void 0:e[o]}var Go=Ko,Vo=zo,Wo=Go;function Yo(e,o){var i=Wo(e,o);return Vo(i)?i:void 0}var Ye=Yo,Zo=Ye,Xo=qe,Qo=Zo(Xo,"Map"),cn=Qo,Jo=Ye,ea=Jo(Object,"create"),Lt=ea,Rn=Lt;function ta(){this.__data__=Rn?Rn(null):{},this.size=0}var na=ta;function ra(e){var o=this.has(e)&&delete this.__data__[e];return this.size-=o?1:0,o}var ia=ra,oa=Lt,aa="__lodash_hash_undefined__",la=Object.prototype,sa=la.hasOwnProperty;function ua(e){var o=this.__data__;if(oa){var i=o[e];return i===aa?void 0:i}return sa.call(o,e)?o[e]:void 0}var ca=ua,fa=Lt,da=Object.prototype,ha=da.hasOwnProperty;function va(e){var o=this.__data__;return fa?o[e]!==void 0:ha.call(o,e)}var pa=va,ga=Lt,ya="__lodash_hash_undefined__";function ma(e,o){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=ga&&o===void 0?ya:o,this}var ba=ma,xa=na,_a=ia,wa=ca,Oa=pa,Ea=ba;function Ze(e){var o=-1,i=e==null?0:e.length;for(this.clear();++o<i;){var t=e[o];this.set(t[0],t[1])}}Ze.prototype.clear=xa;Ze.prototype.delete=_a;Ze.prototype.get=wa;Ze.prototype.has=Oa;Ze.prototype.set=Ea;var Aa=Ze,Cn=Aa,Na=Ct,Sa=cn;function Ta(){this.size=0,this.__data__={hash:new Cn,map:new(Sa||Na),string:new Cn}}var ka=Ta;function ja(e){var o=typeof e;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?e!=="__proto__":e===null}var Ra=ja,Ca=Ra;function Pa(e,o){var i=e.__data__;return Ca(o)?i[typeof o=="string"?"string":"hash"]:i.map}var Dt=Pa,La=Dt;function Da(e){var o=La(this,e).delete(e);return this.size-=o?1:0,o}var Ia=Da,Ma=Dt;function qa(e){return Ma(this,e).get(e)}var Ba=qa,$a=Dt;function Fa(e){return $a(this,e).has(e)}var Ua=Fa,Ha=Dt;function za(e,o){var i=Ha(this,e),t=i.size;return i.set(e,o),this.size+=i.size==t?0:1,this}var Ka=za,Ga=ka,Va=Ia,Wa=Ba,Ya=Ua,Za=Ka;function Xe(e){var o=-1,i=e==null?0:e.length;for(this.clear();++o<i;){var t=e[o];this.set(t[0],t[1])}}Xe.prototype.clear=Ga;Xe.prototype.delete=Va;Xe.prototype.get=Wa;Xe.prototype.has=Ya;Xe.prototype.set=Za;var _r=Xe,Xa=Ct,Qa=cn,Ja=_r,el=200;function tl(e,o){var i=this.__data__;if(i instanceof Xa){var t=i.__data__;if(!Qa||t.length<el-1)return t.push([e,o]),this.size=++i.size,this;i=this.__data__=new Ja(t)}return i.set(e,o),this.size=i.size,this}var nl=tl,rl=Ct,il=Hi,ol=Ki,al=Vi,ll=Yi,sl=nl;function Qe(e){var o=this.__data__=new rl(e);this.size=o.size}Qe.prototype.clear=il;Qe.prototype.delete=ol;Qe.prototype.get=al;Qe.prototype.has=ll;Qe.prototype.set=sl;var ul=Qe,cl="__lodash_hash_undefined__";function fl(e){return this.__data__.set(e,cl),this}var dl=fl;function hl(e){return this.__data__.has(e)}var vl=hl,pl=_r,gl=dl,yl=vl;function Ot(e){var o=-1,i=e==null?0:e.length;for(this.__data__=new pl;++o<i;)this.add(e[o])}Ot.prototype.add=Ot.prototype.push=gl;Ot.prototype.has=yl;var ml=Ot;function bl(e,o){for(var i=-1,t=e==null?0:e.length;++i<t;)if(o(e[i],i,e))return!0;return!1}var xl=bl;function _l(e,o){return e.has(o)}var wl=_l,Ol=ml,El=xl,Al=wl,Nl=1,Sl=2;function Tl(e,o,i,t,l,y){var _=i&Nl,x=e.length,p=o.length;if(x!=p&&!(_&&p>x))return!1;var m=y.get(e),v=y.get(o);if(m&&v)return m==o&&v==e;var a=-1,n=!0,r=i&Sl?new Ol:void 0;for(y.set(e,o),y.set(o,e);++a<x;){var h=e[a],u=o[a];if(t)var d=_?t(u,h,a,o,e,y):t(h,u,a,e,o,y);if(d!==void 0){if(d)continue;n=!1;break}if(r){if(!El(o,function(c,f){if(!Al(r,f)&&(h===c||l(h,c,i,t,y)))return r.push(f)})){n=!1;break}}else if(!(h===u||l(h,u,i,t,y))){n=!1;break}}return y.delete(e),y.delete(o),n}var wr=Tl,kl=qe,jl=kl.Uint8Array,Rl=jl;function Cl(e){var o=-1,i=Array(e.size);return e.forEach(function(t,l){i[++o]=[l,t]}),i}var Pl=Cl;function Ll(e){var o=-1,i=Array(e.size);return e.forEach(function(t){i[++o]=t}),i}var Dl=Ll,Pn=un,Ln=Rl,Il=pr,Ml=wr,ql=Pl,Bl=Dl,$l=1,Fl=2,Ul="[object Boolean]",Hl="[object Date]",zl="[object Error]",Kl="[object Map]",Gl="[object Number]",Vl="[object RegExp]",Wl="[object Set]",Yl="[object String]",Zl="[object Symbol]",Xl="[object ArrayBuffer]",Ql="[object DataView]",Dn=Pn?Pn.prototype:void 0,Gt=Dn?Dn.valueOf:void 0;function Jl(e,o,i,t,l,y,_){switch(i){case Ql:if(e.byteLength!=o.byteLength||e.byteOffset!=o.byteOffset)return!1;e=e.buffer,o=o.buffer;case Xl:return!(e.byteLength!=o.byteLength||!y(new Ln(e),new Ln(o)));case Ul:case Hl:case Gl:return Il(+e,+o);case zl:return e.name==o.name&&e.message==o.message;case Vl:case Yl:return e==o+"";case Kl:var x=ql;case Wl:var p=t&$l;if(x||(x=Bl),e.size!=o.size&&!p)return!1;var m=_.get(e);if(m)return m==o;t|=Fl,_.set(e,o);var v=Ml(x(e),x(o),t,l,y,_);return _.delete(e),v;case Zl:if(Gt)return Gt.call(e)==Gt.call(o)}return!1}var es=Jl;function ts(e,o){for(var i=-1,t=o.length,l=e.length;++i<t;)e[l+i]=o[i];return e}var ns=ts,rs=Array.isArray,fn=rs,is=ns,os=fn;function as(e,o,i){var t=o(e);return os(e)?t:is(t,i(e))}var ls=as;function ss(e,o){for(var i=-1,t=e==null?0:e.length,l=0,y=[];++i<t;){var _=e[i];o(_,i,e)&&(y[l++]=_)}return y}var us=ss;function cs(){return[]}var fs=cs,ds=us,hs=fs,vs=Object.prototype,ps=vs.propertyIsEnumerable,In=Object.getOwnPropertySymbols,gs=In?function(e){return e==null?[]:(e=Object(e),ds(In(e),function(o){return ps.call(e,o)}))}:hs,ys=gs;function ms(e,o){for(var i=-1,t=Array(e);++i<e;)t[i]=o(i);return t}var bs=ms;function xs(e){return e!=null&&typeof e=="object"}var It=xs,_s=Pt,ws=It,Os="[object Arguments]";function Es(e){return ws(e)&&_s(e)==Os}var As=Es,Mn=As,Ns=It,Or=Object.prototype,Ss=Or.hasOwnProperty,Ts=Or.propertyIsEnumerable,ks=Mn(function(){return arguments}())?Mn:function(e){return Ns(e)&&Ss.call(e,"callee")&&!Ts.call(e,"callee")},js=ks,Et={exports:{}};function Rs(){return!1}var Cs=Rs;Et.exports;(function(e,o){var i=qe,t=Cs,l=o&&!o.nodeType&&o,y=l&&!0&&e&&!e.nodeType&&e,_=y&&y.exports===l,x=_?i.Buffer:void 0,p=x?x.isBuffer:void 0,m=p||t;e.exports=m})(Et,Et.exports);var Er=Et.exports,Ps=9007199254740991,Ls=/^(?:0|[1-9]\d*)$/;function Ds(e,o){var i=typeof e;return o=o??Ps,!!o&&(i=="number"||i!="symbol"&&Ls.test(e))&&e>-1&&e%1==0&&e<o}var Is=Ds,Ms=9007199254740991;function qs(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ms}var Ar=qs,Bs=Pt,$s=Ar,Fs=It,Us="[object Arguments]",Hs="[object Array]",zs="[object Boolean]",Ks="[object Date]",Gs="[object Error]",Vs="[object Function]",Ws="[object Map]",Ys="[object Number]",Zs="[object Object]",Xs="[object RegExp]",Qs="[object Set]",Js="[object String]",eu="[object WeakMap]",tu="[object ArrayBuffer]",nu="[object DataView]",ru="[object Float32Array]",iu="[object Float64Array]",ou="[object Int8Array]",au="[object Int16Array]",lu="[object Int32Array]",su="[object Uint8Array]",uu="[object Uint8ClampedArray]",cu="[object Uint16Array]",fu="[object Uint32Array]",ce={};ce[ru]=ce[iu]=ce[ou]=ce[au]=ce[lu]=ce[su]=ce[uu]=ce[cu]=ce[fu]=!0;ce[Us]=ce[Hs]=ce[tu]=ce[zs]=ce[nu]=ce[Ks]=ce[Gs]=ce[Vs]=ce[Ws]=ce[Ys]=ce[Zs]=ce[Xs]=ce[Qs]=ce[Js]=ce[eu]=!1;function du(e){return Fs(e)&&$s(e.length)&&!!ce[Bs(e)]}var hu=du;function vu(e){return function(o){return e(o)}}var pu=vu,At={exports:{}};At.exports;(function(e,o){var i=gr,t=o&&!o.nodeType&&o,l=t&&!0&&e&&!e.nodeType&&e,y=l&&l.exports===t,_=y&&i.process,x=function(){try{var p=l&&l.require&&l.require("util").types;return p||_&&_.binding&&_.binding("util")}catch{}}();e.exports=x})(At,At.exports);var gu=At.exports,yu=hu,mu=pu,qn=gu,Bn=qn&&qn.isTypedArray,bu=Bn?mu(Bn):yu,Nr=bu,xu=bs,_u=js,wu=fn,Ou=Er,Eu=Is,Au=Nr,Nu=Object.prototype,Su=Nu.hasOwnProperty;function Tu(e,o){var i=wu(e),t=!i&&_u(e),l=!i&&!t&&Ou(e),y=!i&&!t&&!l&&Au(e),_=i||t||l||y,x=_?xu(e.length,String):[],p=x.length;for(var m in e)(o||Su.call(e,m))&&!(_&&(m=="length"||l&&(m=="offset"||m=="parent")||y&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||Eu(m,p)))&&x.push(m);return x}var ku=Tu,ju=Object.prototype;function Ru(e){var o=e&&e.constructor,i=typeof o=="function"&&o.prototype||ju;return e===i}var Cu=Ru;function Pu(e,o){return function(i){return e(o(i))}}var Lu=Pu,Du=Lu,Iu=Du(Object.keys,Object),Mu=Iu,qu=Cu,Bu=Mu,$u=Object.prototype,Fu=$u.hasOwnProperty;function Uu(e){if(!qu(e))return Bu(e);var o=[];for(var i in Object(e))Fu.call(e,i)&&i!="constructor"&&o.push(i);return o}var Hu=Uu,zu=br,Ku=Ar;function Gu(e){return e!=null&&Ku(e.length)&&!zu(e)}var Vu=Gu,Wu=ku,Yu=Hu,Zu=Vu;function Xu(e){return Zu(e)?Wu(e):Yu(e)}var Qu=Xu,Ju=ls,ec=ys,tc=Qu;function nc(e){return Ju(e,tc,ec)}var rc=nc,$n=rc,ic=1,oc=Object.prototype,ac=oc.hasOwnProperty;function lc(e,o,i,t,l,y){var _=i&ic,x=$n(e),p=x.length,m=$n(o),v=m.length;if(p!=v&&!_)return!1;for(var a=p;a--;){var n=x[a];if(!(_?n in o:ac.call(o,n)))return!1}var r=y.get(e),h=y.get(o);if(r&&h)return r==o&&h==e;var u=!0;y.set(e,o),y.set(o,e);for(var d=_;++a<p;){n=x[a];var c=e[n],f=o[n];if(t)var g=_?t(f,c,n,o,e,y):t(c,f,n,e,o,y);if(!(g===void 0?c===f||l(c,f,i,t,y):g)){u=!1;break}d||(d=n=="constructor")}if(u&&!d){var s=e.constructor,b=o.constructor;s!=b&&"constructor"in e&&"constructor"in o&&!(typeof s=="function"&&s instanceof s&&typeof b=="function"&&b instanceof b)&&(u=!1)}return y.delete(e),y.delete(o),u}var sc=lc,uc=Ye,cc=qe,fc=uc(cc,"DataView"),dc=fc,hc=Ye,vc=qe,pc=hc(vc,"Promise"),gc=pc,yc=Ye,mc=qe,bc=yc(mc,"Set"),xc=bc,_c=Ye,wc=qe,Oc=_c(wc,"WeakMap"),Ec=Oc,Qt=dc,Jt=cn,en=gc,tn=xc,nn=Ec,Sr=Pt,Je=xr,Fn="[object Map]",Ac="[object Object]",Un="[object Promise]",Hn="[object Set]",zn="[object WeakMap]",Kn="[object DataView]",Nc=Je(Qt),Sc=Je(Jt),Tc=Je(en),kc=Je(tn),jc=Je(nn),ze=Sr;(Qt&&ze(new Qt(new ArrayBuffer(1)))!=Kn||Jt&&ze(new Jt)!=Fn||en&&ze(en.resolve())!=Un||tn&&ze(new tn)!=Hn||nn&&ze(new nn)!=zn)&&(ze=function(e){var o=Sr(e),i=o==Ac?e.constructor:void 0,t=i?Je(i):"";if(t)switch(t){case Nc:return Kn;case Sc:return Fn;case Tc:return Un;case kc:return Hn;case jc:return zn}return o});var Rc=ze,Vt=ul,Cc=wr,Pc=es,Lc=sc,Gn=Rc,Vn=fn,Wn=Er,Dc=Nr,Ic=1,Yn="[object Arguments]",Zn="[object Array]",bt="[object Object]",Mc=Object.prototype,Xn=Mc.hasOwnProperty;function qc(e,o,i,t,l,y){var _=Vn(e),x=Vn(o),p=_?Zn:Gn(e),m=x?Zn:Gn(o);p=p==Yn?bt:p,m=m==Yn?bt:m;var v=p==bt,a=m==bt,n=p==m;if(n&&Wn(e)){if(!Wn(o))return!1;_=!0,v=!1}if(n&&!v)return y||(y=new Vt),_||Dc(e)?Cc(e,o,i,t,l,y):Pc(e,o,p,i,t,l,y);if(!(i&Ic)){var r=v&&Xn.call(e,"__wrapped__"),h=a&&Xn.call(o,"__wrapped__");if(r||h){var u=r?e.value():e,d=h?o.value():o;return y||(y=new Vt),l(u,d,i,t,y)}}return n?(y||(y=new Vt),Lc(e,o,i,t,l,y)):!1}var Bc=qc,$c=Bc,Qn=It;function Tr(e,o,i,t,l){return e===o?!0:e==null||o==null||!Qn(e)&&!Qn(o)?e!==e&&o!==o:$c(e,o,i,t,Tr,l)}var Fc=Tr,Uc=Fc;function Hc(e,o){return Uc(e,o)}var zc=Hc,kr={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,o){(function(t,l){e.exports=l()})(typeof self<"u"?self:Me,function(){return function(i){var t={};function l(y){if(t[y])return t[y].exports;var _=t[y]={i:y,l:!1,exports:{}};return i[y].call(_.exports,_,_.exports,l),_.l=!0,_.exports}return l.m=i,l.c=t,l.d=function(y,_,x){l.o(y,_)||Object.defineProperty(y,_,{configurable:!1,enumerable:!0,get:x})},l.n=function(y){var _=y&&y.__esModule?function(){return y.default}:function(){return y};return l.d(_,"a",_),_},l.o=function(y,_){return Object.prototype.hasOwnProperty.call(y,_)},l.p="",l(l.s=109)}([function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=l(17),_=l(18),x=l(19),p=l(45),m=l(46),v=l(47),a=l(48),n=l(49),r=l(12),h=l(32),u=l(33),d=l(31),c=l(1),f={Scope:c.Scope,create:c.create,find:c.find,query:c.query,register:c.register,Container:y.default,Format:_.default,Leaf:x.default,Embed:a.default,Scroll:p.default,Block:v.default,Inline:m.default,Text:n.default,Attributor:{Attribute:r.default,Class:h.default,Style:u.default,Store:d.default}};t.default=f},function(i,t,l){var y=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var g in f)f.hasOwnProperty(g)&&(c[g]=f[g])};return function(c,f){d(c,f);function g(){this.constructor=c}c.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=function(d){y(c,d);function c(f){var g=this;return f="[Parchment] "+f,g=d.call(this,f)||this,g.message=f,g.name=g.constructor.name,g}return c}(Error);t.ParchmentError=_;var x={},p={},m={},v={};t.DATA_KEY="__blot";var a;(function(d){d[d.TYPE=3]="TYPE",d[d.LEVEL=12]="LEVEL",d[d.ATTRIBUTE=13]="ATTRIBUTE",d[d.BLOT=14]="BLOT",d[d.INLINE=7]="INLINE",d[d.BLOCK=11]="BLOCK",d[d.BLOCK_BLOT=10]="BLOCK_BLOT",d[d.INLINE_BLOT=6]="INLINE_BLOT",d[d.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",d[d.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",d[d.ANY=15]="ANY"})(a=t.Scope||(t.Scope={}));function n(d,c){var f=h(d);if(f==null)throw new _("Unable to create "+d+" blot");var g=f,s=d instanceof Node||d.nodeType===Node.TEXT_NODE?d:g.create(c);return new g(s,c)}t.create=n;function r(d,c){return c===void 0&&(c=!1),d==null?null:d[t.DATA_KEY]!=null?d[t.DATA_KEY].blot:c?r(d.parentNode,c):null}t.find=r;function h(d,c){c===void 0&&(c=a.ANY);var f;if(typeof d=="string")f=v[d]||x[d];else if(d instanceof Text||d.nodeType===Node.TEXT_NODE)f=v.text;else if(typeof d=="number")d&a.LEVEL&a.BLOCK?f=v.block:d&a.LEVEL&a.INLINE&&(f=v.inline);else if(d instanceof HTMLElement){var g=(d.getAttribute("class")||"").split(/\s+/);for(var s in g)if(f=p[g[s]],f)break;f=f||m[d.tagName]}return f==null?null:c&a.LEVEL&f.scope&&c&a.TYPE&f.scope?f:null}t.query=h;function u(){for(var d=[],c=0;c<arguments.length;c++)d[c]=arguments[c];if(d.length>1)return d.map(function(s){return u(s)});var f=d[0];if(typeof f.blotName!="string"&&typeof f.attrName!="string")throw new _("Invalid definition");if(f.blotName==="abstract")throw new _("Cannot register abstract class");if(v[f.blotName||f.attrName]=f,typeof f.keyName=="string")x[f.keyName]=f;else if(f.className!=null&&(p[f.className]=f),f.tagName!=null){Array.isArray(f.tagName)?f.tagName=f.tagName.map(function(s){return s.toUpperCase()}):f.tagName=f.tagName.toUpperCase();var g=Array.isArray(f.tagName)?f.tagName:[f.tagName];g.forEach(function(s){(m[s]==null||f.className==null)&&(m[s]=f)})}return f}t.register=u},function(i,t,l){var y=l(51),_=l(11),x=l(3),p=l(20),m="\0",v=function(a){Array.isArray(a)?this.ops=a:a!=null&&Array.isArray(a.ops)?this.ops=a.ops:this.ops=[]};v.prototype.insert=function(a,n){var r={};return a.length===0?this:(r.insert=a,n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(r.attributes=n),this.push(r))},v.prototype.delete=function(a){return a<=0?this:this.push({delete:a})},v.prototype.retain=function(a,n){if(a<=0)return this;var r={retain:a};return n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(r.attributes=n),this.push(r)},v.prototype.push=function(a){var n=this.ops.length,r=this.ops[n-1];if(a=x(!0,{},a),typeof r=="object"){if(typeof a.delete=="number"&&typeof r.delete=="number")return this.ops[n-1]={delete:r.delete+a.delete},this;if(typeof r.delete=="number"&&a.insert!=null&&(n-=1,r=this.ops[n-1],typeof r!="object"))return this.ops.unshift(a),this;if(_(a.attributes,r.attributes)){if(typeof a.insert=="string"&&typeof r.insert=="string")return this.ops[n-1]={insert:r.insert+a.insert},typeof a.attributes=="object"&&(this.ops[n-1].attributes=a.attributes),this;if(typeof a.retain=="number"&&typeof r.retain=="number")return this.ops[n-1]={retain:r.retain+a.retain},typeof a.attributes=="object"&&(this.ops[n-1].attributes=a.attributes),this}}return n===this.ops.length?this.ops.push(a):this.ops.splice(n,0,a),this},v.prototype.chop=function(){var a=this.ops[this.ops.length-1];return a&&a.retain&&!a.attributes&&this.ops.pop(),this},v.prototype.filter=function(a){return this.ops.filter(a)},v.prototype.forEach=function(a){this.ops.forEach(a)},v.prototype.map=function(a){return this.ops.map(a)},v.prototype.partition=function(a){var n=[],r=[];return this.forEach(function(h){var u=a(h)?n:r;u.push(h)}),[n,r]},v.prototype.reduce=function(a,n){return this.ops.reduce(a,n)},v.prototype.changeLength=function(){return this.reduce(function(a,n){return n.insert?a+p.length(n):n.delete?a-n.delete:a},0)},v.prototype.length=function(){return this.reduce(function(a,n){return a+p.length(n)},0)},v.prototype.slice=function(a,n){a=a||0,typeof n!="number"&&(n=1/0);for(var r=[],h=p.iterator(this.ops),u=0;u<n&&h.hasNext();){var d;u<a?d=h.next(a-u):(d=h.next(n-u),r.push(d)),u+=p.length(d)}return new v(r)},v.prototype.compose=function(a){var n=p.iterator(this.ops),r=p.iterator(a.ops),h=[],u=r.peek();if(u!=null&&typeof u.retain=="number"&&u.attributes==null){for(var d=u.retain;n.peekType()==="insert"&&n.peekLength()<=d;)d-=n.peekLength(),h.push(n.next());u.retain-d>0&&r.next(u.retain-d)}for(var c=new v(h);n.hasNext()||r.hasNext();)if(r.peekType()==="insert")c.push(r.next());else if(n.peekType()==="delete")c.push(n.next());else{var f=Math.min(n.peekLength(),r.peekLength()),g=n.next(f),s=r.next(f);if(typeof s.retain=="number"){var b={};typeof g.retain=="number"?b.retain=f:b.insert=g.insert;var S=p.attributes.compose(g.attributes,s.attributes,typeof g.retain=="number");if(S&&(b.attributes=S),c.push(b),!r.hasNext()&&_(c.ops[c.ops.length-1],b)){var E=new v(n.rest());return c.concat(E).chop()}}else typeof s.delete=="number"&&typeof g.retain=="number"&&c.push(s)}return c.chop()},v.prototype.concat=function(a){var n=new v(this.ops.slice());return a.ops.length>0&&(n.push(a.ops[0]),n.ops=n.ops.concat(a.ops.slice(1))),n},v.prototype.diff=function(a,n){if(this.ops===a.ops)return new v;var r=[this,a].map(function(f){return f.map(function(g){if(g.insert!=null)return typeof g.insert=="string"?g.insert:m;var s=f===a?"on":"with";throw new Error("diff() called "+s+" non-document")}).join("")}),h=new v,u=y(r[0],r[1],n),d=p.iterator(this.ops),c=p.iterator(a.ops);return u.forEach(function(f){for(var g=f[1].length;g>0;){var s=0;switch(f[0]){case y.INSERT:s=Math.min(c.peekLength(),g),h.push(c.next(s));break;case y.DELETE:s=Math.min(g,d.peekLength()),d.next(s),h.delete(s);break;case y.EQUAL:s=Math.min(d.peekLength(),c.peekLength(),g);var b=d.next(s),S=c.next(s);_(b.insert,S.insert)?h.retain(s,p.attributes.diff(b.attributes,S.attributes)):h.push(S).delete(s);break}g-=s}}),h.chop()},v.prototype.eachLine=function(a,n){n=n||`
`;for(var r=p.iterator(this.ops),h=new v,u=0;r.hasNext();){if(r.peekType()!=="insert")return;var d=r.peek(),c=p.length(d)-r.peekLength(),f=typeof d.insert=="string"?d.insert.indexOf(n,c)-c:-1;if(f<0)h.push(r.next());else if(f>0)h.push(r.next(f));else{if(a(h,r.next(1).attributes||{},u)===!1)return;u+=1,h=new v}}h.length()>0&&a(h,{},u)},v.prototype.transform=function(a,n){if(n=!!n,typeof a=="number")return this.transformPosition(a,n);for(var r=p.iterator(this.ops),h=p.iterator(a.ops),u=new v;r.hasNext()||h.hasNext();)if(r.peekType()==="insert"&&(n||h.peekType()!=="insert"))u.retain(p.length(r.next()));else if(h.peekType()==="insert")u.push(h.next());else{var d=Math.min(r.peekLength(),h.peekLength()),c=r.next(d),f=h.next(d);if(c.delete)continue;f.delete?u.push(f):u.retain(d,p.attributes.transform(c.attributes,f.attributes,n))}return u.chop()},v.prototype.transformPosition=function(a,n){n=!!n;for(var r=p.iterator(this.ops),h=0;r.hasNext()&&h<=a;){var u=r.peekLength(),d=r.peekType();if(r.next(),d==="delete"){a-=Math.min(u,a-h);continue}else d==="insert"&&(h<a||!n)&&(a+=u);h+=u}return a},i.exports=v},function(i,t){var l=Object.prototype.hasOwnProperty,y=Object.prototype.toString,_=Object.defineProperty,x=Object.getOwnPropertyDescriptor,p=function(r){return typeof Array.isArray=="function"?Array.isArray(r):y.call(r)==="[object Array]"},m=function(r){if(!r||y.call(r)!=="[object Object]")return!1;var h=l.call(r,"constructor"),u=r.constructor&&r.constructor.prototype&&l.call(r.constructor.prototype,"isPrototypeOf");if(r.constructor&&!h&&!u)return!1;var d;for(d in r);return typeof d>"u"||l.call(r,d)},v=function(r,h){_&&h.name==="__proto__"?_(r,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):r[h.name]=h.newValue},a=function(r,h){if(h==="__proto__")if(l.call(r,h)){if(x)return x(r,h).value}else return;return r[h]};i.exports=function n(){var r,h,u,d,c,f,g=arguments[0],s=1,b=arguments.length,S=!1;for(typeof g=="boolean"&&(S=g,g=arguments[1]||{},s=2),(g==null||typeof g!="object"&&typeof g!="function")&&(g={});s<b;++s)if(r=arguments[s],r!=null)for(h in r)u=a(g,h),d=a(r,h),g!==d&&(S&&d&&(m(d)||(c=p(d)))?(c?(c=!1,f=u&&p(u)?u:[]):f=u&&m(u)?u:{},v(g,{name:h,newValue:n(S,f,d)})):typeof d<"u"&&v(g,{name:h,newValue:d}));return g}},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var y=function(){function w(A,k){for(var R=0;R<k.length;R++){var I=k[R];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(A,I.key,I)}}return function(A,k,R){return k&&w(A.prototype,k),R&&w(A,R),A}}(),_=function w(A,k,R){A===null&&(A=Function.prototype);var I=Object.getOwnPropertyDescriptor(A,k);if(I===void 0){var U=Object.getPrototypeOf(A);return U===null?void 0:w(U,k,R)}else{if("value"in I)return I.value;var F=I.get;return F===void 0?void 0:F.call(R)}},x=l(3),p=g(x),m=l(2),v=g(m),a=l(0),n=g(a),r=l(16),h=g(r),u=l(6),d=g(u),c=l(7),f=g(c);function g(w){return w&&w.__esModule?w:{default:w}}function s(w,A){if(!(w instanceof A))throw new TypeError("Cannot call a class as a function")}function b(w,A){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:w}function S(w,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);w.prototype=Object.create(A&&A.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(w,A):w.__proto__=A)}var E=1,N=function(w){S(A,w);function A(){return s(this,A),b(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return y(A,[{key:"attach",value:function(){_(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"attach",this).call(this),this.attributes=new n.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new v.default().insert(this.value(),(0,p.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(R,I){var U=n.default.query(R,n.default.Scope.BLOCK_ATTRIBUTE);U!=null&&this.attributes.attribute(U,I)}},{key:"formatAt",value:function(R,I,U,F){this.format(U,F)}},{key:"insertAt",value:function(R,I,U){if(typeof I=="string"&&I.endsWith(`
`)){var F=n.default.create(j.blotName);this.parent.insertBefore(F,R===0?this:this.next),F.insertAt(0,I.slice(0,-1))}else _(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,R,I,U)}}]),A}(n.default.Embed);N.scope=n.default.Scope.BLOCK_BLOT;var j=function(w){S(A,w);function A(k){s(this,A);var R=b(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,k));return R.cache={},R}return y(A,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(n.default.Leaf).reduce(function(R,I){return I.length()===0?R:R.insert(I.value(),O(I))},new v.default).insert(`
`,O(this))),this.cache.delta}},{key:"deleteAt",value:function(R,I){_(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,R,I),this.cache={}}},{key:"formatAt",value:function(R,I,U,F){I<=0||(n.default.query(U,n.default.Scope.BLOCK)?R+I===this.length()&&this.format(U,F):_(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,R,Math.min(I,this.length()-R-1),U,F),this.cache={})}},{key:"insertAt",value:function(R,I,U){if(U!=null)return _(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,R,I,U);if(I.length!==0){var F=I.split(`
`),Z=F.shift();Z.length>0&&(R<this.length()-1||this.children.tail==null?_(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,Math.min(R,this.length()-1),Z):this.children.tail.insertAt(this.children.tail.length(),Z),this.cache={});var B=this;F.reduce(function(M,T){return B=B.split(M,!0),B.insertAt(0,T),T.length},R+Z.length)}}},{key:"insertBefore",value:function(R,I){var U=this.children.head;_(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,R,I),U instanceof h.default&&U.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=_(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"length",this).call(this)+E),this.cache.length}},{key:"moveChildren",value:function(R,I){_(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"moveChildren",this).call(this,R,I),this.cache={}}},{key:"optimize",value:function(R){_(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,R),this.cache={}}},{key:"path",value:function(R){return _(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,R,!0)}},{key:"removeChild",value:function(R){_(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"removeChild",this).call(this,R),this.cache={}}},{key:"split",value:function(R){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(I&&(R===0||R>=this.length()-E)){var U=this.clone();return R===0?(this.parent.insertBefore(U,this),this):(this.parent.insertBefore(U,this.next),U)}else{var F=_(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"split",this).call(this,R,I);return this.cache={},F}}}]),A}(n.default.Block);j.blotName="block",j.tagName="P",j.defaultChild="break",j.allowedChildren=[d.default,n.default.Embed,f.default];function O(w){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return w==null||(typeof w.formats=="function"&&(A=(0,p.default)(A,w.formats())),w.parent==null||w.parent.blotName=="scroll"||w.parent.statics.scope!==w.statics.scope)?A:O(w.parent,A)}t.bubbleFormats=O,t.BlockEmbed=N,t.default=j},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},_=function(){function B(M,T){var P=[],D=!0,H=!1,$=void 0;try{for(var C=M[Symbol.iterator](),q;!(D=(q=C.next()).done)&&(P.push(q.value),!(T&&P.length===T));D=!0);}catch(K){H=!0,$=K}finally{try{!D&&C.return&&C.return()}finally{if(H)throw $}}return P}return function(M,T){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return B(M,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),x=function(){function B(M,T){for(var P=0;P<T.length;P++){var D=T[P];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(M,D.key,D)}}return function(M,T,P){return T&&B(M.prototype,T),P&&B(M,P),M}}();l(50);var p=l(2),m=O(p),v=l(14),a=O(v),n=l(8),r=O(n),h=l(9),u=O(h),d=l(0),c=O(d),f=l(15),g=O(f),s=l(3),b=O(s),S=l(10),E=O(S),N=l(34),j=O(N);function O(B){return B&&B.__esModule?B:{default:B}}function w(B,M,T){return M in B?Object.defineProperty(B,M,{value:T,enumerable:!0,configurable:!0,writable:!0}):B[M]=T,B}function A(B,M){if(!(B instanceof M))throw new TypeError("Cannot call a class as a function")}var k=(0,E.default)("quill"),R=function(){x(B,null,[{key:"debug",value:function(T){T===!0&&(T="log"),E.default.level(T)}},{key:"find",value:function(T){return T.__quill||c.default.find(T)}},{key:"import",value:function(T){return this.imports[T]==null&&k.error("Cannot import "+T+". Are you sure it was registered?"),this.imports[T]}},{key:"register",value:function(T,P){var D=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof T!="string"){var $=T.attrName||T.blotName;typeof $=="string"?this.register("formats/"+$,T,P):Object.keys(T).forEach(function(C){D.register(C,T[C],P)})}else this.imports[T]!=null&&!H&&k.warn("Overwriting "+T+" with",P),this.imports[T]=P,(T.startsWith("blots/")||T.startsWith("formats/"))&&P.blotName!=="abstract"?c.default.register(P):T.startsWith("modules")&&typeof P.register=="function"&&P.register()}}]);function B(M){var T=this,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(A(this,B),this.options=I(M,P),this.container=this.options.container,this.container==null)return k.error("Invalid Quill container",M);this.options.debug&&B.debug(this.options.debug);var D=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new r.default,this.scroll=c.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new a.default(this.scroll),this.selection=new g.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(r.default.events.EDITOR_CHANGE,function($){$===r.default.events.TEXT_CHANGE&&T.root.classList.toggle("ql-blank",T.editor.isBlank())}),this.emitter.on(r.default.events.SCROLL_UPDATE,function($,C){var q=T.selection.lastRange,K=q&&q.length===0?q.index:void 0;U.call(T,function(){return T.editor.update(null,C,K)},$)});var H=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+D+"<p><br></p></div>");this.setContents(H),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return x(B,[{key:"addContainer",value:function(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof T=="string"){var D=T;T=document.createElement("div"),T.classList.add(D)}return this.container.insertBefore(T,P),T}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(T,P,D){var H=this,$=F(T,P,D),C=_($,4);return T=C[0],P=C[1],D=C[3],U.call(this,function(){return H.editor.deleteText(T,P)},D,T,-1*P)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(T),this.container.classList.toggle("ql-disabled",!T)}},{key:"focus",value:function(){var T=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=T,this.scrollIntoView()}},{key:"format",value:function(T,P){var D=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.default.sources.API;return U.call(this,function(){var $=D.getSelection(!0),C=new m.default;if($==null)return C;if(c.default.query(T,c.default.Scope.BLOCK))C=D.editor.formatLine($.index,$.length,w({},T,P));else{if($.length===0)return D.selection.format(T,P),C;C=D.editor.formatText($.index,$.length,w({},T,P))}return D.setSelection($,r.default.sources.SILENT),C},H)}},{key:"formatLine",value:function(T,P,D,H,$){var C=this,q=void 0,K=F(T,P,D,H,$),z=_(K,4);return T=z[0],P=z[1],q=z[2],$=z[3],U.call(this,function(){return C.editor.formatLine(T,P,q)},$,T,0)}},{key:"formatText",value:function(T,P,D,H,$){var C=this,q=void 0,K=F(T,P,D,H,$),z=_(K,4);return T=z[0],P=z[1],q=z[2],$=z[3],U.call(this,function(){return C.editor.formatText(T,P,q)},$,T,0)}},{key:"getBounds",value:function(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=void 0;typeof T=="number"?D=this.selection.getBounds(T,P):D=this.selection.getBounds(T.index,T.length);var H=this.container.getBoundingClientRect();return{bottom:D.bottom-H.top,height:D.height,left:D.left-H.left,right:D.right-H.left,top:D.top-H.top,width:D.width}}},{key:"getContents",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-T,D=F(T,P),H=_(D,2);return T=H[0],P=H[1],this.editor.getContents(T,P)}},{key:"getFormat",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof T=="number"?this.editor.getFormat(T,P):this.editor.getFormat(T.index,T.length)}},{key:"getIndex",value:function(T){return T.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(T){return this.scroll.leaf(T)}},{key:"getLine",value:function(T){return this.scroll.line(T)}},{key:"getLines",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof T!="number"?this.scroll.lines(T.index,T.length):this.scroll.lines(T,P)}},{key:"getModule",value:function(T){return this.theme.modules[T]}},{key:"getSelection",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return T&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-T,D=F(T,P),H=_(D,2);return T=H[0],P=H[1],this.editor.getText(T,P)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(T,P,D){var H=this,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:B.sources.API;return U.call(this,function(){return H.editor.insertEmbed(T,P,D)},$,T)}},{key:"insertText",value:function(T,P,D,H,$){var C=this,q=void 0,K=F(T,0,D,H,$),z=_(K,4);return T=z[0],q=z[2],$=z[3],U.call(this,function(){return C.editor.insertText(T,P,q)},$,T,P.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(T,P,D){this.clipboard.dangerouslyPasteHTML(T,P,D)}},{key:"removeFormat",value:function(T,P,D){var H=this,$=F(T,P,D),C=_($,4);return T=C[0],P=C[1],D=C[3],U.call(this,function(){return H.editor.removeFormat(T,P)},D,T)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(T){var P=this,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.default.sources.API;return U.call(this,function(){T=new m.default(T);var H=P.getLength(),$=P.editor.deleteText(0,H),C=P.editor.applyDelta(T),q=C.ops[C.ops.length-1];q!=null&&typeof q.insert=="string"&&q.insert[q.insert.length-1]===`
`&&(P.editor.deleteText(P.getLength()-1,1),C.delete(1));var K=$.compose(C);return K},D)}},{key:"setSelection",value:function(T,P,D){if(T==null)this.selection.setRange(null,P||B.sources.API);else{var H=F(T,P,D),$=_(H,4);T=$[0],P=$[1],D=$[3],this.selection.setRange(new f.Range(T,P),D),D!==r.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.default.sources.API,D=new m.default().insert(T);return this.setContents(D,P)}},{key:"update",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.default.sources.USER,P=this.scroll.update(T);return this.selection.update(T),P}},{key:"updateContents",value:function(T){var P=this,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.default.sources.API;return U.call(this,function(){return T=new m.default(T),P.editor.applyDelta(T,D)},D,!0)}}]),B}();R.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},R.events=r.default.events,R.sources=r.default.sources,R.version="1.3.7",R.imports={delta:m.default,parchment:c.default,"core/module":u.default,"core/theme":j.default};function I(B,M){if(M=(0,b.default)(!0,{container:B,modules:{clipboard:!0,keyboard:!0,history:!0}},M),!M.theme||M.theme===R.DEFAULTS.theme)M.theme=j.default;else if(M.theme=R.import("themes/"+M.theme),M.theme==null)throw new Error("Invalid theme "+M.theme+". Did you register it?");var T=(0,b.default)(!0,{},M.theme.DEFAULTS);[T,M].forEach(function(H){H.modules=H.modules||{},Object.keys(H.modules).forEach(function($){H.modules[$]===!0&&(H.modules[$]={})})});var P=Object.keys(T.modules).concat(Object.keys(M.modules)),D=P.reduce(function(H,$){var C=R.import("modules/"+$);return C==null?k.error("Cannot load "+$+" module. Are you sure you registered it?"):H[$]=C.DEFAULTS||{},H},{});return M.modules!=null&&M.modules.toolbar&&M.modules.toolbar.constructor!==Object&&(M.modules.toolbar={container:M.modules.toolbar}),M=(0,b.default)(!0,{},R.DEFAULTS,{modules:D},T,M),["bounds","container","scrollingContainer"].forEach(function(H){typeof M[H]=="string"&&(M[H]=document.querySelector(M[H]))}),M.modules=Object.keys(M.modules).reduce(function(H,$){return M.modules[$]&&(H[$]=M.modules[$]),H},{}),M}function U(B,M,T,P){if(this.options.strict&&!this.isEnabled()&&M===r.default.sources.USER)return new m.default;var D=T==null?null:this.getSelection(),H=this.editor.delta,$=B();if(D!=null&&(T===!0&&(T=D.index),P==null?D=Z(D,$,M):P!==0&&(D=Z(D,T,P,M)),this.setSelection(D,r.default.sources.SILENT)),$.length()>0){var C,q=[r.default.events.TEXT_CHANGE,$,H,M];if((C=this.emitter).emit.apply(C,[r.default.events.EDITOR_CHANGE].concat(q)),M!==r.default.sources.SILENT){var K;(K=this.emitter).emit.apply(K,q)}}return $}function F(B,M,T,P,D){var H={};return typeof B.index=="number"&&typeof B.length=="number"?typeof M!="number"?(D=P,P=T,T=M,M=B.length,B=B.index):(M=B.length,B=B.index):typeof M!="number"&&(D=P,P=T,T=M,M=0),(typeof T>"u"?"undefined":y(T))==="object"?(H=T,D=P):typeof T=="string"&&(P!=null?H[T]=P:D=T),D=D||r.default.sources.API,[B,M,H,D]}function Z(B,M,T,P){if(B==null)return null;var D=void 0,H=void 0;if(M instanceof m.default){var $=[B.index,B.index+B.length].map(function(z){return M.transformPosition(z,P!==r.default.sources.USER)}),C=_($,2);D=C[0],H=C[1]}else{var q=[B.index,B.index+B.length].map(function(z){return z<M||z===M&&P===r.default.sources.USER?z:T>=0?z+T:Math.max(M,z+T)}),K=_(q,2);D=K[0],H=K[1]}return new f.Range(D,H-D)}t.expandConfig=I,t.overload=F,t.default=R},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function d(c,f){for(var g=0;g<f.length;g++){var s=f[g];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(c,s.key,s)}}return function(c,f,g){return f&&d(c.prototype,f),g&&d(c,g),c}}(),_=function d(c,f,g){c===null&&(c=Function.prototype);var s=Object.getOwnPropertyDescriptor(c,f);if(s===void 0){var b=Object.getPrototypeOf(c);return b===null?void 0:d(b,f,g)}else{if("value"in s)return s.value;var S=s.get;return S===void 0?void 0:S.call(g)}},x=l(7),p=a(x),m=l(0),v=a(m);function a(d){return d&&d.__esModule?d:{default:d}}function n(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function r(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function h(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var u=function(d){h(c,d);function c(){return n(this,c),r(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return y(c,[{key:"formatAt",value:function(g,s,b,S){if(c.compare(this.statics.blotName,b)<0&&v.default.query(b,v.default.Scope.BLOT)){var E=this.isolate(g,s);S&&E.wrap(b,S)}else _(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"formatAt",this).call(this,g,s,b,S)}},{key:"optimize",value:function(g){if(_(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"optimize",this).call(this,g),this.parent instanceof c&&c.compare(this.statics.blotName,this.parent.statics.blotName)>0){var s=this.parent.isolate(this.offset(),this.length());this.moveChildren(s),s.wrap(this)}}}],[{key:"compare",value:function(g,s){var b=c.order.indexOf(g),S=c.order.indexOf(s);return b>=0||S>=0?b-S:g===s?0:g<s?-1:1}}]),c}(v.default.Inline);u.allowedChildren=[u,v.default.Embed,p.default],u.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=u},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=l(0),_=x(y);function x(n){return n&&n.__esModule?n:{default:n}}function p(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function m(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function v(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var a=function(n){v(r,n);function r(){return p(this,r),m(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return r}(_.default.Text);t.default=a},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function f(g,s){for(var b=0;b<s.length;b++){var S=s[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,s,b){return s&&f(g.prototype,s),b&&f(g,b),g}}(),_=function f(g,s,b){g===null&&(g=Function.prototype);var S=Object.getOwnPropertyDescriptor(g,s);if(S===void 0){var E=Object.getPrototypeOf(g);return E===null?void 0:f(E,s,b)}else{if("value"in S)return S.value;var N=S.get;return N===void 0?void 0:N.call(b)}},x=l(54),p=a(x),m=l(10),v=a(m);function a(f){return f&&f.__esModule?f:{default:f}}function n(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}function r(f,g){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:f}function h(f,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)}var u=(0,v.default)("quill:events"),d=["selectionchange","mousedown","mouseup","click"];d.forEach(function(f){document.addEventListener(f,function(){for(var g=arguments.length,s=Array(g),b=0;b<g;b++)s[b]=arguments[b];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(S){if(S.__quill&&S.__quill.emitter){var E;(E=S.__quill.emitter).handleDOM.apply(E,s)}})})});var c=function(f){h(g,f);function g(){n(this,g);var s=r(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));return s.listeners={},s.on("error",u.error),s}return y(g,[{key:"emit",value:function(){u.log.apply(u,arguments),_(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(b){for(var S=arguments.length,E=Array(S>1?S-1:0),N=1;N<S;N++)E[N-1]=arguments[N];(this.listeners[b.type]||[]).forEach(function(j){var O=j.node,w=j.handler;(b.target===O||O.contains(b.target))&&w.apply(void 0,[b].concat(E))})}},{key:"listenDOM",value:function(b,S,E){this.listeners[b]||(this.listeners[b]=[]),this.listeners[b].push({node:S,handler:E})}}]),g}(p.default);c.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},c.sources={API:"api",SILENT:"silent",USER:"user"},t.default=c},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});function y(x,p){if(!(x instanceof p))throw new TypeError("Cannot call a class as a function")}var _=function x(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};y(this,x),this.quill=p,this.options=m};_.DEFAULTS={},t.default=_},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=["error","warn","log","info"],_="warn";function x(m){if(y.indexOf(m)<=y.indexOf(_)){for(var v,a=arguments.length,n=Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];(v=console)[m].apply(v,n)}}function p(m){return y.reduce(function(v,a){return v[a]=x.bind(console,a,m),v},{})}x.level=p.level=function(m){_=m},t.default=p},function(i,t,l){var y=Array.prototype.slice,_=l(52),x=l(53),p=i.exports=function(n,r,h){return h||(h={}),n===r?!0:n instanceof Date&&r instanceof Date?n.getTime()===r.getTime():!n||!r||typeof n!="object"&&typeof r!="object"?h.strict?n===r:n==r:a(n,r,h)};function m(n){return n==null}function v(n){return!(!n||typeof n!="object"||typeof n.length!="number"||typeof n.copy!="function"||typeof n.slice!="function"||n.length>0&&typeof n[0]!="number")}function a(n,r,h){var u,d;if(m(n)||m(r)||n.prototype!==r.prototype)return!1;if(x(n))return x(r)?(n=y.call(n),r=y.call(r),p(n,r,h)):!1;if(v(n)){if(!v(r)||n.length!==r.length)return!1;for(u=0;u<n.length;u++)if(n[u]!==r[u])return!1;return!0}try{var c=_(n),f=_(r)}catch{return!1}if(c.length!=f.length)return!1;for(c.sort(),f.sort(),u=c.length-1;u>=0;u--)if(c[u]!=f[u])return!1;for(u=c.length-1;u>=0;u--)if(d=c[u],!p(n[d],r[d],h))return!1;return typeof n==typeof r}},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=l(1),_=function(){function x(p,m,v){v===void 0&&(v={}),this.attrName=p,this.keyName=m;var a=y.Scope.TYPE&y.Scope.ATTRIBUTE;v.scope!=null?this.scope=v.scope&y.Scope.LEVEL|a:this.scope=y.Scope.ATTRIBUTE,v.whitelist!=null&&(this.whitelist=v.whitelist)}return x.keys=function(p){return[].map.call(p.attributes,function(m){return m.name})},x.prototype.add=function(p,m){return this.canAdd(p,m)?(p.setAttribute(this.keyName,m),!0):!1},x.prototype.canAdd=function(p,m){var v=y.query(p,y.Scope.BLOT&(this.scope|y.Scope.TYPE));return v==null?!1:this.whitelist==null?!0:typeof m=="string"?this.whitelist.indexOf(m.replace(/["']/g,""))>-1:this.whitelist.indexOf(m)>-1},x.prototype.remove=function(p){p.removeAttribute(this.keyName)},x.prototype.value=function(p){var m=p.getAttribute(this.keyName);return this.canAdd(p,m)&&m?m:""},x}();t.default=_},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var y=function(){function N(j,O){var w=[],A=!0,k=!1,R=void 0;try{for(var I=j[Symbol.iterator](),U;!(A=(U=I.next()).done)&&(w.push(U.value),!(O&&w.length===O));A=!0);}catch(F){k=!0,R=F}finally{try{!A&&I.return&&I.return()}finally{if(k)throw R}}return w}return function(j,O){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return N(j,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function N(j,O){for(var w=0;w<O.length;w++){var A=O[w];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(j,A.key,A)}}return function(j,O,w){return O&&N(j.prototype,O),w&&N(j,w),j}}(),x=function N(j,O,w){j===null&&(j=Function.prototype);var A=Object.getOwnPropertyDescriptor(j,O);if(A===void 0){var k=Object.getPrototypeOf(j);return k===null?void 0:N(k,O,w)}else{if("value"in A)return A.value;var R=A.get;return R===void 0?void 0:R.call(w)}},p=l(2),m=f(p),v=l(0),a=f(v),n=l(4),r=f(n),h=l(6),u=f(h),d=l(7),c=f(d);function f(N){return N&&N.__esModule?N:{default:N}}function g(N,j){if(!(N instanceof j))throw new TypeError("Cannot call a class as a function")}function s(N,j){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:N}function b(N,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);N.prototype=Object.create(j&&j.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(N,j):N.__proto__=j)}var S=function(N){b(j,N);function j(){return g(this,j),s(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return j}(u.default);S.blotName="code",S.tagName="CODE";var E=function(N){b(j,N);function j(){return g(this,j),s(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return _(j,[{key:"delta",value:function(){var w=this,A=this.domNode.textContent;return A.endsWith(`
`)&&(A=A.slice(0,-1)),A.split(`
`).reduce(function(k,R){return k.insert(R).insert(`
`,w.formats())},new m.default)}},{key:"format",value:function(w,A){if(!(w===this.statics.blotName&&A)){var k=this.descendant(c.default,this.length()-1),R=y(k,1),I=R[0];I!=null&&I.deleteAt(I.length()-1,1),x(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"format",this).call(this,w,A)}}},{key:"formatAt",value:function(w,A,k,R){if(A!==0&&!(a.default.query(k,a.default.Scope.BLOCK)==null||k===this.statics.blotName&&R===this.statics.formats(this.domNode))){var I=this.newlineIndex(w);if(!(I<0||I>=w+A)){var U=this.newlineIndex(w,!0)+1,F=I-U+1,Z=this.isolate(U,F),B=Z.next;Z.format(k,R),B instanceof j&&B.formatAt(0,w-U+A-F,k,R)}}}},{key:"insertAt",value:function(w,A,k){if(k==null){var R=this.descendant(c.default,w),I=y(R,2),U=I[0],F=I[1];U.insertAt(F,A)}}},{key:"length",value:function(){var w=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?w:w+1}},{key:"newlineIndex",value:function(w){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(A)return this.domNode.textContent.slice(0,w).lastIndexOf(`
`);var k=this.domNode.textContent.slice(w).indexOf(`
`);return k>-1?w+k:-1}},{key:"optimize",value:function(w){this.domNode.textContent.endsWith(`
`)||this.appendChild(a.default.create("text",`
`)),x(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"optimize",this).call(this,w);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===A.statics.formats(A.domNode)&&(A.optimize(w),A.moveChildren(this),A.remove())}},{key:"replace",value:function(w){x(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replace",this).call(this,w),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(A){var k=a.default.find(A);k==null?A.parentNode.removeChild(A):k instanceof a.default.Embed?k.remove():k.unwrap()})}}],[{key:"create",value:function(w){var A=x(j.__proto__||Object.getPrototypeOf(j),"create",this).call(this,w);return A.setAttribute("spellcheck",!1),A}},{key:"formats",value:function(){return!0}}]),j}(r.default);E.blotName="code-block",E.tagName="PRE",E.TAB="  ",t.Code=S,t.default=E},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},_=function(){function B(M,T){var P=[],D=!0,H=!1,$=void 0;try{for(var C=M[Symbol.iterator](),q;!(D=(q=C.next()).done)&&(P.push(q.value),!(T&&P.length===T));D=!0);}catch(K){H=!0,$=K}finally{try{!D&&C.return&&C.return()}finally{if(H)throw $}}return P}return function(M,T){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return B(M,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),x=function(){function B(M,T){for(var P=0;P<T.length;P++){var D=T[P];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(M,D.key,D)}}return function(M,T,P){return T&&B(M.prototype,T),P&&B(M,P),M}}(),p=l(2),m=A(p),v=l(20),a=A(v),n=l(0),r=A(n),h=l(13),u=A(h),d=l(24),c=A(d),f=l(4),g=A(f),s=l(16),b=A(s),S=l(21),E=A(S),N=l(11),j=A(N),O=l(3),w=A(O);function A(B){return B&&B.__esModule?B:{default:B}}function k(B,M,T){return M in B?Object.defineProperty(B,M,{value:T,enumerable:!0,configurable:!0,writable:!0}):B[M]=T,B}function R(B,M){if(!(B instanceof M))throw new TypeError("Cannot call a class as a function")}var I=/^[ -~]*$/,U=function(){function B(M){R(this,B),this.scroll=M,this.delta=this.getDelta()}return x(B,[{key:"applyDelta",value:function(T){var P=this,D=!1;this.scroll.update();var H=this.scroll.length();return this.scroll.batchStart(),T=Z(T),T.reduce(function($,C){var q=C.retain||C.delete||C.insert.length||1,K=C.attributes||{};if(C.insert!=null){if(typeof C.insert=="string"){var z=C.insert;z.endsWith(`
`)&&D&&(D=!1,z=z.slice(0,-1)),$>=H&&!z.endsWith(`
`)&&(D=!0),P.scroll.insertAt($,z);var G=P.scroll.line($),ee=_(G,2),te=ee[0],ne=ee[1],re=(0,w.default)({},(0,f.bubbleFormats)(te));if(te instanceof g.default){var le=te.descendant(r.default.Leaf,ne),he=_(le,1),de=he[0];re=(0,w.default)(re,(0,f.bubbleFormats)(de))}K=a.default.attributes.diff(re,K)||{}}else if(y(C.insert)==="object"){var W=Object.keys(C.insert)[0];if(W==null)return $;P.scroll.insertAt($,W,C.insert[W])}H+=q}return Object.keys(K).forEach(function(Y){P.scroll.formatAt($,q,Y,K[Y])}),$+q},0),T.reduce(function($,C){return typeof C.delete=="number"?(P.scroll.deleteAt($,C.delete),$):$+(C.retain||C.insert.length||1)},0),this.scroll.batchEnd(),this.update(T)}},{key:"deleteText",value:function(T,P){return this.scroll.deleteAt(T,P),this.update(new m.default().retain(T).delete(P))}},{key:"formatLine",value:function(T,P){var D=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(H).forEach(function($){if(!(D.scroll.whitelist!=null&&!D.scroll.whitelist[$])){var C=D.scroll.lines(T,Math.max(P,1)),q=P;C.forEach(function(K){var z=K.length();if(!(K instanceof u.default))K.format($,H[$]);else{var G=T-K.offset(D.scroll),ee=K.newlineIndex(G+q)-G+1;K.formatAt(G,ee,$,H[$])}q-=z})}}),this.scroll.optimize(),this.update(new m.default().retain(T).retain(P,(0,E.default)(H)))}},{key:"formatText",value:function(T,P){var D=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(H).forEach(function($){D.scroll.formatAt(T,P,$,H[$])}),this.update(new m.default().retain(T).retain(P,(0,E.default)(H)))}},{key:"getContents",value:function(T,P){return this.delta.slice(T,T+P)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(T,P){return T.concat(P.delta())},new m.default)}},{key:"getFormat",value:function(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=[],H=[];P===0?this.scroll.path(T).forEach(function(C){var q=_(C,1),K=q[0];K instanceof g.default?D.push(K):K instanceof r.default.Leaf&&H.push(K)}):(D=this.scroll.lines(T,P),H=this.scroll.descendants(r.default.Leaf,T,P));var $=[D,H].map(function(C){if(C.length===0)return{};for(var q=(0,f.bubbleFormats)(C.shift());Object.keys(q).length>0;){var K=C.shift();if(K==null)return q;q=F((0,f.bubbleFormats)(K),q)}return q});return w.default.apply(w.default,$)}},{key:"getText",value:function(T,P){return this.getContents(T,P).filter(function(D){return typeof D.insert=="string"}).map(function(D){return D.insert}).join("")}},{key:"insertEmbed",value:function(T,P,D){return this.scroll.insertAt(T,P,D),this.update(new m.default().retain(T).insert(k({},P,D)))}},{key:"insertText",value:function(T,P){var D=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P=P.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(T,P),Object.keys(H).forEach(function($){D.scroll.formatAt(T,P.length,$,H[$])}),this.update(new m.default().retain(T).insert(P,(0,E.default)(H)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var T=this.scroll.children.head;return T.statics.blotName!==g.default.blotName||T.children.length>1?!1:T.children.head instanceof b.default}},{key:"removeFormat",value:function(T,P){var D=this.getText(T,P),H=this.scroll.line(T+P),$=_(H,2),C=$[0],q=$[1],K=0,z=new m.default;C!=null&&(C instanceof u.default?K=C.newlineIndex(q)-q+1:K=C.length()-q,z=C.delta().slice(q,q+K-1).insert(`
`));var G=this.getContents(T,P+K),ee=G.diff(new m.default().insert(D).concat(z)),te=new m.default().retain(T).concat(ee);return this.applyDelta(te)}},{key:"update",value:function(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,H=this.delta;if(P.length===1&&P[0].type==="characterData"&&P[0].target.data.match(I)&&r.default.find(P[0].target)){var $=r.default.find(P[0].target),C=(0,f.bubbleFormats)($),q=$.offset(this.scroll),K=P[0].oldValue.replace(c.default.CONTENTS,""),z=new m.default().insert(K),G=new m.default().insert($.value()),ee=new m.default().retain(q).concat(z.diff(G,D));T=ee.reduce(function(te,ne){return ne.insert?te.insert(ne.insert,C):te.push(ne)},new m.default),this.delta=H.compose(T)}else this.delta=this.getDelta(),(!T||!(0,j.default)(H.compose(T),this.delta))&&(T=H.diff(this.delta,D));return T}}]),B}();function F(B,M){return Object.keys(M).reduce(function(T,P){return B[P]==null||(M[P]===B[P]?T[P]=M[P]:Array.isArray(M[P])?M[P].indexOf(B[P])<0&&(T[P]=M[P].concat([B[P]])):T[P]=[M[P],B[P]]),T},{})}function Z(B){return B.reduce(function(M,T){if(T.insert===1){var P=(0,E.default)(T.attributes);return delete P.image,M.insert({image:T.attributes.image},P)}if(T.attributes!=null&&(T.attributes.list===!0||T.attributes.bullet===!0)&&(T=(0,E.default)(T),T.attributes.list?T.attributes.list="ordered":(T.attributes.list="bullet",delete T.attributes.bullet)),typeof T.insert=="string"){var D=T.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return M.insert(D,T.attributes)}return M.push(T)},new m.default)}t.default=U},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var y=function(){function N(j,O){var w=[],A=!0,k=!1,R=void 0;try{for(var I=j[Symbol.iterator](),U;!(A=(U=I.next()).done)&&(w.push(U.value),!(O&&w.length===O));A=!0);}catch(F){k=!0,R=F}finally{try{!A&&I.return&&I.return()}finally{if(k)throw R}}return w}return function(j,O){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return N(j,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function N(j,O){for(var w=0;w<O.length;w++){var A=O[w];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(j,A.key,A)}}return function(j,O,w){return O&&N(j.prototype,O),w&&N(j,w),j}}(),x=l(0),p=c(x),m=l(21),v=c(m),a=l(11),n=c(a),r=l(8),h=c(r),u=l(10),d=c(u);function c(N){return N&&N.__esModule?N:{default:N}}function f(N){if(Array.isArray(N)){for(var j=0,O=Array(N.length);j<N.length;j++)O[j]=N[j];return O}else return Array.from(N)}function g(N,j){if(!(N instanceof j))throw new TypeError("Cannot call a class as a function")}var s=(0,d.default)("quill:selection"),b=function N(j){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;g(this,N),this.index=j,this.length=O},S=function(){function N(j,O){var w=this;g(this,N),this.emitter=O,this.scroll=j,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=p.default.create("cursor",this),this.lastRange=this.savedRange=new b(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){w.mouseDown||setTimeout(w.update.bind(w,h.default.sources.USER),1)}),this.emitter.on(h.default.events.EDITOR_CHANGE,function(A,k){A===h.default.events.TEXT_CHANGE&&k.length()>0&&w.update(h.default.sources.SILENT)}),this.emitter.on(h.default.events.SCROLL_BEFORE_UPDATE,function(){if(w.hasFocus()){var A=w.getNativeRange();A!=null&&A.start.node!==w.cursor.textNode&&w.emitter.once(h.default.events.SCROLL_UPDATE,function(){try{w.setNativeRange(A.start.node,A.start.offset,A.end.node,A.end.offset)}catch{}})}}),this.emitter.on(h.default.events.SCROLL_OPTIMIZE,function(A,k){if(k.range){var R=k.range,I=R.startNode,U=R.startOffset,F=R.endNode,Z=R.endOffset;w.setNativeRange(I,U,F,Z)}}),this.update(h.default.sources.SILENT)}return _(N,[{key:"handleComposition",value:function(){var O=this;this.root.addEventListener("compositionstart",function(){O.composing=!0}),this.root.addEventListener("compositionend",function(){if(O.composing=!1,O.cursor.parent){var w=O.cursor.restore();if(!w)return;setTimeout(function(){O.setNativeRange(w.startNode,w.startOffset,w.endNode,w.endOffset)},1)}})}},{key:"handleDragging",value:function(){var O=this;this.emitter.listenDOM("mousedown",document.body,function(){O.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){O.mouseDown=!1,O.update(h.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(O,w){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[O])){this.scroll.update();var A=this.getNativeRange();if(!(A==null||!A.native.collapsed||p.default.query(O,p.default.Scope.BLOCK))){if(A.start.node!==this.cursor.textNode){var k=p.default.find(A.start.node,!1);if(k==null)return;if(k instanceof p.default.Leaf){var R=k.split(A.start.offset);k.parent.insertBefore(this.cursor,R)}else k.insertBefore(this.cursor,A.start.node);this.cursor.attach()}this.cursor.format(O,w),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(O){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=this.scroll.length();O=Math.min(O,A-1),w=Math.min(O+w,A-1)-O;var k=void 0,R=this.scroll.leaf(O),I=y(R,2),U=I[0],F=I[1];if(U==null)return null;var Z=U.position(F,!0),B=y(Z,2);k=B[0],F=B[1];var M=document.createRange();if(w>0){M.setStart(k,F);var T=this.scroll.leaf(O+w),P=y(T,2);if(U=P[0],F=P[1],U==null)return null;var D=U.position(F,!0),H=y(D,2);return k=H[0],F=H[1],M.setEnd(k,F),M.getBoundingClientRect()}else{var $="left",C=void 0;return k instanceof Text?(F<k.data.length?(M.setStart(k,F),M.setEnd(k,F+1)):(M.setStart(k,F-1),M.setEnd(k,F),$="right"),C=M.getBoundingClientRect()):(C=U.domNode.getBoundingClientRect(),F>0&&($="right")),{bottom:C.top+C.height,height:C.height,left:C[$],right:C[$],top:C.top,width:0}}}},{key:"getNativeRange",value:function(){var O=document.getSelection();if(O==null||O.rangeCount<=0)return null;var w=O.getRangeAt(0);if(w==null)return null;var A=this.normalizeNative(w);return s.info("getNativeRange",A),A}},{key:"getRange",value:function(){var O=this.getNativeRange();if(O==null)return[null,null];var w=this.normalizedToRange(O);return[w,O]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(O){var w=this,A=[[O.start.node,O.start.offset]];O.native.collapsed||A.push([O.end.node,O.end.offset]);var k=A.map(function(U){var F=y(U,2),Z=F[0],B=F[1],M=p.default.find(Z,!0),T=M.offset(w.scroll);return B===0?T:M instanceof p.default.Container?T+M.length():T+M.index(Z,B)}),R=Math.min(Math.max.apply(Math,f(k)),this.scroll.length()-1),I=Math.min.apply(Math,[R].concat(f(k)));return new b(I,R-I)}},{key:"normalizeNative",value:function(O){if(!E(this.root,O.startContainer)||!O.collapsed&&!E(this.root,O.endContainer))return null;var w={start:{node:O.startContainer,offset:O.startOffset},end:{node:O.endContainer,offset:O.endOffset},native:O};return[w.start,w.end].forEach(function(A){for(var k=A.node,R=A.offset;!(k instanceof Text)&&k.childNodes.length>0;)if(k.childNodes.length>R)k=k.childNodes[R],R=0;else if(k.childNodes.length===R)k=k.lastChild,R=k instanceof Text?k.data.length:k.childNodes.length+1;else break;A.node=k,A.offset=R}),w}},{key:"rangeToNative",value:function(O){var w=this,A=O.collapsed?[O.index]:[O.index,O.index+O.length],k=[],R=this.scroll.length();return A.forEach(function(I,U){I=Math.min(R-1,I);var F=void 0,Z=w.scroll.leaf(I),B=y(Z,2),M=B[0],T=B[1],P=M.position(T,U!==0),D=y(P,2);F=D[0],T=D[1],k.push(F,T)}),k.length<2&&(k=k.concat(k)),k}},{key:"scrollIntoView",value:function(O){var w=this.lastRange;if(w!=null){var A=this.getBounds(w.index,w.length);if(A!=null){var k=this.scroll.length()-1,R=this.scroll.line(Math.min(w.index,k)),I=y(R,1),U=I[0],F=U;if(w.length>0){var Z=this.scroll.line(Math.min(w.index+w.length,k)),B=y(Z,1);F=B[0]}if(!(U==null||F==null)){var M=O.getBoundingClientRect();A.top<M.top?O.scrollTop-=M.top-A.top:A.bottom>M.bottom&&(O.scrollTop+=A.bottom-M.bottom)}}}}},{key:"setNativeRange",value:function(O,w){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:w,R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(s.info("setNativeRange",O,w,A,k),!(O!=null&&(this.root.parentNode==null||O.parentNode==null||A.parentNode==null))){var I=document.getSelection();if(I!=null)if(O!=null){this.hasFocus()||this.root.focus();var U=(this.getNativeRange()||{}).native;if(U==null||R||O!==U.startContainer||w!==U.startOffset||A!==U.endContainer||k!==U.endOffset){O.tagName=="BR"&&(w=[].indexOf.call(O.parentNode.childNodes,O),O=O.parentNode),A.tagName=="BR"&&(k=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode);var F=document.createRange();F.setStart(O,w),F.setEnd(A,k),I.removeAllRanges(),I.addRange(F)}}else I.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(O){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;if(typeof w=="string"&&(A=w,w=!1),s.info("setRange",O),O!=null){var k=this.rangeToNative(O);this.setNativeRange.apply(this,f(k).concat([w]))}else this.setNativeRange(null);this.update(A)}},{key:"update",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.default.sources.USER,w=this.lastRange,A=this.getRange(),k=y(A,2),R=k[0],I=k[1];if(this.lastRange=R,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,n.default)(w,this.lastRange)){var U;!this.composing&&I!=null&&I.native.collapsed&&I.start.node!==this.cursor.textNode&&this.cursor.restore();var F=[h.default.events.SELECTION_CHANGE,(0,v.default)(this.lastRange),(0,v.default)(w),O];if((U=this.emitter).emit.apply(U,[h.default.events.EDITOR_CHANGE].concat(F)),O!==h.default.sources.SILENT){var Z;(Z=this.emitter).emit.apply(Z,F)}}}}]),N}();function E(N,j){try{j.parentNode}catch{return!1}return j instanceof Text&&(j=j.parentNode),N.contains(j)}t.Range=b,t.default=S},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function h(u,d){for(var c=0;c<d.length;c++){var f=d[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,d,c){return d&&h(u.prototype,d),c&&h(u,c),u}}(),_=function h(u,d,c){u===null&&(u=Function.prototype);var f=Object.getOwnPropertyDescriptor(u,d);if(f===void 0){var g=Object.getPrototypeOf(u);return g===null?void 0:h(g,d,c)}else{if("value"in f)return f.value;var s=f.get;return s===void 0?void 0:s.call(c)}},x=l(0),p=m(x);function m(h){return h&&h.__esModule?h:{default:h}}function v(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}function a(h,u){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:h}function n(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);h.prototype=Object.create(u&&u.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(h,u):h.__proto__=u)}var r=function(h){n(u,h);function u(){return v(this,u),a(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return y(u,[{key:"insertInto",value:function(c,f){c.children.length===0?_(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"insertInto",this).call(this,c,f):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),u}(p.default.Embed);r.blotName="break",r.tagName="BR",t.default=r},function(i,t,l){var y=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var h in r)r.hasOwnProperty(h)&&(n[h]=r[h])};return function(n,r){a(n,r);function h(){this.constructor=n}n.prototype=r===null?Object.create(r):(h.prototype=r.prototype,new h)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=l(44),x=l(30),p=l(1),m=function(a){y(n,a);function n(r){var h=a.call(this,r)||this;return h.build(),h}return n.prototype.appendChild=function(r){this.insertBefore(r)},n.prototype.attach=function(){a.prototype.attach.call(this),this.children.forEach(function(r){r.attach()})},n.prototype.build=function(){var r=this;this.children=new _.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(h){try{var u=v(h);r.insertBefore(u,r.children.head||void 0)}catch(d){if(d instanceof p.ParchmentError)return;throw d}})},n.prototype.deleteAt=function(r,h){if(r===0&&h===this.length())return this.remove();this.children.forEachAt(r,h,function(u,d,c){u.deleteAt(d,c)})},n.prototype.descendant=function(r,h){var u=this.children.find(h),d=u[0],c=u[1];return r.blotName==null&&r(d)||r.blotName!=null&&d instanceof r?[d,c]:d instanceof n?d.descendant(r,c):[null,-1]},n.prototype.descendants=function(r,h,u){h===void 0&&(h=0),u===void 0&&(u=Number.MAX_VALUE);var d=[],c=u;return this.children.forEachAt(h,u,function(f,g,s){(r.blotName==null&&r(f)||r.blotName!=null&&f instanceof r)&&d.push(f),f instanceof n&&(d=d.concat(f.descendants(r,g,c))),c-=s}),d},n.prototype.detach=function(){this.children.forEach(function(r){r.detach()}),a.prototype.detach.call(this)},n.prototype.formatAt=function(r,h,u,d){this.children.forEachAt(r,h,function(c,f,g){c.formatAt(f,g,u,d)})},n.prototype.insertAt=function(r,h,u){var d=this.children.find(r),c=d[0],f=d[1];if(c)c.insertAt(f,h,u);else{var g=u==null?p.create("text",h):p.create(h,u);this.appendChild(g)}},n.prototype.insertBefore=function(r,h){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(u){return r instanceof u}))throw new p.ParchmentError("Cannot insert "+r.statics.blotName+" into "+this.statics.blotName);r.insertInto(this,h)},n.prototype.length=function(){return this.children.reduce(function(r,h){return r+h.length()},0)},n.prototype.moveChildren=function(r,h){this.children.forEach(function(u){r.insertBefore(u,h)})},n.prototype.optimize=function(r){if(a.prototype.optimize.call(this,r),this.children.length===0)if(this.statics.defaultChild!=null){var h=p.create(this.statics.defaultChild);this.appendChild(h),h.optimize(r)}else this.remove()},n.prototype.path=function(r,h){h===void 0&&(h=!1);var u=this.children.find(r,h),d=u[0],c=u[1],f=[[this,r]];return d instanceof n?f.concat(d.path(c,h)):(d!=null&&f.push([d,c]),f)},n.prototype.removeChild=function(r){this.children.remove(r)},n.prototype.replace=function(r){r instanceof n&&r.moveChildren(this),a.prototype.replace.call(this,r)},n.prototype.split=function(r,h){if(h===void 0&&(h=!1),!h){if(r===0)return this;if(r===this.length())return this.next}var u=this.clone();return this.parent.insertBefore(u,this.next),this.children.forEachAt(r,this.length(),function(d,c,f){d=d.split(c,h),u.appendChild(d)}),u},n.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},n.prototype.update=function(r,h){var u=this,d=[],c=[];r.forEach(function(f){f.target===u.domNode&&f.type==="childList"&&(d.push.apply(d,f.addedNodes),c.push.apply(c,f.removedNodes))}),c.forEach(function(f){if(!(f.parentNode!=null&&f.tagName!=="IFRAME"&&document.body.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var g=p.find(f);g!=null&&(g.domNode.parentNode==null||g.domNode.parentNode===u.domNode)&&g.detach()}}),d.filter(function(f){return f.parentNode==u.domNode}).sort(function(f,g){return f===g?0:f.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(f){var g=null;f.nextSibling!=null&&(g=p.find(f.nextSibling));var s=v(f);(s.next!=g||s.next==null)&&(s.parent!=null&&s.parent.removeChild(u),u.insertBefore(s,g||void 0))})},n}(x.default);function v(a){var n=p.find(a);if(n==null)try{n=p.create(a)}catch{n=p.create(p.Scope.INLINE),[].slice.call(a.childNodes).forEach(function(h){n.domNode.appendChild(h)}),a.parentNode&&a.parentNode.replaceChild(n.domNode,a),n.attach()}return n}t.default=m},function(i,t,l){var y=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var h in r)r.hasOwnProperty(h)&&(n[h]=r[h])};return function(n,r){a(n,r);function h(){this.constructor=n}n.prototype=r===null?Object.create(r):(h.prototype=r.prototype,new h)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=l(12),x=l(31),p=l(17),m=l(1),v=function(a){y(n,a);function n(r){var h=a.call(this,r)||this;return h.attributes=new x.default(h.domNode),h}return n.formats=function(r){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return r.tagName.toLowerCase()},n.prototype.format=function(r,h){var u=m.query(r);u instanceof _.default?this.attributes.attribute(u,h):h&&u!=null&&(r!==this.statics.blotName||this.formats()[r]!==h)&&this.replaceWith(r,h)},n.prototype.formats=function(){var r=this.attributes.values(),h=this.statics.formats(this.domNode);return h!=null&&(r[this.statics.blotName]=h),r},n.prototype.replaceWith=function(r,h){var u=a.prototype.replaceWith.call(this,r,h);return this.attributes.copy(u),u},n.prototype.update=function(r,h){var u=this;a.prototype.update.call(this,r,h),r.some(function(d){return d.target===u.domNode&&d.type==="attributes"})&&this.attributes.build()},n.prototype.wrap=function(r,h){var u=a.prototype.wrap.call(this,r,h);return u instanceof n&&u.statics.scope===this.statics.scope&&this.attributes.move(u),u},n}(p.default);t.default=v},function(i,t,l){var y=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,a){v.__proto__=a}||function(v,a){for(var n in a)a.hasOwnProperty(n)&&(v[n]=a[n])};return function(v,a){m(v,a);function n(){this.constructor=v}v.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=l(30),x=l(1),p=function(m){y(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.value=function(a){return!0},v.prototype.index=function(a,n){return this.domNode===a||this.domNode.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(n,1):-1},v.prototype.position=function(a,n){var r=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return a>0&&(r+=1),[this.parent.domNode,r]},v.prototype.value=function(){var a;return a={},a[this.statics.blotName]=this.statics.value(this.domNode)||!0,a},v.scope=x.Scope.INLINE_BLOT,v}(_.default);t.default=p},function(i,t,l){var y=l(11),_=l(3),x={attributes:{compose:function(m,v,a){typeof m!="object"&&(m={}),typeof v!="object"&&(v={});var n=_(!0,{},v);a||(n=Object.keys(n).reduce(function(h,u){return n[u]!=null&&(h[u]=n[u]),h},{}));for(var r in m)m[r]!==void 0&&v[r]===void 0&&(n[r]=m[r]);return Object.keys(n).length>0?n:void 0},diff:function(m,v){typeof m!="object"&&(m={}),typeof v!="object"&&(v={});var a=Object.keys(m).concat(Object.keys(v)).reduce(function(n,r){return y(m[r],v[r])||(n[r]=v[r]===void 0?null:v[r]),n},{});return Object.keys(a).length>0?a:void 0},transform:function(m,v,a){if(typeof m!="object")return v;if(typeof v=="object"){if(!a)return v;var n=Object.keys(v).reduce(function(r,h){return m[h]===void 0&&(r[h]=v[h]),r},{});return Object.keys(n).length>0?n:void 0}}},iterator:function(m){return new p(m)},length:function(m){return typeof m.delete=="number"?m.delete:typeof m.retain=="number"?m.retain:typeof m.insert=="string"?m.insert.length:1}};function p(m){this.ops=m,this.index=0,this.offset=0}p.prototype.hasNext=function(){return this.peekLength()<1/0},p.prototype.next=function(m){m||(m=1/0);var v=this.ops[this.index];if(v){var a=this.offset,n=x.length(v);if(m>=n-a?(m=n-a,this.index+=1,this.offset=0):this.offset+=m,typeof v.delete=="number")return{delete:m};var r={};return v.attributes&&(r.attributes=v.attributes),typeof v.retain=="number"?r.retain=m:typeof v.insert=="string"?r.insert=v.insert.substr(a,m):r.insert=v.insert,r}else return{retain:1/0}},p.prototype.peek=function(){return this.ops[this.index]},p.prototype.peekLength=function(){return this.ops[this.index]?x.length(this.ops[this.index])-this.offset:1/0},p.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},p.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var m=this.offset,v=this.index,a=this.next(),n=this.ops.slice(this.index);return this.offset=m,this.index=v,[a].concat(n)}else return[]},i.exports=x},function(i,t){var l=function(){function y(u,d){return d!=null&&u instanceof d}var _;try{_=Map}catch{_=function(){}}var x;try{x=Set}catch{x=function(){}}var p;try{p=Promise}catch{p=function(){}}function m(u,d,c,f,g){typeof d=="object"&&(c=d.depth,f=d.prototype,g=d.includeNonEnumerable,d=d.circular);var s=[],b=[],S=typeof Buffer<"u";typeof d>"u"&&(d=!0),typeof c>"u"&&(c=1/0);function E(N,j){if(N===null)return null;if(j===0)return N;var O,w;if(typeof N!="object")return N;if(y(N,_))O=new _;else if(y(N,x))O=new x;else if(y(N,p))O=new p(function(M,T){N.then(function(P){M(E(P,j-1))},function(P){T(E(P,j-1))})});else if(m.__isArray(N))O=[];else if(m.__isRegExp(N))O=new RegExp(N.source,h(N)),N.lastIndex&&(O.lastIndex=N.lastIndex);else if(m.__isDate(N))O=new Date(N.getTime());else{if(S&&Buffer.isBuffer(N))return Buffer.allocUnsafe?O=Buffer.allocUnsafe(N.length):O=new Buffer(N.length),N.copy(O),O;y(N,Error)?O=Object.create(N):typeof f>"u"?(w=Object.getPrototypeOf(N),O=Object.create(w)):(O=Object.create(f),w=f)}if(d){var A=s.indexOf(N);if(A!=-1)return b[A];s.push(N),b.push(O)}y(N,_)&&N.forEach(function(M,T){var P=E(T,j-1),D=E(M,j-1);O.set(P,D)}),y(N,x)&&N.forEach(function(M){var T=E(M,j-1);O.add(T)});for(var k in N){var R;w&&(R=Object.getOwnPropertyDescriptor(w,k)),!(R&&R.set==null)&&(O[k]=E(N[k],j-1))}if(Object.getOwnPropertySymbols)for(var I=Object.getOwnPropertySymbols(N),k=0;k<I.length;k++){var U=I[k],F=Object.getOwnPropertyDescriptor(N,U);F&&!F.enumerable&&!g||(O[U]=E(N[U],j-1),F.enumerable||Object.defineProperty(O,U,{enumerable:!1}))}if(g)for(var Z=Object.getOwnPropertyNames(N),k=0;k<Z.length;k++){var B=Z[k],F=Object.getOwnPropertyDescriptor(N,B);F&&F.enumerable||(O[B]=E(N[B],j-1),Object.defineProperty(O,B,{enumerable:!1}))}return O}return E(u,c)}m.clonePrototype=function(d){if(d===null)return null;var c=function(){};return c.prototype=d,new c};function v(u){return Object.prototype.toString.call(u)}m.__objToStr=v;function a(u){return typeof u=="object"&&v(u)==="[object Date]"}m.__isDate=a;function n(u){return typeof u=="object"&&v(u)==="[object Array]"}m.__isArray=n;function r(u){return typeof u=="object"&&v(u)==="[object RegExp]"}m.__isRegExp=r;function h(u){var d="";return u.global&&(d+="g"),u.ignoreCase&&(d+="i"),u.multiline&&(d+="m"),d}return m.__getRegExpFlags=h,m}();typeof i=="object"&&i.exports&&(i.exports=l)},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function O(w,A){var k=[],R=!0,I=!1,U=void 0;try{for(var F=w[Symbol.iterator](),Z;!(R=(Z=F.next()).done)&&(k.push(Z.value),!(A&&k.length===A));R=!0);}catch(B){I=!0,U=B}finally{try{!R&&F.return&&F.return()}finally{if(I)throw U}}return k}return function(w,A){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return O(w,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function O(w,A){for(var k=0;k<A.length;k++){var R=A[k];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(w,R.key,R)}}return function(w,A,k){return A&&O(w.prototype,A),k&&O(w,k),w}}(),x=function O(w,A,k){w===null&&(w=Function.prototype);var R=Object.getOwnPropertyDescriptor(w,A);if(R===void 0){var I=Object.getPrototypeOf(w);return I===null?void 0:O(I,A,k)}else{if("value"in R)return R.value;var U=R.get;return U===void 0?void 0:U.call(k)}},p=l(0),m=s(p),v=l(8),a=s(v),n=l(4),r=s(n),h=l(16),u=s(h),d=l(13),c=s(d),f=l(25),g=s(f);function s(O){return O&&O.__esModule?O:{default:O}}function b(O,w){if(!(O instanceof w))throw new TypeError("Cannot call a class as a function")}function S(O,w){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:O}function E(O,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);O.prototype=Object.create(w&&w.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(O,w):O.__proto__=w)}function N(O){return O instanceof r.default||O instanceof n.BlockEmbed}var j=function(O){E(w,O);function w(A,k){b(this,w);var R=S(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,A));return R.emitter=k.emitter,Array.isArray(k.whitelist)&&(R.whitelist=k.whitelist.reduce(function(I,U){return I[U]=!0,I},{})),R.domNode.addEventListener("DOMNodeInserted",function(){}),R.optimize(),R.enable(),R}return _(w,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(k,R){var I=this.line(k),U=y(I,2),F=U[0],Z=U[1],B=this.line(k+R),M=y(B,1),T=M[0];if(x(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"deleteAt",this).call(this,k,R),T!=null&&F!==T&&Z>0){if(F instanceof n.BlockEmbed||T instanceof n.BlockEmbed){this.optimize();return}if(F instanceof c.default){var P=F.newlineIndex(F.length(),!0);if(P>-1&&(F=F.split(P+1),F===T)){this.optimize();return}}else if(T instanceof c.default){var D=T.newlineIndex(0);D>-1&&T.split(D+1)}var H=T.children.head instanceof u.default?null:T.children.head;F.moveChildren(T,H),F.remove()}this.optimize()}},{key:"enable",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",k)}},{key:"formatAt",value:function(k,R,I,U){this.whitelist!=null&&!this.whitelist[I]||(x(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"formatAt",this).call(this,k,R,I,U),this.optimize())}},{key:"insertAt",value:function(k,R,I){if(!(I!=null&&this.whitelist!=null&&!this.whitelist[R])){if(k>=this.length())if(I==null||m.default.query(R,m.default.Scope.BLOCK)==null){var U=m.default.create(this.statics.defaultChild);this.appendChild(U),I==null&&R.endsWith(`
`)&&(R=R.slice(0,-1)),U.insertAt(0,R,I)}else{var F=m.default.create(R,I);this.appendChild(F)}else x(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertAt",this).call(this,k,R,I);this.optimize()}}},{key:"insertBefore",value:function(k,R){if(k.statics.scope===m.default.Scope.INLINE_BLOT){var I=m.default.create(this.statics.defaultChild);I.appendChild(k),k=I}x(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,k,R)}},{key:"leaf",value:function(k){return this.path(k).pop()||[null,-1]}},{key:"line",value:function(k){return k===this.length()?this.line(k-1):this.descendant(N,k)}},{key:"lines",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,I=function U(F,Z,B){var M=[],T=B;return F.children.forEachAt(Z,B,function(P,D,H){N(P)?M.push(P):P instanceof m.default.Container&&(M=M.concat(U(P,D,T))),T-=H}),M};return I(this,k,R)}},{key:"optimize",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(x(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,k,R),k.length>0&&this.emitter.emit(a.default.events.SCROLL_OPTIMIZE,k,R))}},{key:"path",value:function(k){return x(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"path",this).call(this,k).slice(1)}},{key:"update",value:function(k){if(this.batch!==!0){var R=a.default.sources.USER;typeof k=="string"&&(R=k),Array.isArray(k)||(k=this.observer.takeRecords()),k.length>0&&this.emitter.emit(a.default.events.SCROLL_BEFORE_UPDATE,R,k),x(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"update",this).call(this,k.concat([])),k.length>0&&this.emitter.emit(a.default.events.SCROLL_UPDATE,R,k)}}}]),w}(m.default.Scroll);j.blotName="scroll",j.className="ql-editor",j.tagName="DIV",j.defaultChild="block",j.allowedChildren=[r.default,n.BlockEmbed,g.default],t.default=j},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},_=function(){function C(q,K){var z=[],G=!0,ee=!1,te=void 0;try{for(var ne=q[Symbol.iterator](),re;!(G=(re=ne.next()).done)&&(z.push(re.value),!(K&&z.length===K));G=!0);}catch(le){ee=!0,te=le}finally{try{!G&&ne.return&&ne.return()}finally{if(ee)throw te}}return z}return function(q,K){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return C(q,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),x=function(){function C(q,K){for(var z=0;z<K.length;z++){var G=K[z];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(q,G.key,G)}}return function(q,K,z){return K&&C(q.prototype,K),z&&C(q,z),q}}(),p=l(21),m=O(p),v=l(11),a=O(v),n=l(3),r=O(n),h=l(2),u=O(h),d=l(20),c=O(d),f=l(0),g=O(f),s=l(5),b=O(s),S=l(10),E=O(S),N=l(9),j=O(N);function O(C){return C&&C.__esModule?C:{default:C}}function w(C,q,K){return q in C?Object.defineProperty(C,q,{value:K,enumerable:!0,configurable:!0,writable:!0}):C[q]=K,C}function A(C,q){if(!(C instanceof q))throw new TypeError("Cannot call a class as a function")}function k(C,q){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:C}function R(C,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);C.prototype=Object.create(q&&q.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(C,q):C.__proto__=q)}var I=(0,E.default)("quill:keyboard"),U=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",F=function(C){R(q,C),x(q,null,[{key:"match",value:function(z,G){return G=$(G),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ee){return!!G[ee]!==z[ee]&&G[ee]!==null})?!1:G.key===(z.which||z.keyCode)}}]);function q(K,z){A(this,q);var G=k(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,K,z));return G.bindings={},Object.keys(G.options.bindings).forEach(function(ee){ee==="list autofill"&&K.scroll.whitelist!=null&&!K.scroll.whitelist.list||G.options.bindings[ee]&&G.addBinding(G.options.bindings[ee])}),G.addBinding({key:q.keys.ENTER,shiftKey:null},P),G.addBinding({key:q.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(G.addBinding({key:q.keys.BACKSPACE},{collapsed:!0},B),G.addBinding({key:q.keys.DELETE},{collapsed:!0},M)):(G.addBinding({key:q.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},B),G.addBinding({key:q.keys.DELETE},{collapsed:!0,suffix:/^.?$/},M)),G.addBinding({key:q.keys.BACKSPACE},{collapsed:!1},T),G.addBinding({key:q.keys.DELETE},{collapsed:!1},T),G.addBinding({key:q.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},B),G.listen(),G}return x(q,[{key:"addBinding",value:function(z){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},te=$(z);if(te==null||te.key==null)return I.warn("Attempted to add invalid keyboard binding",te);typeof G=="function"&&(G={handler:G}),typeof ee=="function"&&(ee={handler:ee}),te=(0,r.default)(te,G,ee),this.bindings[te.key]=this.bindings[te.key]||[],this.bindings[te.key].push(te)}},{key:"listen",value:function(){var z=this;this.quill.root.addEventListener("keydown",function(G){if(!G.defaultPrevented){var ee=G.which||G.keyCode,te=(z.bindings[ee]||[]).filter(function(fe){return q.match(G,fe)});if(te.length!==0){var ne=z.quill.getSelection();if(!(ne==null||!z.quill.hasFocus())){var re=z.quill.getLine(ne.index),le=_(re,2),he=le[0],de=le[1],W=z.quill.getLeaf(ne.index),Y=_(W,2),Q=Y[0],J=Y[1],X=ne.length===0?[Q,J]:z.quill.getLeaf(ne.index+ne.length),ie=_(X,2),oe=ie[0],ae=ie[1],xe=Q instanceof g.default.Text?Q.value().slice(0,J):"",me=oe instanceof g.default.Text?oe.value().slice(ae):"",ue={collapsed:ne.length===0,empty:ne.length===0&&he.length()<=1,format:z.quill.getFormat(ne),offset:de,prefix:xe,suffix:me},He=te.some(function(fe){if(fe.collapsed!=null&&fe.collapsed!==ue.collapsed||fe.empty!=null&&fe.empty!==ue.empty||fe.offset!=null&&fe.offset!==ue.offset)return!1;if(Array.isArray(fe.format)){if(fe.format.every(function(ge){return ue.format[ge]==null}))return!1}else if(y(fe.format)==="object"&&!Object.keys(fe.format).every(function(ge){return fe.format[ge]===!0?ue.format[ge]!=null:fe.format[ge]===!1?ue.format[ge]==null:(0,a.default)(fe.format[ge],ue.format[ge])}))return!1;return fe.prefix!=null&&!fe.prefix.test(ue.prefix)||fe.suffix!=null&&!fe.suffix.test(ue.suffix)?!1:fe.handler.call(z,ne,ue)!==!0});He&&G.preventDefault()}}}})}}]),q}(j.default);F.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},F.DEFAULTS={bindings:{bold:H("bold"),italic:H("italic"),underline:H("underline"),indent:{key:F.keys.TAB,format:["blockquote","indent","list"],handler:function(q,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","+1",b.default.sources.USER)}},outdent:{key:F.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(q,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","-1",b.default.sources.USER)}},"outdent backspace":{key:F.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(q,K){K.format.indent!=null?this.quill.format("indent","-1",b.default.sources.USER):K.format.list!=null&&this.quill.format("list",!1,b.default.sources.USER)}},"indent code-block":D(!0),"outdent code-block":D(!1),"remove tab":{key:F.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(q){this.quill.deleteText(q.index-1,1,b.default.sources.USER)}},tab:{key:F.keys.TAB,handler:function(q){this.quill.history.cutoff();var K=new u.default().retain(q.index).delete(q.length).insert("	");this.quill.updateContents(K,b.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(q.index+1,b.default.sources.SILENT)}},"list empty enter":{key:F.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(q,K){this.quill.format("list",!1,b.default.sources.USER),K.format.indent&&this.quill.format("indent",!1,b.default.sources.USER)}},"checklist enter":{key:F.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(q){var K=this.quill.getLine(q.index),z=_(K,2),G=z[0],ee=z[1],te=(0,r.default)({},G.formats(),{list:"checked"}),ne=new u.default().retain(q.index).insert(`
`,te).retain(G.length()-ee-1).retain(1,{list:"unchecked"});this.quill.updateContents(ne,b.default.sources.USER),this.quill.setSelection(q.index+1,b.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:F.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(q,K){var z=this.quill.getLine(q.index),G=_(z,2),ee=G[0],te=G[1],ne=new u.default().retain(q.index).insert(`
`,K.format).retain(ee.length()-te-1).retain(1,{header:null});this.quill.updateContents(ne,b.default.sources.USER),this.quill.setSelection(q.index+1,b.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(q,K){var z=K.prefix.length,G=this.quill.getLine(q.index),ee=_(G,2),te=ee[0],ne=ee[1];if(ne>z)return!0;var re=void 0;switch(K.prefix.trim()){case"[]":case"[ ]":re="unchecked";break;case"[x]":re="checked";break;case"-":case"*":re="bullet";break;default:re="ordered"}this.quill.insertText(q.index," ",b.default.sources.USER),this.quill.history.cutoff();var le=new u.default().retain(q.index-ne).delete(z+1).retain(te.length()-2-ne).retain(1,{list:re});this.quill.updateContents(le,b.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(q.index-z,b.default.sources.SILENT)}},"code exit":{key:F.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(q){var K=this.quill.getLine(q.index),z=_(K,2),G=z[0],ee=z[1],te=new u.default().retain(q.index+G.length()-ee-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(te,b.default.sources.USER)}},"embed left":Z(F.keys.LEFT,!1),"embed left shift":Z(F.keys.LEFT,!0),"embed right":Z(F.keys.RIGHT,!1),"embed right shift":Z(F.keys.RIGHT,!0)}};function Z(C,q){var K,z=C===F.keys.LEFT?"prefix":"suffix";return K={key:C,shiftKey:q,altKey:null},w(K,z,/^$/),w(K,"handler",function(ee){var te=ee.index;C===F.keys.RIGHT&&(te+=ee.length+1);var ne=this.quill.getLeaf(te),re=_(ne,1),le=re[0];return le instanceof g.default.Embed?(C===F.keys.LEFT?q?this.quill.setSelection(ee.index-1,ee.length+1,b.default.sources.USER):this.quill.setSelection(ee.index-1,b.default.sources.USER):q?this.quill.setSelection(ee.index,ee.length+1,b.default.sources.USER):this.quill.setSelection(ee.index+ee.length+1,b.default.sources.USER),!1):!0}),K}function B(C,q){if(!(C.index===0||this.quill.getLength()<=1)){var K=this.quill.getLine(C.index),z=_(K,1),G=z[0],ee={};if(q.offset===0){var te=this.quill.getLine(C.index-1),ne=_(te,1),re=ne[0];if(re!=null&&re.length()>1){var le=G.formats(),he=this.quill.getFormat(C.index-1,1);ee=c.default.attributes.diff(le,he)||{}}}var de=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(q.prefix)?2:1;this.quill.deleteText(C.index-de,de,b.default.sources.USER),Object.keys(ee).length>0&&this.quill.formatLine(C.index-de,de,ee,b.default.sources.USER),this.quill.focus()}}function M(C,q){var K=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(q.suffix)?2:1;if(!(C.index>=this.quill.getLength()-K)){var z={},G=0,ee=this.quill.getLine(C.index),te=_(ee,1),ne=te[0];if(q.offset>=ne.length()-1){var re=this.quill.getLine(C.index+1),le=_(re,1),he=le[0];if(he){var de=ne.formats(),W=this.quill.getFormat(C.index,1);z=c.default.attributes.diff(de,W)||{},G=he.length()}}this.quill.deleteText(C.index,K,b.default.sources.USER),Object.keys(z).length>0&&this.quill.formatLine(C.index+G-1,K,z,b.default.sources.USER)}}function T(C){var q=this.quill.getLines(C),K={};if(q.length>1){var z=q[0].formats(),G=q[q.length-1].formats();K=c.default.attributes.diff(G,z)||{}}this.quill.deleteText(C,b.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(C.index,1,K,b.default.sources.USER),this.quill.setSelection(C.index,b.default.sources.SILENT),this.quill.focus()}function P(C,q){var K=this;C.length>0&&this.quill.scroll.deleteAt(C.index,C.length);var z=Object.keys(q.format).reduce(function(G,ee){return g.default.query(ee,g.default.Scope.BLOCK)&&!Array.isArray(q.format[ee])&&(G[ee]=q.format[ee]),G},{});this.quill.insertText(C.index,`
`,z,b.default.sources.USER),this.quill.setSelection(C.index+1,b.default.sources.SILENT),this.quill.focus(),Object.keys(q.format).forEach(function(G){z[G]==null&&(Array.isArray(q.format[G])||G!=="link"&&K.quill.format(G,q.format[G],b.default.sources.USER))})}function D(C){return{key:F.keys.TAB,shiftKey:!C,format:{"code-block":!0},handler:function(K){var z=g.default.query("code-block"),G=K.index,ee=K.length,te=this.quill.scroll.descendant(z,G),ne=_(te,2),re=ne[0],le=ne[1];if(re!=null){var he=this.quill.getIndex(re),de=re.newlineIndex(le,!0)+1,W=re.newlineIndex(he+le+ee),Y=re.domNode.textContent.slice(de,W).split(`
`);le=0,Y.forEach(function(Q,J){C?(re.insertAt(de+le,z.TAB),le+=z.TAB.length,J===0?G+=z.TAB.length:ee+=z.TAB.length):Q.startsWith(z.TAB)&&(re.deleteAt(de+le,z.TAB.length),le-=z.TAB.length,J===0?G-=z.TAB.length:ee-=z.TAB.length),le+=Q.length+1}),this.quill.update(b.default.sources.USER),this.quill.setSelection(G,ee,b.default.sources.SILENT)}}}}function H(C){return{key:C[0].toUpperCase(),shortKey:!0,handler:function(K,z){this.quill.format(C,!z.format[C],b.default.sources.USER)}}}function $(C){if(typeof C=="string"||typeof C=="number")return $({key:C});if((typeof C>"u"?"undefined":y(C))==="object"&&(C=(0,m.default)(C,!1)),typeof C.key=="string")if(F.keys[C.key.toUpperCase()]!=null)C.key=F.keys[C.key.toUpperCase()];else if(C.key.length===1)C.key=C.key.toUpperCase().charCodeAt(0);else return null;return C.shortKey&&(C[U]=C.shortKey,delete C.shortKey),C}t.default=F,t.SHORTKEY=U},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function c(f,g){var s=[],b=!0,S=!1,E=void 0;try{for(var N=f[Symbol.iterator](),j;!(b=(j=N.next()).done)&&(s.push(j.value),!(g&&s.length===g));b=!0);}catch(O){S=!0,E=O}finally{try{!b&&N.return&&N.return()}finally{if(S)throw E}}return s}return function(f,g){if(Array.isArray(f))return f;if(Symbol.iterator in Object(f))return c(f,g);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function c(f,g,s){f===null&&(f=Function.prototype);var b=Object.getOwnPropertyDescriptor(f,g);if(b===void 0){var S=Object.getPrototypeOf(f);return S===null?void 0:c(S,g,s)}else{if("value"in b)return b.value;var E=b.get;return E===void 0?void 0:E.call(s)}},x=function(){function c(f,g){for(var s=0;s<g.length;s++){var b=g[s];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,g,s){return g&&c(f.prototype,g),s&&c(f,s),f}}(),p=l(0),m=n(p),v=l(7),a=n(v);function n(c){return c&&c.__esModule?c:{default:c}}function r(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function h(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:c}function u(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}var d=function(c){u(f,c),x(f,null,[{key:"value",value:function(){}}]);function f(g,s){r(this,f);var b=h(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,g));return b.selection=s,b.textNode=document.createTextNode(f.CONTENTS),b.domNode.appendChild(b.textNode),b._length=0,b}return x(f,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(s,b){if(this._length!==0)return _(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"format",this).call(this,s,b);for(var S=this,E=0;S!=null&&S.statics.scope!==m.default.Scope.BLOCK_BLOT;)E+=S.offset(S.parent),S=S.parent;S!=null&&(this._length=f.CONTENTS.length,S.optimize(),S.formatAt(E,f.CONTENTS.length,s,b),this._length=0)}},{key:"index",value:function(s,b){return s===this.textNode?0:_(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"index",this).call(this,s,b)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){_(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var s=this.textNode,b=this.selection.getNativeRange(),S=void 0,E=void 0,N=void 0;if(b!=null&&b.start.node===s&&b.end.node===s){var j=[s,b.start.offset,b.end.offset];S=j[0],E=j[1],N=j[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==f.CONTENTS){var O=this.textNode.data.split(f.CONTENTS).join("");this.next instanceof a.default?(S=this.next.domNode,this.next.insertAt(0,O),this.textNode.data=f.CONTENTS):(this.textNode.data=O,this.parent.insertBefore(m.default.create(this.textNode),this),this.textNode=document.createTextNode(f.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),E!=null){var w=[E,N].map(function(k){return Math.max(0,Math.min(S.data.length,k-1))}),A=y(w,2);return E=A[0],N=A[1],{startNode:S,startOffset:E,endNode:S,endOffset:N}}}}},{key:"update",value:function(s,b){var S=this;if(s.some(function(N){return N.type==="characterData"&&N.target===S.textNode})){var E=this.restore();E&&(b.range=E)}}},{key:"value",value:function(){return""}}]),f}(m.default.Embed);d.blotName="cursor",d.className="ql-cursor",d.tagName="span",d.CONTENTS="\uFEFF",t.default=d},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=l(0),_=m(y),x=l(4),p=m(x);function m(h){return h&&h.__esModule?h:{default:h}}function v(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}function a(h,u){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:h}function n(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);h.prototype=Object.create(u&&u.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(h,u):h.__proto__=u)}var r=function(h){n(u,h);function u(){return v(this,u),a(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return u}(_.default.Container);r.allowedChildren=[p.default,x.BlockEmbed,r],t.default=r},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var y=function(){function d(c,f){for(var g=0;g<f.length;g++){var s=f[g];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(c,s.key,s)}}return function(c,f,g){return f&&d(c.prototype,f),g&&d(c,g),c}}(),_=function d(c,f,g){c===null&&(c=Function.prototype);var s=Object.getOwnPropertyDescriptor(c,f);if(s===void 0){var b=Object.getPrototypeOf(c);return b===null?void 0:d(b,f,g)}else{if("value"in s)return s.value;var S=s.get;return S===void 0?void 0:S.call(g)}},x=l(0),p=m(x);function m(d){return d&&d.__esModule?d:{default:d}}function v(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function a(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function n(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var r=function(d){n(c,d);function c(){return v(this,c),a(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return y(c,[{key:"value",value:function(g){var s=_(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"value",this).call(this,g);return s.startsWith("rgb(")?(s=s.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+s.split(",").map(function(b){return("00"+parseInt(b).toString(16)).slice(-2)}).join("")):s}}]),c}(p.default.Attributor.Style),h=new p.default.Attributor.Class("color","ql-color",{scope:p.default.Scope.INLINE}),u=new r("color","color",{scope:p.default.Scope.INLINE});t.ColorAttributor=r,t.ColorClass=h,t.ColorStyle=u},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var y=function(){function u(d,c){for(var f=0;f<c.length;f++){var g=c[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,c,f){return c&&u(d.prototype,c),f&&u(d,f),d}}(),_=function u(d,c,f){d===null&&(d=Function.prototype);var g=Object.getOwnPropertyDescriptor(d,c);if(g===void 0){var s=Object.getPrototypeOf(d);return s===null?void 0:u(s,c,f)}else{if("value"in g)return g.value;var b=g.get;return b===void 0?void 0:b.call(f)}},x=l(6),p=m(x);function m(u){return u&&u.__esModule?u:{default:u}}function v(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function a(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:u}function n(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}var r=function(u){n(d,u);function d(){return v(this,d),a(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return y(d,[{key:"format",value:function(f,g){if(f!==this.statics.blotName||!g)return _(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"format",this).call(this,f,g);g=this.constructor.sanitize(g),this.domNode.setAttribute("href",g)}}],[{key:"create",value:function(f){var g=_(d.__proto__||Object.getPrototypeOf(d),"create",this).call(this,f);return f=this.sanitize(f),g.setAttribute("href",f),g.setAttribute("rel","noopener noreferrer"),g.setAttribute("target","_blank"),g}},{key:"formats",value:function(f){return f.getAttribute("href")}},{key:"sanitize",value:function(f){return h(f,this.PROTOCOL_WHITELIST)?f:this.SANITIZED_URL}}]),d}(p.default);r.blotName="link",r.tagName="A",r.SANITIZED_URL="about:blank",r.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function h(u,d){var c=document.createElement("a");c.href=u;var f=c.href.slice(0,c.href.indexOf(":"));return d.indexOf(f)>-1}t.default=r,t.sanitize=h},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},_=function(){function d(c,f){for(var g=0;g<f.length;g++){var s=f[g];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(c,s.key,s)}}return function(c,f,g){return f&&d(c.prototype,f),g&&d(c,g),c}}(),x=l(23),p=a(x),m=l(107),v=a(m);function a(d){return d&&d.__esModule?d:{default:d}}function n(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}var r=0;function h(d,c){d.setAttribute(c,d.getAttribute(c)!=="true")}var u=function(){function d(c){var f=this;n(this,d),this.select=c,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){f.togglePicker()}),this.label.addEventListener("keydown",function(g){switch(g.keyCode){case p.default.keys.ENTER:f.togglePicker();break;case p.default.keys.ESCAPE:f.escape(),g.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return _(d,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),h(this.label,"aria-expanded"),h(this.options,"aria-hidden")}},{key:"buildItem",value:function(f){var g=this,s=document.createElement("span");return s.tabIndex="0",s.setAttribute("role","button"),s.classList.add("ql-picker-item"),f.hasAttribute("value")&&s.setAttribute("data-value",f.getAttribute("value")),f.textContent&&s.setAttribute("data-label",f.textContent),s.addEventListener("click",function(){g.selectItem(s,!0)}),s.addEventListener("keydown",function(b){switch(b.keyCode){case p.default.keys.ENTER:g.selectItem(s,!0),b.preventDefault();break;case p.default.keys.ESCAPE:g.escape(),b.preventDefault();break}}),s}},{key:"buildLabel",value:function(){var f=document.createElement("span");return f.classList.add("ql-picker-label"),f.innerHTML=v.default,f.tabIndex="0",f.setAttribute("role","button"),f.setAttribute("aria-expanded","false"),this.container.appendChild(f),f}},{key:"buildOptions",value:function(){var f=this,g=document.createElement("span");g.classList.add("ql-picker-options"),g.setAttribute("aria-hidden","true"),g.tabIndex="-1",g.id="ql-picker-options-"+r,r+=1,this.label.setAttribute("aria-controls",g.id),this.options=g,[].slice.call(this.select.options).forEach(function(s){var b=f.buildItem(s);g.appendChild(b),s.selected===!0&&f.selectItem(b)}),this.container.appendChild(g)}},{key:"buildPicker",value:function(){var f=this;[].slice.call(this.select.attributes).forEach(function(g){f.container.setAttribute(g.name,g.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var f=this;this.close(),setTimeout(function(){return f.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(f){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=this.container.querySelector(".ql-selected");if(f!==s&&(s!=null&&s.classList.remove("ql-selected"),f!=null&&(f.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(f.parentNode.children,f),f.hasAttribute("data-value")?this.label.setAttribute("data-value",f.getAttribute("data-value")):this.label.removeAttribute("data-value"),f.hasAttribute("data-label")?this.label.setAttribute("data-label",f.getAttribute("data-label")):this.label.removeAttribute("data-label"),g))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":y(Event))==="object"){var b=document.createEvent("Event");b.initEvent("change",!0,!0),this.select.dispatchEvent(b)}this.close()}}},{key:"update",value:function(){var f=void 0;if(this.select.selectedIndex>-1){var g=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];f=this.select.options[this.select.selectedIndex],this.selectItem(g)}else this.selectItem(null);var s=f!=null&&f!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",s)}}]),d}();t.default=u},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=l(0),_=I(y),x=l(5),p=I(x),m=l(4),v=I(m),a=l(16),n=I(a),r=l(25),h=I(r),u=l(24),d=I(u),c=l(35),f=I(c),g=l(6),s=I(g),b=l(22),S=I(b),E=l(7),N=I(E),j=l(55),O=I(j),w=l(42),A=I(w),k=l(23),R=I(k);function I(U){return U&&U.__esModule?U:{default:U}}p.default.register({"blots/block":v.default,"blots/block/embed":m.BlockEmbed,"blots/break":n.default,"blots/container":h.default,"blots/cursor":d.default,"blots/embed":f.default,"blots/inline":s.default,"blots/scroll":S.default,"blots/text":N.default,"modules/clipboard":O.default,"modules/history":A.default,"modules/keyboard":R.default}),_.default.register(v.default,n.default,d.default,s.default,S.default,N.default),t.default=p.default},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=l(1),_=function(){function x(p){this.domNode=p,this.domNode[y.DATA_KEY]={blot:this}}return Object.defineProperty(x.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),x.create=function(p){if(this.tagName==null)throw new y.ParchmentError("Blot definition missing tagName");var m;return Array.isArray(this.tagName)?(typeof p=="string"&&(p=p.toUpperCase(),parseInt(p).toString()===p&&(p=parseInt(p))),typeof p=="number"?m=document.createElement(this.tagName[p-1]):this.tagName.indexOf(p)>-1?m=document.createElement(p):m=document.createElement(this.tagName[0])):m=document.createElement(this.tagName),this.className&&m.classList.add(this.className),m},x.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},x.prototype.clone=function(){var p=this.domNode.cloneNode(!1);return y.create(p)},x.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[y.DATA_KEY]},x.prototype.deleteAt=function(p,m){var v=this.isolate(p,m);v.remove()},x.prototype.formatAt=function(p,m,v,a){var n=this.isolate(p,m);if(y.query(v,y.Scope.BLOT)!=null&&a)n.wrap(v,a);else if(y.query(v,y.Scope.ATTRIBUTE)!=null){var r=y.create(this.statics.scope);n.wrap(r),r.format(v,a)}},x.prototype.insertAt=function(p,m,v){var a=v==null?y.create("text",m):y.create(m,v),n=this.split(p);this.parent.insertBefore(a,n)},x.prototype.insertInto=function(p,m){m===void 0&&(m=null),this.parent!=null&&this.parent.children.remove(this);var v=null;p.children.insertBefore(this,m),m!=null&&(v=m.domNode),(this.domNode.parentNode!=p.domNode||this.domNode.nextSibling!=v)&&p.domNode.insertBefore(this.domNode,v),this.parent=p,this.attach()},x.prototype.isolate=function(p,m){var v=this.split(p);return v.split(m),v},x.prototype.length=function(){return 1},x.prototype.offset=function(p){return p===void 0&&(p=this.parent),this.parent==null||this==p?0:this.parent.children.offset(this)+this.parent.offset(p)},x.prototype.optimize=function(p){this.domNode[y.DATA_KEY]!=null&&delete this.domNode[y.DATA_KEY].mutations},x.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},x.prototype.replace=function(p){p.parent!=null&&(p.parent.insertBefore(this,p.next),p.remove())},x.prototype.replaceWith=function(p,m){var v=typeof p=="string"?y.create(p,m):p;return v.replace(this),v},x.prototype.split=function(p,m){return p===0?this:this.next},x.prototype.update=function(p,m){},x.prototype.wrap=function(p,m){var v=typeof p=="string"?y.create(p,m):p;return this.parent!=null&&this.parent.insertBefore(v,this.next),v.appendChild(this),v},x.blotName="abstract",x}();t.default=_},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=l(12),_=l(32),x=l(33),p=l(1),m=function(){function v(a){this.attributes={},this.domNode=a,this.build()}return v.prototype.attribute=function(a,n){n?a.add(this.domNode,n)&&(a.value(this.domNode)!=null?this.attributes[a.attrName]=a:delete this.attributes[a.attrName]):(a.remove(this.domNode),delete this.attributes[a.attrName])},v.prototype.build=function(){var a=this;this.attributes={};var n=y.default.keys(this.domNode),r=_.default.keys(this.domNode),h=x.default.keys(this.domNode);n.concat(r).concat(h).forEach(function(u){var d=p.query(u,p.Scope.ATTRIBUTE);d instanceof y.default&&(a.attributes[d.attrName]=d)})},v.prototype.copy=function(a){var n=this;Object.keys(this.attributes).forEach(function(r){var h=n.attributes[r].value(n.domNode);a.format(r,h)})},v.prototype.move=function(a){var n=this;this.copy(a),Object.keys(this.attributes).forEach(function(r){n.attributes[r].remove(n.domNode)}),this.attributes={}},v.prototype.values=function(){var a=this;return Object.keys(this.attributes).reduce(function(n,r){return n[r]=a.attributes[r].value(a.domNode),n},{})},v}();t.default=m},function(i,t,l){var y=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,a){v.__proto__=a}||function(v,a){for(var n in a)a.hasOwnProperty(n)&&(v[n]=a[n])};return function(v,a){m(v,a);function n(){this.constructor=v}v.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=l(12);function x(m,v){var a=m.getAttribute("class")||"";return a.split(/\s+/).filter(function(n){return n.indexOf(v+"-")===0})}var p=function(m){y(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.keys=function(a){return(a.getAttribute("class")||"").split(/\s+/).map(function(n){return n.split("-").slice(0,-1).join("-")})},v.prototype.add=function(a,n){return this.canAdd(a,n)?(this.remove(a),a.classList.add(this.keyName+"-"+n),!0):!1},v.prototype.remove=function(a){var n=x(a,this.keyName);n.forEach(function(r){a.classList.remove(r)}),a.classList.length===0&&a.removeAttribute("class")},v.prototype.value=function(a){var n=x(a,this.keyName)[0]||"",r=n.slice(this.keyName.length+1);return this.canAdd(a,r)?r:""},v}(_.default);t.default=p},function(i,t,l){var y=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,a){v.__proto__=a}||function(v,a){for(var n in a)a.hasOwnProperty(n)&&(v[n]=a[n])};return function(v,a){m(v,a);function n(){this.constructor=v}v.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=l(12);function x(m){var v=m.split("-"),a=v.slice(1).map(function(n){return n[0].toUpperCase()+n.slice(1)}).join("");return v[0]+a}var p=function(m){y(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.keys=function(a){return(a.getAttribute("style")||"").split(";").map(function(n){var r=n.split(":");return r[0].trim()})},v.prototype.add=function(a,n){return this.canAdd(a,n)?(a.style[x(this.keyName)]=n,!0):!1},v.prototype.remove=function(a){a.style[x(this.keyName)]="",a.getAttribute("style")||a.removeAttribute("style")},v.prototype.value=function(a){var n=a.style[x(this.keyName)];return this.canAdd(a,n)?n:""},v}(_.default);t.default=p},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function p(m,v){for(var a=0;a<v.length;a++){var n=v[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(m,n.key,n)}}return function(m,v,a){return v&&p(m.prototype,v),a&&p(m,a),m}}();function _(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}var x=function(){function p(m,v){_(this,p),this.quill=m,this.options=v,this.modules={}}return y(p,[{key:"init",value:function(){var v=this;Object.keys(this.options.modules).forEach(function(a){v.modules[a]==null&&v.addModule(a)})}},{key:"addModule",value:function(v){var a=this.quill.constructor.import("modules/"+v);return this.modules[v]=new a(this.quill,this.options.modules[v]||{}),this.modules[v]}}]),p}();x.DEFAULTS={modules:{}},x.themes={default:x},t.default=x},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function c(f,g){for(var s=0;s<g.length;s++){var b=g[s];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,g,s){return g&&c(f.prototype,g),s&&c(f,s),f}}(),_=function c(f,g,s){f===null&&(f=Function.prototype);var b=Object.getOwnPropertyDescriptor(f,g);if(b===void 0){var S=Object.getPrototypeOf(f);return S===null?void 0:c(S,g,s)}else{if("value"in b)return b.value;var E=b.get;return E===void 0?void 0:E.call(s)}},x=l(0),p=a(x),m=l(7),v=a(m);function a(c){return c&&c.__esModule?c:{default:c}}function n(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function r(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:c}function h(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}var u="\uFEFF",d=function(c){h(f,c);function f(g){n(this,f);var s=r(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,g));return s.contentNode=document.createElement("span"),s.contentNode.setAttribute("contenteditable",!1),[].slice.call(s.domNode.childNodes).forEach(function(b){s.contentNode.appendChild(b)}),s.leftGuard=document.createTextNode(u),s.rightGuard=document.createTextNode(u),s.domNode.appendChild(s.leftGuard),s.domNode.appendChild(s.contentNode),s.domNode.appendChild(s.rightGuard),s}return y(f,[{key:"index",value:function(s,b){return s===this.leftGuard?0:s===this.rightGuard?1:_(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"index",this).call(this,s,b)}},{key:"restore",value:function(s){var b=void 0,S=void 0,E=s.data.split(u).join("");if(s===this.leftGuard)if(this.prev instanceof v.default){var N=this.prev.length();this.prev.insertAt(N,E),b={startNode:this.prev.domNode,startOffset:N+E.length}}else S=document.createTextNode(E),this.parent.insertBefore(p.default.create(S),this),b={startNode:S,startOffset:E.length};else s===this.rightGuard&&(this.next instanceof v.default?(this.next.insertAt(0,E),b={startNode:this.next.domNode,startOffset:E.length}):(S=document.createTextNode(E),this.parent.insertBefore(p.default.create(S),this.next),b={startNode:S,startOffset:E.length}));return s.data=u,b}},{key:"update",value:function(s,b){var S=this;s.forEach(function(E){if(E.type==="characterData"&&(E.target===S.leftGuard||E.target===S.rightGuard)){var N=S.restore(E.target);N&&(b.range=N)}})}}]),f}(p.default.Embed);t.default=d},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var y=l(0),_=x(y);function x(n){return n&&n.__esModule?n:{default:n}}var p={scope:_.default.Scope.BLOCK,whitelist:["right","center","justify"]},m=new _.default.Attributor.Attribute("align","align",p),v=new _.default.Attributor.Class("align","ql-align",p),a=new _.default.Attributor.Style("align","text-align",p);t.AlignAttribute=m,t.AlignClass=v,t.AlignStyle=a},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var y=l(0),_=p(y),x=l(26);function p(a){return a&&a.__esModule?a:{default:a}}var m=new _.default.Attributor.Class("background","ql-bg",{scope:_.default.Scope.INLINE}),v=new x.ColorAttributor("background","background-color",{scope:_.default.Scope.INLINE});t.BackgroundClass=m,t.BackgroundStyle=v},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var y=l(0),_=x(y);function x(n){return n&&n.__esModule?n:{default:n}}var p={scope:_.default.Scope.BLOCK,whitelist:["rtl"]},m=new _.default.Attributor.Attribute("direction","dir",p),v=new _.default.Attributor.Class("direction","ql-direction",p),a=new _.default.Attributor.Style("direction","direction",p);t.DirectionAttribute=m,t.DirectionClass=v,t.DirectionStyle=a},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var y=function(){function c(f,g){for(var s=0;s<g.length;s++){var b=g[s];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,g,s){return g&&c(f.prototype,g),s&&c(f,s),f}}(),_=function c(f,g,s){f===null&&(f=Function.prototype);var b=Object.getOwnPropertyDescriptor(f,g);if(b===void 0){var S=Object.getPrototypeOf(f);return S===null?void 0:c(S,g,s)}else{if("value"in b)return b.value;var E=b.get;return E===void 0?void 0:E.call(s)}},x=l(0),p=m(x);function m(c){return c&&c.__esModule?c:{default:c}}function v(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function a(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:c}function n(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}var r={scope:p.default.Scope.INLINE,whitelist:["serif","monospace"]},h=new p.default.Attributor.Class("font","ql-font",r),u=function(c){n(f,c);function f(){return v(this,f),a(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return y(f,[{key:"value",value:function(s){return _(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"value",this).call(this,s).replace(/["']/g,"")}}]),f}(p.default.Attributor.Style),d=new u("font","font-family",r);t.FontStyle=d,t.FontClass=h},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var y=l(0),_=x(y);function x(v){return v&&v.__esModule?v:{default:v}}var p=new _.default.Attributor.Class("size","ql-size",{scope:_.default.Scope.INLINE,whitelist:["small","large","huge"]}),m=new _.default.Attributor.Style("size","font-size",{scope:_.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=p,t.SizeStyle=m},function(i,t,l){i.exports={align:{"":l(76),center:l(77),right:l(78),justify:l(79)},background:l(80),blockquote:l(81),bold:l(82),clean:l(83),code:l(58),"code-block":l(58),color:l(84),direction:{"":l(85),rtl:l(86)},float:{center:l(87),full:l(88),left:l(89),right:l(90)},formula:l(91),header:{1:l(92),2:l(93)},italic:l(94),image:l(95),indent:{"+1":l(96),"-1":l(97)},link:l(98),list:{ordered:l(99),bullet:l(100),check:l(101)},script:{sub:l(102),super:l(103)},strike:l(104),underline:l(105),video:l(106)}},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var y=function(){function g(s,b){for(var S=0;S<b.length;S++){var E=b[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(s,E.key,E)}}return function(s,b,S){return b&&g(s.prototype,b),S&&g(s,S),s}}(),_=l(0),x=n(_),p=l(5),m=n(p),v=l(9),a=n(v);function n(g){return g&&g.__esModule?g:{default:g}}function r(g,s){if(!(g instanceof s))throw new TypeError("Cannot call a class as a function")}function h(g,s){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:g}function u(g,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);g.prototype=Object.create(s&&s.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(g,s):g.__proto__=s)}var d=function(g){u(s,g);function s(b,S){r(this,s);var E=h(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,b,S));return E.lastRecorded=0,E.ignoreChange=!1,E.clear(),E.quill.on(m.default.events.EDITOR_CHANGE,function(N,j,O,w){N!==m.default.events.TEXT_CHANGE||E.ignoreChange||(!E.options.userOnly||w===m.default.sources.USER?E.record(j,O):E.transform(j))}),E.quill.keyboard.addBinding({key:"Z",shortKey:!0},E.undo.bind(E)),E.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},E.redo.bind(E)),/Win/i.test(navigator.platform)&&E.quill.keyboard.addBinding({key:"Y",shortKey:!0},E.redo.bind(E)),E}return y(s,[{key:"change",value:function(S,E){if(this.stack[S].length!==0){var N=this.stack[S].pop();this.stack[E].push(N),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(N[S],m.default.sources.USER),this.ignoreChange=!1;var j=f(N[S]);this.quill.setSelection(j)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(S,E){if(S.ops.length!==0){this.stack.redo=[];var N=this.quill.getContents().diff(E),j=Date.now();if(this.lastRecorded+this.options.delay>j&&this.stack.undo.length>0){var O=this.stack.undo.pop();N=N.compose(O.undo),S=O.redo.compose(S)}else this.lastRecorded=j;this.stack.undo.push({redo:S,undo:N}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(S){this.stack.undo.forEach(function(E){E.undo=S.transform(E.undo,!0),E.redo=S.transform(E.redo,!0)}),this.stack.redo.forEach(function(E){E.undo=S.transform(E.undo,!0),E.redo=S.transform(E.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),s}(a.default);d.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function c(g){var s=g.ops[g.ops.length-1];return s==null?!1:s.insert!=null?typeof s.insert=="string"&&s.insert.endsWith(`
`):s.attributes!=null?Object.keys(s.attributes).some(function(b){return x.default.query(b,x.default.Scope.BLOCK)!=null}):!1}function f(g){var s=g.reduce(function(S,E){return S+=E.delete||0,S},0),b=g.length()-s;return c(g)&&(b-=1),b}t.default=d,t.getLastChangeIndex=f},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var y=function(){function P(D,H){for(var $=0;$<H.length;$++){var C=H[$];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(D,C.key,C)}}return function(D,H,$){return H&&P(D.prototype,H),$&&P(D,$),D}}(),_=function P(D,H,$){D===null&&(D=Function.prototype);var C=Object.getOwnPropertyDescriptor(D,H);if(C===void 0){var q=Object.getPrototypeOf(D);return q===null?void 0:P(q,H,$)}else{if("value"in C)return C.value;var K=C.get;return K===void 0?void 0:K.call($)}},x=l(3),p=j(x),m=l(2),v=j(m),a=l(8),n=j(a),r=l(23),h=j(r),u=l(34),d=j(u),c=l(59),f=j(c),g=l(60),s=j(g),b=l(28),S=j(b),E=l(61),N=j(E);function j(P){return P&&P.__esModule?P:{default:P}}function O(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")}function w(P,D){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:P}function A(P,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);P.prototype=Object.create(D&&D.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(P,D):P.__proto__=D)}var k=[!1,"center","right","justify"],R=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],I=[!1,"serif","monospace"],U=["1","2","3",!1],F=["small",!1,"large","huge"],Z=function(P){A(D,P);function D(H,$){O(this,D);var C=w(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,H,$)),q=function K(z){if(!document.body.contains(H.root))return document.body.removeEventListener("click",K);C.tooltip!=null&&!C.tooltip.root.contains(z.target)&&document.activeElement!==C.tooltip.textbox&&!C.quill.hasFocus()&&C.tooltip.hide(),C.pickers!=null&&C.pickers.forEach(function(G){G.container.contains(z.target)||G.close()})};return H.emitter.listenDOM("click",document.body,q),C}return y(D,[{key:"addModule",value:function($){var C=_(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"addModule",this).call(this,$);return $==="toolbar"&&this.extendToolbar(C),C}},{key:"buildButtons",value:function($,C){$.forEach(function(q){var K=q.getAttribute("class")||"";K.split(/\s+/).forEach(function(z){if(z.startsWith("ql-")&&(z=z.slice(3),C[z]!=null))if(z==="direction")q.innerHTML=C[z][""]+C[z].rtl;else if(typeof C[z]=="string")q.innerHTML=C[z];else{var G=q.value||"";G!=null&&C[z][G]&&(q.innerHTML=C[z][G])}})})}},{key:"buildPickers",value:function($,C){var q=this;this.pickers=$.map(function(z){if(z.classList.contains("ql-align"))return z.querySelector("option")==null&&T(z,k),new s.default(z,C.align);if(z.classList.contains("ql-background")||z.classList.contains("ql-color")){var G=z.classList.contains("ql-background")?"background":"color";return z.querySelector("option")==null&&T(z,R,G==="background"?"#ffffff":"#000000"),new f.default(z,C[G])}else return z.querySelector("option")==null&&(z.classList.contains("ql-font")?T(z,I):z.classList.contains("ql-header")?T(z,U):z.classList.contains("ql-size")&&T(z,F)),new S.default(z)});var K=function(){q.pickers.forEach(function(G){G.update()})};this.quill.on(n.default.events.EDITOR_CHANGE,K)}}]),D}(d.default);Z.DEFAULTS=(0,p.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var D=this,H=this.container.querySelector("input.ql-image[type=file]");H==null&&(H=document.createElement("input"),H.setAttribute("type","file"),H.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),H.classList.add("ql-image"),H.addEventListener("change",function(){if(H.files!=null&&H.files[0]!=null){var $=new FileReader;$.onload=function(C){var q=D.quill.getSelection(!0);D.quill.updateContents(new v.default().retain(q.index).delete(q.length).insert({image:C.target.result}),n.default.sources.USER),D.quill.setSelection(q.index+1,n.default.sources.SILENT),H.value=""},$.readAsDataURL(H.files[0])}}),this.container.appendChild(H)),H.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var B=function(P){A(D,P);function D(H,$){O(this,D);var C=w(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,H,$));return C.textbox=C.root.querySelector('input[type="text"]'),C.listen(),C}return y(D,[{key:"listen",value:function(){var $=this;this.textbox.addEventListener("keydown",function(C){h.default.match(C,"enter")?($.save(),C.preventDefault()):h.default.match(C,"escape")&&($.cancel(),C.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),C!=null?this.textbox.value=C:$!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+$)||""),this.root.setAttribute("data-mode",$)}},{key:"restoreFocus",value:function(){var $=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=$}},{key:"save",value:function(){var $=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var C=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",$,n.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",$,n.default.sources.USER)),this.quill.root.scrollTop=C;break}case"video":$=M($);case"formula":{if(!$)break;var q=this.quill.getSelection(!0);if(q!=null){var K=q.index+q.length;this.quill.insertEmbed(K,this.root.getAttribute("data-mode"),$,n.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(K+1," ",n.default.sources.USER),this.quill.setSelection(K+2,n.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),D}(N.default);function M(P){var D=P.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||P.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return D?(D[1]||"https")+"://www.youtube.com/embed/"+D[2]+"?showinfo=0":(D=P.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(D[1]||"https")+"://player.vimeo.com/video/"+D[2]+"/":P}function T(P,D){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;D.forEach(function($){var C=document.createElement("option");$===H?C.setAttribute("selected","selected"):C.setAttribute("value",$),P.appendChild(C)})}t.BaseTooltip=B,t.default=Z},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function _(){this.head=this.tail=null,this.length=0}return _.prototype.append=function(){for(var x=[],p=0;p<arguments.length;p++)x[p]=arguments[p];this.insertBefore(x[0],null),x.length>1&&this.append.apply(this,x.slice(1))},_.prototype.contains=function(x){for(var p,m=this.iterator();p=m();)if(p===x)return!0;return!1},_.prototype.insertBefore=function(x,p){x&&(x.next=p,p!=null?(x.prev=p.prev,p.prev!=null&&(p.prev.next=x),p.prev=x,p===this.head&&(this.head=x)):this.tail!=null?(this.tail.next=x,x.prev=this.tail,this.tail=x):(x.prev=null,this.head=this.tail=x),this.length+=1)},_.prototype.offset=function(x){for(var p=0,m=this.head;m!=null;){if(m===x)return p;p+=m.length(),m=m.next}return-1},_.prototype.remove=function(x){this.contains(x)&&(x.prev!=null&&(x.prev.next=x.next),x.next!=null&&(x.next.prev=x.prev),x===this.head&&(this.head=x.next),x===this.tail&&(this.tail=x.prev),this.length-=1)},_.prototype.iterator=function(x){return x===void 0&&(x=this.head),function(){var p=x;return x!=null&&(x=x.next),p}},_.prototype.find=function(x,p){p===void 0&&(p=!1);for(var m,v=this.iterator();m=v();){var a=m.length();if(x<a||p&&x===a&&(m.next==null||m.next.length()!==0))return[m,x];x-=a}return[null,0]},_.prototype.forEach=function(x){for(var p,m=this.iterator();p=m();)x(p)},_.prototype.forEachAt=function(x,p,m){if(!(p<=0))for(var v=this.find(x),a=v[0],n=v[1],r,h=x-n,u=this.iterator(a);(r=u())&&h<x+p;){var d=r.length();x>h?m(r,x-h,Math.min(p,h+d-x)):m(r,0,Math.min(d,x+p-h)),h+=d}},_.prototype.map=function(x){return this.reduce(function(p,m){return p.push(x(m)),p},[])},_.prototype.reduce=function(x,p){for(var m,v=this.iterator();m=v();)p=x(p,m);return p},_}();t.default=y},function(i,t,l){var y=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var h in r)r.hasOwnProperty(h)&&(n[h]=r[h])};return function(n,r){a(n,r);function h(){this.constructor=n}n.prototype=r===null?Object.create(r):(h.prototype=r.prototype,new h)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=l(17),x=l(1),p={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},m=100,v=function(a){y(n,a);function n(r){var h=a.call(this,r)||this;return h.scroll=h,h.observer=new MutationObserver(function(u){h.update(u)}),h.observer.observe(h.domNode,p),h.attach(),h}return n.prototype.detach=function(){a.prototype.detach.call(this),this.observer.disconnect()},n.prototype.deleteAt=function(r,h){this.update(),r===0&&h===this.length()?this.children.forEach(function(u){u.remove()}):a.prototype.deleteAt.call(this,r,h)},n.prototype.formatAt=function(r,h,u,d){this.update(),a.prototype.formatAt.call(this,r,h,u,d)},n.prototype.insertAt=function(r,h,u){this.update(),a.prototype.insertAt.call(this,r,h,u)},n.prototype.optimize=function(r,h){var u=this;r===void 0&&(r=[]),h===void 0&&(h={}),a.prototype.optimize.call(this,h);for(var d=[].slice.call(this.observer.takeRecords());d.length>0;)r.push(d.pop());for(var c=function(b,S){S===void 0&&(S=!0),!(b==null||b===u)&&b.domNode.parentNode!=null&&(b.domNode[x.DATA_KEY].mutations==null&&(b.domNode[x.DATA_KEY].mutations=[]),S&&c(b.parent))},f=function(b){b.domNode[x.DATA_KEY]==null||b.domNode[x.DATA_KEY].mutations==null||(b instanceof _.default&&b.children.forEach(f),b.optimize(h))},g=r,s=0;g.length>0;s+=1){if(s>=m)throw new Error("[Parchment] Maximum optimize iterations reached");for(g.forEach(function(b){var S=x.find(b.target,!0);S!=null&&(S.domNode===b.target&&(b.type==="childList"?(c(x.find(b.previousSibling,!1)),[].forEach.call(b.addedNodes,function(E){var N=x.find(E,!1);c(N,!1),N instanceof _.default&&N.children.forEach(function(j){c(j,!1)})})):b.type==="attributes"&&c(S.prev)),c(S))}),this.children.forEach(f),g=[].slice.call(this.observer.takeRecords()),d=g.slice();d.length>0;)r.push(d.pop())}},n.prototype.update=function(r,h){var u=this;h===void 0&&(h={}),r=r||this.observer.takeRecords(),r.map(function(d){var c=x.find(d.target,!0);return c==null?null:c.domNode[x.DATA_KEY].mutations==null?(c.domNode[x.DATA_KEY].mutations=[d],c):(c.domNode[x.DATA_KEY].mutations.push(d),null)}).forEach(function(d){d==null||d===u||d.domNode[x.DATA_KEY]==null||d.update(d.domNode[x.DATA_KEY].mutations||[],h)}),this.domNode[x.DATA_KEY].mutations!=null&&a.prototype.update.call(this,this.domNode[x.DATA_KEY].mutations,h),this.optimize(r,h)},n.blotName="scroll",n.defaultChild="block",n.scope=x.Scope.BLOCK_BLOT,n.tagName="DIV",n}(_.default);t.default=v},function(i,t,l){var y=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r])};return function(a,n){v(a,n);function r(){this.constructor=a}a.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=l(18),x=l(1);function p(v,a){if(Object.keys(v).length!==Object.keys(a).length)return!1;for(var n in v)if(v[n]!==a[n])return!1;return!0}var m=function(v){y(a,v);function a(){return v!==null&&v.apply(this,arguments)||this}return a.formats=function(n){if(n.tagName!==a.tagName)return v.formats.call(this,n)},a.prototype.format=function(n,r){var h=this;n===this.statics.blotName&&!r?(this.children.forEach(function(u){u instanceof _.default||(u=u.wrap(a.blotName,!0)),h.attributes.copy(u)}),this.unwrap()):v.prototype.format.call(this,n,r)},a.prototype.formatAt=function(n,r,h,u){if(this.formats()[h]!=null||x.query(h,x.Scope.ATTRIBUTE)){var d=this.isolate(n,r);d.format(h,u)}else v.prototype.formatAt.call(this,n,r,h,u)},a.prototype.optimize=function(n){v.prototype.optimize.call(this,n);var r=this.formats();if(Object.keys(r).length===0)return this.unwrap();var h=this.next;h instanceof a&&h.prev===this&&p(r,h.formats())&&(h.moveChildren(this),h.remove())},a.blotName="inline",a.scope=x.Scope.INLINE_BLOT,a.tagName="SPAN",a}(_.default);t.default=m},function(i,t,l){var y=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,a){v.__proto__=a}||function(v,a){for(var n in a)a.hasOwnProperty(n)&&(v[n]=a[n])};return function(v,a){m(v,a);function n(){this.constructor=v}v.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=l(18),x=l(1),p=function(m){y(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.formats=function(a){var n=x.query(v.blotName).tagName;if(a.tagName!==n)return m.formats.call(this,a)},v.prototype.format=function(a,n){x.query(a,x.Scope.BLOCK)!=null&&(a===this.statics.blotName&&!n?this.replaceWith(v.blotName):m.prototype.format.call(this,a,n))},v.prototype.formatAt=function(a,n,r,h){x.query(r,x.Scope.BLOCK)!=null?this.format(r,h):m.prototype.formatAt.call(this,a,n,r,h)},v.prototype.insertAt=function(a,n,r){if(r==null||x.query(n,x.Scope.INLINE)!=null)m.prototype.insertAt.call(this,a,n,r);else{var h=this.split(a),u=x.create(n,r);h.parent.insertBefore(u,h)}},v.prototype.update=function(a,n){navigator.userAgent.match(/Trident/)?this.build():m.prototype.update.call(this,a,n)},v.blotName="block",v.scope=x.Scope.BLOCK_BLOT,v.tagName="P",v}(_.default);t.default=p},function(i,t,l){var y=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var a in v)v.hasOwnProperty(a)&&(m[a]=v[a])};return function(m,v){p(m,v);function a(){this.constructor=m}m.prototype=v===null?Object.create(v):(a.prototype=v.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=l(19),x=function(p){y(m,p);function m(){return p!==null&&p.apply(this,arguments)||this}return m.formats=function(v){},m.prototype.format=function(v,a){p.prototype.formatAt.call(this,0,this.length(),v,a)},m.prototype.formatAt=function(v,a,n,r){v===0&&a===this.length()?this.format(n,r):p.prototype.formatAt.call(this,v,a,n,r)},m.prototype.formats=function(){return this.statics.formats(this.domNode)},m}(_.default);t.default=x},function(i,t,l){var y=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,a){v.__proto__=a}||function(v,a){for(var n in a)a.hasOwnProperty(n)&&(v[n]=a[n])};return function(v,a){m(v,a);function n(){this.constructor=v}v.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=l(19),x=l(1),p=function(m){y(v,m);function v(a){var n=m.call(this,a)||this;return n.text=n.statics.value(n.domNode),n}return v.create=function(a){return document.createTextNode(a)},v.value=function(a){var n=a.data;return n.normalize&&(n=n.normalize()),n},v.prototype.deleteAt=function(a,n){this.domNode.data=this.text=this.text.slice(0,a)+this.text.slice(a+n)},v.prototype.index=function(a,n){return this.domNode===a?n:-1},v.prototype.insertAt=function(a,n,r){r==null?(this.text=this.text.slice(0,a)+n+this.text.slice(a),this.domNode.data=this.text):m.prototype.insertAt.call(this,a,n,r)},v.prototype.length=function(){return this.text.length},v.prototype.optimize=function(a){m.prototype.optimize.call(this,a),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof v&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},v.prototype.position=function(a,n){return[this.domNode,a]},v.prototype.split=function(a,n){if(n===void 0&&(n=!1),!n){if(a===0)return this;if(a===this.length())return this.next}var r=x.create(this.domNode.splitText(a));return this.parent.insertBefore(r,this.next),this.text=this.statics.value(this.domNode),r},v.prototype.update=function(a,n){var r=this;a.some(function(h){return h.type==="characterData"&&h.target===r.domNode})&&(this.text=this.statics.value(this.domNode))},v.prototype.value=function(){return this.text},v.blotName="text",v.scope=x.Scope.INLINE_BLOT,v}(_.default);t.default=p},function(i,t,l){var y=document.createElement("div");if(y.classList.toggle("test-class",!1),y.classList.contains("test-class")){var _=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(x,p){return arguments.length>1&&!this.contains(x)==!p?p:_.call(this,x)}}String.prototype.startsWith||(String.prototype.startsWith=function(x,p){return p=p||0,this.substr(p,x.length)===x}),String.prototype.endsWith||(String.prototype.endsWith=function(x,p){var m=this.toString();(typeof p!="number"||!isFinite(p)||Math.floor(p)!==p||p>m.length)&&(p=m.length),p-=x.length;var v=m.indexOf(x,p);return v!==-1&&v===p}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(p){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof p!="function")throw new TypeError("predicate must be a function");for(var m=Object(this),v=m.length>>>0,a=arguments[1],n,r=0;r<v;r++)if(n=m[r],p.call(a,n,r,m))return n}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(i,t){var l=-1,y=1,_=0;function x(s,b,S){if(s==b)return s?[[_,s]]:[];(S<0||s.length<S)&&(S=null);var E=a(s,b),N=s.substring(0,E);s=s.substring(E),b=b.substring(E),E=n(s,b);var j=s.substring(s.length-E);s=s.substring(0,s.length-E),b=b.substring(0,b.length-E);var O=p(s,b);return N&&O.unshift([_,N]),j&&O.push([_,j]),h(O),S!=null&&(O=c(O,S)),O=f(O),O}function p(s,b){var S;if(!s)return[[y,b]];if(!b)return[[l,s]];var E=s.length>b.length?s:b,N=s.length>b.length?b:s,j=E.indexOf(N);if(j!=-1)return S=[[y,E.substring(0,j)],[_,N],[y,E.substring(j+N.length)]],s.length>b.length&&(S[0][0]=S[2][0]=l),S;if(N.length==1)return[[l,s],[y,b]];var O=r(s,b);if(O){var w=O[0],A=O[1],k=O[2],R=O[3],I=O[4],U=x(w,k),F=x(A,R);return U.concat([[_,I]],F)}return m(s,b)}function m(s,b){for(var S=s.length,E=b.length,N=Math.ceil((S+E)/2),j=N,O=2*N,w=new Array(O),A=new Array(O),k=0;k<O;k++)w[k]=-1,A[k]=-1;w[j+1]=0,A[j+1]=0;for(var R=S-E,I=R%2!=0,U=0,F=0,Z=0,B=0,M=0;M<N;M++){for(var T=-M+U;T<=M-F;T+=2){var P=j+T,D;T==-M||T!=M&&w[P-1]<w[P+1]?D=w[P+1]:D=w[P-1]+1;for(var H=D-T;D<S&&H<E&&s.charAt(D)==b.charAt(H);)D++,H++;if(w[P]=D,D>S)F+=2;else if(H>E)U+=2;else if(I){var $=j+R-T;if($>=0&&$<O&&A[$]!=-1){var C=S-A[$];if(D>=C)return v(s,b,D,H)}}}for(var q=-M+Z;q<=M-B;q+=2){var $=j+q,C;q==-M||q!=M&&A[$-1]<A[$+1]?C=A[$+1]:C=A[$-1]+1;for(var K=C-q;C<S&&K<E&&s.charAt(S-C-1)==b.charAt(E-K-1);)C++,K++;if(A[$]=C,C>S)B+=2;else if(K>E)Z+=2;else if(!I){var P=j+R-q;if(P>=0&&P<O&&w[P]!=-1){var D=w[P],H=j+D-P;if(C=S-C,D>=C)return v(s,b,D,H)}}}}return[[l,s],[y,b]]}function v(s,b,S,E){var N=s.substring(0,S),j=b.substring(0,E),O=s.substring(S),w=b.substring(E),A=x(N,j),k=x(O,w);return A.concat(k)}function a(s,b){if(!s||!b||s.charAt(0)!=b.charAt(0))return 0;for(var S=0,E=Math.min(s.length,b.length),N=E,j=0;S<N;)s.substring(j,N)==b.substring(j,N)?(S=N,j=S):E=N,N=Math.floor((E-S)/2+S);return N}function n(s,b){if(!s||!b||s.charAt(s.length-1)!=b.charAt(b.length-1))return 0;for(var S=0,E=Math.min(s.length,b.length),N=E,j=0;S<N;)s.substring(s.length-N,s.length-j)==b.substring(b.length-N,b.length-j)?(S=N,j=S):E=N,N=Math.floor((E-S)/2+S);return N}function r(s,b){var S=s.length>b.length?s:b,E=s.length>b.length?b:s;if(S.length<4||E.length*2<S.length)return null;function N(F,Z,B){for(var M=F.substring(B,B+Math.floor(F.length/4)),T=-1,P="",D,H,$,C;(T=Z.indexOf(M,T+1))!=-1;){var q=a(F.substring(B),Z.substring(T)),K=n(F.substring(0,B),Z.substring(0,T));P.length<K+q&&(P=Z.substring(T-K,T)+Z.substring(T,T+q),D=F.substring(0,B-K),H=F.substring(B+q),$=Z.substring(0,T-K),C=Z.substring(T+q))}return P.length*2>=F.length?[D,H,$,C,P]:null}var j=N(S,E,Math.ceil(S.length/4)),O=N(S,E,Math.ceil(S.length/2)),w;if(!j&&!O)return null;O?j?w=j[4].length>O[4].length?j:O:w=O:w=j;var A,k,R,I;s.length>b.length?(A=w[0],k=w[1],R=w[2],I=w[3]):(R=w[0],I=w[1],A=w[2],k=w[3]);var U=w[4];return[A,k,R,I,U]}function h(s){s.push([_,""]);for(var b=0,S=0,E=0,N="",j="",O;b<s.length;)switch(s[b][0]){case y:E++,j+=s[b][1],b++;break;case l:S++,N+=s[b][1],b++;break;case _:S+E>1?(S!==0&&E!==0&&(O=a(j,N),O!==0&&(b-S-E>0&&s[b-S-E-1][0]==_?s[b-S-E-1][1]+=j.substring(0,O):(s.splice(0,0,[_,j.substring(0,O)]),b++),j=j.substring(O),N=N.substring(O)),O=n(j,N),O!==0&&(s[b][1]=j.substring(j.length-O)+s[b][1],j=j.substring(0,j.length-O),N=N.substring(0,N.length-O))),S===0?s.splice(b-E,S+E,[y,j]):E===0?s.splice(b-S,S+E,[l,N]):s.splice(b-S-E,S+E,[l,N],[y,j]),b=b-S-E+(S?1:0)+(E?1:0)+1):b!==0&&s[b-1][0]==_?(s[b-1][1]+=s[b][1],s.splice(b,1)):b++,E=0,S=0,N="",j="";break}s[s.length-1][1]===""&&s.pop();var w=!1;for(b=1;b<s.length-1;)s[b-1][0]==_&&s[b+1][0]==_&&(s[b][1].substring(s[b][1].length-s[b-1][1].length)==s[b-1][1]?(s[b][1]=s[b-1][1]+s[b][1].substring(0,s[b][1].length-s[b-1][1].length),s[b+1][1]=s[b-1][1]+s[b+1][1],s.splice(b-1,1),w=!0):s[b][1].substring(0,s[b+1][1].length)==s[b+1][1]&&(s[b-1][1]+=s[b+1][1],s[b][1]=s[b][1].substring(s[b+1][1].length)+s[b+1][1],s.splice(b+1,1),w=!0)),b++;w&&h(s)}var u=x;u.INSERT=y,u.DELETE=l,u.EQUAL=_,i.exports=u;function d(s,b){if(b===0)return[_,s];for(var S=0,E=0;E<s.length;E++){var N=s[E];if(N[0]===l||N[0]===_){var j=S+N[1].length;if(b===j)return[E+1,s];if(b<j){s=s.slice();var O=b-S,w=[N[0],N[1].slice(0,O)],A=[N[0],N[1].slice(O)];return s.splice(E,1,w,A),[E+1,s]}else S=j}}throw new Error("cursor_pos is out of bounds!")}function c(s,b){var S=d(s,b),E=S[1],N=S[0],j=E[N],O=E[N+1];if(j==null)return s;if(j[0]!==_)return s;if(O!=null&&j[1]+O[1]===O[1]+j[1])return E.splice(N,2,O,j),g(E,N,2);if(O!=null&&O[1].indexOf(j[1])===0){E.splice(N,2,[O[0],j[1]],[0,j[1]]);var w=O[1].slice(j[1].length);return w.length>0&&E.splice(N+2,0,[O[0],w]),g(E,N,3)}else return s}function f(s){for(var b=!1,S=function(O){return O.charCodeAt(0)>=56320&&O.charCodeAt(0)<=57343},E=function(O){return O.charCodeAt(O.length-1)>=55296&&O.charCodeAt(O.length-1)<=56319},N=2;N<s.length;N+=1)s[N-2][0]===_&&E(s[N-2][1])&&s[N-1][0]===l&&S(s[N-1][1])&&s[N][0]===y&&S(s[N][1])&&(b=!0,s[N-1][1]=s[N-2][1].slice(-1)+s[N-1][1],s[N][1]=s[N-2][1].slice(-1)+s[N][1],s[N-2][1]=s[N-2][1].slice(0,-1));if(!b)return s;for(var j=[],N=0;N<s.length;N+=1)s[N][1].length>0&&j.push(s[N]);return j}function g(s,b,S){for(var E=b+S-1;E>=0&&E>=b-1;E--)if(E+1<s.length){var N=s[E],j=s[E+1];N[0]===j[1]&&s.splice(E,2,[N[0],N[1]+j[1]])}return s}},function(i,t){t=i.exports=typeof Object.keys=="function"?Object.keys:l,t.shim=l;function l(y){var _=[];for(var x in y)_.push(x);return _}},function(i,t){var l=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";t=i.exports=l?y:_,t.supported=y;function y(x){return Object.prototype.toString.call(x)=="[object Arguments]"}t.unsupported=_;function _(x){return x&&typeof x=="object"&&typeof x.length=="number"&&Object.prototype.hasOwnProperty.call(x,"callee")&&!Object.prototype.propertyIsEnumerable.call(x,"callee")||!1}},function(i,t){var l=Object.prototype.hasOwnProperty,y="~";function _(){}Object.create&&(_.prototype=Object.create(null),new _().__proto__||(y=!1));function x(m,v,a){this.fn=m,this.context=v,this.once=a||!1}function p(){this._events=new _,this._eventsCount=0}p.prototype.eventNames=function(){var v=[],a,n;if(this._eventsCount===0)return v;for(n in a=this._events)l.call(a,n)&&v.push(y?n.slice(1):n);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(a)):v},p.prototype.listeners=function(v,a){var n=y?y+v:v,r=this._events[n];if(a)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var h=0,u=r.length,d=new Array(u);h<u;h++)d[h]=r[h].fn;return d},p.prototype.emit=function(v,a,n,r,h,u){var d=y?y+v:v;if(!this._events[d])return!1;var c=this._events[d],f=arguments.length,g,s;if(c.fn){switch(c.once&&this.removeListener(v,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,a),!0;case 3:return c.fn.call(c.context,a,n),!0;case 4:return c.fn.call(c.context,a,n,r),!0;case 5:return c.fn.call(c.context,a,n,r,h),!0;case 6:return c.fn.call(c.context,a,n,r,h,u),!0}for(s=1,g=new Array(f-1);s<f;s++)g[s-1]=arguments[s];c.fn.apply(c.context,g)}else{var b=c.length,S;for(s=0;s<b;s++)switch(c[s].once&&this.removeListener(v,c[s].fn,void 0,!0),f){case 1:c[s].fn.call(c[s].context);break;case 2:c[s].fn.call(c[s].context,a);break;case 3:c[s].fn.call(c[s].context,a,n);break;case 4:c[s].fn.call(c[s].context,a,n,r);break;default:if(!g)for(S=1,g=new Array(f-1);S<f;S++)g[S-1]=arguments[S];c[s].fn.apply(c[s].context,g)}}return!0},p.prototype.on=function(v,a,n){var r=new x(a,n||this),h=y?y+v:v;return this._events[h]?this._events[h].fn?this._events[h]=[this._events[h],r]:this._events[h].push(r):(this._events[h]=r,this._eventsCount++),this},p.prototype.once=function(v,a,n){var r=new x(a,n||this,!0),h=y?y+v:v;return this._events[h]?this._events[h].fn?this._events[h]=[this._events[h],r]:this._events[h].push(r):(this._events[h]=r,this._eventsCount++),this},p.prototype.removeListener=function(v,a,n,r){var h=y?y+v:v;if(!this._events[h])return this;if(!a)return--this._eventsCount===0?this._events=new _:delete this._events[h],this;var u=this._events[h];if(u.fn)u.fn===a&&(!r||u.once)&&(!n||u.context===n)&&(--this._eventsCount===0?this._events=new _:delete this._events[h]);else{for(var d=0,c=[],f=u.length;d<f;d++)(u[d].fn!==a||r&&!u[d].once||n&&u[d].context!==n)&&c.push(u[d]);c.length?this._events[h]=c.length===1?c[0]:c:--this._eventsCount===0?this._events=new _:delete this._events[h]}return this},p.prototype.removeAllListeners=function(v){var a;return v?(a=y?y+v:v,this._events[a]&&(--this._eventsCount===0?this._events=new _:delete this._events[a])):(this._events=new _,this._eventsCount=0),this},p.prototype.off=p.prototype.removeListener,p.prototype.addListener=p.prototype.on,p.prototype.setMaxListeners=function(){return this},p.prefixed=y,p.EventEmitter=p,typeof i<"u"&&(i.exports=p)},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},_=function(){function W(Y,Q){var J=[],X=!0,ie=!1,oe=void 0;try{for(var ae=Y[Symbol.iterator](),xe;!(X=(xe=ae.next()).done)&&(J.push(xe.value),!(Q&&J.length===Q));X=!0);}catch(me){ie=!0,oe=me}finally{try{!X&&ae.return&&ae.return()}finally{if(ie)throw oe}}return J}return function(Y,Q){if(Array.isArray(Y))return Y;if(Symbol.iterator in Object(Y))return W(Y,Q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),x=function(){function W(Y,Q){for(var J=0;J<Q.length;J++){var X=Q[J];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(Y,X.key,X)}}return function(Y,Q,J){return Q&&W(Y.prototype,Q),J&&W(Y,J),Y}}(),p=l(3),m=A(p),v=l(2),a=A(v),n=l(0),r=A(n),h=l(5),u=A(h),d=l(10),c=A(d),f=l(9),g=A(f),s=l(36),b=l(37),S=l(13),E=A(S),N=l(26),j=l(38),O=l(39),w=l(40);function A(W){return W&&W.__esModule?W:{default:W}}function k(W,Y,Q){return Y in W?Object.defineProperty(W,Y,{value:Q,enumerable:!0,configurable:!0,writable:!0}):W[Y]=Q,W}function R(W,Y){if(!(W instanceof Y))throw new TypeError("Cannot call a class as a function")}function I(W,Y){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y&&(typeof Y=="object"||typeof Y=="function")?Y:W}function U(W,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);W.prototype=Object.create(Y&&Y.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(W,Y):W.__proto__=Y)}var F=(0,c.default)("quill:clipboard"),Z="__ql-matcher",B=[[Node.TEXT_NODE,de],[Node.TEXT_NODE,re],["br",ee],[Node.ELEMENT_NODE,re],[Node.ELEMENT_NODE,G],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,z],[Node.ELEMENT_NODE,he],["li",ne],["b",K.bind(K,"bold")],["i",K.bind(K,"italic")],["style",te]],M=[s.AlignAttribute,j.DirectionAttribute].reduce(function(W,Y){return W[Y.keyName]=Y,W},{}),T=[s.AlignStyle,b.BackgroundStyle,N.ColorStyle,j.DirectionStyle,O.FontStyle,w.SizeStyle].reduce(function(W,Y){return W[Y.keyName]=Y,W},{}),P=function(W){U(Y,W);function Y(Q,J){R(this,Y);var X=I(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,Q,J));return X.quill.root.addEventListener("paste",X.onPaste.bind(X)),X.container=X.quill.addContainer("ql-clipboard"),X.container.setAttribute("contenteditable",!0),X.container.setAttribute("tabindex",-1),X.matchers=[],B.concat(X.options.matchers).forEach(function(ie){var oe=_(ie,2),ae=oe[0],xe=oe[1];!J.matchVisual&&xe===le||X.addMatcher(ae,xe)}),X}return x(Y,[{key:"addMatcher",value:function(J,X){this.matchers.push([J,X])}},{key:"convert",value:function(J){if(typeof J=="string")return this.container.innerHTML=J.replace(/\>\r?\n +\</g,"><"),this.convert();var X=this.quill.getFormat(this.quill.selection.savedRange.index);if(X[E.default.blotName]){var ie=this.container.innerText;return this.container.innerHTML="",new a.default().insert(ie,k({},E.default.blotName,X[E.default.blotName]))}var oe=this.prepareMatching(),ae=_(oe,2),xe=ae[0],me=ae[1],ue=q(this.container,xe,me);return $(ue,`
`)&&ue.ops[ue.ops.length-1].attributes==null&&(ue=ue.compose(new a.default().retain(ue.length()-1).delete(1))),F.log("convert",this.container.innerHTML,ue),this.container.innerHTML="",ue}},{key:"dangerouslyPasteHTML",value:function(J,X){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u.default.sources.API;if(typeof J=="string")this.quill.setContents(this.convert(J),X),this.quill.setSelection(0,u.default.sources.SILENT);else{var oe=this.convert(X);this.quill.updateContents(new a.default().retain(J).concat(oe),ie),this.quill.setSelection(J+oe.length(),u.default.sources.SILENT)}}},{key:"onPaste",value:function(J){var X=this;if(!(J.defaultPrevented||!this.quill.isEnabled())){var ie=this.quill.getSelection(),oe=new a.default().retain(ie.index),ae=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(u.default.sources.SILENT),setTimeout(function(){oe=oe.concat(X.convert()).delete(ie.length),X.quill.updateContents(oe,u.default.sources.USER),X.quill.setSelection(oe.length()-ie.length,u.default.sources.SILENT),X.quill.scrollingContainer.scrollTop=ae,X.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var J=this,X=[],ie=[];return this.matchers.forEach(function(oe){var ae=_(oe,2),xe=ae[0],me=ae[1];switch(xe){case Node.TEXT_NODE:ie.push(me);break;case Node.ELEMENT_NODE:X.push(me);break;default:[].forEach.call(J.container.querySelectorAll(xe),function(ue){ue[Z]=ue[Z]||[],ue[Z].push(me)});break}}),[X,ie]}}]),Y}(g.default);P.DEFAULTS={matchers:[],matchVisual:!0};function D(W,Y,Q){return(typeof Y>"u"?"undefined":y(Y))==="object"?Object.keys(Y).reduce(function(J,X){return D(J,X,Y[X])},W):W.reduce(function(J,X){return X.attributes&&X.attributes[Y]?J.push(X):J.insert(X.insert,(0,m.default)({},k({},Y,Q),X.attributes))},new a.default)}function H(W){if(W.nodeType!==Node.ELEMENT_NODE)return{};var Y="__ql-computed-style";return W[Y]||(W[Y]=window.getComputedStyle(W))}function $(W,Y){for(var Q="",J=W.ops.length-1;J>=0&&Q.length<Y.length;--J){var X=W.ops[J];if(typeof X.insert!="string")break;Q=X.insert+Q}return Q.slice(-1*Y.length)===Y}function C(W){if(W.childNodes.length===0)return!1;var Y=H(W);return["block","list-item"].indexOf(Y.display)>-1}function q(W,Y,Q){return W.nodeType===W.TEXT_NODE?Q.reduce(function(J,X){return X(W,J)},new a.default):W.nodeType===W.ELEMENT_NODE?[].reduce.call(W.childNodes||[],function(J,X){var ie=q(X,Y,Q);return X.nodeType===W.ELEMENT_NODE&&(ie=Y.reduce(function(oe,ae){return ae(X,oe)},ie),ie=(X[Z]||[]).reduce(function(oe,ae){return ae(X,oe)},ie)),J.concat(ie)},new a.default):new a.default}function K(W,Y,Q){return D(Q,W,!0)}function z(W,Y){var Q=r.default.Attributor.Attribute.keys(W),J=r.default.Attributor.Class.keys(W),X=r.default.Attributor.Style.keys(W),ie={};return Q.concat(J).concat(X).forEach(function(oe){var ae=r.default.query(oe,r.default.Scope.ATTRIBUTE);ae!=null&&(ie[ae.attrName]=ae.value(W),ie[ae.attrName])||(ae=M[oe],ae!=null&&(ae.attrName===oe||ae.keyName===oe)&&(ie[ae.attrName]=ae.value(W)||void 0),ae=T[oe],ae!=null&&(ae.attrName===oe||ae.keyName===oe)&&(ae=T[oe],ie[ae.attrName]=ae.value(W)||void 0))}),Object.keys(ie).length>0&&(Y=D(Y,ie)),Y}function G(W,Y){var Q=r.default.query(W);if(Q==null)return Y;if(Q.prototype instanceof r.default.Embed){var J={},X=Q.value(W);X!=null&&(J[Q.blotName]=X,Y=new a.default().insert(J,Q.formats(W)))}else typeof Q.formats=="function"&&(Y=D(Y,Q.blotName,Q.formats(W)));return Y}function ee(W,Y){return $(Y,`
`)||Y.insert(`
`),Y}function te(){return new a.default}function ne(W,Y){var Q=r.default.query(W);if(Q==null||Q.blotName!=="list-item"||!$(Y,`
`))return Y;for(var J=-1,X=W.parentNode;!X.classList.contains("ql-clipboard");)(r.default.query(X)||{}).blotName==="list"&&(J+=1),X=X.parentNode;return J<=0?Y:Y.compose(new a.default().retain(Y.length()-1).retain(1,{indent:J}))}function re(W,Y){return $(Y,`
`)||(C(W)||Y.length()>0&&W.nextSibling&&C(W.nextSibling))&&Y.insert(`
`),Y}function le(W,Y){if(C(W)&&W.nextElementSibling!=null&&!$(Y,`

`)){var Q=W.offsetHeight+parseFloat(H(W).marginTop)+parseFloat(H(W).marginBottom);W.nextElementSibling.offsetTop>W.offsetTop+Q*1.5&&Y.insert(`
`)}return Y}function he(W,Y){var Q={},J=W.style||{};return J.fontStyle&&H(W).fontStyle==="italic"&&(Q.italic=!0),J.fontWeight&&(H(W).fontWeight.startsWith("bold")||parseInt(H(W).fontWeight)>=700)&&(Q.bold=!0),Object.keys(Q).length>0&&(Y=D(Y,Q)),parseFloat(J.textIndent||0)>0&&(Y=new a.default().insert("	").concat(Y)),Y}function de(W,Y){var Q=W.data;if(W.parentNode.tagName==="O:P")return Y.insert(Q.trim());if(Q.trim().length===0&&W.parentNode.classList.contains("ql-clipboard"))return Y;if(!H(W.parentNode).whiteSpace.startsWith("pre")){var J=function(ie,oe){return oe=oe.replace(/[^\u00a0]/g,""),oe.length<1&&ie?" ":oe};Q=Q.replace(/\r\n/g," ").replace(/\n/g," "),Q=Q.replace(/\s\s+/g,J.bind(J,!0)),(W.previousSibling==null&&C(W.parentNode)||W.previousSibling!=null&&C(W.previousSibling))&&(Q=Q.replace(/^\s+/,J.bind(J,!1))),(W.nextSibling==null&&C(W.parentNode)||W.nextSibling!=null&&C(W.nextSibling))&&(Q=Q.replace(/\s+$/,J.bind(J,!1)))}return Y.insert(Q)}t.default=P,t.matchAttributor=z,t.matchBlot=G,t.matchNewline=re,t.matchSpacing=le,t.matchText=de},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function h(u,d){for(var c=0;c<d.length;c++){var f=d[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,d,c){return d&&h(u.prototype,d),c&&h(u,c),u}}(),_=function h(u,d,c){u===null&&(u=Function.prototype);var f=Object.getOwnPropertyDescriptor(u,d);if(f===void 0){var g=Object.getPrototypeOf(u);return g===null?void 0:h(g,d,c)}else{if("value"in f)return f.value;var s=f.get;return s===void 0?void 0:s.call(c)}},x=l(6),p=m(x);function m(h){return h&&h.__esModule?h:{default:h}}function v(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}function a(h,u){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:h}function n(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);h.prototype=Object.create(u&&u.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(h,u):h.__proto__=u)}var r=function(h){n(u,h);function u(){return v(this,u),a(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return y(u,[{key:"optimize",value:function(c){_(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"optimize",this).call(this,c),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return _(u.__proto__||Object.getPrototypeOf(u),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),u}(p.default);r.blotName="bold",r.tagName=["STRONG","B"],t.default=r},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var y=function(){function w(A,k){var R=[],I=!0,U=!1,F=void 0;try{for(var Z=A[Symbol.iterator](),B;!(I=(B=Z.next()).done)&&(R.push(B.value),!(k&&R.length===k));I=!0);}catch(M){U=!0,F=M}finally{try{!I&&Z.return&&Z.return()}finally{if(U)throw F}}return R}return function(A,k){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return w(A,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function w(A,k){for(var R=0;R<k.length;R++){var I=k[R];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(A,I.key,I)}}return function(A,k,R){return k&&w(A.prototype,k),R&&w(A,R),A}}(),x=l(2),p=c(x),m=l(0),v=c(m),a=l(5),n=c(a),r=l(10),h=c(r),u=l(9),d=c(u);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,A,k){return A in w?Object.defineProperty(w,A,{value:k,enumerable:!0,configurable:!0,writable:!0}):w[A]=k,w}function g(w,A){if(!(w instanceof A))throw new TypeError("Cannot call a class as a function")}function s(w,A){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:w}function b(w,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);w.prototype=Object.create(A&&A.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(w,A):w.__proto__=A)}var S=(0,h.default)("quill:toolbar"),E=function(w){b(A,w);function A(k,R){g(this,A);var I=s(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,k,R));if(Array.isArray(I.options.container)){var U=document.createElement("div");j(U,I.options.container),k.container.parentNode.insertBefore(U,k.container),I.container=U}else typeof I.options.container=="string"?I.container=document.querySelector(I.options.container):I.container=I.options.container;if(!(I.container instanceof HTMLElement)){var F;return F=S.error("Container required for toolbar",I.options),s(I,F)}return I.container.classList.add("ql-toolbar"),I.controls=[],I.handlers={},Object.keys(I.options.handlers).forEach(function(Z){I.addHandler(Z,I.options.handlers[Z])}),[].forEach.call(I.container.querySelectorAll("button, select"),function(Z){I.attach(Z)}),I.quill.on(n.default.events.EDITOR_CHANGE,function(Z,B){Z===n.default.events.SELECTION_CHANGE&&I.update(B)}),I.quill.on(n.default.events.SCROLL_OPTIMIZE,function(){var Z=I.quill.selection.getRange(),B=y(Z,1),M=B[0];I.update(M)}),I}return _(A,[{key:"addHandler",value:function(R,I){this.handlers[R]=I}},{key:"attach",value:function(R){var I=this,U=[].find.call(R.classList,function(Z){return Z.indexOf("ql-")===0});if(U){if(U=U.slice(3),R.tagName==="BUTTON"&&R.setAttribute("type","button"),this.handlers[U]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[U]==null){S.warn("ignoring attaching to disabled format",U,R);return}if(v.default.query(U)==null){S.warn("ignoring attaching to nonexistent format",U,R);return}}var F=R.tagName==="SELECT"?"change":"click";R.addEventListener(F,function(Z){var B=void 0;if(R.tagName==="SELECT"){if(R.selectedIndex<0)return;var M=R.options[R.selectedIndex];M.hasAttribute("selected")?B=!1:B=M.value||!1}else R.classList.contains("ql-active")?B=!1:B=R.value||!R.hasAttribute("value"),Z.preventDefault();I.quill.focus();var T=I.quill.selection.getRange(),P=y(T,1),D=P[0];if(I.handlers[U]!=null)I.handlers[U].call(I,B);else if(v.default.query(U).prototype instanceof v.default.Embed){if(B=prompt("Enter "+U),!B)return;I.quill.updateContents(new p.default().retain(D.index).delete(D.length).insert(f({},U,B)),n.default.sources.USER)}else I.quill.format(U,B,n.default.sources.USER);I.update(D)}),this.controls.push([U,R])}}},{key:"update",value:function(R){var I=R==null?{}:this.quill.getFormat(R);this.controls.forEach(function(U){var F=y(U,2),Z=F[0],B=F[1];if(B.tagName==="SELECT"){var M=void 0;if(R==null)M=null;else if(I[Z]==null)M=B.querySelector("option[selected]");else if(!Array.isArray(I[Z])){var T=I[Z];typeof T=="string"&&(T=T.replace(/\"/g,'\\"')),M=B.querySelector('option[value="'+T+'"]')}M==null?(B.value="",B.selectedIndex=-1):M.selected=!0}else if(R==null)B.classList.remove("ql-active");else if(B.hasAttribute("value")){var P=I[Z]===B.getAttribute("value")||I[Z]!=null&&I[Z].toString()===B.getAttribute("value")||I[Z]==null&&!B.getAttribute("value");B.classList.toggle("ql-active",P)}else B.classList.toggle("ql-active",I[Z]!=null)})}}]),A}(d.default);E.DEFAULTS={};function N(w,A,k){var R=document.createElement("button");R.setAttribute("type","button"),R.classList.add("ql-"+A),k!=null&&(R.value=k),w.appendChild(R)}function j(w,A){Array.isArray(A[0])||(A=[A]),A.forEach(function(k){var R=document.createElement("span");R.classList.add("ql-formats"),k.forEach(function(I){if(typeof I=="string")N(R,I);else{var U=Object.keys(I)[0],F=I[U];Array.isArray(F)?O(R,U,F):N(R,U,F)}}),w.appendChild(R)})}function O(w,A,k){var R=document.createElement("select");R.classList.add("ql-"+A),k.forEach(function(I){var U=document.createElement("option");I!==!1?U.setAttribute("value",I):U.setAttribute("selected","selected"),R.appendChild(U)}),w.appendChild(R)}E.DEFAULTS={container:null,handlers:{clean:function(){var A=this,k=this.quill.getSelection();if(k!=null)if(k.length==0){var R=this.quill.getFormat();Object.keys(R).forEach(function(I){v.default.query(I,v.default.Scope.INLINE)!=null&&A.quill.format(I,!1)})}else this.quill.removeFormat(k,n.default.sources.USER)},direction:function(A){var k=this.quill.getFormat().align;A==="rtl"&&k==null?this.quill.format("align","right",n.default.sources.USER):!A&&k==="right"&&this.quill.format("align",!1,n.default.sources.USER),this.quill.format("direction",A,n.default.sources.USER)},indent:function(A){var k=this.quill.getSelection(),R=this.quill.getFormat(k),I=parseInt(R.indent||0);if(A==="+1"||A==="-1"){var U=A==="+1"?1:-1;R.direction==="rtl"&&(U*=-1),this.quill.format("indent",I+U,n.default.sources.USER)}},link:function(A){A===!0&&(A=prompt("Enter link URL:")),this.quill.format("link",A,n.default.sources.USER)},list:function(A){var k=this.quill.getSelection(),R=this.quill.getFormat(k);A==="check"?R.list==="checked"||R.list==="unchecked"?this.quill.format("list",!1,n.default.sources.USER):this.quill.format("list","unchecked",n.default.sources.USER):this.quill.format("list",A,n.default.sources.USER)}}},t.default=E,t.addControls=j},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function h(u,d){for(var c=0;c<d.length;c++){var f=d[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,d,c){return d&&h(u.prototype,d),c&&h(u,c),u}}(),_=function h(u,d,c){u===null&&(u=Function.prototype);var f=Object.getOwnPropertyDescriptor(u,d);if(f===void 0){var g=Object.getPrototypeOf(u);return g===null?void 0:h(g,d,c)}else{if("value"in f)return f.value;var s=f.get;return s===void 0?void 0:s.call(c)}},x=l(28),p=m(x);function m(h){return h&&h.__esModule?h:{default:h}}function v(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}function a(h,u){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:h}function n(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);h.prototype=Object.create(u&&u.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(h,u):h.__proto__=u)}var r=function(h){n(u,h);function u(d,c){v(this,u);var f=a(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,d));return f.label.innerHTML=c,f.container.classList.add("ql-color-picker"),[].slice.call(f.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(g){g.classList.add("ql-primary")}),f}return y(u,[{key:"buildItem",value:function(c){var f=_(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"buildItem",this).call(this,c);return f.style.backgroundColor=c.getAttribute("value")||"",f}},{key:"selectItem",value:function(c,f){_(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"selectItem",this).call(this,c,f);var g=this.label.querySelector(".ql-color-label"),s=c&&c.getAttribute("data-value")||"";g&&(g.tagName==="line"?g.style.stroke=s:g.style.fill=s)}}]),u}(p.default);t.default=r},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function h(u,d){for(var c=0;c<d.length;c++){var f=d[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,d,c){return d&&h(u.prototype,d),c&&h(u,c),u}}(),_=function h(u,d,c){u===null&&(u=Function.prototype);var f=Object.getOwnPropertyDescriptor(u,d);if(f===void 0){var g=Object.getPrototypeOf(u);return g===null?void 0:h(g,d,c)}else{if("value"in f)return f.value;var s=f.get;return s===void 0?void 0:s.call(c)}},x=l(28),p=m(x);function m(h){return h&&h.__esModule?h:{default:h}}function v(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}function a(h,u){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:h}function n(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);h.prototype=Object.create(u&&u.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(h,u):h.__proto__=u)}var r=function(h){n(u,h);function u(d,c){v(this,u);var f=a(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,d));return f.container.classList.add("ql-icon-picker"),[].forEach.call(f.container.querySelectorAll(".ql-picker-item"),function(g){g.innerHTML=c[g.getAttribute("data-value")||""]}),f.defaultItem=f.container.querySelector(".ql-selected"),f.selectItem(f.defaultItem),f}return y(u,[{key:"selectItem",value:function(c,f){_(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"selectItem",this).call(this,c,f),c=c||this.defaultItem,this.label.innerHTML=c.innerHTML}}]),u}(p.default);t.default=r},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function p(m,v){for(var a=0;a<v.length;a++){var n=v[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(m,n.key,n)}}return function(m,v,a){return v&&p(m.prototype,v),a&&p(m,a),m}}();function _(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}var x=function(){function p(m,v){var a=this;_(this,p),this.quill=m,this.boundsContainer=v||document.body,this.root=m.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){a.root.style.marginTop=-1*a.quill.root.scrollTop+"px"}),this.hide()}return y(p,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(v){var a=v.left+v.width/2-this.root.offsetWidth/2,n=v.bottom+this.quill.root.scrollTop;this.root.style.left=a+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),h=this.root.getBoundingClientRect(),u=0;if(h.right>r.right&&(u=r.right-h.right,this.root.style.left=a+u+"px"),h.left<r.left&&(u=r.left-h.left,this.root.style.left=a+u+"px"),h.bottom>r.bottom){var d=h.bottom-h.top,c=v.bottom-v.top+d;this.root.style.top=n-c+"px",this.root.classList.add("ql-flip")}return u}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),p}();t.default=x},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function O(w,A){var k=[],R=!0,I=!1,U=void 0;try{for(var F=w[Symbol.iterator](),Z;!(R=(Z=F.next()).done)&&(k.push(Z.value),!(A&&k.length===A));R=!0);}catch(B){I=!0,U=B}finally{try{!R&&F.return&&F.return()}finally{if(I)throw U}}return k}return function(w,A){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return O(w,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function O(w,A,k){w===null&&(w=Function.prototype);var R=Object.getOwnPropertyDescriptor(w,A);if(R===void 0){var I=Object.getPrototypeOf(w);return I===null?void 0:O(I,A,k)}else{if("value"in R)return R.value;var U=R.get;return U===void 0?void 0:U.call(k)}},x=function(){function O(w,A){for(var k=0;k<A.length;k++){var R=A[k];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(w,R.key,R)}}return function(w,A,k){return A&&O(w.prototype,A),k&&O(w,k),w}}(),p=l(3),m=g(p),v=l(8),a=g(v),n=l(43),r=g(n),h=l(27),u=g(h),d=l(15),c=l(41),f=g(c);function g(O){return O&&O.__esModule?O:{default:O}}function s(O,w){if(!(O instanceof w))throw new TypeError("Cannot call a class as a function")}function b(O,w){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:O}function S(O,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);O.prototype=Object.create(w&&w.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(O,w):O.__proto__=w)}var E=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],N=function(O){S(w,O);function w(A,k){s(this,w),k.modules.toolbar!=null&&k.modules.toolbar.container==null&&(k.modules.toolbar.container=E);var R=b(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,A,k));return R.quill.container.classList.add("ql-snow"),R}return x(w,[{key:"extendToolbar",value:function(k){k.container.classList.add("ql-snow"),this.buildButtons([].slice.call(k.container.querySelectorAll("button")),f.default),this.buildPickers([].slice.call(k.container.querySelectorAll("select")),f.default),this.tooltip=new j(this.quill,this.options.bounds),k.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(R,I){k.handlers.link.call(k,!I.format.link)})}}]),w}(r.default);N.DEFAULTS=(0,m.default)(!0,{},r.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(w){if(w){var A=this.quill.getSelection();if(A==null||A.length==0)return;var k=this.quill.getText(A);/^\S+@\S+\.\S+$/.test(k)&&k.indexOf("mailto:")!==0&&(k="mailto:"+k);var R=this.quill.theme.tooltip;R.edit("link",k)}else this.quill.format("link",!1)}}}}});var j=function(O){S(w,O);function w(A,k){s(this,w);var R=b(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,A,k));return R.preview=R.root.querySelector("a.ql-preview"),R}return x(w,[{key:"listen",value:function(){var k=this;_(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(R){k.root.classList.contains("ql-editing")?k.save():k.edit("link",k.preview.textContent),R.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(R){if(k.linkRange!=null){var I=k.linkRange;k.restoreFocus(),k.quill.formatText(I,"link",!1,a.default.sources.USER),delete k.linkRange}R.preventDefault(),k.hide()}),this.quill.on(a.default.events.SELECTION_CHANGE,function(R,I,U){if(R!=null){if(R.length===0&&U===a.default.sources.USER){var F=k.quill.scroll.descendant(u.default,R.index),Z=y(F,2),B=Z[0],M=Z[1];if(B!=null){k.linkRange=new d.Range(R.index-M,B.length());var T=u.default.formats(B.domNode);k.preview.textContent=T,k.preview.setAttribute("href",T),k.show(),k.position(k.quill.getBounds(k.linkRange));return}}else delete k.linkRange;k.hide()}})}},{key:"show",value:function(){_(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),w}(n.BaseTooltip);j.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=N},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=l(29),_=X(y),x=l(36),p=l(38),m=l(64),v=l(65),a=X(v),n=l(66),r=X(n),h=l(67),u=X(h),d=l(37),c=l(26),f=l(39),g=l(40),s=l(56),b=X(s),S=l(68),E=X(S),N=l(27),j=X(N),O=l(69),w=X(O),A=l(70),k=X(A),R=l(71),I=X(R),U=l(72),F=X(U),Z=l(73),B=X(Z),M=l(13),T=X(M),P=l(74),D=X(P),H=l(75),$=X(H),C=l(57),q=X(C),K=l(41),z=X(K),G=l(28),ee=X(G),te=l(59),ne=X(te),re=l(60),le=X(re),he=l(61),de=X(he),W=l(108),Y=X(W),Q=l(62),J=X(Q);function X(ie){return ie&&ie.__esModule?ie:{default:ie}}_.default.register({"attributors/attribute/direction":p.DirectionAttribute,"attributors/class/align":x.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":c.ColorClass,"attributors/class/direction":p.DirectionClass,"attributors/class/font":f.FontClass,"attributors/class/size":g.SizeClass,"attributors/style/align":x.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":c.ColorStyle,"attributors/style/direction":p.DirectionStyle,"attributors/style/font":f.FontStyle,"attributors/style/size":g.SizeStyle},!0),_.default.register({"formats/align":x.AlignClass,"formats/direction":p.DirectionClass,"formats/indent":m.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":c.ColorStyle,"formats/font":f.FontClass,"formats/size":g.SizeClass,"formats/blockquote":a.default,"formats/code-block":T.default,"formats/header":r.default,"formats/list":u.default,"formats/bold":b.default,"formats/code":M.Code,"formats/italic":E.default,"formats/link":j.default,"formats/script":w.default,"formats/strike":k.default,"formats/underline":I.default,"formats/image":F.default,"formats/video":B.default,"formats/list/item":h.ListItem,"modules/formula":D.default,"modules/syntax":$.default,"modules/toolbar":q.default,"themes/bubble":Y.default,"themes/snow":J.default,"ui/icons":z.default,"ui/picker":ee.default,"ui/icon-picker":le.default,"ui/color-picker":ne.default,"ui/tooltip":de.default},!0),t.default=_.default},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var y=function(){function u(d,c){for(var f=0;f<c.length;f++){var g=c[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,c,f){return c&&u(d.prototype,c),f&&u(d,f),d}}(),_=function u(d,c,f){d===null&&(d=Function.prototype);var g=Object.getOwnPropertyDescriptor(d,c);if(g===void 0){var s=Object.getPrototypeOf(d);return s===null?void 0:u(s,c,f)}else{if("value"in g)return g.value;var b=g.get;return b===void 0?void 0:b.call(f)}},x=l(0),p=m(x);function m(u){return u&&u.__esModule?u:{default:u}}function v(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function a(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:u}function n(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}var r=function(u){n(d,u);function d(){return v(this,d),a(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return y(d,[{key:"add",value:function(f,g){if(g==="+1"||g==="-1"){var s=this.value(f)||0;g=g==="+1"?s+1:s-1}return g===0?(this.remove(f),!0):_(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"add",this).call(this,f,g)}},{key:"canAdd",value:function(f,g){return _(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"canAdd",this).call(this,f,g)||_(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"canAdd",this).call(this,f,parseInt(g))}},{key:"value",value:function(f){return parseInt(_(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"value",this).call(this,f))||void 0}}]),d}(p.default.Attributor.Class),h=new r("indent","ql-indent",{scope:p.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=h},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=l(4),_=x(y);function x(n){return n&&n.__esModule?n:{default:n}}function p(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function m(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function v(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var a=function(n){v(r,n);function r(){return p(this,r),m(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return r}(_.default);a.blotName="blockquote",a.tagName="blockquote",t.default=a},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function r(h,u){for(var d=0;d<u.length;d++){var c=u[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(h,c.key,c)}}return function(h,u,d){return u&&r(h.prototype,u),d&&r(h,d),h}}(),_=l(4),x=p(_);function p(r){return r&&r.__esModule?r:{default:r}}function m(r,h){if(!(r instanceof h))throw new TypeError("Cannot call a class as a function")}function v(r,h){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:r}function a(r,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);r.prototype=Object.create(h&&h.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(r,h):r.__proto__=h)}var n=function(r){a(h,r);function h(){return m(this,h),v(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return y(h,null,[{key:"formats",value:function(d){return this.tagName.indexOf(d.tagName)+1}}]),h}(x.default);n.blotName="header",n.tagName=["H1","H2","H3","H4","H5","H6"],t.default=n},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var y=function(){function s(b,S){for(var E=0;E<S.length;E++){var N=S[E];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,S,E){return S&&s(b.prototype,S),E&&s(b,E),b}}(),_=function s(b,S,E){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,S);if(N===void 0){var j=Object.getPrototypeOf(b);return j===null?void 0:s(j,S,E)}else{if("value"in N)return N.value;var O=N.get;return O===void 0?void 0:O.call(E)}},x=l(0),p=r(x),m=l(4),v=r(m),a=l(25),n=r(a);function r(s){return s&&s.__esModule?s:{default:s}}function h(s,b,S){return b in s?Object.defineProperty(s,b,{value:S,enumerable:!0,configurable:!0,writable:!0}):s[b]=S,s}function u(s,b){if(!(s instanceof b))throw new TypeError("Cannot call a class as a function")}function d(s,b){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:s}function c(s,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);s.prototype=Object.create(b&&b.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(s,b):s.__proto__=b)}var f=function(s){c(b,s);function b(){return u(this,b),d(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return y(b,[{key:"format",value:function(E,N){E===g.blotName&&!N?this.replaceWith(p.default.create(this.statics.scope)):_(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,E,N)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():_(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(E,N){return this.parent.isolate(this.offset(this.parent),this.length()),E===this.parent.statics.blotName?(this.parent.replaceWith(E,N),this):(this.parent.unwrap(),_(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"replaceWith",this).call(this,E,N))}}],[{key:"formats",value:function(E){return E.tagName===this.tagName?void 0:_(b.__proto__||Object.getPrototypeOf(b),"formats",this).call(this,E)}}]),b}(v.default);f.blotName="list-item",f.tagName="LI";var g=function(s){c(b,s),y(b,null,[{key:"create",value:function(E){var N=E==="ordered"?"OL":"UL",j=_(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,N);return(E==="checked"||E==="unchecked")&&j.setAttribute("data-checked",E==="checked"),j}},{key:"formats",value:function(E){if(E.tagName==="OL")return"ordered";if(E.tagName==="UL")return E.hasAttribute("data-checked")?E.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function b(S){u(this,b);var E=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,S)),N=function(O){if(O.target.parentNode===S){var w=E.statics.formats(S),A=p.default.find(O.target);w==="checked"?A.format("list","unchecked"):w==="unchecked"&&A.format("list","checked")}};return S.addEventListener("touchstart",N),S.addEventListener("mousedown",N),E}return y(b,[{key:"format",value:function(E,N){this.children.length>0&&this.children.tail.format(E,N)}},{key:"formats",value:function(){return h({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(E,N){if(E instanceof f)_(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertBefore",this).call(this,E,N);else{var j=N==null?this.length():N.offset(this),O=this.split(j);O.parent.insertBefore(E,O)}}},{key:"optimize",value:function(E){_(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,E);var N=this.next;N!=null&&N.prev===this&&N.statics.blotName===this.statics.blotName&&N.domNode.tagName===this.domNode.tagName&&N.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(N.moveChildren(this),N.remove())}},{key:"replace",value:function(E){if(E.statics.blotName!==this.statics.blotName){var N=p.default.create(this.statics.defaultChild);E.moveChildren(N),this.appendChild(N)}_(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"replace",this).call(this,E)}}]),b}(n.default);g.blotName="list",g.scope=p.default.Scope.BLOCK_BLOT,g.tagName=["OL","UL"],g.defaultChild="list-item",g.allowedChildren=[f],t.ListItem=f,t.default=g},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=l(56),_=x(y);function x(n){return n&&n.__esModule?n:{default:n}}function p(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function m(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function v(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var a=function(n){v(r,n);function r(){return p(this,r),m(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return r}(_.default);a.blotName="italic",a.tagName=["EM","I"],t.default=a},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function h(u,d){for(var c=0;c<d.length;c++){var f=d[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,d,c){return d&&h(u.prototype,d),c&&h(u,c),u}}(),_=function h(u,d,c){u===null&&(u=Function.prototype);var f=Object.getOwnPropertyDescriptor(u,d);if(f===void 0){var g=Object.getPrototypeOf(u);return g===null?void 0:h(g,d,c)}else{if("value"in f)return f.value;var s=f.get;return s===void 0?void 0:s.call(c)}},x=l(6),p=m(x);function m(h){return h&&h.__esModule?h:{default:h}}function v(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}function a(h,u){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:h}function n(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);h.prototype=Object.create(u&&u.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(h,u):h.__proto__=u)}var r=function(h){n(u,h);function u(){return v(this,u),a(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return y(u,null,[{key:"create",value:function(c){return c==="super"?document.createElement("sup"):c==="sub"?document.createElement("sub"):_(u.__proto__||Object.getPrototypeOf(u),"create",this).call(this,c)}},{key:"formats",value:function(c){if(c.tagName==="SUB")return"sub";if(c.tagName==="SUP")return"super"}}]),u}(p.default);r.blotName="script",r.tagName=["SUB","SUP"],t.default=r},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=l(6),_=x(y);function x(n){return n&&n.__esModule?n:{default:n}}function p(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function m(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function v(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var a=function(n){v(r,n);function r(){return p(this,r),m(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return r}(_.default);a.blotName="strike",a.tagName="S",t.default=a},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=l(6),_=x(y);function x(n){return n&&n.__esModule?n:{default:n}}function p(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function m(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function v(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var a=function(n){v(r,n);function r(){return p(this,r),m(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return r}(_.default);a.blotName="underline",a.tagName="U",t.default=a},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function d(c,f){for(var g=0;g<f.length;g++){var s=f[g];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(c,s.key,s)}}return function(c,f,g){return f&&d(c.prototype,f),g&&d(c,g),c}}(),_=function d(c,f,g){c===null&&(c=Function.prototype);var s=Object.getOwnPropertyDescriptor(c,f);if(s===void 0){var b=Object.getPrototypeOf(c);return b===null?void 0:d(b,f,g)}else{if("value"in s)return s.value;var S=s.get;return S===void 0?void 0:S.call(g)}},x=l(0),p=v(x),m=l(27);function v(d){return d&&d.__esModule?d:{default:d}}function a(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function n(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function r(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var h=["alt","height","width"],u=function(d){r(c,d);function c(){return a(this,c),n(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return y(c,[{key:"format",value:function(g,s){h.indexOf(g)>-1?s?this.domNode.setAttribute(g,s):this.domNode.removeAttribute(g):_(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"format",this).call(this,g,s)}}],[{key:"create",value:function(g){var s=_(c.__proto__||Object.getPrototypeOf(c),"create",this).call(this,g);return typeof g=="string"&&s.setAttribute("src",this.sanitize(g)),s}},{key:"formats",value:function(g){return h.reduce(function(s,b){return g.hasAttribute(b)&&(s[b]=g.getAttribute(b)),s},{})}},{key:"match",value:function(g){return/\.(jpe?g|gif|png)$/.test(g)||/^data:image\/.+;base64/.test(g)}},{key:"sanitize",value:function(g){return(0,m.sanitize)(g,["http","https","data"])?g:"//:0"}},{key:"value",value:function(g){return g.getAttribute("src")}}]),c}(p.default.Embed);u.blotName="image",u.tagName="IMG",t.default=u},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function d(c,f){for(var g=0;g<f.length;g++){var s=f[g];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(c,s.key,s)}}return function(c,f,g){return f&&d(c.prototype,f),g&&d(c,g),c}}(),_=function d(c,f,g){c===null&&(c=Function.prototype);var s=Object.getOwnPropertyDescriptor(c,f);if(s===void 0){var b=Object.getPrototypeOf(c);return b===null?void 0:d(b,f,g)}else{if("value"in s)return s.value;var S=s.get;return S===void 0?void 0:S.call(g)}},x=l(4),p=l(27),m=v(p);function v(d){return d&&d.__esModule?d:{default:d}}function a(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function n(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function r(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var h=["height","width"],u=function(d){r(c,d);function c(){return a(this,c),n(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return y(c,[{key:"format",value:function(g,s){h.indexOf(g)>-1?s?this.domNode.setAttribute(g,s):this.domNode.removeAttribute(g):_(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"format",this).call(this,g,s)}}],[{key:"create",value:function(g){var s=_(c.__proto__||Object.getPrototypeOf(c),"create",this).call(this,g);return s.setAttribute("frameborder","0"),s.setAttribute("allowfullscreen",!0),s.setAttribute("src",this.sanitize(g)),s}},{key:"formats",value:function(g){return h.reduce(function(s,b){return g.hasAttribute(b)&&(s[b]=g.getAttribute(b)),s},{})}},{key:"sanitize",value:function(g){return m.default.sanitize(g)}},{key:"value",value:function(g){return g.getAttribute("src")}}]),c}(x.BlockEmbed);u.blotName="video",u.className="ql-video",u.tagName="IFRAME",t.default=u},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var y=function(){function g(s,b){for(var S=0;S<b.length;S++){var E=b[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(s,E.key,E)}}return function(s,b,S){return b&&g(s.prototype,b),S&&g(s,S),s}}(),_=function g(s,b,S){s===null&&(s=Function.prototype);var E=Object.getOwnPropertyDescriptor(s,b);if(E===void 0){var N=Object.getPrototypeOf(s);return N===null?void 0:g(N,b,S)}else{if("value"in E)return E.value;var j=E.get;return j===void 0?void 0:j.call(S)}},x=l(35),p=r(x),m=l(5),v=r(m),a=l(9),n=r(a);function r(g){return g&&g.__esModule?g:{default:g}}function h(g,s){if(!(g instanceof s))throw new TypeError("Cannot call a class as a function")}function u(g,s){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:g}function d(g,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);g.prototype=Object.create(s&&s.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(g,s):g.__proto__=s)}var c=function(g){d(s,g);function s(){return h(this,s),u(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return y(s,null,[{key:"create",value:function(S){var E=_(s.__proto__||Object.getPrototypeOf(s),"create",this).call(this,S);return typeof S=="string"&&(window.katex.render(S,E,{throwOnError:!1,errorColor:"#f00"}),E.setAttribute("data-value",S)),E}},{key:"value",value:function(S){return S.getAttribute("data-value")}}]),s}(p.default);c.blotName="formula",c.className="ql-formula",c.tagName="SPAN";var f=function(g){d(s,g),y(s,null,[{key:"register",value:function(){v.default.register(c,!0)}}]);function s(){h(this,s);var b=u(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return b}return s}(n.default);t.FormulaBlot=c,t.default=f},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var y=function(){function S(E,N){for(var j=0;j<N.length;j++){var O=N[j];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,O.key,O)}}return function(E,N,j){return N&&S(E.prototype,N),j&&S(E,j),E}}(),_=function S(E,N,j){E===null&&(E=Function.prototype);var O=Object.getOwnPropertyDescriptor(E,N);if(O===void 0){var w=Object.getPrototypeOf(E);return w===null?void 0:S(w,N,j)}else{if("value"in O)return O.value;var A=O.get;return A===void 0?void 0:A.call(j)}},x=l(0),p=u(x),m=l(5),v=u(m),a=l(9),n=u(a),r=l(13),h=u(r);function u(S){return S&&S.__esModule?S:{default:S}}function d(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function c(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function f(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var g=function(S){f(E,S);function E(){return d(this,E),c(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return y(E,[{key:"replaceWith",value:function(j){this.domNode.textContent=this.domNode.textContent,this.attach(),_(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replaceWith",this).call(this,j)}},{key:"highlight",value:function(j){var O=this.domNode.textContent;this.cachedText!==O&&((O.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=j(O),this.domNode.normalize(),this.attach()),this.cachedText=O)}}]),E}(h.default);g.className="ql-syntax";var s=new p.default.Attributor.Class("token","hljs",{scope:p.default.Scope.INLINE}),b=function(S){f(E,S),y(E,null,[{key:"register",value:function(){v.default.register(s,!0),v.default.register(g,!0)}}]);function E(N,j){d(this,E);var O=c(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,N,j));if(typeof O.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var w=null;return O.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(w),w=setTimeout(function(){O.highlight(),w=null},O.options.interval)}),O.highlight(),O}return y(E,[{key:"highlight",value:function(){var j=this;if(!this.quill.selection.composing){this.quill.update(v.default.sources.USER);var O=this.quill.getSelection();this.quill.scroll.descendants(g).forEach(function(w){w.highlight(j.options.highlight)}),this.quill.update(v.default.sources.SILENT),O!=null&&this.quill.setSelection(O,v.default.sources.SILENT)}}}]),E}(n.default);b.DEFAULTS={highlight:function(){return window.hljs==null?null:function(S){var E=window.hljs.highlightAuto(S);return E.value}}(),interval:1e3},t.CodeBlock=g,t.CodeToken=s,t.default=b},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(i,t){i.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(i,t){i.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(i,t){i.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(i,t){i.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(i,t){i.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(i,t,l){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var y=function E(N,j,O){N===null&&(N=Function.prototype);var w=Object.getOwnPropertyDescriptor(N,j);if(w===void 0){var A=Object.getPrototypeOf(N);return A===null?void 0:E(A,j,O)}else{if("value"in w)return w.value;var k=w.get;return k===void 0?void 0:k.call(O)}},_=function(){function E(N,j){for(var O=0;O<j.length;O++){var w=j[O];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(N,w.key,w)}}return function(N,j,O){return j&&E(N.prototype,j),O&&E(N,O),N}}(),x=l(3),p=d(x),m=l(8),v=d(m),a=l(43),n=d(a),r=l(15),h=l(41),u=d(h);function d(E){return E&&E.__esModule?E:{default:E}}function c(E,N){if(!(E instanceof N))throw new TypeError("Cannot call a class as a function")}function f(E,N){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:E}function g(E,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);E.prototype=Object.create(N&&N.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(E,N):E.__proto__=N)}var s=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],b=function(E){g(N,E);function N(j,O){c(this,N),O.modules.toolbar!=null&&O.modules.toolbar.container==null&&(O.modules.toolbar.container=s);var w=f(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,j,O));return w.quill.container.classList.add("ql-bubble"),w}return _(N,[{key:"extendToolbar",value:function(O){this.tooltip=new S(this.quill,this.options.bounds),this.tooltip.root.appendChild(O.container),this.buildButtons([].slice.call(O.container.querySelectorAll("button")),u.default),this.buildPickers([].slice.call(O.container.querySelectorAll("select")),u.default)}}]),N}(n.default);b.DEFAULTS=(0,p.default)(!0,{},n.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(N){N?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var S=function(E){g(N,E);function N(j,O){c(this,N);var w=f(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,j,O));return w.quill.on(v.default.events.EDITOR_CHANGE,function(A,k,R,I){if(A===v.default.events.SELECTION_CHANGE)if(k!=null&&k.length>0&&I===v.default.sources.USER){w.show(),w.root.style.left="0px",w.root.style.width="",w.root.style.width=w.root.offsetWidth+"px";var U=w.quill.getLines(k.index,k.length);if(U.length===1)w.position(w.quill.getBounds(k));else{var F=U[U.length-1],Z=w.quill.getIndex(F),B=Math.min(F.length()-1,k.index+k.length-Z),M=w.quill.getBounds(new r.Range(Z,B));w.position(M)}}else document.activeElement!==w.textbox&&w.quill.hasFocus()&&w.hide()}),w}return _(N,[{key:"listen",value:function(){var O=this;y(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){O.root.classList.remove("ql-editing")}),this.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!O.root.classList.contains("ql-hidden")){var w=O.quill.getSelection();w!=null&&O.position(O.quill.getBounds(w))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(O){var w=y(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"position",this).call(this,O),A=this.root.querySelector(".ql-tooltip-arrow");if(A.style.marginLeft="",w===0)return w;A.style.marginLeft=-1*w-A.offsetWidth/2+"px"}}]),N}(a.BaseTooltip);S.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=S,t.default=b},function(i,t,l){i.exports=l(63)}]).default})})(kr);var Kc=kr.exports,Gc=Me&&Me.__extends||function(){var e=function(o,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var y in l)l.hasOwnProperty(y)&&(t[y]=l[y])},e(o,i)};return function(o,i){e(o,i);function t(){this.constructor=o}o.prototype=i===null?Object.create(i):(t.prototype=i.prototype,new t)}}(),Nt=Me&&Me.__assign||function(){return Nt=Object.assign||function(e){for(var o,i=1,t=arguments.length;i<t;i++){o=arguments[i];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l])}return e},Nt.apply(this,arguments)},Vc=Me&&Me.__spreadArrays||function(){for(var e=0,o=0,i=arguments.length;o<i;o++)e+=arguments[o].length;for(var t=Array(e),l=0,o=0;o<i;o++)for(var y=arguments[o],_=0,x=y.length;_<x;_++,l++)t[l]=y[_];return t},Mt=Me&&Me.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Ce=Mt(V),Wc=Mt(Ge),lt=Mt(zc),Jn=Mt(Kc),Yc=function(e){Gc(o,e);function o(i){var t=e.call(this,i)||this;t.dirtyProps=["modules","formats","bounds","theme","children"],t.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],t.state={generation:0},t.selection=null,t.onEditorChange=function(y,_,x,p){var m,v,a,n;y==="text-change"?(v=(m=t).onEditorChangeText)===null||v===void 0||v.call(m,t.editor.root.innerHTML,_,p,t.unprivilegedEditor):y==="selection-change"&&((n=(a=t).onEditorChangeSelection)===null||n===void 0||n.call(a,_,p,t.unprivilegedEditor))};var l=t.isControlled()?i.value:i.defaultValue;return t.value=l??"",t}return o.prototype.validateProps=function(i){var t;if(Ce.default.Children.count(i.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Ce.default.Children.count(i.children)){var l=Ce.default.Children.only(i.children);if(((t=l)===null||t===void 0?void 0:t.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&i.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},o.prototype.shouldComponentUpdate=function(i,t){var l=this,y;if(this.validateProps(i),!this.editor||this.state.generation!==t.generation)return!0;if("value"in i){var _=this.getEditorContents(),x=(y=i.value,y??"");this.isEqualValue(x,_)||this.setEditorContents(this.editor,x)}return i.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,i.readOnly),Vc(this.cleanProps,this.dirtyProps).some(function(p){return!lt.default(i[p],l.props[p])})},o.prototype.shouldComponentRegenerate=function(i){var t=this;return this.dirtyProps.some(function(l){return!lt.default(i[l],t.props[l])})},o.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},o.prototype.componentWillUnmount=function(){this.destroyEditor()},o.prototype.componentDidUpdate=function(i,t){var l=this;if(this.editor&&this.shouldComponentRegenerate(i)){var y=this.editor.getContents(),_=this.editor.getSelection();this.regenerationSnapshot={delta:y,selection:_},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var x=this.regenerationSnapshot,y=x.delta,p=x.selection;delete this.regenerationSnapshot,this.instantiateEditor();var m=this.editor;m.setContents(y),er(function(){return l.setEditorSelection(m,p)})}},o.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},o.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},o.prototype.isControlled=function(){return"value"in this.props},o.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},o.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},o.prototype.createEditor=function(i,t){var l=new Jn.default(i,t);return t.tabIndex!=null&&this.setEditorTabIndex(l,t.tabIndex),this.hookEditor(l),l},o.prototype.hookEditor=function(i){this.unprivilegedEditor=this.makeUnprivilegedEditor(i),i.on("editor-change",this.onEditorChange)},o.prototype.unhookEditor=function(i){i.off("editor-change",this.onEditorChange)},o.prototype.getEditorContents=function(){return this.value},o.prototype.getEditorSelection=function(){return this.selection},o.prototype.isDelta=function(i){return i&&i.ops},o.prototype.isEqualValue=function(i,t){return this.isDelta(i)&&this.isDelta(t)?lt.default(i.ops,t.ops):lt.default(i,t)},o.prototype.setEditorContents=function(i,t){var l=this;this.value=t;var y=this.getEditorSelection();typeof t=="string"?i.setContents(i.clipboard.convert(t)):i.setContents(t),er(function(){return l.setEditorSelection(i,y)})},o.prototype.setEditorSelection=function(i,t){if(this.selection=t,t){var l=i.getLength();t.index=Math.max(0,Math.min(t.index,l-1)),t.length=Math.max(0,Math.min(t.length,l-1-t.index)),i.setSelection(t)}},o.prototype.setEditorTabIndex=function(i,t){var l,y;!((y=(l=i)===null||l===void 0?void 0:l.scroll)===null||y===void 0)&&y.domNode&&(i.scroll.domNode.tabIndex=t)},o.prototype.setEditorReadOnly=function(i,t){t?i.disable():i.enable()},o.prototype.makeUnprivilegedEditor=function(i){var t=i;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},o.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var i=Wc.default.findDOMNode(this.editingArea);if(!i)throw new Error("Cannot find element for editing area");if(i.nodeType===3)throw new Error("Editing area cannot be a text node");return i},o.prototype.renderEditingArea=function(){var i=this,t=this.props,l=t.children,y=t.preserveWhitespace,_=this.state.generation,x={key:_,ref:function(p){i.editingArea=p}};return Ce.default.Children.count(l)?Ce.default.cloneElement(Ce.default.Children.only(l),x):y?Ce.default.createElement("pre",Nt({},x)):Ce.default.createElement("div",Nt({},x))},o.prototype.render=function(){var i;return Ce.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(i=this.props.className,i??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},o.prototype.onEditorChangeText=function(i,t,l,y){var _,x;if(this.editor){var p=this.isDelta(this.value)?y.getContents():y.getHTML();p!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=p,(x=(_=this.props).onChange)===null||x===void 0||x.call(_,i,t,l,y))}},o.prototype.onEditorChangeSelection=function(i,t,l){var y,_,x,p,m,v;if(this.editor){var a=this.getEditorSelection(),n=!a&&i,r=a&&!i;lt.default(i,a)||(this.selection=i,(_=(y=this.props).onChangeSelection)===null||_===void 0||_.call(y,i,t,l),n?(p=(x=this.props).onFocus)===null||p===void 0||p.call(x,i,t,l):r&&((v=(m=this.props).onBlur)===null||v===void 0||v.call(m,a,t,l)))}},o.prototype.focus=function(){this.editor&&this.editor.focus()},o.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},o.displayName="React Quill",o.Quill=Jn.default,o.defaultProps={theme:"snow",modules:{},readOnly:!1},o}(Ce.default.Component);function er(e){Promise.resolve().then(e)}var Zc=Yc;const Xc=oi(Zc),Qc=({value:e,onChange:o,placeholder:i="Nhập nội dung...",readOnly:t=!1,height:l=300,className:y=""})=>{const _=V.useCallback(m=>{o(m)},[o]),x=V.useMemo(()=>({toolbar:t?!1:{container:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{size:["small",!1,"large","huge"]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}],["link","image","video"],["blockquote","code-block"],["clean"]]},clipboard:{matchVisual:!1}}),[t]),p=["header","font","size","bold","italic","underline","strike","color","background","script","list","bullet","indent","direction","align","link","image","video","blockquote","code-block"];return L.jsxs("div",{className:`rich-text-editor ${y}`,children:[L.jsx(Xc,{theme:"snow",value:e||"",onChange:_,placeholder:i,readOnly:t,modules:x,formats:p,style:{height:`${l}px`,marginBottom:"50px"}}),L.jsx("style",{dangerouslySetInnerHTML:{__html:`
          .rich-text-editor .ql-editor {
            min-height: ${l-80}px;
            font-family: inherit;
            font-size: 14px;
            line-height: 1.5;
          }
          .rich-text-editor .ql-toolbar {
            border: 1px solid #e5e7eb;
            border-bottom: none;
            border-radius: 8px 8px 0 0;
            background: white;
          }
          .rich-text-editor .ql-container {
            border: 1px solid #e5e7eb;
            border-radius: 0 0 8px 8px;
            font-family: inherit;
            background: white;
          }
          .rich-text-editor .ql-editor.ql-blank::before {
            font-style: normal;
            color: #9ca3af;
          }
          .rich-text-editor .ql-toolbar.ql-snow {
            border-color: #e5e7eb;
          }
          .rich-text-editor .ql-container.ql-snow {
            border-color: #e5e7eb;
          }
          .rich-text-editor .ql-editor:focus {
            outline: none;
          }
          .rich-text-editor .ql-toolbar .ql-picker-label:hover,
          .rich-text-editor .ql-toolbar .ql-picker-item:hover {
            color: #3b82f6;
          }
          .rich-text-editor .ql-toolbar button:hover {
            color: #3b82f6;
          }
          .rich-text-editor .ql-toolbar button.ql-active {
            color: #3b82f6;
          }
        `}})]})},Jc=({quiz:e,setQuiz:o})=>{var i;return L.jsxs("div",{className:"space-y-8",children:[L.jsxs("div",{className:"text-center space-y-2",children:[L.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto",children:L.jsx(ai,{className:"w-8 h-8 text-white"})}),L.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Thông tin cơ bản"}),L.jsx("p",{className:"text-gray-600",children:"Điền thông tin để tạo quiz của bạn"})]}),L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{className:"space-y-2",children:[L.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700",children:[L.jsx(zt,{className:"w-4 h-4"}),"Tiêu đề quiz *"]}),L.jsx("input",{className:"w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-lg",placeholder:"Nhập tiêu đề thu hút cho quiz của bạn...",value:e.title,onChange:t=>o(l=>({...l,title:t.target.value}))})]}),L.jsxs("div",{className:"space-y-2",children:[L.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700",children:[L.jsx(zt,{className:"w-4 h-4"}),"Mô tả quiz * (Hỗ trợ định dạng Rich Text)"]}),L.jsx(Qc,{value:e.description,onChange:t=>o(l=>({...l,description:t})),placeholder:"Mô tả chi tiết về quiz của bạn... Bạn có thể thêm định dạng text, hình ảnh, video và nhiều hơn nữa!",height:200})]}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[L.jsxs("div",{className:"space-y-2",children:[L.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700",children:[L.jsx(An,{className:"w-4 h-4"}),"Danh mục *"]}),L.jsxs("select",{className:"w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",value:e.category,onChange:t=>o(l=>({...l,category:t.target.value})),children:[L.jsx("option",{value:"",children:"Chọn danh mục"}),pi.map(t=>L.jsx("option",{value:t.value,children:t.label},t.value))]})]}),L.jsxs("div",{className:"space-y-2",children:[L.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700",children:[L.jsx(li,{className:"w-4 h-4"}),"Độ khó *"]}),L.jsxs("select",{className:"w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",value:e.difficulty,onChange:t=>o(l=>({...l,difficulty:t.target.value})),children:[L.jsx("option",{value:"",children:"Chọn độ khó"}),gi.map(t=>L.jsx("option",{value:t.value,children:t.label},t.value))]})]})]}),L.jsxs("div",{className:"space-y-2",children:[L.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700",children:[L.jsx(si,{className:"w-4 h-4"}),"Thời gian (phút) *"]}),L.jsx("input",{type:"number",className:"w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",min:5,max:120,value:e.duration,onChange:t=>o(l=>({...l,duration:parseInt(t.target.value)||15})),placeholder:"15"}),L.jsx("p",{className:"text-sm text-gray-500",children:"Từ 5 đến 120 phút"})]}),L.jsxs("div",{className:"space-y-2",children:[L.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700",children:[L.jsx(An,{className:"w-4 h-4"}),"Tags (tùy chọn)"]}),L.jsx("input",{className:"w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Nhập tags, cách nhau bằng dấu phẩy...",value:((i=e.tags)==null?void 0:i.join(", "))||"",onChange:t=>o(l=>({...l,tags:t.target.value.split(",").map(y=>y.trim()).filter(y=>y)}))}),L.jsx("p",{className:"text-sm text-gray-500",children:"Ví dụ: javascript, react, frontend"})]}),L.jsxs("div",{className:"space-y-2",children:[L.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700",children:[L.jsx(zt,{className:"w-4 h-4"}),"Hình ảnh minh họa (tùy chọn)"]}),L.jsx("input",{className:"w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Nhập URL hình ảnh...",value:e.imageUrl||"",onChange:t=>o(l=>({...l,imageUrl:t.target.value}))})]})]}),L.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-2xl border border-blue-200",children:[L.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"📋 Xem trước thông tin quiz"}),L.jsxs("div",{className:"space-y-2 text-sm",children:[L.jsxs("p",{children:[L.jsx("strong",{children:"Tiêu đề:"})," ",e.title||"Chưa có tiêu đề"]}),L.jsxs("p",{children:[L.jsx("strong",{children:"Mô tả:"})," ",e.description||"Chưa có mô tả"]}),L.jsxs("p",{children:[L.jsx("strong",{children:"Danh mục:"})," ",e.category||"Chưa chọn"]}),L.jsxs("p",{children:[L.jsx("strong",{children:"Độ khó:"})," ",e.difficulty||"Chưa chọn"]}),L.jsxs("p",{children:[L.jsx("strong",{children:"Thời gian:"})," ",e.duration," phút"]}),e.tags&&e.tags.length>0&&L.jsxs("p",{children:[L.jsx("strong",{children:"Tags:"})," ",e.tags.join(", ")]}),e.imageUrl&&L.jsxs("div",{className:"mt-3",children:[L.jsx("p",{children:L.jsx("strong",{children:"Hình ảnh:"})}),L.jsx("img",{src:e.imageUrl,alt:"Preview",className:"mt-2 w-32 h-20 object-cover rounded-lg"})]})]})]})]})};function ef(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return V.useMemo(()=>t=>{o.forEach(l=>l(t))},o)}const qt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function et(e){const o=Object.prototype.toString.call(e);return o==="[object Window]"||o==="[object global]"}function dn(e){return"nodeType"in e}function we(e){var o,i;return e?et(e)?e:dn(e)&&(o=(i=e.ownerDocument)==null?void 0:i.defaultView)!=null?o:window:window}function hn(e){const{Document:o}=we(e);return e instanceof o}function pt(e){return et(e)?!1:e instanceof we(e).HTMLElement}function jr(e){return e instanceof we(e).SVGElement}function tt(e){return e?et(e)?e.document:dn(e)?hn(e)?e:pt(e)||jr(e)?e.ownerDocument:document:document:document}const Le=qt?V.useLayoutEffect:V.useEffect;function vn(e){const o=V.useRef(e);return Le(()=>{o.current=e}),V.useCallback(function(){for(var i=arguments.length,t=new Array(i),l=0;l<i;l++)t[l]=arguments[l];return o.current==null?void 0:o.current(...t)},[])}function tf(){const e=V.useRef(null),o=V.useCallback((t,l)=>{e.current=setInterval(t,l)},[]),i=V.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[o,i]}function ft(e,o){o===void 0&&(o=[e]);const i=V.useRef(e);return Le(()=>{i.current!==e&&(i.current=e)},o),i}function gt(e,o){const i=V.useRef();return V.useMemo(()=>{const t=e(i.current);return i.current=t,t},[...o])}function St(e){const o=vn(e),i=V.useRef(null),t=V.useCallback(l=>{l!==i.current&&(o==null||o(l,i.current)),i.current=l},[]);return[i,t]}function rn(e){const o=V.useRef();return V.useEffect(()=>{o.current=e},[e]),o.current}let Wt={};function yt(e,o){return V.useMemo(()=>{if(o)return o;const i=Wt[e]==null?0:Wt[e]+1;return Wt[e]=i,e+"-"+i},[e,o])}function Rr(e){return function(o){for(var i=arguments.length,t=new Array(i>1?i-1:0),l=1;l<i;l++)t[l-1]=arguments[l];return t.reduce((y,_)=>{const x=Object.entries(_);for(const[p,m]of x){const v=y[p];v!=null&&(y[p]=v+e*m)}return y},{...o})}}const Ve=Rr(1),dt=Rr(-1);function nf(e){return"clientX"in e&&"clientY"in e}function pn(e){if(!e)return!1;const{KeyboardEvent:o}=we(e.target);return o&&e instanceof o}function rf(e){if(!e)return!1;const{TouchEvent:o}=we(e.target);return o&&e instanceof o}function on(e){if(rf(e)){if(e.touches&&e.touches.length){const{clientX:o,clientY:i}=e.touches[0];return{x:o,y:i}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:o,clientY:i}=e.changedTouches[0];return{x:o,y:i}}}return nf(e)?{x:e.clientX,y:e.clientY}:null}const ht=Object.freeze({Translate:{toString(e){if(!e)return;const{x:o,y:i}=e;return"translate3d("+(o?Math.round(o):0)+"px, "+(i?Math.round(i):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:o,scaleY:i}=e;return"scaleX("+o+") scaleY("+i+")"}},Transform:{toString(e){if(e)return[ht.Translate.toString(e),ht.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:o,duration:i,easing:t}=e;return o+" "+i+"ms "+t}}}),tr="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function of(e){return e.matches(tr)?e:e.querySelector(tr)}const af={display:"none"};function lf(e){let{id:o,value:i}=e;return _e.createElement("div",{id:o,style:af},i)}function sf(e){let{id:o,announcement:i,ariaLiveType:t="assertive"}=e;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return _e.createElement("div",{id:o,style:l,role:"status","aria-live":t,"aria-atomic":!0},i)}function uf(){const[e,o]=V.useState("");return{announce:V.useCallback(t=>{t!=null&&o(t)},[]),announcement:e}}const Cr=V.createContext(null);function cf(e){const o=V.useContext(Cr);V.useEffect(()=>{if(!o)throw new Error("useDndMonitor must be used within a children of <DndContext>");return o(e)},[e,o])}function ff(){const[e]=V.useState(()=>new Set),o=V.useCallback(t=>(e.add(t),()=>e.delete(t)),[e]);return[V.useCallback(t=>{let{type:l,event:y}=t;e.forEach(_=>{var x;return(x=_[l])==null?void 0:x.call(_,y)})},[e]),o]}const df={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},hf={onDragStart(e){let{active:o}=e;return"Picked up draggable item "+o.id+"."},onDragOver(e){let{active:o,over:i}=e;return i?"Draggable item "+o.id+" was moved over droppable area "+i.id+".":"Draggable item "+o.id+" is no longer over a droppable area."},onDragEnd(e){let{active:o,over:i}=e;return i?"Draggable item "+o.id+" was dropped over droppable area "+i.id:"Draggable item "+o.id+" was dropped."},onDragCancel(e){let{active:o}=e;return"Dragging was cancelled. Draggable item "+o.id+" was dropped."}};function vf(e){let{announcements:o=hf,container:i,hiddenTextDescribedById:t,screenReaderInstructions:l=df}=e;const{announce:y,announcement:_}=uf(),x=yt("DndLiveRegion"),[p,m]=V.useState(!1);if(V.useEffect(()=>{m(!0)},[]),cf(V.useMemo(()=>({onDragStart(a){let{active:n}=a;y(o.onDragStart({active:n}))},onDragMove(a){let{active:n,over:r}=a;o.onDragMove&&y(o.onDragMove({active:n,over:r}))},onDragOver(a){let{active:n,over:r}=a;y(o.onDragOver({active:n,over:r}))},onDragEnd(a){let{active:n,over:r}=a;y(o.onDragEnd({active:n,over:r}))},onDragCancel(a){let{active:n,over:r}=a;y(o.onDragCancel({active:n,over:r}))}}),[y,o])),!p)return null;const v=_e.createElement(_e.Fragment,null,_e.createElement(lf,{id:t,value:l.draggable}),_e.createElement(sf,{id:x,announcement:_}));return i?Ge.createPortal(v,i):v}var ve;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ve||(ve={}));function Tt(){}function nr(e,o){return V.useMemo(()=>({sensor:e,options:o??{}}),[e,o])}function pf(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return V.useMemo(()=>[...o].filter(t=>t!=null),[...o])}const ke=Object.freeze({x:0,y:0});function Pr(e,o){return Math.sqrt(Math.pow(e.x-o.x,2)+Math.pow(e.y-o.y,2))}function Lr(e,o){let{data:{value:i}}=e,{data:{value:t}}=o;return i-t}function gf(e,o){let{data:{value:i}}=e,{data:{value:t}}=o;return t-i}function rr(e){let{left:o,top:i,height:t,width:l}=e;return[{x:o,y:i},{x:o+l,y:i},{x:o,y:i+t},{x:o+l,y:i+t}]}function Dr(e,o){if(!e||e.length===0)return null;const[i]=e;return i[o]}function ir(e,o,i){return o===void 0&&(o=e.left),i===void 0&&(i=e.top),{x:o+e.width*.5,y:i+e.height*.5}}const yf=e=>{let{collisionRect:o,droppableRects:i,droppableContainers:t}=e;const l=ir(o,o.left,o.top),y=[];for(const _ of t){const{id:x}=_,p=i.get(x);if(p){const m=Pr(ir(p),l);y.push({id:x,data:{droppableContainer:_,value:m}})}}return y.sort(Lr)},mf=e=>{let{collisionRect:o,droppableRects:i,droppableContainers:t}=e;const l=rr(o),y=[];for(const _ of t){const{id:x}=_,p=i.get(x);if(p){const m=rr(p),v=l.reduce((n,r,h)=>n+Pr(m[h],r),0),a=Number((v/4).toFixed(4));y.push({id:x,data:{droppableContainer:_,value:a}})}}return y.sort(Lr)};function bf(e,o){const i=Math.max(o.top,e.top),t=Math.max(o.left,e.left),l=Math.min(o.left+o.width,e.left+e.width),y=Math.min(o.top+o.height,e.top+e.height),_=l-t,x=y-i;if(t<l&&i<y){const p=o.width*o.height,m=e.width*e.height,v=_*x,a=v/(p+m-v);return Number(a.toFixed(4))}return 0}const xf=e=>{let{collisionRect:o,droppableRects:i,droppableContainers:t}=e;const l=[];for(const y of t){const{id:_}=y,x=i.get(_);if(x){const p=bf(x,o);p>0&&l.push({id:_,data:{droppableContainer:y,value:p}})}}return l.sort(gf)};function _f(e,o,i){return{...e,scaleX:o&&i?o.width/i.width:1,scaleY:o&&i?o.height/i.height:1}}function Ir(e,o){return e&&o?{x:e.left-o.left,y:e.top-o.top}:ke}function wf(e){return function(i){for(var t=arguments.length,l=new Array(t>1?t-1:0),y=1;y<t;y++)l[y-1]=arguments[y];return l.reduce((_,x)=>({..._,top:_.top+e*x.y,bottom:_.bottom+e*x.y,left:_.left+e*x.x,right:_.right+e*x.x}),{...i})}}const Of=wf(1);function Ef(e){if(e.startsWith("matrix3d(")){const o=e.slice(9,-1).split(/, /);return{x:+o[12],y:+o[13],scaleX:+o[0],scaleY:+o[5]}}else if(e.startsWith("matrix(")){const o=e.slice(7,-1).split(/, /);return{x:+o[4],y:+o[5],scaleX:+o[0],scaleY:+o[3]}}return null}function Af(e,o,i){const t=Ef(o);if(!t)return e;const{scaleX:l,scaleY:y,x:_,y:x}=t,p=e.left-_-(1-l)*parseFloat(i),m=e.top-x-(1-y)*parseFloat(i.slice(i.indexOf(" ")+1)),v=l?e.width/l:e.width,a=y?e.height/y:e.height;return{width:v,height:a,top:m,right:p+v,bottom:m+a,left:p}}const Nf={ignoreTransform:!1};function nt(e,o){o===void 0&&(o=Nf);let i=e.getBoundingClientRect();if(o.ignoreTransform){const{transform:m,transformOrigin:v}=we(e).getComputedStyle(e);m&&(i=Af(i,m,v))}const{top:t,left:l,width:y,height:_,bottom:x,right:p}=i;return{top:t,left:l,width:y,height:_,bottom:x,right:p}}function or(e){return nt(e,{ignoreTransform:!0})}function Sf(e){const o=e.innerWidth,i=e.innerHeight;return{top:0,left:0,right:o,bottom:i,width:o,height:i}}function Tf(e,o){return o===void 0&&(o=we(e).getComputedStyle(e)),o.position==="fixed"}function kf(e,o){o===void 0&&(o=we(e).getComputedStyle(e));const i=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const y=o[l];return typeof y=="string"?i.test(y):!1})}function Bt(e,o){const i=[];function t(l){if(o!=null&&i.length>=o||!l)return i;if(hn(l)&&l.scrollingElement!=null&&!i.includes(l.scrollingElement))return i.push(l.scrollingElement),i;if(!pt(l)||jr(l)||i.includes(l))return i;const y=we(e).getComputedStyle(l);return l!==e&&kf(l,y)&&i.push(l),Tf(l,y)?i:t(l.parentNode)}return e?t(e):i}function Mr(e){const[o]=Bt(e,1);return o??null}function Yt(e){return!qt||!e?null:et(e)?e:dn(e)?hn(e)||e===tt(e).scrollingElement?window:pt(e)?e:null:null}function qr(e){return et(e)?e.scrollX:e.scrollLeft}function Br(e){return et(e)?e.scrollY:e.scrollTop}function an(e){return{x:qr(e),y:Br(e)}}var pe;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(pe||(pe={}));function $r(e){return!qt||!e?!1:e===document.scrollingElement}function Fr(e){const o={x:0,y:0},i=$r(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},t={x:e.scrollWidth-i.width,y:e.scrollHeight-i.height},l=e.scrollTop<=o.y,y=e.scrollLeft<=o.x,_=e.scrollTop>=t.y,x=e.scrollLeft>=t.x;return{isTop:l,isLeft:y,isBottom:_,isRight:x,maxScroll:t,minScroll:o}}const jf={x:.2,y:.2};function Rf(e,o,i,t,l){let{top:y,left:_,right:x,bottom:p}=i;t===void 0&&(t=10),l===void 0&&(l=jf);const{isTop:m,isBottom:v,isLeft:a,isRight:n}=Fr(e),r={x:0,y:0},h={x:0,y:0},u={height:o.height*l.y,width:o.width*l.x};return!m&&y<=o.top+u.height?(r.y=pe.Backward,h.y=t*Math.abs((o.top+u.height-y)/u.height)):!v&&p>=o.bottom-u.height&&(r.y=pe.Forward,h.y=t*Math.abs((o.bottom-u.height-p)/u.height)),!n&&x>=o.right-u.width?(r.x=pe.Forward,h.x=t*Math.abs((o.right-u.width-x)/u.width)):!a&&_<=o.left+u.width&&(r.x=pe.Backward,h.x=t*Math.abs((o.left+u.width-_)/u.width)),{direction:r,speed:h}}function Cf(e){if(e===document.scrollingElement){const{innerWidth:y,innerHeight:_}=window;return{top:0,left:0,right:y,bottom:_,width:y,height:_}}const{top:o,left:i,right:t,bottom:l}=e.getBoundingClientRect();return{top:o,left:i,right:t,bottom:l,width:e.clientWidth,height:e.clientHeight}}function Ur(e){return e.reduce((o,i)=>Ve(o,an(i)),ke)}function Pf(e){return e.reduce((o,i)=>o+qr(i),0)}function Lf(e){return e.reduce((o,i)=>o+Br(i),0)}function Df(e,o){if(o===void 0&&(o=nt),!e)return;const{top:i,left:t,bottom:l,right:y}=o(e);Mr(e)&&(l<=0||y<=0||i>=window.innerHeight||t>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const If=[["x",["left","right"],Pf],["y",["top","bottom"],Lf]];class gn{constructor(o,i){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const t=Bt(i),l=Ur(t);this.rect={...o},this.width=o.width,this.height=o.height;for(const[y,_,x]of If)for(const p of _)Object.defineProperty(this,p,{get:()=>{const m=x(t),v=l[y]-m;return this.rect[p]+v},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class st{constructor(o){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(i=>{var t;return(t=this.target)==null?void 0:t.removeEventListener(...i)})},this.target=o}add(o,i,t){var l;(l=this.target)==null||l.addEventListener(o,i,t),this.listeners.push([o,i,t])}}function Mf(e){const{EventTarget:o}=we(e);return e instanceof o?e:tt(e)}function Zt(e,o){const i=Math.abs(e.x),t=Math.abs(e.y);return typeof o=="number"?Math.sqrt(i**2+t**2)>o:"x"in o&&"y"in o?i>o.x&&t>o.y:"x"in o?i>o.x:"y"in o?t>o.y:!1}var Te;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Te||(Te={}));function ar(e){e.preventDefault()}function qf(e){e.stopPropagation()}var se;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(se||(se={}));const Hr={start:[se.Space,se.Enter],cancel:[se.Esc],end:[se.Space,se.Enter,se.Tab]},Bf=(e,o)=>{let{currentCoordinates:i}=o;switch(e.code){case se.Right:return{...i,x:i.x+25};case se.Left:return{...i,x:i.x-25};case se.Down:return{...i,y:i.y+25};case se.Up:return{...i,y:i.y-25}}};class yn{constructor(o){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=o;const{event:{target:i}}=o;this.props=o,this.listeners=new st(tt(i)),this.windowListeners=new st(we(i)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Te.Resize,this.handleCancel),this.windowListeners.add(Te.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Te.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:o,onStart:i}=this.props,t=o.node.current;t&&Df(t),i(ke)}handleKeyDown(o){if(pn(o)){const{active:i,context:t,options:l}=this.props,{keyboardCodes:y=Hr,coordinateGetter:_=Bf,scrollBehavior:x="smooth"}=l,{code:p}=o;if(y.end.includes(p)){this.handleEnd(o);return}if(y.cancel.includes(p)){this.handleCancel(o);return}const{collisionRect:m}=t.current,v=m?{x:m.left,y:m.top}:ke;this.referenceCoordinates||(this.referenceCoordinates=v);const a=_(o,{active:i,context:t.current,currentCoordinates:v});if(a){const n=dt(a,v),r={x:0,y:0},{scrollableAncestors:h}=t.current;for(const u of h){const d=o.code,{isTop:c,isRight:f,isLeft:g,isBottom:s,maxScroll:b,minScroll:S}=Fr(u),E=Cf(u),N={x:Math.min(d===se.Right?E.right-E.width/2:E.right,Math.max(d===se.Right?E.left:E.left+E.width/2,a.x)),y:Math.min(d===se.Down?E.bottom-E.height/2:E.bottom,Math.max(d===se.Down?E.top:E.top+E.height/2,a.y))},j=d===se.Right&&!f||d===se.Left&&!g,O=d===se.Down&&!s||d===se.Up&&!c;if(j&&N.x!==a.x){const w=u.scrollLeft+n.x,A=d===se.Right&&w<=b.x||d===se.Left&&w>=S.x;if(A&&!n.y){u.scrollTo({left:w,behavior:x});return}A?r.x=u.scrollLeft-w:r.x=d===se.Right?u.scrollLeft-b.x:u.scrollLeft-S.x,r.x&&u.scrollBy({left:-r.x,behavior:x});break}else if(O&&N.y!==a.y){const w=u.scrollTop+n.y,A=d===se.Down&&w<=b.y||d===se.Up&&w>=S.y;if(A&&!n.x){u.scrollTo({top:w,behavior:x});return}A?r.y=u.scrollTop-w:r.y=d===se.Down?u.scrollTop-b.y:u.scrollTop-S.y,r.y&&u.scrollBy({top:-r.y,behavior:x});break}}this.handleMove(o,Ve(dt(a,this.referenceCoordinates),r))}}}handleMove(o,i){const{onMove:t}=this.props;o.preventDefault(),t(i)}handleEnd(o){const{onEnd:i}=this.props;o.preventDefault(),this.detach(),i()}handleCancel(o){const{onCancel:i}=this.props;o.preventDefault(),this.detach(),i()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}yn.activators=[{eventName:"onKeyDown",handler:(e,o,i)=>{let{keyboardCodes:t=Hr,onActivation:l}=o,{active:y}=i;const{code:_}=e.nativeEvent;if(t.start.includes(_)){const x=y.activatorNode.current;return x&&e.target!==x?!1:(e.preventDefault(),l==null||l({event:e.nativeEvent}),!0)}return!1}}];function lr(e){return!!(e&&"distance"in e)}function sr(e){return!!(e&&"delay"in e)}class mn{constructor(o,i,t){var l;t===void 0&&(t=Mf(o.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=o,this.events=i;const{event:y}=o,{target:_}=y;this.props=o,this.events=i,this.document=tt(_),this.documentListeners=new st(this.document),this.listeners=new st(t),this.windowListeners=new st(we(_)),this.initialCoordinates=(l=on(y))!=null?l:ke,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:o,props:{options:{activationConstraint:i,bypassActivationConstraint:t}}}=this;if(this.listeners.add(o.move.name,this.handleMove,{passive:!1}),this.listeners.add(o.end.name,this.handleEnd),o.cancel&&this.listeners.add(o.cancel.name,this.handleCancel),this.windowListeners.add(Te.Resize,this.handleCancel),this.windowListeners.add(Te.DragStart,ar),this.windowListeners.add(Te.VisibilityChange,this.handleCancel),this.windowListeners.add(Te.ContextMenu,ar),this.documentListeners.add(Te.Keydown,this.handleKeydown),i){if(t!=null&&t({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(sr(i)){this.timeoutId=setTimeout(this.handleStart,i.delay),this.handlePending(i);return}if(lr(i)){this.handlePending(i);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(o,i){const{active:t,onPending:l}=this.props;l(t,o,this.initialCoordinates,i)}handleStart(){const{initialCoordinates:o}=this,{onStart:i}=this.props;o&&(this.activated=!0,this.documentListeners.add(Te.Click,qf,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Te.SelectionChange,this.removeTextSelection),i(o))}handleMove(o){var i;const{activated:t,initialCoordinates:l,props:y}=this,{onMove:_,options:{activationConstraint:x}}=y;if(!l)return;const p=(i=on(o))!=null?i:ke,m=dt(l,p);if(!t&&x){if(lr(x)){if(x.tolerance!=null&&Zt(m,x.tolerance))return this.handleCancel();if(Zt(m,x.distance))return this.handleStart()}if(sr(x)&&Zt(m,x.tolerance))return this.handleCancel();this.handlePending(x,m);return}o.cancelable&&o.preventDefault(),_(p)}handleEnd(){const{onAbort:o,onEnd:i}=this.props;this.detach(),this.activated||o(this.props.active),i()}handleCancel(){const{onAbort:o,onCancel:i}=this.props;this.detach(),this.activated||o(this.props.active),i()}handleKeydown(o){o.code===se.Esc&&this.handleCancel()}removeTextSelection(){var o;(o=this.document.getSelection())==null||o.removeAllRanges()}}const $f={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class bn extends mn{constructor(o){const{event:i}=o,t=tt(i.target);super(o,$f,t)}}bn.activators=[{eventName:"onPointerDown",handler:(e,o)=>{let{nativeEvent:i}=e,{onActivation:t}=o;return!i.isPrimary||i.button!==0?!1:(t==null||t({event:i}),!0)}}];const Ff={move:{name:"mousemove"},end:{name:"mouseup"}};var ln;(function(e){e[e.RightClick=2]="RightClick"})(ln||(ln={}));class Uf extends mn{constructor(o){super(o,Ff,tt(o.event.target))}}Uf.activators=[{eventName:"onMouseDown",handler:(e,o)=>{let{nativeEvent:i}=e,{onActivation:t}=o;return i.button===ln.RightClick?!1:(t==null||t({event:i}),!0)}}];const Xt={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Hf extends mn{constructor(o){super(o,Xt)}static setup(){return window.addEventListener(Xt.move.name,o,{capture:!1,passive:!1}),function(){window.removeEventListener(Xt.move.name,o)};function o(){}}}Hf.activators=[{eventName:"onTouchStart",handler:(e,o)=>{let{nativeEvent:i}=e,{onActivation:t}=o;const{touches:l}=i;return l.length>1?!1:(t==null||t({event:i}),!0)}}];var ut;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ut||(ut={}));var kt;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(kt||(kt={}));function zf(e){let{acceleration:o,activator:i=ut.Pointer,canScroll:t,draggingRect:l,enabled:y,interval:_=5,order:x=kt.TreeOrder,pointerCoordinates:p,scrollableAncestors:m,scrollableAncestorRects:v,delta:a,threshold:n}=e;const r=Gf({delta:a,disabled:!y}),[h,u]=tf(),d=V.useRef({x:0,y:0}),c=V.useRef({x:0,y:0}),f=V.useMemo(()=>{switch(i){case ut.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case ut.DraggableRect:return l}},[i,l,p]),g=V.useRef(null),s=V.useCallback(()=>{const S=g.current;if(!S)return;const E=d.current.x*c.current.x,N=d.current.y*c.current.y;S.scrollBy(E,N)},[]),b=V.useMemo(()=>x===kt.TreeOrder?[...m].reverse():m,[x,m]);V.useEffect(()=>{if(!y||!m.length||!f){u();return}for(const S of b){if((t==null?void 0:t(S))===!1)continue;const E=m.indexOf(S),N=v[E];if(!N)continue;const{direction:j,speed:O}=Rf(S,N,f,o,n);for(const w of["x","y"])r[w][j[w]]||(O[w]=0,j[w]=0);if(O.x>0||O.y>0){u(),g.current=S,h(s,_),d.current=O,c.current=j;return}}d.current={x:0,y:0},c.current={x:0,y:0},u()},[o,s,t,u,y,_,JSON.stringify(f),JSON.stringify(r),h,m,b,v,JSON.stringify(n)])}const Kf={x:{[pe.Backward]:!1,[pe.Forward]:!1},y:{[pe.Backward]:!1,[pe.Forward]:!1}};function Gf(e){let{delta:o,disabled:i}=e;const t=rn(o);return gt(l=>{if(i||!t||!l)return Kf;const y={x:Math.sign(o.x-t.x),y:Math.sign(o.y-t.y)};return{x:{[pe.Backward]:l.x[pe.Backward]||y.x===-1,[pe.Forward]:l.x[pe.Forward]||y.x===1},y:{[pe.Backward]:l.y[pe.Backward]||y.y===-1,[pe.Forward]:l.y[pe.Forward]||y.y===1}}},[i,o,t])}function Vf(e,o){const i=o!=null?e.get(o):void 0,t=i?i.node.current:null;return gt(l=>{var y;return o==null?null:(y=t??l)!=null?y:null},[t,o])}function Wf(e,o){return V.useMemo(()=>e.reduce((i,t)=>{const{sensor:l}=t,y=l.activators.map(_=>({eventName:_.eventName,handler:o(_.handler,t)}));return[...i,...y]},[]),[e,o])}var vt;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(vt||(vt={}));var sn;(function(e){e.Optimized="optimized"})(sn||(sn={}));const ur=new Map;function Yf(e,o){let{dragging:i,dependencies:t,config:l}=o;const[y,_]=V.useState(null),{frequency:x,measure:p,strategy:m}=l,v=V.useRef(e),a=d(),n=ft(a),r=V.useCallback(function(c){c===void 0&&(c=[]),!n.current&&_(f=>f===null?c:f.concat(c.filter(g=>!f.includes(g))))},[n]),h=V.useRef(null),u=gt(c=>{if(a&&!i)return ur;if(!c||c===ur||v.current!==e||y!=null){const f=new Map;for(let g of e){if(!g)continue;if(y&&y.length>0&&!y.includes(g.id)&&g.rect.current){f.set(g.id,g.rect.current);continue}const s=g.node.current,b=s?new gn(p(s),s):null;g.rect.current=b,b&&f.set(g.id,b)}return f}return c},[e,y,i,a,p]);return V.useEffect(()=>{v.current=e},[e]),V.useEffect(()=>{a||r()},[i,a]),V.useEffect(()=>{y&&y.length>0&&_(null)},[JSON.stringify(y)]),V.useEffect(()=>{a||typeof x!="number"||h.current!==null||(h.current=setTimeout(()=>{r(),h.current=null},x))},[x,a,r,...t]),{droppableRects:u,measureDroppableContainers:r,measuringScheduled:y!=null};function d(){switch(m){case vt.Always:return!1;case vt.BeforeDragging:return i;default:return!i}}}function zr(e,o){return gt(i=>e?i||(typeof o=="function"?o(e):e):null,[o,e])}function Zf(e,o){return zr(e,o)}function Xf(e){let{callback:o,disabled:i}=e;const t=vn(o),l=V.useMemo(()=>{if(i||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:y}=window;return new y(t)},[t,i]);return V.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function $t(e){let{callback:o,disabled:i}=e;const t=vn(o),l=V.useMemo(()=>{if(i||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:y}=window;return new y(t)},[i]);return V.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function Qf(e){return new gn(nt(e),e)}function cr(e,o,i){o===void 0&&(o=Qf);const[t,l]=V.useState(null);function y(){l(p=>{if(!e)return null;if(e.isConnected===!1){var m;return(m=p??i)!=null?m:null}const v=o(e);return JSON.stringify(p)===JSON.stringify(v)?p:v})}const _=Xf({callback(p){if(e)for(const m of p){const{type:v,target:a}=m;if(v==="childList"&&a instanceof HTMLElement&&a.contains(e)){y();break}}}}),x=$t({callback:y});return Le(()=>{y(),e?(x==null||x.observe(e),_==null||_.observe(document.body,{childList:!0,subtree:!0})):(x==null||x.disconnect(),_==null||_.disconnect())},[e]),t}function Jf(e){const o=zr(e);return Ir(e,o)}const fr=[];function ed(e){const o=V.useRef(e),i=gt(t=>e?t&&t!==fr&&e&&o.current&&e.parentNode===o.current.parentNode?t:Bt(e):fr,[e]);return V.useEffect(()=>{o.current=e},[e]),i}function td(e){const[o,i]=V.useState(null),t=V.useRef(e),l=V.useCallback(y=>{const _=Yt(y.target);_&&i(x=>x?(x.set(_,an(_)),new Map(x)):null)},[]);return V.useEffect(()=>{const y=t.current;if(e!==y){_(y);const x=e.map(p=>{const m=Yt(p);return m?(m.addEventListener("scroll",l,{passive:!0}),[m,an(m)]):null}).filter(p=>p!=null);i(x.length?new Map(x):null),t.current=e}return()=>{_(e),_(y)};function _(x){x.forEach(p=>{const m=Yt(p);m==null||m.removeEventListener("scroll",l)})}},[l,e]),V.useMemo(()=>e.length?o?Array.from(o.values()).reduce((y,_)=>Ve(y,_),ke):Ur(e):ke,[e,o])}function dr(e,o){o===void 0&&(o=[]);const i=V.useRef(null);return V.useEffect(()=>{i.current=null},o),V.useEffect(()=>{const t=e!==ke;t&&!i.current&&(i.current=e),!t&&i.current&&(i.current=null)},[e]),i.current?dt(e,i.current):ke}function nd(e){V.useEffect(()=>{if(!qt)return;const o=e.map(i=>{let{sensor:t}=i;return t.setup==null?void 0:t.setup()});return()=>{for(const i of o)i==null||i()}},e.map(o=>{let{sensor:i}=o;return i}))}function rd(e,o){return V.useMemo(()=>e.reduce((i,t)=>{let{eventName:l,handler:y}=t;return i[l]=_=>{y(_,o)},i},{}),[e,o])}function Kr(e){return V.useMemo(()=>e?Sf(e):null,[e])}const hr=[];function id(e,o){o===void 0&&(o=nt);const[i]=e,t=Kr(i?we(i):null),[l,y]=V.useState(hr);function _(){y(()=>e.length?e.map(p=>$r(p)?t:new gn(o(p),p)):hr)}const x=$t({callback:_});return Le(()=>{x==null||x.disconnect(),_(),e.forEach(p=>x==null?void 0:x.observe(p))},[e]),l}function od(e){if(!e)return null;if(e.children.length>1)return e;const o=e.children[0];return pt(o)?o:e}function ad(e){let{measure:o}=e;const[i,t]=V.useState(null),l=V.useCallback(m=>{for(const{target:v}of m)if(pt(v)){t(a=>{const n=o(v);return a?{...a,width:n.width,height:n.height}:n});break}},[o]),y=$t({callback:l}),_=V.useCallback(m=>{const v=od(m);y==null||y.disconnect(),v&&(y==null||y.observe(v)),t(v?o(v):null)},[o,y]),[x,p]=St(_);return V.useMemo(()=>({nodeRef:x,rect:i,setRef:p}),[i,x,p])}const ld=[{sensor:bn,options:{}},{sensor:yn,options:{}}],sd={current:{}},wt={draggable:{measure:or},droppable:{measure:or,strategy:vt.WhileDragging,frequency:sn.Optimized},dragOverlay:{measure:nt}};class ct extends Map{get(o){var i;return o!=null&&(i=super.get(o))!=null?i:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(o=>{let{disabled:i}=o;return!i})}getNodeFor(o){var i,t;return(i=(t=this.get(o))==null?void 0:t.node.current)!=null?i:void 0}}const ud={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ct,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Tt},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:wt,measureDroppableContainers:Tt,windowRect:null,measuringScheduled:!1},cd={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Tt,draggableNodes:new Map,over:null,measureDroppableContainers:Tt},Ft=V.createContext(cd),Gr=V.createContext(ud);function fd(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ct}}}function dd(e,o){switch(o.type){case ve.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:o.initialCoordinates,active:o.active}};case ve.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:o.coordinates.x-e.draggable.initialCoordinates.x,y:o.coordinates.y-e.draggable.initialCoordinates.y}}};case ve.DragEnd:case ve.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ve.RegisterDroppable:{const{element:i}=o,{id:t}=i,l=new ct(e.droppable.containers);return l.set(t,i),{...e,droppable:{...e.droppable,containers:l}}}case ve.SetDroppableDisabled:{const{id:i,key:t,disabled:l}=o,y=e.droppable.containers.get(i);if(!y||t!==y.key)return e;const _=new ct(e.droppable.containers);return _.set(i,{...y,disabled:l}),{...e,droppable:{...e.droppable,containers:_}}}case ve.UnregisterDroppable:{const{id:i,key:t}=o,l=e.droppable.containers.get(i);if(!l||t!==l.key)return e;const y=new ct(e.droppable.containers);return y.delete(i),{...e,droppable:{...e.droppable,containers:y}}}default:return e}}function hd(e){let{disabled:o}=e;const{active:i,activatorEvent:t,draggableNodes:l}=V.useContext(Ft),y=rn(t),_=rn(i==null?void 0:i.id);return V.useEffect(()=>{if(!o&&!t&&y&&_!=null){if(!pn(y)||document.activeElement===y.target)return;const x=l.get(_);if(!x)return;const{activatorNode:p,node:m}=x;if(!p.current&&!m.current)return;requestAnimationFrame(()=>{for(const v of[p.current,m.current]){if(!v)continue;const a=of(v);if(a){a.focus();break}}})}},[t,o,l,_,y]),null}function vd(e,o){let{transform:i,...t}=o;return e!=null&&e.length?e.reduce((l,y)=>y({transform:l,...t}),i):i}function pd(e){return V.useMemo(()=>({draggable:{...wt.draggable,...e==null?void 0:e.draggable},droppable:{...wt.droppable,...e==null?void 0:e.droppable},dragOverlay:{...wt.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function gd(e){let{activeNode:o,measure:i,initialRect:t,config:l=!0}=e;const y=V.useRef(!1),{x:_,y:x}=typeof l=="boolean"?{x:l,y:l}:l;Le(()=>{if(!_&&!x||!o){y.current=!1;return}if(y.current||!t)return;const m=o==null?void 0:o.node.current;if(!m||m.isConnected===!1)return;const v=i(m),a=Ir(v,t);if(_||(a.x=0),x||(a.y=0),y.current=!0,Math.abs(a.x)>0||Math.abs(a.y)>0){const n=Mr(m);n&&n.scrollBy({top:a.y,left:a.x})}},[o,_,x,t,i])}const Vr=V.createContext({...ke,scaleX:1,scaleY:1});var Ue;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ue||(Ue={}));const yd=V.memo(function(o){var i,t,l,y;let{id:_,accessibility:x,autoScroll:p=!0,children:m,sensors:v=ld,collisionDetection:a=xf,measuring:n,modifiers:r,...h}=o;const u=V.useReducer(dd,void 0,fd),[d,c]=u,[f,g]=ff(),[s,b]=V.useState(Ue.Uninitialized),S=s===Ue.Initialized,{draggable:{active:E,nodes:N,translate:j},droppable:{containers:O}}=d,w=E!=null?N.get(E):null,A=V.useRef({initial:null,translated:null}),k=V.useMemo(()=>{var be;return E!=null?{id:E,data:(be=w==null?void 0:w.data)!=null?be:sd,rect:A}:null},[E,w]),R=V.useRef(null),[I,U]=V.useState(null),[F,Z]=V.useState(null),B=ft(h,Object.values(h)),M=yt("DndDescribedBy",_),T=V.useMemo(()=>O.getEnabled(),[O]),P=pd(n),{droppableRects:D,measureDroppableContainers:H,measuringScheduled:$}=Yf(T,{dragging:S,dependencies:[j.x,j.y],config:P.droppable}),C=Vf(N,E),q=V.useMemo(()=>F?on(F):null,[F]),K=ii(),z=Zf(C,P.draggable.measure);gd({activeNode:E!=null?N.get(E):null,config:K.layoutShiftCompensation,initialRect:z,measure:P.draggable.measure});const G=cr(C,P.draggable.measure,z),ee=cr(C?C.parentElement:null),te=V.useRef({activatorEvent:null,active:null,activeNode:C,collisionRect:null,collisions:null,droppableRects:D,draggableNodes:N,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ne=O.getNodeFor((i=te.current.over)==null?void 0:i.id),re=ad({measure:P.dragOverlay.measure}),le=(t=re.nodeRef.current)!=null?t:C,he=S?(l=re.rect)!=null?l:G:null,de=!!(re.nodeRef.current&&re.rect),W=Jf(de?null:G),Y=Kr(le?we(le):null),Q=ed(S?ne??C:null),J=id(Q),X=vd(r,{transform:{x:j.x-W.x,y:j.y-W.y,scaleX:1,scaleY:1},activatorEvent:F,active:k,activeNodeRect:G,containerNodeRect:ee,draggingNodeRect:he,over:te.current.over,overlayNodeRect:re.rect,scrollableAncestors:Q,scrollableAncestorRects:J,windowRect:Y}),ie=q?Ve(q,j):null,oe=td(Q),ae=dr(oe),xe=dr(oe,[G]),me=Ve(X,ae),ue=he?Of(he,X):null,He=k&&ue?a({active:k,collisionRect:ue,droppableRects:D,droppableContainers:T,pointerCoordinates:ie}):null,fe=Dr(He,"id"),[ge,_n]=V.useState(null),Jr=de?X:Ve(X,xe),ei=_f(Jr,(y=ge==null?void 0:ge.rect)!=null?y:null,G),Ut=V.useRef(null),wn=V.useCallback((be,Oe)=>{let{sensor:Ee,options:Be}=Oe;if(R.current==null)return;const Ne=N.get(R.current);if(!Ne)return;const Ae=be.nativeEvent,je=new Ee({active:R.current,activeNode:Ne,event:Ae,options:Be,context:te,onAbort(ye){if(!N.get(ye))return;const{onDragAbort:Re}=B.current,De={id:ye};Re==null||Re(De),f({type:"onDragAbort",event:De})},onPending(ye,$e,Re,De){if(!N.get(ye))return;const{onDragPending:it}=B.current,Fe={id:ye,constraint:$e,initialCoordinates:Re,offset:De};it==null||it(Fe),f({type:"onDragPending",event:Fe})},onStart(ye){const $e=R.current;if($e==null)return;const Re=N.get($e);if(!Re)return;const{onDragStart:De}=B.current,rt={activatorEvent:Ae,active:{id:$e,data:Re.data,rect:A}};Ge.unstable_batchedUpdates(()=>{De==null||De(rt),b(Ue.Initializing),c({type:ve.DragStart,initialCoordinates:ye,active:$e}),f({type:"onDragStart",event:rt}),U(Ut.current),Z(Ae)})},onMove(ye){c({type:ve.DragMove,coordinates:ye})},onEnd:Ke(ve.DragEnd),onCancel:Ke(ve.DragCancel)});Ut.current=je;function Ke(ye){return async function(){const{active:Re,collisions:De,over:rt,scrollAdjustedTranslate:it}=te.current;let Fe=null;if(Re&&it){const{cancelDrop:ot}=B.current;Fe={activatorEvent:Ae,active:Re,collisions:De,delta:it,over:rt},ye===ve.DragEnd&&typeof ot=="function"&&await Promise.resolve(ot(Fe))&&(ye=ve.DragCancel)}R.current=null,Ge.unstable_batchedUpdates(()=>{c({type:ye}),b(Ue.Uninitialized),_n(null),U(null),Z(null),Ut.current=null;const ot=ye===ve.DragEnd?"onDragEnd":"onDragCancel";if(Fe){const Ht=B.current[ot];Ht==null||Ht(Fe),f({type:ot,event:Fe})}})}}},[N]),ti=V.useCallback((be,Oe)=>(Ee,Be)=>{const Ne=Ee.nativeEvent,Ae=N.get(Be);if(R.current!==null||!Ae||Ne.dndKit||Ne.defaultPrevented)return;const je={active:Ae};be(Ee,Oe.options,je)===!0&&(Ne.dndKit={capturedBy:Oe.sensor},R.current=Be,wn(Ee,Oe))},[N,wn]),On=Wf(v,ti);nd(v),Le(()=>{G&&s===Ue.Initializing&&b(Ue.Initialized)},[G,s]),V.useEffect(()=>{const{onDragMove:be}=B.current,{active:Oe,activatorEvent:Ee,collisions:Be,over:Ne}=te.current;if(!Oe||!Ee)return;const Ae={active:Oe,activatorEvent:Ee,collisions:Be,delta:{x:me.x,y:me.y},over:Ne};Ge.unstable_batchedUpdates(()=>{be==null||be(Ae),f({type:"onDragMove",event:Ae})})},[me.x,me.y]),V.useEffect(()=>{const{active:be,activatorEvent:Oe,collisions:Ee,droppableContainers:Be,scrollAdjustedTranslate:Ne}=te.current;if(!be||R.current==null||!Oe||!Ne)return;const{onDragOver:Ae}=B.current,je=Be.get(fe),Ke=je&&je.rect.current?{id:je.id,rect:je.rect.current,data:je.data,disabled:je.disabled}:null,ye={active:be,activatorEvent:Oe,collisions:Ee,delta:{x:Ne.x,y:Ne.y},over:Ke};Ge.unstable_batchedUpdates(()=>{_n(Ke),Ae==null||Ae(ye),f({type:"onDragOver",event:ye})})},[fe]),Le(()=>{te.current={activatorEvent:F,active:k,activeNode:C,collisionRect:ue,collisions:He,droppableRects:D,draggableNodes:N,draggingNode:le,draggingNodeRect:he,droppableContainers:O,over:ge,scrollableAncestors:Q,scrollAdjustedTranslate:me},A.current={initial:he,translated:ue}},[k,C,He,ue,N,le,he,D,O,ge,Q,me]),zf({...K,delta:j,draggingRect:ue,pointerCoordinates:ie,scrollableAncestors:Q,scrollableAncestorRects:J});const ni=V.useMemo(()=>({active:k,activeNode:C,activeNodeRect:G,activatorEvent:F,collisions:He,containerNodeRect:ee,dragOverlay:re,draggableNodes:N,droppableContainers:O,droppableRects:D,over:ge,measureDroppableContainers:H,scrollableAncestors:Q,scrollableAncestorRects:J,measuringConfiguration:P,measuringScheduled:$,windowRect:Y}),[k,C,G,F,He,ee,re,N,O,D,ge,H,Q,J,P,$,Y]),ri=V.useMemo(()=>({activatorEvent:F,activators:On,active:k,activeNodeRect:G,ariaDescribedById:{draggable:M},dispatch:c,draggableNodes:N,over:ge,measureDroppableContainers:H}),[F,On,k,G,c,M,N,ge,H]);return _e.createElement(Cr.Provider,{value:g},_e.createElement(Ft.Provider,{value:ri},_e.createElement(Gr.Provider,{value:ni},_e.createElement(Vr.Provider,{value:ei},m)),_e.createElement(hd,{disabled:(x==null?void 0:x.restoreFocus)===!1})),_e.createElement(vf,{...x,hiddenTextDescribedById:M}));function ii(){const be=(I==null?void 0:I.autoScrollEnabled)===!1,Oe=typeof p=="object"?p.enabled===!1:p===!1,Ee=S&&!be&&!Oe;return typeof p=="object"?{...p,enabled:Ee}:{enabled:Ee}}}),md=V.createContext(null),vr="button",bd="Draggable";function xd(e){let{id:o,data:i,disabled:t=!1,attributes:l}=e;const y=yt(bd),{activators:_,activatorEvent:x,active:p,activeNodeRect:m,ariaDescribedById:v,draggableNodes:a,over:n}=V.useContext(Ft),{role:r=vr,roleDescription:h="draggable",tabIndex:u=0}=l??{},d=(p==null?void 0:p.id)===o,c=V.useContext(d?Vr:md),[f,g]=St(),[s,b]=St(),S=rd(_,o),E=ft(i);Le(()=>(a.set(o,{id:o,key:y,node:f,activatorNode:s,data:E}),()=>{const j=a.get(o);j&&j.key===y&&a.delete(o)}),[a,o]);const N=V.useMemo(()=>({role:r,tabIndex:u,"aria-disabled":t,"aria-pressed":d&&r===vr?!0:void 0,"aria-roledescription":h,"aria-describedby":v.draggable}),[t,r,u,d,h,v.draggable]);return{active:p,activatorEvent:x,activeNodeRect:m,attributes:N,isDragging:d,listeners:t?void 0:S,node:f,over:n,setNodeRef:g,setActivatorNodeRef:b,transform:c}}function _d(){return V.useContext(Gr)}const wd="Droppable",Od={timeout:25};function Ed(e){let{data:o,disabled:i=!1,id:t,resizeObserverConfig:l}=e;const y=yt(wd),{active:_,dispatch:x,over:p,measureDroppableContainers:m}=V.useContext(Ft),v=V.useRef({disabled:i}),a=V.useRef(!1),n=V.useRef(null),r=V.useRef(null),{disabled:h,updateMeasurementsFor:u,timeout:d}={...Od,...l},c=ft(u??t),f=V.useCallback(()=>{if(!a.current){a.current=!0;return}r.current!=null&&clearTimeout(r.current),r.current=setTimeout(()=>{m(Array.isArray(c.current)?c.current:[c.current]),r.current=null},d)},[d]),g=$t({callback:f,disabled:h||!_}),s=V.useCallback((N,j)=>{g&&(j&&(g.unobserve(j),a.current=!1),N&&g.observe(N))},[g]),[b,S]=St(s),E=ft(o);return V.useEffect(()=>{!g||!b.current||(g.disconnect(),a.current=!1,g.observe(b.current))},[b,g]),V.useEffect(()=>(x({type:ve.RegisterDroppable,element:{id:t,key:y,disabled:i,node:b,rect:n,data:E}}),()=>x({type:ve.UnregisterDroppable,key:y,id:t})),[t]),V.useEffect(()=>{i!==v.current.disabled&&(x({type:ve.SetDroppableDisabled,id:t,key:y,disabled:i}),v.current.disabled=i)},[t,y,i,x]),{active:_,rect:n,isOver:(p==null?void 0:p.id)===t,node:b,over:p,setNodeRef:S}}function xn(e,o,i){const t=e.slice();return t.splice(i<0?t.length+i:i,0,t.splice(o,1)[0]),t}function Ad(e,o){return e.reduce((i,t,l)=>{const y=o.get(t);return y&&(i[l]=y),i},Array(e.length))}function xt(e){return e!==null&&e>=0}function Nd(e,o){if(e===o)return!0;if(e.length!==o.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==o[i])return!1;return!0}function Sd(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Wr=e=>{let{rects:o,activeIndex:i,overIndex:t,index:l}=e;const y=xn(o,t,i),_=o[l],x=y[l];return!x||!_?null:{x:x.left-_.left,y:x.top-_.top,scaleX:x.width/_.width,scaleY:x.height/_.height}},_t={scaleX:1,scaleY:1},Td=e=>{var o;let{activeIndex:i,activeNodeRect:t,index:l,rects:y,overIndex:_}=e;const x=(o=y[i])!=null?o:t;if(!x)return null;if(l===i){const m=y[_];return m?{x:0,y:i<_?m.top+m.height-(x.top+x.height):m.top-x.top,..._t}:null}const p=kd(y,l,i);return l>i&&l<=_?{x:0,y:-x.height-p,..._t}:l<i&&l>=_?{x:0,y:x.height+p,..._t}:{x:0,y:0,..._t}};function kd(e,o,i){const t=e[o],l=e[o-1],y=e[o+1];return t?i<o?l?t.top-(l.top+l.height):y?y.top-(t.top+t.height):0:y?y.top-(t.top+t.height):l?t.top-(l.top+l.height):0:0}const Yr="Sortable",Zr=_e.createContext({activeIndex:-1,containerId:Yr,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Wr,disabled:{draggable:!1,droppable:!1}});function jd(e){let{children:o,id:i,items:t,strategy:l=Wr,disabled:y=!1}=e;const{active:_,dragOverlay:x,droppableRects:p,over:m,measureDroppableContainers:v}=_d(),a=yt(Yr,i),n=x.rect!==null,r=V.useMemo(()=>t.map(S=>typeof S=="object"&&"id"in S?S.id:S),[t]),h=_!=null,u=_?r.indexOf(_.id):-1,d=m?r.indexOf(m.id):-1,c=V.useRef(r),f=!Nd(r,c.current),g=d!==-1&&u===-1||f,s=Sd(y);Le(()=>{f&&h&&v(r)},[f,r,h,v]),V.useEffect(()=>{c.current=r},[r]);const b=V.useMemo(()=>({activeIndex:u,containerId:a,disabled:s,disableTransforms:g,items:r,overIndex:d,useDragOverlay:n,sortedRects:Ad(r,p),strategy:l}),[u,a,s.draggable,s.droppable,g,r,d,p,n,l]);return _e.createElement(Zr.Provider,{value:b},o)}const Rd=e=>{let{id:o,items:i,activeIndex:t,overIndex:l}=e;return xn(i,t,l).indexOf(o)},Cd=e=>{let{containerId:o,isSorting:i,wasDragging:t,index:l,items:y,newIndex:_,previousItems:x,previousContainerId:p,transition:m}=e;return!m||!t||x!==y&&l===_?!1:i?!0:_!==l&&o===p},Pd={duration:200,easing:"ease"},Xr="transform",Ld=ht.Transition.toString({property:Xr,duration:0,easing:"linear"}),Dd={roleDescription:"sortable"};function Id(e){let{disabled:o,index:i,node:t,rect:l}=e;const[y,_]=V.useState(null),x=V.useRef(i);return Le(()=>{if(!o&&i!==x.current&&t.current){const p=l.current;if(p){const m=nt(t.current,{ignoreTransform:!0}),v={x:p.left-m.left,y:p.top-m.top,scaleX:p.width/m.width,scaleY:p.height/m.height};(v.x||v.y)&&_(v)}}i!==x.current&&(x.current=i)},[o,i,t,l]),V.useEffect(()=>{y&&_(null)},[y]),y}function Md(e){let{animateLayoutChanges:o=Cd,attributes:i,disabled:t,data:l,getNewIndex:y=Rd,id:_,strategy:x,resizeObserverConfig:p,transition:m=Pd}=e;const{items:v,containerId:a,activeIndex:n,disabled:r,disableTransforms:h,sortedRects:u,overIndex:d,useDragOverlay:c,strategy:f}=V.useContext(Zr),g=qd(t,r),s=v.indexOf(_),b=V.useMemo(()=>({sortable:{containerId:a,index:s,items:v},...l}),[a,l,s,v]),S=V.useMemo(()=>v.slice(v.indexOf(_)),[v,_]),{rect:E,node:N,isOver:j,setNodeRef:O}=Ed({id:_,data:b,disabled:g.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...p}}),{active:w,activatorEvent:A,activeNodeRect:k,attributes:R,setNodeRef:I,listeners:U,isDragging:F,over:Z,setActivatorNodeRef:B,transform:M}=xd({id:_,data:b,attributes:{...Dd,...i},disabled:g.draggable}),T=ef(O,I),P=!!w,D=P&&!h&&xt(n)&&xt(d),H=!c&&F,$=H&&D?M:null,q=D?$??(x??f)({rects:u,activeNodeRect:k,activeIndex:n,overIndex:d,index:s}):null,K=xt(n)&&xt(d)?y({id:_,items:v,activeIndex:n,overIndex:d}):s,z=w==null?void 0:w.id,G=V.useRef({activeId:z,items:v,newIndex:K,containerId:a}),ee=v!==G.current.items,te=o({active:w,containerId:a,isDragging:F,isSorting:P,id:_,index:s,items:v,newIndex:G.current.newIndex,previousItems:G.current.items,previousContainerId:G.current.containerId,transition:m,wasDragging:G.current.activeId!=null}),ne=Id({disabled:!te,index:s,node:N,rect:E});return V.useEffect(()=>{P&&G.current.newIndex!==K&&(G.current.newIndex=K),a!==G.current.containerId&&(G.current.containerId=a),v!==G.current.items&&(G.current.items=v)},[P,K,a,v]),V.useEffect(()=>{if(z===G.current.activeId)return;if(z!=null&&G.current.activeId==null){G.current.activeId=z;return}const le=setTimeout(()=>{G.current.activeId=z},50);return()=>clearTimeout(le)},[z]),{active:w,activeIndex:n,attributes:R,data:b,rect:E,index:s,newIndex:K,items:v,isOver:j,isSorting:P,isDragging:F,listeners:U,node:N,overIndex:d,over:Z,setNodeRef:T,setActivatorNodeRef:B,setDroppableNodeRef:O,setDraggableNodeRef:I,transform:ne??q,transition:re()};function re(){if(ne||ee&&G.current.newIndex===s)return Ld;if(!(H&&!pn(A)||!m)&&(P||te))return ht.Transition.toString({...m,property:Xr})}}function qd(e,o){var i,t;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(i=e==null?void 0:e.draggable)!=null?i:o.draggable,droppable:(t=e==null?void 0:e.droppable)!=null?t:o.droppable}}function jt(e){if(!e)return!1;const o=e.data.current;return!!(o&&"sortable"in o&&typeof o.sortable=="object"&&"containerId"in o.sortable&&"items"in o.sortable&&"index"in o.sortable)}const Bd=[se.Down,se.Right,se.Up,se.Left],$d=(e,o)=>{let{context:{active:i,collisionRect:t,droppableRects:l,droppableContainers:y,over:_,scrollableAncestors:x}}=o;if(Bd.includes(e.code)){if(e.preventDefault(),!i||!t)return;const p=[];y.getEnabled().forEach(a=>{if(!a||a!=null&&a.disabled)return;const n=l.get(a.id);if(n)switch(e.code){case se.Down:t.top<n.top&&p.push(a);break;case se.Up:t.top>n.top&&p.push(a);break;case se.Left:t.left>n.left&&p.push(a);break;case se.Right:t.left<n.left&&p.push(a);break}});const m=mf({collisionRect:t,droppableRects:l,droppableContainers:p});let v=Dr(m,"id");if(v===(_==null?void 0:_.id)&&m.length>1&&(v=m[1].id),v!=null){const a=y.get(i.id),n=y.get(v),r=n?l.get(n.id):null,h=n==null?void 0:n.node.current;if(h&&r&&a&&n){const d=Bt(h).some((S,E)=>x[E]!==S),c=Qr(a,n),f=Fd(a,n),g=d||!c?{x:0,y:0}:{x:f?t.width-r.width:0,y:f?t.height-r.height:0},s={x:r.left,y:r.top};return g.x&&g.y?s:dt(s,g)}}}};function Qr(e,o){return!jt(e)||!jt(o)?!1:e.data.current.sortable.containerId===o.data.current.sortable.containerId}function Fd(e,o){return!jt(e)||!jt(o)||!Qr(e,o)?!1:e.data.current.sortable.index<o.data.current.sortable.index}const Ud=({question:e,onChange:o,onDelete:i})=>{const t=a=>{let n=[],r={...e,type:a};switch(a){case"multiple":n=Array.from({length:4},(h,u)=>({id:Pe(),text:"",isCorrect:u===0}));break;case"boolean":n=[{id:Pe(),text:"Đúng",isCorrect:!0},{id:Pe(),text:"Sai",isCorrect:!1}];break;case"short_answer":n=[],r.correctAnswer="",r.acceptedAnswers=[];break;case"image":n=Array.from({length:4},(h,u)=>({id:Pe(),text:`Ảnh ${u+1}`,isCorrect:u===0,imageUrl:""}));break}o({...r,answers:n})},l=(a,n,r)=>{const h=e.answers.map((u,d)=>d===a?{...u,[n]:r}:u);o({...e,answers:h})},y=()=>{if(e.type==="multiple"||e.type==="image"){const a={id:Pe(),text:e.type==="image"?`Ảnh ${e.answers.length+1}`:"",isCorrect:!1,...e.type==="image"&&{imageUrl:""}};o({...e,answers:[...e.answers,a]})}},_=a=>{e.type!=="boolean"&&((e.type==="multiple"||e.type==="image")&&e.answers.length<=2||o({...e,answers:e.answers.filter((n,r)=>r!==a)}))},x=a=>{e.type==="boolean"?o({...e,answers:e.answers.map((n,r)=>({...n,isCorrect:r===0?a===0:a===1}))}):o({...e,answers:e.answers.map((n,r)=>({...n,isCorrect:r===a}))})},p=a=>{const n=[a,a.toLowerCase(),a.toUpperCase(),a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()].filter((r,h,u)=>u.indexOf(r)===h&&r.trim()!=="");o({...e,correctAnswer:a,acceptedAnswers:n})},m=()=>{const a=prompt("Nhập từ đồng nghĩa hoặc cách viết khác:");a&&a.trim()&&o({...e,acceptedAnswers:[...e.acceptedAnswers||[],a.trim()]})},v=a=>{var n;o({...e,acceptedAnswers:((n=e.acceptedAnswers)==null?void 0:n.filter((r,h)=>h!==a))||[]})};return L.jsxs("div",{className:"border rounded-lg p-4 mb-4 bg-gray-50",children:[L.jsxs("div",{className:"flex gap-2 mb-4",children:[L.jsx("input",{className:"flex-1 border p-2 rounded",placeholder:"Nội dung câu hỏi",value:e.text,onChange:a=>o({...e,text:a.target.value})}),L.jsxs("select",{className:"border p-2 rounded min-w-[120px]",value:e.type,onChange:a=>t(a.target.value),children:[L.jsx("option",{value:"multiple",children:"Trắc nghiệm"}),L.jsx("option",{value:"boolean",children:"Đúng/Sai"}),L.jsx("option",{value:"short_answer",children:"Điền từ"}),L.jsx("option",{value:"image",children:"Chọn ảnh"})]}),L.jsx("input",{type:"number",className:"w-20 border p-2 rounded",min:1,max:100,value:e.points,onChange:a=>o({...e,points:parseInt(a.target.value)||1}),placeholder:"Điểm"}),L.jsx(Se,{variant:"outline",onClick:i,className:"text-red-600 border-red-300",children:"Xóa"})]}),e.type==="multiple"&&L.jsxs("div",{className:"space-y-3",children:[L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsx("h4",{className:"font-medium text-gray-700",children:"Đáp án trắc nghiệm"}),L.jsx(Se,{onClick:y,variant:"outline",size:"sm",children:"+ Thêm đáp án"})]}),e.answers.map((a,n)=>L.jsxs("div",{className:"flex gap-2 items-center bg-white p-2 rounded border",children:[L.jsx("span",{className:"text-sm font-mono bg-gray-100 px-2 py-1 rounded",children:String.fromCharCode(65+n)}),L.jsx("input",{className:"flex-1 border p-2 rounded",placeholder:`Đáp án ${String.fromCharCode(65+n)}`,value:a.text,onChange:r=>l(n,"text",r.target.value)}),L.jsxs("label",{className:"flex items-center gap-1",children:[L.jsx("input",{type:"radio",name:`correct-${e.id}`,checked:a.isCorrect,onChange:()=>x(n)}),L.jsx("span",{className:"text-sm",children:"Đúng"})]}),e.answers.length>2&&L.jsx(Se,{variant:"outline",onClick:()=>_(n),className:"text-red-600 border-red-300 px-2",children:"X"})]},a.id))]}),e.type==="boolean"&&L.jsxs("div",{className:"space-y-3",children:[L.jsx("h4",{className:"font-medium text-gray-700",children:"Câu hỏi Đúng/Sai"}),L.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[L.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Chọn đáp án đúng cho câu hỏi này:"}),L.jsx("div",{className:"space-y-2",children:e.answers.map((a,n)=>L.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[L.jsx("input",{type:"radio",name:`boolean-${e.id}`,checked:a.isCorrect,onChange:()=>x(n),className:"w-4 h-4"}),L.jsxs("span",{className:`font-medium ${a.text==="Đúng"?"text-green-600":"text-red-600"}`,children:[a.text==="Đúng"?"✓":"✗"," ",a.text]})]},a.id))})]})]}),e.type==="short_answer"&&L.jsxs("div",{className:"space-y-3",children:[L.jsx("h4",{className:"font-medium text-gray-700",children:"Câu hỏi điền từ"}),L.jsxs("div",{className:"bg-white p-3 rounded border space-y-3",children:[L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium mb-1",children:"Đáp án chính xác:"}),L.jsx("input",{className:"w-full border p-2 rounded",placeholder:"Nhập đáp án chính xác...",value:e.correctAnswer||"",onChange:a=>p(a.target.value)})]}),e.acceptedAnswers&&e.acceptedAnswers.length>0&&L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium mb-1",children:"Các cách viết được chấp nhận:"}),L.jsx("div",{className:"space-y-1",children:e.acceptedAnswers.map((a,n)=>L.jsxs("div",{className:"flex gap-2 items-center",children:[L.jsx("span",{className:"flex-1 bg-gray-50 p-2 rounded text-sm",children:a}),L.jsx(Se,{variant:"outline",onClick:()=>v(n),className:"text-red-600 border-red-300 px-2 text-xs",children:"X"})]},n))})]}),L.jsx(Se,{onClick:m,variant:"outline",size:"sm",children:"+ Thêm cách viết khác"})]})]}),e.type==="image"&&L.jsxs("div",{className:"space-y-3",children:[L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsx("h4",{className:"font-medium text-gray-700",children:"Chọn ảnh đáp án"}),L.jsx(Se,{onClick:y,variant:"outline",size:"sm",children:"+ Thêm ảnh"})]}),L.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.answers.map((a,n)=>L.jsxs("div",{className:"bg-white p-3 rounded border space-y-2",children:[L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsx("span",{className:"text-sm font-mono bg-gray-100 px-2 py-1 rounded",children:String.fromCharCode(65+n)}),e.answers.length>2&&L.jsx(Se,{variant:"outline",onClick:()=>_(n),className:"text-red-600 border-red-300 px-2 text-xs",children:"X"})]}),L.jsx("input",{className:"w-full border p-2 rounded text-sm",placeholder:"Mô tả ảnh (tùy chọn)",value:a.text,onChange:r=>l(n,"text",r.target.value)}),L.jsx("input",{className:"w-full border p-2 rounded text-sm",placeholder:"URL ảnh",value:a.imageUrl||"",onChange:r=>l(n,"imageUrl",r.target.value)}),a.imageUrl&&L.jsx("div",{className:"relative",children:L.jsx("img",{src:a.imageUrl,alt:a.text,className:"w-full h-20 object-cover rounded border",onError:r=>{r.target.style.display="none"}})}),L.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[L.jsx("input",{type:"radio",name:`correct-${e.id}`,checked:a.isCorrect,onChange:()=>x(n)}),L.jsx("span",{className:"text-sm font-medium text-green-600",children:"Đáp án đúng"})]})]},a.id))})]}),L.jsx("div",{className:"mt-4",children:L.jsx("textarea",{className:"w-full border p-2 rounded",placeholder:"Giải thích đáp án (tùy chọn)",rows:2,value:e.explanation||"",onChange:a=>o({...e,explanation:a.target.value})})})]})},Hd=({id:e,index:o,question:i,onUpdate:t,onDelete:l,moveQuestion:y,totalQuestions:_})=>{const{attributes:x,listeners:p,setNodeRef:m,transform:v,transition:a,isDragging:n}=Md({id:e}),r={transform:ht.Transform.toString(v),transition:a};return L.jsxs("div",{ref:m,style:r,className:`relative ${n?"opacity-50":""}`,children:[L.jsxs("div",{className:"absolute -left-16 top-4 flex flex-col gap-1",children:[L.jsx("div",{...x,...p,className:"p-2 cursor-grab active:cursor-grabbing text-gray-400 hover:text-gray-600 bg-gray-100 rounded hover:bg-gray-200 transition-colors",title:"Kéo để sắp xếp",children:"⋮⋮"}),L.jsx("button",{type:"button",onClick:()=>y(o,o-1),disabled:o===0,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30",title:"Di chuyển lên",children:"⬆️"}),L.jsx("button",{type:"button",onClick:()=>y(o,o+1),disabled:o===_-1,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30",title:"Di chuyển xuống",children:"⬇️"})]}),L.jsx(Ud,{question:i,onChange:t,onDelete:l})]})},zd=({onQuestionsImported:e})=>{const[o,i]=V.useState(!1),[t,l]=V.useState(!1),y=async(v,a)=>{var r;const n=(r=v.target.files)==null?void 0:r[0];if(n){l(!0);try{if(!(a==="csv"?["text/csv","application/csv"]:["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"]).some(d=>n.type.includes(d)||n.name.toLowerCase().endsWith(a==="csv"?".csv":".xlsx"))){Ie.error(`Vui lòng chọn file ${a.toUpperCase()} hợp lệ`),l(!1);return}const u=await _(n,a);if(u.length===0){Ie.error("Không tìm thấy câu hỏi hợp lệ trong file"),l(!1);return}e(u),Ie.success(`Đã import thành công ${u.length} câu hỏi!`),i(!1)}catch(h){console.error("Error parsing file:",h),Ie.error("Có lỗi xảy ra khi đọc file. Vui lòng kiểm tra định dạng file.")}finally{l(!1),v.target.value=""}}},_=async(v,a)=>{const n=await v.text();return x(n)},x=v=>{const a=v.split(`
`).filter(r=>r.trim()),n=[];for(let r=1;r<a.length;r++){const h=a[r].trim();if(!h)continue;const u=p(h);if(u.length<6){console.warn(`Skipping line ${r+1}: insufficient columns`);continue}const[d,c,f,g,s,b,S="",E="10"]=u;if(!d||!c||!f||!b){console.warn(`Skipping line ${r+1}: missing required fields`);continue}const N=[{id:"a",text:c,isCorrect:b.toLowerCase()==="a"},{id:"b",text:f,isCorrect:b.toLowerCase()==="b"},{id:"c",text:g||"",isCorrect:b.toLowerCase()==="c"},{id:"d",text:s||"",isCorrect:b.toLowerCase()==="d"}].filter(O=>O.text),j={id:`imported-${Date.now()}-${r}`,text:d,type:"multiple",answers:N,explanation:S||void 0,points:parseInt(E)||10};n.push(j)}return n},p=v=>{const a=[];let n="",r=!1;for(let h=0;h<v.length;h++){const u=v[h];u==='"'?r=!r:u===","&&!r?(a.push(n.trim()),n=""):n+=u}return a.push(n.trim()),a.map(h=>h.replace(/^"(.*)"$/,"$1"))},m=v=>{const r=[["Câu hỏi","Đáp án A","Đáp án B","Đáp án C","Đáp án D","Đáp án đúng (A/B/C/D)","Giải thích (tùy chọn)","Điểm (mặc định 10)"],["JavaScript là ngôn ngữ gì?","Ngôn ngữ lập trình","Ngôn ngữ đánh dấu","Hệ quản trị cơ sở dữ liệu","Hệ điều hành","A","JavaScript là ngôn ngữ lập trình phổ biến","10"]].map(d=>d.map(c=>`"${c}"`).join(",")).join(`
`),h=new Blob([r],{type:"text/csv;charset=utf-8;"}),u=document.createElement("a");u.href=URL.createObjectURL(h),u.download=`quiz_template.${v==="csv"?"csv":"xlsx"}`,u.click(),URL.revokeObjectURL(u.href)};return L.jsxs(L.Fragment,{children:[L.jsxs("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center space-x-2",children:[L.jsx("span",{children:"📁"}),L.jsx("span",{children:"Tải File"})]}),o&&L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:L.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full mx-4",children:[L.jsxs("div",{className:"flex justify-between items-center mb-6",children:[L.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"📁 Tải file câu hỏi"}),L.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[L.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"📋 Định dạng file:"}),L.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[L.jsx("li",{children:"• Cột 1: Câu hỏi"}),L.jsx("li",{children:"• Cột 2-5: Đáp án A, B, C, D"}),L.jsx("li",{children:"• Cột 6: Đáp án đúng (A/B/C/D)"}),L.jsx("li",{children:"• Cột 7: Giải thích (tùy chọn)"}),L.jsx("li",{children:"• Cột 8: Điểm (mặc định 10)"})]})]}),L.jsxs("div",{className:"flex space-x-2",children:[L.jsx("button",{onClick:()=>m("csv"),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:"📄 Tải mẫu CSV"}),L.jsx("button",{onClick:()=>m("excel"),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:"📊 Tải mẫu Excel"})]}),L.jsxs("div",{className:"space-y-3",children:[L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"📄 Chọn file CSV:"}),L.jsx("input",{type:"file",accept:".csv",onChange:v=>y(v,"csv"),disabled:t,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"📊 Chọn file Excel:"}),L.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:v=>y(v,"excel"),disabled:t,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),t&&L.jsxs("div",{className:"flex items-center justify-center py-4",children:[L.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),L.jsx("span",{className:"ml-2 text-blue-600",children:"Đang xử lý file..."})]}),L.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:L.jsxs("p",{className:"text-sm text-yellow-800",children:["💡 ",L.jsx("strong",{children:"Mẹo:"})," Sử dụng template để đảm bảo định dạng đúng. File có thể chứa nhiều câu hỏi, mỗi câu hỏi trên một dòng."]})})]})]})})]})},Kd=({quiz:e,setQuiz:o,addQuestion:i,updateQuestion:t,deleteQuestion:l,moveQuestion:y})=>{const[_,x]=V.useState(!1),p=pf(nr(bn),nr(yn,{coordinateGetter:$d})),m=n=>{const{active:r,over:h}=n;if(r.id!==(h==null?void 0:h.id)){const u=e.questions.findIndex((c,f)=>f.toString()===r.id),d=e.questions.findIndex((c,f)=>f.toString()===(h==null?void 0:h.id));o(c=>({...c,questions:xn(c.questions,u,d)}))}},v=n=>{o(r=>({...r,questions:[...r.questions,...n]}))},a=n=>{const r=n.map((h,u)=>({id:`ai_question_${Date.now()}_${u}`,text:h.text,type:"multiple",answers:h.answers.map((d,c)=>({id:`ai_answer_${Date.now()}_${u}_${c}`,text:d.text,isCorrect:d.isCorrect})),points:1}));o(h=>({...h,questions:[...h.questions,...r]})),x(!1)};return L.jsxs("div",{children:[L.jsxs("div",{className:"flex justify-between items-center mb-4",children:[L.jsx("h2",{className:"text-lg font-bold",children:"Danh sách câu hỏi"}),L.jsxs("div",{className:"flex space-x-3",children:[L.jsx(Se,{onClick:i,className:"bg-blue-600 hover:bg-blue-700 text-white",children:"+ Thêm câu hỏi"}),L.jsx(zd,{onQuestionsImported:v}),L.jsxs(Se,{onClick:()=>x(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white flex items-center space-x-2",children:[L.jsx(ui,{className:"w-4 h-4"}),L.jsx("span",{children:"🤖 Gemini AI"})]})]})]}),e.questions.length===0&&L.jsx("div",{className:"text-gray-500",children:"Chưa có câu hỏi nào."}),L.jsx(yd,{sensors:p,collisionDetection:yf,onDragEnd:m,children:L.jsx(jd,{items:e.questions.map((n,r)=>r.toString()),strategy:Td,children:L.jsx("div",{className:"space-y-4",children:e.questions.map((n,r)=>L.jsx(Hd,{id:r.toString(),index:r,question:n,onUpdate:h=>t(r,h),onDelete:()=>l(r),moveQuestion:y,totalQuestions:e.questions.length},n.id))})})}),_&&L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:L.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-auto",children:[L.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[L.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"🤖 Gemini AI Generator"}),L.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600 text-3xl font-bold transition-colors",children:"×"})]}),L.jsx("div",{className:"p-6",children:L.jsx(ci,{onQuestionsGenerated:a})})]})})]})},Gd=({quiz:e})=>{const o=e.questions.reduce((i,t)=>i+t.points,0);return L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[L.jsx("h3",{className:"font-bold text-blue-800 mb-2",children:"Thông tin Quiz"}),L.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[L.jsxs("div",{children:[L.jsx("strong",{children:"Tiêu đề:"})," ",e.title]}),L.jsxs("div",{children:[L.jsx("strong",{children:"Danh mục:"})," ",e.category]}),L.jsxs("div",{children:[L.jsx("strong",{children:"Độ khó:"})," ",e.difficulty]}),L.jsxs("div",{children:[L.jsx("strong",{children:"Thời gian:"})," ",e.duration," phút"]}),L.jsxs("div",{children:[L.jsx("strong",{children:"Số câu hỏi:"})," ",e.questions.length]}),L.jsxs("div",{children:[L.jsx("strong",{children:"Tổng điểm:"})," ",o]})]}),e.description&&L.jsxs("div",{className:"mt-2",children:[L.jsx("strong",{children:"Mô tả:"})," ",e.description]})]}),L.jsxs("div",{className:"space-y-4",children:[L.jsx("h3",{className:"font-bold text-gray-800",children:"Danh sách câu hỏi"}),e.questions.map((i,t)=>L.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[L.jsxs("div",{className:"flex justify-between items-start mb-2",children:[L.jsxs("h4",{className:"font-medium",children:["Câu ",t+1,": ",i.text]}),L.jsxs("div",{className:"text-sm text-gray-500",children:[i.type," • ",i.points," điểm"]})]}),i.type==="short_answer"?L.jsxs("div",{className:"text-sm text-gray-600",children:[L.jsx("strong",{children:"Đáp án:"})," ",i.correctAnswer,i.acceptedAnswers&&i.acceptedAnswers.length>1&&L.jsxs("div",{children:[L.jsx("strong",{children:"Các cách viết khác:"})," ",i.acceptedAnswers.slice(1).join(", ")]})]}):L.jsx("div",{className:"space-y-1",children:i.answers.map((l,y)=>L.jsxs("div",{className:`text-sm p-2 rounded ${l.isCorrect?"bg-green-100 text-green-700":"bg-gray-100"}`,children:[String.fromCharCode(65+y),". ",l.text,l.isCorrect&&" ✓",i.type==="image"&&l.imageUrl&&L.jsx("img",{src:l.imageUrl,alt:l.text,className:"w-16 h-16 object-cover rounded ml-2 inline-block"})]},l.id))}),i.explanation&&L.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[L.jsx("strong",{children:"Giải thích:"})," ",i.explanation]})]},i.id))]})]})},Yd=()=>{const{user:e}=fi(u=>u.auth),[o,i]=V.useState(Nn),[t,l]=V.useState(0),[y,_]=V.useState(!1);if(!e)return L.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:L.jsxs("div",{className:"text-center",children:[L.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Cần đăng nhập"}),L.jsx("p",{className:"text-gray-600",children:"Bạn cần đăng nhập để tạo quiz"})]})});if(e.role!=="creator"&&e.role!=="admin")return L.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:L.jsxs("div",{className:"text-center",children:[L.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Không có quyền truy cập"}),L.jsx("p",{className:"text-gray-600",children:"Bạn cần có vai trò Creator hoặc Admin để tạo quiz"})]})});const x=()=>{i(u=>({...u,questions:[...u.questions,{id:Pe(),text:"",type:"multiple",answers:[{id:Pe(),text:"",isCorrect:!0},{id:Pe(),text:"",isCorrect:!1},{id:Pe(),text:"",isCorrect:!1},{id:Pe(),text:"",isCorrect:!1}],points:1,correctAnswer:"",acceptedAnswers:[]}]}))},p=(u,d)=>{i(c=>({...c,questions:c.questions.map((f,g)=>g===u?d:f)}))},m=u=>{i(d=>({...d,questions:d.questions.filter((c,f)=>f!==u)}))},v=(u,d)=>{d<0||d>=o.questions.length||i(c=>{const f=[...c.questions],[g]=f.splice(u,1);return f.splice(d,0,g),{...c,questions:f}})},a=u=>{switch(u){case 0:return!!(o.title&&o.description&&o.category&&o.difficulty);case 1:return o.questions.length>0&&o.questions.every(d=>{if(!d.text)return!1;switch(d.type){case"short_answer":return!!d.correctAnswer;case"boolean":case"multiple":case"image":return d.answers.some(c=>c.isCorrect)&&d.answers.every(c=>c.text);default:return!1}});case 2:return!0;default:return!1}},n=async()=>{if(!e){Ie.error("Bạn cần đăng nhập để tạo quiz");return}if(!a(1)){Ie.error("Vui lòng hoàn thành tất cả thông tin quiz");return}_(!0);try{await di(hi(vi,"quizzes"),{...o,createdBy:e.uid,createdAt:En(),updatedAt:En(),isPublished:!0,tags:[],status:"pending"}),Ie.success("Tạo quiz thành công! Quiz đang chờ admin duyệt."),i(Nn),l(0)}catch(u){console.error("Error creating quiz:",u),Ie.error("Có lỗi xảy ra khi tạo quiz")}finally{_(!1)}},r=()=>{a(t)?l(u=>Math.min(u+1,mt.length-1)):Ie.error("Vui lòng hoàn thành thông tin trước khi tiếp tục")},h=()=>{l(u=>Math.max(u-1,0))};return L.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:L.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[L.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[L.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Tạo Quiz Mới"}),L.jsx("div",{className:"flex items-center justify-between mb-6",children:mt.map((u,d)=>L.jsxs("div",{className:"flex items-center",children:[L.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${d<=t?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:d+1}),L.jsx("span",{className:`ml-2 text-sm ${d<=t?"text-blue-600 font-medium":"text-gray-500"}`,children:u}),d<mt.length-1&&L.jsx("div",{className:`w-16 h-0.5 mx-4 ${d<t?"bg-blue-500":"bg-gray-200"}`})]},d))})]}),L.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[t===0&&L.jsx(Jc,{quiz:o,setQuiz:i}),t===1&&L.jsx(Kd,{quiz:o,setQuiz:i,addQuestion:x,updateQuestion:p,deleteQuestion:m,moveQuestion:v}),t===2&&L.jsx(Gd,{quiz:o}),L.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200",children:[L.jsx(Se,{onClick:h,disabled:t===0,variant:"outline",children:"← Quay lại"}),L.jsx("div",{className:"flex gap-3",children:t===mt.length-1?L.jsx(Se,{onClick:n,disabled:y||!a(t),loading:y,className:"bg-green-600 hover:bg-green-700",children:"🚀 Xuất bản Quiz"}):L.jsx(Se,{onClick:r,disabled:!a(t),children:"Tiếp tục →"})})]})]})]})})};export{Yd as default};
