const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/QuizPreviewPage-CRhuT1Hg.js","assets/QuickReviewSection-tOGrGmJT.js","assets/ReviewForm-9ooRSGB4.js","assets/QuizReviewsPage-DgBzyldn.js","assets/ReviewList-BTb04cIo.js","assets/calendar-BpKxQpeH.js","assets/ReviewTestPage-DiHJehvc.js","assets/arrow-left-BMoVhpMc.js","assets/loader-circle-DklZ0hVd.js","assets/RealQuizListPage-r6_TvbBJ.js","assets/ResultPage-Cs2OCoen.js","assets/Profile-C_kwKBOx.js","assets/arrow-up-DxHbG8_8.js","assets/FavoritesPage-CfUCpVec.js","assets/QuizList-C89JqL6m.js","assets/CreateQuizPage-mE5Paah5.js","assets/tag-M4_GsJT1.js","assets/loader-BEpQPyWc.js","assets/EditQuizPageAdvanced-Bbgc3PZY.js","assets/save-tNtSxJpI.js","assets/CategoryManagement-udtSBiym.js","assets/AdminUtilities-D_YQl29r.js"])))=>i.map(i=>d[i]);
var h3=Object.defineProperty;var p3=(e,t,r)=>t in e?h3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var VT=(e,t,r)=>p3(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function gi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qC={exports:{}},Xp={},KC={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cd=Symbol.for("react.element"),m3=Symbol.for("react.portal"),g3=Symbol.for("react.fragment"),v3=Symbol.for("react.strict_mode"),y3=Symbol.for("react.profiler"),x3=Symbol.for("react.provider"),w3=Symbol.for("react.context"),b3=Symbol.for("react.forward_ref"),_3=Symbol.for("react.suspense"),E3=Symbol.for("react.memo"),T3=Symbol.for("react.lazy"),FT=Symbol.iterator;function A3(e){return e===null||typeof e!="object"?null:(e=FT&&e[FT]||e["@@iterator"],typeof e=="function"?e:null)}var WC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HC=Object.assign,QC={};function Ul(e,t,r){this.props=e,this.context=t,this.refs=QC,this.updater=r||WC}Ul.prototype.isReactComponent={};Ul.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ul.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function GC(){}GC.prototype=Ul.prototype;function yw(e,t,r){this.props=e,this.context=t,this.refs=QC,this.updater=r||WC}var xw=yw.prototype=new GC;xw.constructor=yw;HC(xw,Ul.prototype);xw.isPureReactComponent=!0;var UT=Array.isArray,YC=Object.prototype.hasOwnProperty,ww={current:null},XC={key:!0,ref:!0,__self:!0,__source:!0};function JC(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)YC.call(t,n)&&!XC.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:cd,type:e,key:a,ref:o,props:i,_owner:ww.current}}function S3(e,t){return{$$typeof:cd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bw(e){return typeof e=="object"&&e!==null&&e.$$typeof===cd}function P3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var BT=/\/+/g;function Sv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?P3(""+e.key):t.toString(36)}function Zf(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case cd:case m3:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Sv(o,0):n,UT(i)?(r="",e!=null&&(r=e.replace(BT,"$&/")+"/"),Zf(i,t,r,"",function(u){return u})):i!=null&&(bw(i)&&(i=S3(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(BT,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",UT(e))for(var s=0;s<e.length;s++){a=e[s];var l=n+Sv(a,s);o+=Zf(a,t,r,l,i)}else if(l=A3(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=n+Sv(a,s++),o+=Zf(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function gf(e,t,r){if(e==null)return e;var n=[],i=0;return Zf(e,n,"","",function(a){return t.call(r,a,i++)}),n}function I3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ar={current:null},eh={transition:null},k3={ReactCurrentDispatcher:Ar,ReactCurrentBatchConfig:eh,ReactCurrentOwner:ww};function ZC(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:gf,forEach:function(e,t,r){gf(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return gf(e,function(){t++}),t},toArray:function(e){return gf(e,function(t){return t})||[]},only:function(e){if(!bw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=Ul;ye.Fragment=g3;ye.Profiler=y3;ye.PureComponent=yw;ye.StrictMode=v3;ye.Suspense=_3;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k3;ye.act=ZC;ye.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=HC({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=ww.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)YC.call(t,l)&&!XC.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:cd,type:e.type,key:i,ref:a,props:n,_owner:o}};ye.createContext=function(e){return e={$$typeof:w3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:x3,_context:e},e.Consumer=e};ye.createElement=JC;ye.createFactory=function(e){var t=JC.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:b3,render:e}};ye.isValidElement=bw;ye.lazy=function(e){return{$$typeof:T3,_payload:{_status:-1,_result:e},_init:I3}};ye.memo=function(e,t){return{$$typeof:E3,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=eh.transition;eh.transition={};try{e()}finally{eh.transition=t}};ye.unstable_act=ZC;ye.useCallback=function(e,t){return Ar.current.useCallback(e,t)};ye.useContext=function(e){return Ar.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return Ar.current.useDeferredValue(e)};ye.useEffect=function(e,t){return Ar.current.useEffect(e,t)};ye.useId=function(){return Ar.current.useId()};ye.useImperativeHandle=function(e,t,r){return Ar.current.useImperativeHandle(e,t,r)};ye.useInsertionEffect=function(e,t){return Ar.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return Ar.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return Ar.current.useMemo(e,t)};ye.useReducer=function(e,t,r){return Ar.current.useReducer(e,t,r)};ye.useRef=function(e){return Ar.current.useRef(e)};ye.useState=function(e){return Ar.current.useState(e)};ye.useSyncExternalStore=function(e,t,r){return Ar.current.useSyncExternalStore(e,t,r)};ye.useTransition=function(){return Ar.current.useTransition()};ye.version="18.3.1";KC.exports=ye;var v=KC.exports;const pe=gi(v);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C3=v,N3=Symbol.for("react.element"),O3=Symbol.for("react.fragment"),j3=Object.prototype.hasOwnProperty,R3=C3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,D3={key:!0,ref:!0,__self:!0,__source:!0};function eN(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)j3.call(t,n)&&!D3.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:N3,type:e,key:a,ref:o,props:i,_owner:R3.current}}Xp.Fragment=O3;Xp.jsx=eN;Xp.jsxs=eN;qC.exports=Xp;var h=qC.exports,tN={exports:{}},nn={},rN={exports:{}},nN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,Y){var ae=F.length;F.push(Y);e:for(;0<ae;){var xe=ae-1>>>1,W=F[xe];if(0<i(W,Y))F[xe]=Y,F[ae]=W,ae=xe;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var Y=F[0],ae=F.pop();if(ae!==Y){F[0]=ae;e:for(var xe=0,W=F.length,ge=W>>>1;xe<ge;){var Lt=2*(xe+1)-1,lt=F[Lt],Sn=Lt+1,Pn=F[Sn];if(0>i(lt,ae))Sn<W&&0>i(Pn,lt)?(F[xe]=Pn,F[Sn]=ae,xe=Sn):(F[xe]=lt,F[Lt]=ae,xe=Lt);else if(Sn<W&&0>i(Pn,ae))F[xe]=Pn,F[Sn]=ae,xe=Sn;else break e}}return Y}function i(F,Y){var ae=F.sortIndex-Y.sortIndex;return ae!==0?ae:F.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,d=null,p=3,m=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(F){for(var Y=r(u);Y!==null;){if(Y.callback===null)n(u);else if(Y.startTime<=F)n(u),Y.sortIndex=Y.expirationTime,t(l,Y);else break;Y=r(u)}}function P(F){if(y=!1,E(F),!g)if(r(l)!==null)g=!0,ie(C);else{var Y=r(u);Y!==null&&Q(P,Y.startTime-F)}}function C(F,Y){g=!1,y&&(y=!1,x(S),S=-1),m=!0;var ae=p;try{for(E(Y),d=r(l);d!==null&&(!(d.expirationTime>Y)||F&&!R());){var xe=d.callback;if(typeof xe=="function"){d.callback=null,p=d.priorityLevel;var W=xe(d.expirationTime<=Y);Y=e.unstable_now(),typeof W=="function"?d.callback=W:d===r(l)&&n(l),E(Y)}else n(l);d=r(l)}if(d!==null)var ge=!0;else{var Lt=r(u);Lt!==null&&Q(P,Lt.startTime-Y),ge=!1}return ge}finally{d=null,p=ae,m=!1}}var j=!1,A=null,S=-1,I=5,N=-1;function R(){return!(e.unstable_now()-N<I)}function D(){if(A!==null){var F=e.unstable_now();N=F;var Y=!0;try{Y=A(!0,F)}finally{Y?k():(j=!1,A=null)}}else j=!1}var k;if(typeof w=="function")k=function(){w(D)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,te=q.port2;q.port1.onmessage=D,k=function(){te.postMessage(null)}}else k=function(){b(D,0)};function ie(F){A=F,j||(j=!0,k())}function Q(F,Y){S=b(function(){F(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,ie(C))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(F){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var ae=p;p=Y;try{return F()}finally{p=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,Y){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ae=p;p=F;try{return Y()}finally{p=ae}},e.unstable_scheduleCallback=function(F,Y,ae){var xe=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?xe+ae:xe):ae=xe,F){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ae+W,F={id:c++,callback:Y,priorityLevel:F,startTime:ae,expirationTime:W,sortIndex:-1},ae>xe?(F.sortIndex=ae,t(u,F),r(l)===null&&F===r(u)&&(y?(x(S),S=-1):y=!0,Q(P,ae-xe))):(F.sortIndex=W,t(l,F),g||m||(g=!0,ie(C))),F},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(F){var Y=p;return function(){var ae=p;p=Y;try{return F.apply(this,arguments)}finally{p=ae}}}})(nN);rN.exports=nN;var M3=rN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L3=v,Xr=M3;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iN=new Set,wc={};function cs(e,t){hl(e,t),hl(e+"Capture",t)}function hl(e,t){for(wc[e]=t,e=0;e<t.length;e++)iN.add(t[e])}var Fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ky=Object.prototype.hasOwnProperty,$3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qT={},KT={};function z3(e){return Ky.call(KT,e)?!0:Ky.call(qT,e)?!1:$3.test(e)?KT[e]=!0:(qT[e]=!0,!1)}function V3(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function F3(e,t,r,n){if(t===null||typeof t>"u"||V3(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Sr(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qt[e]=new Sr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qt[t]=new Sr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qt[e]=new Sr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qt[e]=new Sr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qt[e]=new Sr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qt[e]=new Sr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qt[e]=new Sr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qt[e]=new Sr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qt[e]=new Sr(e,5,!1,e.toLowerCase(),null,!1,!1)});var _w=/[\-:]([a-z])/g;function Ew(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_w,Ew);Qt[t]=new Sr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_w,Ew);Qt[t]=new Sr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_w,Ew);Qt[t]=new Sr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qt[e]=new Sr(e,1,!1,e.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new Sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qt[e]=new Sr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tw(e,t,r,n){var i=Qt.hasOwnProperty(t)?Qt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(F3(t,r,i,n)&&(r=null),n||i===null?z3(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var na=L3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vf=Symbol.for("react.element"),Rs=Symbol.for("react.portal"),Ds=Symbol.for("react.fragment"),Aw=Symbol.for("react.strict_mode"),Wy=Symbol.for("react.profiler"),aN=Symbol.for("react.provider"),oN=Symbol.for("react.context"),Sw=Symbol.for("react.forward_ref"),Hy=Symbol.for("react.suspense"),Qy=Symbol.for("react.suspense_list"),Pw=Symbol.for("react.memo"),ya=Symbol.for("react.lazy"),sN=Symbol.for("react.offscreen"),WT=Symbol.iterator;function Au(e){return e===null||typeof e!="object"?null:(e=WT&&e[WT]||e["@@iterator"],typeof e=="function"?e:null)}var at=Object.assign,Pv;function Bu(e){if(Pv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Pv=t&&t[1]||""}return`
`+Pv+e}var Iv=!1;function kv(e,t){if(!e||Iv)return"";Iv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{Iv=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Bu(e):""}function U3(e){switch(e.tag){case 5:return Bu(e.type);case 16:return Bu("Lazy");case 13:return Bu("Suspense");case 19:return Bu("SuspenseList");case 0:case 2:case 15:return e=kv(e.type,!1),e;case 11:return e=kv(e.type.render,!1),e;case 1:return e=kv(e.type,!0),e;default:return""}}function Gy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ds:return"Fragment";case Rs:return"Portal";case Wy:return"Profiler";case Aw:return"StrictMode";case Hy:return"Suspense";case Qy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case oN:return(e.displayName||"Context")+".Consumer";case aN:return(e._context.displayName||"Context")+".Provider";case Sw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pw:return t=e.displayName||null,t!==null?t:Gy(e.type)||"Memo";case ya:t=e._payload,e=e._init;try{return Gy(e(t))}catch{}}return null}function B3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gy(t);case 8:return t===Aw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ha(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function q3(e){var t=lN(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yf(e){e._valueTracker||(e._valueTracker=q3(e))}function uN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=lN(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Eh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yy(e,t){var r=t.checked;return at({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function HT(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ha(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cN(e,t){t=t.checked,t!=null&&Tw(e,"checked",t,!1)}function Xy(e,t){cN(e,t);var r=Ha(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jy(e,t.type,r):t.hasOwnProperty("defaultValue")&&Jy(e,t.type,Ha(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function QT(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Jy(e,t,r){(t!=="number"||Eh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var qu=Array.isArray;function Ys(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ha(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Zy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return at({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function GT(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(B(92));if(qu(r)){if(1<r.length)throw Error(B(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ha(r)}}function dN(e,t){var r=Ha(t.value),n=Ha(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function YT(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function e0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xf,hN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xf=xf||document.createElement("div"),xf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var tc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},K3=["Webkit","ms","Moz","O"];Object.keys(tc).forEach(function(e){K3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),tc[t]=tc[e]})});function pN(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||tc.hasOwnProperty(e)&&tc[e]?(""+t).trim():t+"px"}function mN(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=pN(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var W3=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function t0(e,t){if(t){if(W3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function r0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var n0=null;function Iw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var i0=null,Xs=null,Js=null;function XT(e){if(e=hd(e)){if(typeof i0!="function")throw Error(B(280));var t=e.stateNode;t&&(t=rm(t),i0(e.stateNode,e.type,t))}}function gN(e){Xs?Js?Js.push(e):Js=[e]:Xs=e}function vN(){if(Xs){var e=Xs,t=Js;if(Js=Xs=null,XT(e),t)for(e=0;e<t.length;e++)XT(t[e])}}function yN(e,t){return e(t)}function xN(){}var Cv=!1;function wN(e,t,r){if(Cv)return e(t,r);Cv=!0;try{return yN(e,t,r)}finally{Cv=!1,(Xs!==null||Js!==null)&&(xN(),vN())}}function _c(e,t){var r=e.stateNode;if(r===null)return null;var n=rm(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(B(231,t,typeof r));return r}var a0=!1;if(Fi)try{var Su={};Object.defineProperty(Su,"passive",{get:function(){a0=!0}}),window.addEventListener("test",Su,Su),window.removeEventListener("test",Su,Su)}catch{a0=!1}function H3(e,t,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var rc=!1,Th=null,Ah=!1,o0=null,Q3={onError:function(e){rc=!0,Th=e}};function G3(e,t,r,n,i,a,o,s,l){rc=!1,Th=null,H3.apply(Q3,arguments)}function Y3(e,t,r,n,i,a,o,s,l){if(G3.apply(this,arguments),rc){if(rc){var u=Th;rc=!1,Th=null}else throw Error(B(198));Ah||(Ah=!0,o0=u)}}function ds(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function bN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function JT(e){if(ds(e)!==e)throw Error(B(188))}function X3(e){var t=e.alternate;if(!t){if(t=ds(e),t===null)throw Error(B(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return JT(i),e;if(a===n)return JT(i),t;a=a.sibling}throw Error(B(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(B(189))}}if(r.alternate!==n)throw Error(B(190))}if(r.tag!==3)throw Error(B(188));return r.stateNode.current===r?e:t}function _N(e){return e=X3(e),e!==null?EN(e):null}function EN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=EN(e);if(t!==null)return t;e=e.sibling}return null}var TN=Xr.unstable_scheduleCallback,ZT=Xr.unstable_cancelCallback,J3=Xr.unstable_shouldYield,Z3=Xr.unstable_requestPaint,pt=Xr.unstable_now,e5=Xr.unstable_getCurrentPriorityLevel,kw=Xr.unstable_ImmediatePriority,AN=Xr.unstable_UserBlockingPriority,Sh=Xr.unstable_NormalPriority,t5=Xr.unstable_LowPriority,SN=Xr.unstable_IdlePriority,Jp=null,ti=null;function r5(e){if(ti&&typeof ti.onCommitFiberRoot=="function")try{ti.onCommitFiberRoot(Jp,e,void 0,(e.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:a5,n5=Math.log,i5=Math.LN2;function a5(e){return e>>>=0,e===0?32:31-(n5(e)/i5|0)|0}var wf=64,bf=4194304;function Ku(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ph(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=Ku(s):(a&=o,a!==0&&(n=Ku(a)))}else o=r&~i,o!==0?n=Ku(o):a!==0&&(n=Ku(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ln(t),i=1<<r,n|=e[r],t&=~i;return n}function o5(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s5(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Ln(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=o5(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function s0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function PN(){var e=wf;return wf<<=1,!(wf&4194240)&&(wf=64),e}function Nv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function dd(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ln(t),e[t]=r}function l5(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Ln(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Cw(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ln(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Oe=0;function IN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kN,Nw,CN,NN,ON,l0=!1,_f=[],ja=null,Ra=null,Da=null,Ec=new Map,Tc=new Map,ba=[],u5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eA(e,t){switch(e){case"focusin":case"focusout":ja=null;break;case"dragenter":case"dragleave":Ra=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":Ec.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(t.pointerId)}}function Pu(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=hd(t),t!==null&&Nw(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function c5(e,t,r,n,i){switch(t){case"focusin":return ja=Pu(ja,e,t,r,n,i),!0;case"dragenter":return Ra=Pu(Ra,e,t,r,n,i),!0;case"mouseover":return Da=Pu(Da,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Ec.set(a,Pu(Ec.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Tc.set(a,Pu(Tc.get(a)||null,e,t,r,n,i)),!0}return!1}function jN(e){var t=So(e.target);if(t!==null){var r=ds(t);if(r!==null){if(t=r.tag,t===13){if(t=bN(r),t!==null){e.blockedOn=t,ON(e.priority,function(){CN(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function th(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=u0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);n0=n,r.target.dispatchEvent(n),n0=null}else return t=hd(r),t!==null&&Nw(t),e.blockedOn=r,!1;t.shift()}return!0}function tA(e,t,r){th(e)&&r.delete(t)}function d5(){l0=!1,ja!==null&&th(ja)&&(ja=null),Ra!==null&&th(Ra)&&(Ra=null),Da!==null&&th(Da)&&(Da=null),Ec.forEach(tA),Tc.forEach(tA)}function Iu(e,t){e.blockedOn===t&&(e.blockedOn=null,l0||(l0=!0,Xr.unstable_scheduleCallback(Xr.unstable_NormalPriority,d5)))}function Ac(e){function t(i){return Iu(i,e)}if(0<_f.length){Iu(_f[0],e);for(var r=1;r<_f.length;r++){var n=_f[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ja!==null&&Iu(ja,e),Ra!==null&&Iu(Ra,e),Da!==null&&Iu(Da,e),Ec.forEach(t),Tc.forEach(t),r=0;r<ba.length;r++)n=ba[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ba.length&&(r=ba[0],r.blockedOn===null);)jN(r),r.blockedOn===null&&ba.shift()}var Zs=na.ReactCurrentBatchConfig,Ih=!0;function f5(e,t,r,n){var i=Oe,a=Zs.transition;Zs.transition=null;try{Oe=1,Ow(e,t,r,n)}finally{Oe=i,Zs.transition=a}}function h5(e,t,r,n){var i=Oe,a=Zs.transition;Zs.transition=null;try{Oe=4,Ow(e,t,r,n)}finally{Oe=i,Zs.transition=a}}function Ow(e,t,r,n){if(Ih){var i=u0(e,t,r,n);if(i===null)Fv(e,t,n,kh,r),eA(e,n);else if(c5(i,e,t,r,n))n.stopPropagation();else if(eA(e,n),t&4&&-1<u5.indexOf(e)){for(;i!==null;){var a=hd(i);if(a!==null&&kN(a),a=u0(e,t,r,n),a===null&&Fv(e,t,n,kh,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Fv(e,t,n,null,r)}}var kh=null;function u0(e,t,r,n){if(kh=null,e=Iw(n),e=So(e),e!==null)if(t=ds(e),t===null)e=null;else if(r=t.tag,r===13){if(e=bN(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return kh=e,null}function RN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e5()){case kw:return 1;case AN:return 4;case Sh:case t5:return 16;case SN:return 536870912;default:return 16}default:return 16}}var Ca=null,jw=null,rh=null;function DN(){if(rh)return rh;var e,t=jw,r=t.length,n,i="value"in Ca?Ca.value:Ca.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return rh=i.slice(e,1<n?1-n:void 0)}function nh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ef(){return!0}function rA(){return!1}function an(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ef:rA,this.isPropagationStopped=rA,this}return at(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ef)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ef)},persist:function(){},isPersistent:Ef}),t}var Bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rw=an(Bl),fd=at({},Bl,{view:0,detail:0}),p5=an(fd),Ov,jv,ku,Zp=at({},fd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ku&&(ku&&e.type==="mousemove"?(Ov=e.screenX-ku.screenX,jv=e.screenY-ku.screenY):jv=Ov=0,ku=e),Ov)},movementY:function(e){return"movementY"in e?e.movementY:jv}}),nA=an(Zp),m5=at({},Zp,{dataTransfer:0}),g5=an(m5),v5=at({},fd,{relatedTarget:0}),Rv=an(v5),y5=at({},Bl,{animationName:0,elapsedTime:0,pseudoElement:0}),x5=an(y5),w5=at({},Bl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),b5=an(w5),_5=at({},Bl,{data:0}),iA=an(_5),E5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=A5[e])?!!t[e]:!1}function Dw(){return S5}var P5=at({},fd,{key:function(e){if(e.key){var t=E5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?T5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dw,charCode:function(e){return e.type==="keypress"?nh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),I5=an(P5),k5=at({},Zp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aA=an(k5),C5=at({},fd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dw}),N5=an(C5),O5=at({},Bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),j5=an(O5),R5=at({},Zp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),D5=an(R5),M5=[9,13,27,32],Mw=Fi&&"CompositionEvent"in window,nc=null;Fi&&"documentMode"in document&&(nc=document.documentMode);var L5=Fi&&"TextEvent"in window&&!nc,MN=Fi&&(!Mw||nc&&8<nc&&11>=nc),oA=" ",sA=!1;function LN(e,t){switch(e){case"keyup":return M5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $N(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ms=!1;function $5(e,t){switch(e){case"compositionend":return $N(t);case"keypress":return t.which!==32?null:(sA=!0,oA);case"textInput":return e=t.data,e===oA&&sA?null:e;default:return null}}function z5(e,t){if(Ms)return e==="compositionend"||!Mw&&LN(e,t)?(e=DN(),rh=jw=Ca=null,Ms=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return MN&&t.locale!=="ko"?null:t.data;default:return null}}var V5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!V5[e.type]:t==="textarea"}function zN(e,t,r,n){gN(n),t=Ch(t,"onChange"),0<t.length&&(r=new Rw("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ic=null,Sc=null;function F5(e){YN(e,0)}function em(e){var t=zs(e);if(uN(t))return e}function U5(e,t){if(e==="change")return t}var VN=!1;if(Fi){var Dv;if(Fi){var Mv="oninput"in document;if(!Mv){var uA=document.createElement("div");uA.setAttribute("oninput","return;"),Mv=typeof uA.oninput=="function"}Dv=Mv}else Dv=!1;VN=Dv&&(!document.documentMode||9<document.documentMode)}function cA(){ic&&(ic.detachEvent("onpropertychange",FN),Sc=ic=null)}function FN(e){if(e.propertyName==="value"&&em(Sc)){var t=[];zN(t,Sc,e,Iw(e)),wN(F5,t)}}function B5(e,t,r){e==="focusin"?(cA(),ic=t,Sc=r,ic.attachEvent("onpropertychange",FN)):e==="focusout"&&cA()}function q5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return em(Sc)}function K5(e,t){if(e==="click")return em(t)}function W5(e,t){if(e==="input"||e==="change")return em(t)}function H5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zn=typeof Object.is=="function"?Object.is:H5;function Pc(e,t){if(zn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ky.call(t,i)||!zn(e[i],t[i]))return!1}return!0}function dA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fA(e,t){var r=dA(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dA(r)}}function UN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?UN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function BN(){for(var e=window,t=Eh();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Eh(e.document)}return t}function Lw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Q5(e){var t=BN(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&UN(r.ownerDocument.documentElement,r)){if(n!==null&&Lw(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=fA(r,a);var o=fA(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var G5=Fi&&"documentMode"in document&&11>=document.documentMode,Ls=null,c0=null,ac=null,d0=!1;function hA(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;d0||Ls==null||Ls!==Eh(n)||(n=Ls,"selectionStart"in n&&Lw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ac&&Pc(ac,n)||(ac=n,n=Ch(c0,"onSelect"),0<n.length&&(t=new Rw("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ls)))}function Tf(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var $s={animationend:Tf("Animation","AnimationEnd"),animationiteration:Tf("Animation","AnimationIteration"),animationstart:Tf("Animation","AnimationStart"),transitionend:Tf("Transition","TransitionEnd")},Lv={},qN={};Fi&&(qN=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function tm(e){if(Lv[e])return Lv[e];if(!$s[e])return e;var t=$s[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in qN)return Lv[e]=t[r];return e}var KN=tm("animationend"),WN=tm("animationiteration"),HN=tm("animationstart"),QN=tm("transitionend"),GN=new Map,pA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function no(e,t){GN.set(e,t),cs(t,[e])}for(var $v=0;$v<pA.length;$v++){var zv=pA[$v],Y5=zv.toLowerCase(),X5=zv[0].toUpperCase()+zv.slice(1);no(Y5,"on"+X5)}no(KN,"onAnimationEnd");no(WN,"onAnimationIteration");no(HN,"onAnimationStart");no("dblclick","onDoubleClick");no("focusin","onFocus");no("focusout","onBlur");no(QN,"onTransitionEnd");hl("onMouseEnter",["mouseout","mouseover"]);hl("onMouseLeave",["mouseout","mouseover"]);hl("onPointerEnter",["pointerout","pointerover"]);hl("onPointerLeave",["pointerout","pointerover"]);cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wu));function mA(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Y3(n,t,void 0,e),e.currentTarget=null}function YN(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;mA(i,s,u),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;mA(i,s,u),a=l}}}if(Ah)throw e=o0,Ah=!1,o0=null,e}function We(e,t){var r=t[g0];r===void 0&&(r=t[g0]=new Set);var n=e+"__bubble";r.has(n)||(XN(t,e,2,!1),r.add(n))}function Vv(e,t,r){var n=0;t&&(n|=4),XN(r,e,n,t)}var Af="_reactListening"+Math.random().toString(36).slice(2);function Ic(e){if(!e[Af]){e[Af]=!0,iN.forEach(function(r){r!=="selectionchange"&&(J5.has(r)||Vv(r,!1,e),Vv(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Af]||(t[Af]=!0,Vv("selectionchange",!1,t))}}function XN(e,t,r,n){switch(RN(t)){case 1:var i=f5;break;case 4:i=h5;break;default:i=Ow}r=i.bind(null,t,r,e),i=void 0,!a0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Fv(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=So(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}wN(function(){var u=a,c=Iw(r),d=[];e:{var p=GN.get(e);if(p!==void 0){var m=Rw,g=e;switch(e){case"keypress":if(nh(r)===0)break e;case"keydown":case"keyup":m=I5;break;case"focusin":g="focus",m=Rv;break;case"focusout":g="blur",m=Rv;break;case"beforeblur":case"afterblur":m=Rv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=nA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=g5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=N5;break;case KN:case WN:case HN:m=x5;break;case QN:m=j5;break;case"scroll":m=p5;break;case"wheel":m=D5;break;case"copy":case"cut":case"paste":m=b5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=aA}var y=(t&4)!==0,b=!y&&e==="scroll",x=y?p!==null?p+"Capture":null:p;y=[];for(var w=u,E;w!==null;){E=w;var P=E.stateNode;if(E.tag===5&&P!==null&&(E=P,x!==null&&(P=_c(w,x),P!=null&&y.push(kc(w,P,E)))),b)break;w=w.return}0<y.length&&(p=new m(p,g,null,r,c),d.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==n0&&(g=r.relatedTarget||r.fromElement)&&(So(g)||g[Ui]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?So(g):null,g!==null&&(b=ds(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(y=nA,P="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(y=aA,P="onPointerLeave",x="onPointerEnter",w="pointer"),b=m==null?p:zs(m),E=g==null?p:zs(g),p=new y(P,w+"leave",m,r,c),p.target=b,p.relatedTarget=E,P=null,So(c)===u&&(y=new y(x,w+"enter",g,r,c),y.target=E,y.relatedTarget=b,P=y),b=P,m&&g)t:{for(y=m,x=g,w=0,E=y;E;E=Ps(E))w++;for(E=0,P=x;P;P=Ps(P))E++;for(;0<w-E;)y=Ps(y),w--;for(;0<E-w;)x=Ps(x),E--;for(;w--;){if(y===x||x!==null&&y===x.alternate)break t;y=Ps(y),x=Ps(x)}y=null}else y=null;m!==null&&gA(d,p,m,y,!1),g!==null&&b!==null&&gA(d,b,g,y,!0)}}e:{if(p=u?zs(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=U5;else if(lA(p))if(VN)C=W5;else{C=q5;var j=B5}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=K5);if(C&&(C=C(e,u))){zN(d,C,r,c);break e}j&&j(e,p,u),e==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&Jy(p,"number",p.value)}switch(j=u?zs(u):window,e){case"focusin":(lA(j)||j.contentEditable==="true")&&(Ls=j,c0=u,ac=null);break;case"focusout":ac=c0=Ls=null;break;case"mousedown":d0=!0;break;case"contextmenu":case"mouseup":case"dragend":d0=!1,hA(d,r,c);break;case"selectionchange":if(G5)break;case"keydown":case"keyup":hA(d,r,c)}var A;if(Mw)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ms?LN(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(MN&&r.locale!=="ko"&&(Ms||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ms&&(A=DN()):(Ca=c,jw="value"in Ca?Ca.value:Ca.textContent,Ms=!0)),j=Ch(u,S),0<j.length&&(S=new iA(S,e,null,r,c),d.push({event:S,listeners:j}),A?S.data=A:(A=$N(r),A!==null&&(S.data=A)))),(A=L5?$5(e,r):z5(e,r))&&(u=Ch(u,"onBeforeInput"),0<u.length&&(c=new iA("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=A))}YN(d,t)})}function kc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ch(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=_c(e,r),a!=null&&n.unshift(kc(e,a,i)),a=_c(e,t),a!=null&&n.push(kc(e,a,i))),e=e.return}return n}function Ps(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gA(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=_c(r,a),l!=null&&o.unshift(kc(r,l,s))):i||(l=_c(r,a),l!=null&&o.push(kc(r,l,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Z5=/\r\n?/g,ez=/\u0000|\uFFFD/g;function vA(e){return(typeof e=="string"?e:""+e).replace(Z5,`
`).replace(ez,"")}function Sf(e,t,r){if(t=vA(t),vA(e)!==t&&r)throw Error(B(425))}function Nh(){}var f0=null,h0=null;function p0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var m0=typeof setTimeout=="function"?setTimeout:void 0,tz=typeof clearTimeout=="function"?clearTimeout:void 0,yA=typeof Promise=="function"?Promise:void 0,rz=typeof queueMicrotask=="function"?queueMicrotask:typeof yA<"u"?function(e){return yA.resolve(null).then(e).catch(nz)}:m0;function nz(e){setTimeout(function(){throw e})}function Uv(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Ac(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ac(t)}function Ma(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ql=Math.random().toString(36).slice(2),Xn="__reactFiber$"+ql,Cc="__reactProps$"+ql,Ui="__reactContainer$"+ql,g0="__reactEvents$"+ql,iz="__reactListeners$"+ql,az="__reactHandles$"+ql;function So(e){var t=e[Xn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ui]||r[Xn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=xA(e);e!==null;){if(r=e[Xn])return r;e=xA(e)}return t}e=r,r=e.parentNode}return null}function hd(e){return e=e[Xn]||e[Ui],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function rm(e){return e[Cc]||null}var v0=[],Vs=-1;function io(e){return{current:e}}function Ge(e){0>Vs||(e.current=v0[Vs],v0[Vs]=null,Vs--)}function Be(e,t){Vs++,v0[Vs]=e.current,e.current=t}var Qa={},fr=io(Qa),jr=io(!1),Uo=Qa;function pl(e,t){var r=e.type.contextTypes;if(!r)return Qa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Rr(e){return e=e.childContextTypes,e!=null}function Oh(){Ge(jr),Ge(fr)}function wA(e,t,r){if(fr.current!==Qa)throw Error(B(168));Be(fr,t),Be(jr,r)}function JN(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(B(108,B3(e)||"Unknown",i));return at({},r,n)}function jh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qa,Uo=fr.current,Be(fr,e),Be(jr,jr.current),!0}function bA(e,t,r){var n=e.stateNode;if(!n)throw Error(B(169));r?(e=JN(e,t,Uo),n.__reactInternalMemoizedMergedChildContext=e,Ge(jr),Ge(fr),Be(fr,e)):Ge(jr),Be(jr,r)}var Ti=null,nm=!1,Bv=!1;function ZN(e){Ti===null?Ti=[e]:Ti.push(e)}function oz(e){nm=!0,ZN(e)}function ao(){if(!Bv&&Ti!==null){Bv=!0;var e=0,t=Oe;try{var r=Ti;for(Oe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ti=null,nm=!1}catch(i){throw Ti!==null&&(Ti=Ti.slice(e+1)),TN(kw,ao),i}finally{Oe=t,Bv=!1}}return null}var Fs=[],Us=0,Rh=null,Dh=0,dn=[],fn=0,Bo=null,Pi=1,Ii="";function xo(e,t){Fs[Us++]=Dh,Fs[Us++]=Rh,Rh=e,Dh=t}function eO(e,t,r){dn[fn++]=Pi,dn[fn++]=Ii,dn[fn++]=Bo,Bo=e;var n=Pi;e=Ii;var i=32-Ln(n)-1;n&=~(1<<i),r+=1;var a=32-Ln(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Pi=1<<32-Ln(t)+i|r<<i|n,Ii=a+e}else Pi=1<<a|r<<i|n,Ii=e}function $w(e){e.return!==null&&(xo(e,1),eO(e,1,0))}function zw(e){for(;e===Rh;)Rh=Fs[--Us],Fs[Us]=null,Dh=Fs[--Us],Fs[Us]=null;for(;e===Bo;)Bo=dn[--fn],dn[fn]=null,Ii=dn[--fn],dn[fn]=null,Pi=dn[--fn],dn[fn]=null}var Gr=null,Hr=null,Xe=!1,On=null;function tO(e,t){var r=pn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function _A(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gr=e,Hr=Ma(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gr=e,Hr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Bo!==null?{id:Pi,overflow:Ii}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=pn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Gr=e,Hr=null,!0):!1;default:return!1}}function y0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function x0(e){if(Xe){var t=Hr;if(t){var r=t;if(!_A(e,t)){if(y0(e))throw Error(B(418));t=Ma(r.nextSibling);var n=Gr;t&&_A(e,t)?tO(n,r):(e.flags=e.flags&-4097|2,Xe=!1,Gr=e)}}else{if(y0(e))throw Error(B(418));e.flags=e.flags&-4097|2,Xe=!1,Gr=e}}}function EA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gr=e}function Pf(e){if(e!==Gr)return!1;if(!Xe)return EA(e),Xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!p0(e.type,e.memoizedProps)),t&&(t=Hr)){if(y0(e))throw rO(),Error(B(418));for(;t;)tO(e,t),t=Ma(t.nextSibling)}if(EA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Hr=Ma(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Hr=null}}else Hr=Gr?Ma(e.stateNode.nextSibling):null;return!0}function rO(){for(var e=Hr;e;)e=Ma(e.nextSibling)}function ml(){Hr=Gr=null,Xe=!1}function Vw(e){On===null?On=[e]:On.push(e)}var sz=na.ReactCurrentBatchConfig;function Cu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(B(309));var n=r.stateNode}if(!n)throw Error(B(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(B(284));if(!r._owner)throw Error(B(290,e))}return e}function If(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function TA(e){var t=e._init;return t(e._payload)}function nO(e){function t(x,w){if(e){var E=x.deletions;E===null?(x.deletions=[w],x.flags|=16):E.push(w)}}function r(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function n(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Va(x,w),x.index=0,x.sibling=null,x}function a(x,w,E){return x.index=E,e?(E=x.alternate,E!==null?(E=E.index,E<w?(x.flags|=2,w):E):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function s(x,w,E,P){return w===null||w.tag!==6?(w=Yv(E,x.mode,P),w.return=x,w):(w=i(w,E),w.return=x,w)}function l(x,w,E,P){var C=E.type;return C===Ds?c(x,w,E.props.children,P,E.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ya&&TA(C)===w.type)?(P=i(w,E.props),P.ref=Cu(x,w,E),P.return=x,P):(P=ch(E.type,E.key,E.props,null,x.mode,P),P.ref=Cu(x,w,E),P.return=x,P)}function u(x,w,E,P){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=Xv(E,x.mode,P),w.return=x,w):(w=i(w,E.children||[]),w.return=x,w)}function c(x,w,E,P,C){return w===null||w.tag!==7?(w=$o(E,x.mode,P,C),w.return=x,w):(w=i(w,E),w.return=x,w)}function d(x,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Yv(""+w,x.mode,E),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vf:return E=ch(w.type,w.key,w.props,null,x.mode,E),E.ref=Cu(x,null,w),E.return=x,E;case Rs:return w=Xv(w,x.mode,E),w.return=x,w;case ya:var P=w._init;return d(x,P(w._payload),E)}if(qu(w)||Au(w))return w=$o(w,x.mode,E,null),w.return=x,w;If(x,w)}return null}function p(x,w,E,P){var C=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return C!==null?null:s(x,w,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case vf:return E.key===C?l(x,w,E,P):null;case Rs:return E.key===C?u(x,w,E,P):null;case ya:return C=E._init,p(x,w,C(E._payload),P)}if(qu(E)||Au(E))return C!==null?null:c(x,w,E,P,null);If(x,E)}return null}function m(x,w,E,P,C){if(typeof P=="string"&&P!==""||typeof P=="number")return x=x.get(E)||null,s(w,x,""+P,C);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case vf:return x=x.get(P.key===null?E:P.key)||null,l(w,x,P,C);case Rs:return x=x.get(P.key===null?E:P.key)||null,u(w,x,P,C);case ya:var j=P._init;return m(x,w,E,j(P._payload),C)}if(qu(P)||Au(P))return x=x.get(E)||null,c(w,x,P,C,null);If(w,P)}return null}function g(x,w,E,P){for(var C=null,j=null,A=w,S=w=0,I=null;A!==null&&S<E.length;S++){A.index>S?(I=A,A=null):I=A.sibling;var N=p(x,A,E[S],P);if(N===null){A===null&&(A=I);break}e&&A&&N.alternate===null&&t(x,A),w=a(N,w,S),j===null?C=N:j.sibling=N,j=N,A=I}if(S===E.length)return r(x,A),Xe&&xo(x,S),C;if(A===null){for(;S<E.length;S++)A=d(x,E[S],P),A!==null&&(w=a(A,w,S),j===null?C=A:j.sibling=A,j=A);return Xe&&xo(x,S),C}for(A=n(x,A);S<E.length;S++)I=m(A,x,S,E[S],P),I!==null&&(e&&I.alternate!==null&&A.delete(I.key===null?S:I.key),w=a(I,w,S),j===null?C=I:j.sibling=I,j=I);return e&&A.forEach(function(R){return t(x,R)}),Xe&&xo(x,S),C}function y(x,w,E,P){var C=Au(E);if(typeof C!="function")throw Error(B(150));if(E=C.call(E),E==null)throw Error(B(151));for(var j=C=null,A=w,S=w=0,I=null,N=E.next();A!==null&&!N.done;S++,N=E.next()){A.index>S?(I=A,A=null):I=A.sibling;var R=p(x,A,N.value,P);if(R===null){A===null&&(A=I);break}e&&A&&R.alternate===null&&t(x,A),w=a(R,w,S),j===null?C=R:j.sibling=R,j=R,A=I}if(N.done)return r(x,A),Xe&&xo(x,S),C;if(A===null){for(;!N.done;S++,N=E.next())N=d(x,N.value,P),N!==null&&(w=a(N,w,S),j===null?C=N:j.sibling=N,j=N);return Xe&&xo(x,S),C}for(A=n(x,A);!N.done;S++,N=E.next())N=m(A,x,S,N.value,P),N!==null&&(e&&N.alternate!==null&&A.delete(N.key===null?S:N.key),w=a(N,w,S),j===null?C=N:j.sibling=N,j=N);return e&&A.forEach(function(D){return t(x,D)}),Xe&&xo(x,S),C}function b(x,w,E,P){if(typeof E=="object"&&E!==null&&E.type===Ds&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case vf:e:{for(var C=E.key,j=w;j!==null;){if(j.key===C){if(C=E.type,C===Ds){if(j.tag===7){r(x,j.sibling),w=i(j,E.props.children),w.return=x,x=w;break e}}else if(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ya&&TA(C)===j.type){r(x,j.sibling),w=i(j,E.props),w.ref=Cu(x,j,E),w.return=x,x=w;break e}r(x,j);break}else t(x,j);j=j.sibling}E.type===Ds?(w=$o(E.props.children,x.mode,P,E.key),w.return=x,x=w):(P=ch(E.type,E.key,E.props,null,x.mode,P),P.ref=Cu(x,w,E),P.return=x,x=P)}return o(x);case Rs:e:{for(j=E.key;w!==null;){if(w.key===j)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){r(x,w.sibling),w=i(w,E.children||[]),w.return=x,x=w;break e}else{r(x,w);break}else t(x,w);w=w.sibling}w=Xv(E,x.mode,P),w.return=x,x=w}return o(x);case ya:return j=E._init,b(x,w,j(E._payload),P)}if(qu(E))return g(x,w,E,P);if(Au(E))return y(x,w,E,P);If(x,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(r(x,w.sibling),w=i(w,E),w.return=x,x=w):(r(x,w),w=Yv(E,x.mode,P),w.return=x,x=w),o(x)):r(x,w)}return b}var gl=nO(!0),iO=nO(!1),Mh=io(null),Lh=null,Bs=null,Fw=null;function Uw(){Fw=Bs=Lh=null}function Bw(e){var t=Mh.current;Ge(Mh),e._currentValue=t}function w0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function el(e,t){Lh=e,Fw=Bs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nr=!0),e.firstContext=null)}function xn(e){var t=e._currentValue;if(Fw!==e)if(e={context:e,memoizedValue:t,next:null},Bs===null){if(Lh===null)throw Error(B(308));Bs=e,Lh.dependencies={lanes:0,firstContext:e}}else Bs=Bs.next=e;return t}var Po=null;function qw(e){Po===null?Po=[e]:Po.push(e)}function aO(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,qw(t)):(r.next=i.next,i.next=r),t.interleaved=r,Bi(e,n)}function Bi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var xa=!1;function Kw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ri(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function La(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ae&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Bi(e,r)}return i=n.interleaved,i===null?(t.next=t,qw(n)):(t.next=i.next,i.next=t),n.interleaved=t,Bi(e,r)}function ih(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Cw(e,r)}}function AA(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function $h(e,t,r,n){var i=e.updateQueue;xa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;o=0,c=u=l=null,s=a;do{var p=s.lane,m=s.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,y=s;switch(p=t,m=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(m,d,p);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,p=typeof g=="function"?g.call(m,d,p):g,p==null)break e;d=at({},d,p);break e;case 2:xa=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Ko|=o,e.lanes=o,e.memoizedState=d}}function SA(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(B(191,i));i.call(n)}}}var pd={},ri=io(pd),Nc=io(pd),Oc=io(pd);function Io(e){if(e===pd)throw Error(B(174));return e}function Ww(e,t){switch(Be(Oc,t),Be(Nc,e),Be(ri,pd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:e0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=e0(t,e)}Ge(ri),Be(ri,t)}function vl(){Ge(ri),Ge(Nc),Ge(Oc)}function sO(e){Io(Oc.current);var t=Io(ri.current),r=e0(t,e.type);t!==r&&(Be(Nc,e),Be(ri,r))}function Hw(e){Nc.current===e&&(Ge(ri),Ge(Nc))}var nt=io(0);function zh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qv=[];function Qw(){for(var e=0;e<qv.length;e++)qv[e]._workInProgressVersionPrimary=null;qv.length=0}var ah=na.ReactCurrentDispatcher,Kv=na.ReactCurrentBatchConfig,qo=0,it=null,Tt=null,Ot=null,Vh=!1,oc=!1,jc=0,lz=0;function rr(){throw Error(B(321))}function Gw(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!zn(e[r],t[r]))return!1;return!0}function Yw(e,t,r,n,i,a){if(qo=a,it=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ah.current=e===null||e.memoizedState===null?fz:hz,e=r(n,i),oc){a=0;do{if(oc=!1,jc=0,25<=a)throw Error(B(301));a+=1,Ot=Tt=null,t.updateQueue=null,ah.current=pz,e=r(n,i)}while(oc)}if(ah.current=Fh,t=Tt!==null&&Tt.next!==null,qo=0,Ot=Tt=it=null,Vh=!1,t)throw Error(B(300));return e}function Xw(){var e=jc!==0;return jc=0,e}function Yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?it.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function wn(){if(Tt===null){var e=it.alternate;e=e!==null?e.memoizedState:null}else e=Tt.next;var t=Ot===null?it.memoizedState:Ot.next;if(t!==null)Ot=t,Tt=e;else{if(e===null)throw Error(B(310));Tt=e,e={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Ot===null?it.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function Rc(e,t){return typeof t=="function"?t(e):t}function Wv(e){var t=wn(),r=t.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=e;var n=Tt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((qo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,o=n):l=l.next=d,it.lanes|=c,Ko|=c}u=u.next}while(u!==null&&u!==a);l===null?o=n:l.next=s,zn(n,t.memoizedState)||(Nr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,it.lanes|=a,Ko|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Hv(e){var t=wn(),r=t.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);zn(a,t.memoizedState)||(Nr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function lO(){}function uO(e,t){var r=it,n=wn(),i=t(),a=!zn(n.memoizedState,i);if(a&&(n.memoizedState=i,Nr=!0),n=n.queue,Jw(fO.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Ot!==null&&Ot.memoizedState.tag&1){if(r.flags|=2048,Dc(9,dO.bind(null,r,n,i,t),void 0,null),jt===null)throw Error(B(349));qo&30||cO(r,t,i)}return i}function cO(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function dO(e,t,r,n){t.value=r,t.getSnapshot=n,hO(t)&&pO(e)}function fO(e,t,r){return r(function(){hO(t)&&pO(e)})}function hO(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!zn(e,r)}catch{return!0}}function pO(e){var t=Bi(e,1);t!==null&&$n(t,e,1,-1)}function PA(e){var t=Yn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rc,lastRenderedState:e},t.queue=e,e=e.dispatch=dz.bind(null,it,e),[t.memoizedState,e]}function Dc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function mO(){return wn().memoizedState}function oh(e,t,r,n){var i=Yn();it.flags|=e,i.memoizedState=Dc(1|t,r,void 0,n===void 0?null:n)}function im(e,t,r,n){var i=wn();n=n===void 0?null:n;var a=void 0;if(Tt!==null){var o=Tt.memoizedState;if(a=o.destroy,n!==null&&Gw(n,o.deps)){i.memoizedState=Dc(t,r,a,n);return}}it.flags|=e,i.memoizedState=Dc(1|t,r,a,n)}function IA(e,t){return oh(8390656,8,e,t)}function Jw(e,t){return im(2048,8,e,t)}function gO(e,t){return im(4,2,e,t)}function vO(e,t){return im(4,4,e,t)}function yO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xO(e,t,r){return r=r!=null?r.concat([e]):null,im(4,4,yO.bind(null,t,e),r)}function Zw(){}function wO(e,t){var r=wn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Gw(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function bO(e,t){var r=wn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Gw(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function _O(e,t,r){return qo&21?(zn(r,t)||(r=PN(),it.lanes|=r,Ko|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nr=!0),e.memoizedState=r)}function uz(e,t){var r=Oe;Oe=r!==0&&4>r?r:4,e(!0);var n=Kv.transition;Kv.transition={};try{e(!1),t()}finally{Oe=r,Kv.transition=n}}function EO(){return wn().memoizedState}function cz(e,t,r){var n=za(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},TO(e))AO(t,r);else if(r=aO(e,t,r,n),r!==null){var i=_r();$n(r,e,n,i),SO(r,t,n)}}function dz(e,t,r){var n=za(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(TO(e))AO(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,zn(s,o)){var l=t.interleaved;l===null?(i.next=i,qw(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=aO(e,t,i,n),r!==null&&(i=_r(),$n(r,e,n,i),SO(r,t,n))}}function TO(e){var t=e.alternate;return e===it||t!==null&&t===it}function AO(e,t){oc=Vh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function SO(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Cw(e,r)}}var Fh={readContext:xn,useCallback:rr,useContext:rr,useEffect:rr,useImperativeHandle:rr,useInsertionEffect:rr,useLayoutEffect:rr,useMemo:rr,useReducer:rr,useRef:rr,useState:rr,useDebugValue:rr,useDeferredValue:rr,useTransition:rr,useMutableSource:rr,useSyncExternalStore:rr,useId:rr,unstable_isNewReconciler:!1},fz={readContext:xn,useCallback:function(e,t){return Yn().memoizedState=[e,t===void 0?null:t],e},useContext:xn,useEffect:IA,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,oh(4194308,4,yO.bind(null,t,e),r)},useLayoutEffect:function(e,t){return oh(4194308,4,e,t)},useInsertionEffect:function(e,t){return oh(4,2,e,t)},useMemo:function(e,t){var r=Yn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Yn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=cz.bind(null,it,e),[n.memoizedState,e]},useRef:function(e){var t=Yn();return e={current:e},t.memoizedState=e},useState:PA,useDebugValue:Zw,useDeferredValue:function(e){return Yn().memoizedState=e},useTransition:function(){var e=PA(!1),t=e[0];return e=uz.bind(null,e[1]),Yn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=it,i=Yn();if(Xe){if(r===void 0)throw Error(B(407));r=r()}else{if(r=t(),jt===null)throw Error(B(349));qo&30||cO(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,IA(fO.bind(null,n,a,e),[e]),n.flags|=2048,Dc(9,dO.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Yn(),t=jt.identifierPrefix;if(Xe){var r=Ii,n=Pi;r=(n&~(1<<32-Ln(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=jc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=lz++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hz={readContext:xn,useCallback:wO,useContext:xn,useEffect:Jw,useImperativeHandle:xO,useInsertionEffect:gO,useLayoutEffect:vO,useMemo:bO,useReducer:Wv,useRef:mO,useState:function(){return Wv(Rc)},useDebugValue:Zw,useDeferredValue:function(e){var t=wn();return _O(t,Tt.memoizedState,e)},useTransition:function(){var e=Wv(Rc)[0],t=wn().memoizedState;return[e,t]},useMutableSource:lO,useSyncExternalStore:uO,useId:EO,unstable_isNewReconciler:!1},pz={readContext:xn,useCallback:wO,useContext:xn,useEffect:Jw,useImperativeHandle:xO,useInsertionEffect:gO,useLayoutEffect:vO,useMemo:bO,useReducer:Hv,useRef:mO,useState:function(){return Hv(Rc)},useDebugValue:Zw,useDeferredValue:function(e){var t=wn();return Tt===null?t.memoizedState=e:_O(t,Tt.memoizedState,e)},useTransition:function(){var e=Hv(Rc)[0],t=wn().memoizedState;return[e,t]},useMutableSource:lO,useSyncExternalStore:uO,useId:EO,unstable_isNewReconciler:!1};function Cn(e,t){if(e&&e.defaultProps){t=at({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function b0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:at({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var am={isMounted:function(e){return(e=e._reactInternals)?ds(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_r(),i=za(e),a=Ri(n,i);a.payload=t,r!=null&&(a.callback=r),t=La(e,a,i),t!==null&&($n(t,e,i,n),ih(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_r(),i=za(e),a=Ri(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=La(e,a,i),t!==null&&($n(t,e,i,n),ih(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_r(),n=za(e),i=Ri(r,n);i.tag=2,t!=null&&(i.callback=t),t=La(e,i,n),t!==null&&($n(t,e,n,r),ih(t,e,n))}};function kA(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Pc(r,n)||!Pc(i,a):!0}function PO(e,t,r){var n=!1,i=Qa,a=t.contextType;return typeof a=="object"&&a!==null?a=xn(a):(i=Rr(t)?Uo:fr.current,n=t.contextTypes,a=(n=n!=null)?pl(e,i):Qa),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=am,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function CA(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&am.enqueueReplaceState(t,t.state,null)}function _0(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Kw(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=xn(a):(a=Rr(t)?Uo:fr.current,i.context=pl(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(b0(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&am.enqueueReplaceState(i,i.state,null),$h(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function yl(e,t){try{var r="",n=t;do r+=U3(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Qv(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function E0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var mz=typeof WeakMap=="function"?WeakMap:Map;function IO(e,t,r){r=Ri(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Bh||(Bh=!0,j0=n),E0(e,t)},r}function kO(e,t,r){r=Ri(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){E0(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){E0(e,t),typeof n!="function"&&($a===null?$a=new Set([this]):$a.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function NA(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new mz;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=kz.bind(null,e,t,r),t.then(e,e))}function OA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jA(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ri(-1,1),t.tag=2,La(r,t,1))),r.lanes|=1),e)}var gz=na.ReactCurrentOwner,Nr=!1;function vr(e,t,r,n){t.child=e===null?iO(t,null,r,n):gl(t,e.child,r,n)}function RA(e,t,r,n,i){r=r.render;var a=t.ref;return el(t,i),n=Yw(e,t,r,n,a,i),r=Xw(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qi(e,t,i)):(Xe&&r&&$w(t),t.flags|=1,vr(e,t,n,i),t.child)}function DA(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!sb(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,CO(e,t,a,n,i)):(e=ch(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Pc,r(o,n)&&e.ref===t.ref)return qi(e,t,i)}return t.flags|=1,e=Va(a,n),e.ref=t.ref,e.return=t,t.child=e}function CO(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Pc(a,n)&&e.ref===t.ref)if(Nr=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Nr=!0);else return t.lanes=e.lanes,qi(e,t,i)}return T0(e,t,r,n,i)}function NO(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Ks,Ur),Ur|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Be(Ks,Ur),Ur|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Be(Ks,Ur),Ur|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Be(Ks,Ur),Ur|=n;return vr(e,t,i,r),t.child}function OO(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function T0(e,t,r,n,i){var a=Rr(r)?Uo:fr.current;return a=pl(t,a),el(t,i),r=Yw(e,t,r,n,a,i),n=Xw(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qi(e,t,i)):(Xe&&n&&$w(t),t.flags|=1,vr(e,t,r,i),t.child)}function MA(e,t,r,n,i){if(Rr(r)){var a=!0;jh(t)}else a=!1;if(el(t,i),t.stateNode===null)sh(e,t),PO(t,r,n),_0(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=xn(u):(u=Rr(r)?Uo:fr.current,u=pl(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&CA(t,o,n,u),xa=!1;var p=t.memoizedState;o.state=p,$h(t,n,o,i),l=t.memoizedState,s!==n||p!==l||jr.current||xa?(typeof c=="function"&&(b0(t,r,c,n),l=t.memoizedState),(s=xa||kA(t,r,s,n,p,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,oO(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Cn(t.type,s),o.props=u,d=t.pendingProps,p=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=xn(l):(l=Rr(r)?Uo:fr.current,l=pl(t,l));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||p!==l)&&CA(t,o,n,l),xa=!1,p=t.memoizedState,o.state=p,$h(t,n,o,i);var g=t.memoizedState;s!==d||p!==g||jr.current||xa?(typeof m=="function"&&(b0(t,r,m,n),g=t.memoizedState),(u=xa||kA(t,r,u,n,p,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return A0(e,t,r,n,a,i)}function A0(e,t,r,n,i,a){OO(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&bA(t,r,!1),qi(e,t,a);n=t.stateNode,gz.current=t;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=gl(t,e.child,null,a),t.child=gl(t,null,s,a)):vr(e,t,s,a),t.memoizedState=n.state,i&&bA(t,r,!0),t.child}function jO(e){var t=e.stateNode;t.pendingContext?wA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wA(e,t.context,!1),Ww(e,t.containerInfo)}function LA(e,t,r,n,i){return ml(),Vw(i),t.flags|=256,vr(e,t,r,n),t.child}var S0={dehydrated:null,treeContext:null,retryLane:0};function P0(e){return{baseLanes:e,cachePool:null,transitions:null}}function RO(e,t,r){var n=t.pendingProps,i=nt.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Be(nt,i&1),e===null)return x0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=lm(o,n,0,null),e=$o(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=P0(r),t.memoizedState=S0,e):eb(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return vz(e,t,o,n,s,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Va(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Va(s,a):(a=$o(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?P0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=S0,n}return a=e.child,e=a.sibling,n=Va(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function eb(e,t){return t=lm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function kf(e,t,r,n){return n!==null&&Vw(n),gl(t,e.child,null,r),e=eb(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vz(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Qv(Error(B(422))),kf(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=lm({mode:"visible",children:n.children},i,0,null),a=$o(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&gl(t,e.child,null,o),t.child.memoizedState=P0(o),t.memoizedState=S0,a);if(!(t.mode&1))return kf(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(B(419)),n=Qv(a,n,void 0),kf(e,t,o,n)}if(s=(o&e.childLanes)!==0,Nr||s){if(n=jt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Bi(e,i),$n(n,e,i,-1))}return ob(),n=Qv(Error(B(421))),kf(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Cz.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Hr=Ma(i.nextSibling),Gr=t,Xe=!0,On=null,e!==null&&(dn[fn++]=Pi,dn[fn++]=Ii,dn[fn++]=Bo,Pi=e.id,Ii=e.overflow,Bo=t),t=eb(t,n.children),t.flags|=4096,t)}function $A(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),w0(e.return,t,r)}function Gv(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function DO(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(vr(e,t,n.children,r),n=nt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$A(e,r,t);else if(e.tag===19)$A(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Be(nt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&zh(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Gv(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&zh(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Gv(t,!0,r,null,a);break;case"together":Gv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ko|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,r=Va(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Va(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function yz(e,t,r){switch(t.tag){case 3:jO(t),ml();break;case 5:sO(t);break;case 1:Rr(t.type)&&jh(t);break;case 4:Ww(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Be(Mh,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Be(nt,nt.current&1),t.flags|=128,null):r&t.child.childLanes?RO(e,t,r):(Be(nt,nt.current&1),e=qi(e,t,r),e!==null?e.sibling:null);Be(nt,nt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return DO(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(nt,nt.current),n)break;return null;case 22:case 23:return t.lanes=0,NO(e,t,r)}return qi(e,t,r)}var MO,I0,LO,$O;MO=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};I0=function(){};LO=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Io(ri.current);var a=null;switch(r){case"input":i=Yy(e,i),n=Yy(e,n),a=[];break;case"select":i=at({},i,{value:void 0}),n=at({},n,{value:void 0}),a=[];break;case"textarea":i=Zy(e,i),n=Zy(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Nh)}t0(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&We("scroll",e),a||s===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};$O=function(e,t,r,n){r!==n&&(t.flags|=4)};function Nu(e,t){if(!Xe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function nr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function xz(e,t,r){var n=t.pendingProps;switch(zw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nr(t),null;case 1:return Rr(t.type)&&Oh(),nr(t),null;case 3:return n=t.stateNode,vl(),Ge(jr),Ge(fr),Qw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Pf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,On!==null&&(M0(On),On=null))),I0(e,t),nr(t),null;case 5:Hw(t);var i=Io(Oc.current);if(r=t.type,e!==null&&t.stateNode!=null)LO(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(B(166));return nr(t),null}if(e=Io(ri.current),Pf(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Xn]=t,n[Cc]=a,e=(t.mode&1)!==0,r){case"dialog":We("cancel",n),We("close",n);break;case"iframe":case"object":case"embed":We("load",n);break;case"video":case"audio":for(i=0;i<Wu.length;i++)We(Wu[i],n);break;case"source":We("error",n);break;case"img":case"image":case"link":We("error",n),We("load",n);break;case"details":We("toggle",n);break;case"input":HT(n,a),We("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},We("invalid",n);break;case"textarea":GT(n,a),We("invalid",n)}t0(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&Sf(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Sf(n.textContent,s,e),i=["children",""+s]):wc.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&We("scroll",n)}switch(r){case"input":yf(n),QT(n,a,!0);break;case"textarea":yf(n),YT(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Nh)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fN(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Xn]=t,e[Cc]=n,MO(e,t,!1,!1),t.stateNode=e;e:{switch(o=r0(r,n),r){case"dialog":We("cancel",e),We("close",e),i=n;break;case"iframe":case"object":case"embed":We("load",e),i=n;break;case"video":case"audio":for(i=0;i<Wu.length;i++)We(Wu[i],e);i=n;break;case"source":We("error",e),i=n;break;case"img":case"image":case"link":We("error",e),We("load",e),i=n;break;case"details":We("toggle",e),i=n;break;case"input":HT(e,n),i=Yy(e,n),We("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=at({},n,{value:void 0}),We("invalid",e);break;case"textarea":GT(e,n),i=Zy(e,n),We("invalid",e);break;default:i=n}t0(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?mN(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hN(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&bc(e,l):typeof l=="number"&&bc(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(wc.hasOwnProperty(a)?l!=null&&a==="onScroll"&&We("scroll",e):l!=null&&Tw(e,a,l,o))}switch(r){case"input":yf(e),QT(e,n,!1);break;case"textarea":yf(e),YT(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ha(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ys(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ys(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Nh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nr(t),null;case 6:if(e&&t.stateNode!=null)$O(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(B(166));if(r=Io(Oc.current),Io(ri.current),Pf(t)){if(n=t.stateNode,r=t.memoizedProps,n[Xn]=t,(a=n.nodeValue!==r)&&(e=Gr,e!==null))switch(e.tag){case 3:Sf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Sf(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Xn]=t,t.stateNode=n}return nr(t),null;case 13:if(Ge(nt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xe&&Hr!==null&&t.mode&1&&!(t.flags&128))rO(),ml(),t.flags|=98560,a=!1;else if(a=Pf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(B(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(B(317));a[Xn]=t}else ml(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nr(t),a=!1}else On!==null&&(M0(On),On=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||nt.current&1?At===0&&(At=3):ob())),t.updateQueue!==null&&(t.flags|=4),nr(t),null);case 4:return vl(),I0(e,t),e===null&&Ic(t.stateNode.containerInfo),nr(t),null;case 10:return Bw(t.type._context),nr(t),null;case 17:return Rr(t.type)&&Oh(),nr(t),null;case 19:if(Ge(nt),a=t.memoizedState,a===null)return nr(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Nu(a,!1);else{if(At!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=zh(e),o!==null){for(t.flags|=128,Nu(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Be(nt,nt.current&1|2),t.child}e=e.sibling}a.tail!==null&&pt()>xl&&(t.flags|=128,n=!0,Nu(a,!1),t.lanes=4194304)}else{if(!n)if(e=zh(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Nu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Xe)return nr(t),null}else 2*pt()-a.renderingStartTime>xl&&r!==1073741824&&(t.flags|=128,n=!0,Nu(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=pt(),t.sibling=null,r=nt.current,Be(nt,n?r&1|2:r&1),t):(nr(t),null);case 22:case 23:return ab(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ur&1073741824&&(nr(t),t.subtreeFlags&6&&(t.flags|=8192)):nr(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function wz(e,t){switch(zw(t),t.tag){case 1:return Rr(t.type)&&Oh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vl(),Ge(jr),Ge(fr),Qw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Hw(t),null;case 13:if(Ge(nt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));ml()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ge(nt),null;case 4:return vl(),null;case 10:return Bw(t.type._context),null;case 22:case 23:return ab(),null;case 24:return null;default:return null}}var Cf=!1,lr=!1,bz=typeof WeakSet=="function"?WeakSet:Set,X=null;function qs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ct(e,t,n)}else r.current=null}function k0(e,t,r){try{r()}catch(n){ct(e,t,n)}}var zA=!1;function _z(e,t){if(f0=Ih,e=BN(),Lw(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,c=0,d=e,p=null;t:for(;;){for(var m;d!==r||i!==0&&d.nodeType!==3||(s=o+i),d!==a||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===e)break t;if(p===r&&++u===i&&(s=o),p===a&&++c===n&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(h0={focusedElem:e,selectionRange:r},Ih=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:Cn(t.type,y),b);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(P){ct(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return g=zA,zA=!1,g}function sc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&k0(t,r,a)}i=i.next}while(i!==n)}}function om(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function C0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function zO(e){var t=e.alternate;t!==null&&(e.alternate=null,zO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xn],delete t[Cc],delete t[g0],delete t[iz],delete t[az])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function VO(e){return e.tag===5||e.tag===3||e.tag===4}function VA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||VO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function N0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Nh));else if(n!==4&&(e=e.child,e!==null))for(N0(e,t,r),e=e.sibling;e!==null;)N0(e,t,r),e=e.sibling}function O0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(O0(e,t,r),e=e.sibling;e!==null;)O0(e,t,r),e=e.sibling}var Ft=null,Nn=!1;function pa(e,t,r){for(r=r.child;r!==null;)FO(e,t,r),r=r.sibling}function FO(e,t,r){if(ti&&typeof ti.onCommitFiberUnmount=="function")try{ti.onCommitFiberUnmount(Jp,r)}catch{}switch(r.tag){case 5:lr||qs(r,t);case 6:var n=Ft,i=Nn;Ft=null,pa(e,t,r),Ft=n,Nn=i,Ft!==null&&(Nn?(e=Ft,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ft.removeChild(r.stateNode));break;case 18:Ft!==null&&(Nn?(e=Ft,r=r.stateNode,e.nodeType===8?Uv(e.parentNode,r):e.nodeType===1&&Uv(e,r),Ac(e)):Uv(Ft,r.stateNode));break;case 4:n=Ft,i=Nn,Ft=r.stateNode.containerInfo,Nn=!0,pa(e,t,r),Ft=n,Nn=i;break;case 0:case 11:case 14:case 15:if(!lr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&k0(r,t,o),i=i.next}while(i!==n)}pa(e,t,r);break;case 1:if(!lr&&(qs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){ct(r,t,s)}pa(e,t,r);break;case 21:pa(e,t,r);break;case 22:r.mode&1?(lr=(n=lr)||r.memoizedState!==null,pa(e,t,r),lr=n):pa(e,t,r);break;default:pa(e,t,r)}}function FA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new bz),t.forEach(function(n){var i=Nz.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function kn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Ft=s.stateNode,Nn=!1;break e;case 3:Ft=s.stateNode.containerInfo,Nn=!0;break e;case 4:Ft=s.stateNode.containerInfo,Nn=!0;break e}s=s.return}if(Ft===null)throw Error(B(160));FO(a,o,i),Ft=null,Nn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ct(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)UO(t,e),t=t.sibling}function UO(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kn(t,e),Qn(e),n&4){try{sc(3,e,e.return),om(3,e)}catch(y){ct(e,e.return,y)}try{sc(5,e,e.return)}catch(y){ct(e,e.return,y)}}break;case 1:kn(t,e),Qn(e),n&512&&r!==null&&qs(r,r.return);break;case 5:if(kn(t,e),Qn(e),n&512&&r!==null&&qs(r,r.return),e.flags&32){var i=e.stateNode;try{bc(i,"")}catch(y){ct(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&cN(i,a),r0(s,o);var u=r0(s,a);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?mN(i,d):c==="dangerouslySetInnerHTML"?hN(i,d):c==="children"?bc(i,d):Tw(i,c,d,u)}switch(s){case"input":Xy(i,a);break;case"textarea":dN(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Ys(i,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?Ys(i,!!a.multiple,a.defaultValue,!0):Ys(i,!!a.multiple,a.multiple?[]:"",!1))}i[Cc]=a}catch(y){ct(e,e.return,y)}}break;case 6:if(kn(t,e),Qn(e),n&4){if(e.stateNode===null)throw Error(B(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){ct(e,e.return,y)}}break;case 3:if(kn(t,e),Qn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ac(t.containerInfo)}catch(y){ct(e,e.return,y)}break;case 4:kn(t,e),Qn(e);break;case 13:kn(t,e),Qn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(nb=pt())),n&4&&FA(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(lr=(u=lr)||c,kn(t,e),lr=u):kn(t,e),Qn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(X=e,c=e.child;c!==null;){for(d=X=c;X!==null;){switch(p=X,m=p.child,p.tag){case 0:case 11:case 14:case 15:sc(4,p,p.return);break;case 1:qs(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){ct(n,r,y)}}break;case 5:qs(p,p.return);break;case 22:if(p.memoizedState!==null){BA(d);continue}}m!==null?(m.return=p,X=m):BA(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=pN("display",o))}catch(y){ct(e,e.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){ct(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:kn(t,e),Qn(e),n&4&&FA(e);break;case 21:break;default:kn(t,e),Qn(e)}}function Qn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(VO(r)){var n=r;break e}r=r.return}throw Error(B(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(bc(i,""),n.flags&=-33);var a=VA(e);O0(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=VA(e);N0(e,s,o);break;default:throw Error(B(161))}}catch(l){ct(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ez(e,t,r){X=e,BO(e)}function BO(e,t,r){for(var n=(e.mode&1)!==0;X!==null;){var i=X,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Cf;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||lr;s=Cf;var u=lr;if(Cf=o,(lr=l)&&!u)for(X=i;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?qA(i):l!==null?(l.return=o,X=l):qA(i);for(;a!==null;)X=a,BO(a),a=a.sibling;X=i,Cf=s,lr=u}UA(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,X=a):UA(e)}}function UA(e){for(;X!==null;){var t=X;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:lr||om(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!lr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Cn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&SA(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}SA(t,o,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ac(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}lr||t.flags&512&&C0(t)}catch(p){ct(t,t.return,p)}}if(t===e){X=null;break}if(r=t.sibling,r!==null){r.return=t.return,X=r;break}X=t.return}}function BA(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var r=t.sibling;if(r!==null){r.return=t.return,X=r;break}X=t.return}}function qA(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{om(4,t)}catch(l){ct(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){ct(t,i,l)}}var a=t.return;try{C0(t)}catch(l){ct(t,a,l)}break;case 5:var o=t.return;try{C0(t)}catch(l){ct(t,o,l)}}}catch(l){ct(t,t.return,l)}if(t===e){X=null;break}var s=t.sibling;if(s!==null){s.return=t.return,X=s;break}X=t.return}}var Tz=Math.ceil,Uh=na.ReactCurrentDispatcher,tb=na.ReactCurrentOwner,gn=na.ReactCurrentBatchConfig,Ae=0,jt=null,xt=null,Wt=0,Ur=0,Ks=io(0),At=0,Mc=null,Ko=0,sm=0,rb=0,lc=null,kr=null,nb=0,xl=1/0,Ei=null,Bh=!1,j0=null,$a=null,Nf=!1,Na=null,qh=0,uc=0,R0=null,lh=-1,uh=0;function _r(){return Ae&6?pt():lh!==-1?lh:lh=pt()}function za(e){return e.mode&1?Ae&2&&Wt!==0?Wt&-Wt:sz.transition!==null?(uh===0&&(uh=PN()),uh):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:RN(e.type)),e):1}function $n(e,t,r,n){if(50<uc)throw uc=0,R0=null,Error(B(185));dd(e,r,n),(!(Ae&2)||e!==jt)&&(e===jt&&(!(Ae&2)&&(sm|=r),At===4&&_a(e,Wt)),Dr(e,n),r===1&&Ae===0&&!(t.mode&1)&&(xl=pt()+500,nm&&ao()))}function Dr(e,t){var r=e.callbackNode;s5(e,t);var n=Ph(e,e===jt?Wt:0);if(n===0)r!==null&&ZT(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ZT(r),t===1)e.tag===0?oz(KA.bind(null,e)):ZN(KA.bind(null,e)),rz(function(){!(Ae&6)&&ao()}),r=null;else{switch(IN(n)){case 1:r=kw;break;case 4:r=AN;break;case 16:r=Sh;break;case 536870912:r=SN;break;default:r=Sh}r=XO(r,qO.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function qO(e,t){if(lh=-1,uh=0,Ae&6)throw Error(B(327));var r=e.callbackNode;if(tl()&&e.callbackNode!==r)return null;var n=Ph(e,e===jt?Wt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Kh(e,n);else{t=n;var i=Ae;Ae|=2;var a=WO();(jt!==e||Wt!==t)&&(Ei=null,xl=pt()+500,Lo(e,t));do try{Pz();break}catch(s){KO(e,s)}while(!0);Uw(),Uh.current=a,Ae=i,xt!==null?t=0:(jt=null,Wt=0,t=At)}if(t!==0){if(t===2&&(i=s0(e),i!==0&&(n=i,t=D0(e,i))),t===1)throw r=Mc,Lo(e,0),_a(e,n),Dr(e,pt()),r;if(t===6)_a(e,n);else{if(i=e.current.alternate,!(n&30)&&!Az(i)&&(t=Kh(e,n),t===2&&(a=s0(e),a!==0&&(n=a,t=D0(e,a))),t===1))throw r=Mc,Lo(e,0),_a(e,n),Dr(e,pt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(B(345));case 2:wo(e,kr,Ei);break;case 3:if(_a(e,n),(n&130023424)===n&&(t=nb+500-pt(),10<t)){if(Ph(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){_r(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=m0(wo.bind(null,e,kr,Ei),t);break}wo(e,kr,Ei);break;case 4:if(_a(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Ln(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=pt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Tz(n/1960))-n,10<n){e.timeoutHandle=m0(wo.bind(null,e,kr,Ei),n);break}wo(e,kr,Ei);break;case 5:wo(e,kr,Ei);break;default:throw Error(B(329))}}}return Dr(e,pt()),e.callbackNode===r?qO.bind(null,e):null}function D0(e,t){var r=lc;return e.current.memoizedState.isDehydrated&&(Lo(e,t).flags|=256),e=Kh(e,t),e!==2&&(t=kr,kr=r,t!==null&&M0(t)),e}function M0(e){kr===null?kr=e:kr.push.apply(kr,e)}function Az(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!zn(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _a(e,t){for(t&=~rb,t&=~sm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ln(t),n=1<<r;e[r]=-1,t&=~n}}function KA(e){if(Ae&6)throw Error(B(327));tl();var t=Ph(e,0);if(!(t&1))return Dr(e,pt()),null;var r=Kh(e,t);if(e.tag!==0&&r===2){var n=s0(e);n!==0&&(t=n,r=D0(e,n))}if(r===1)throw r=Mc,Lo(e,0),_a(e,t),Dr(e,pt()),r;if(r===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wo(e,kr,Ei),Dr(e,pt()),null}function ib(e,t){var r=Ae;Ae|=1;try{return e(t)}finally{Ae=r,Ae===0&&(xl=pt()+500,nm&&ao())}}function Wo(e){Na!==null&&Na.tag===0&&!(Ae&6)&&tl();var t=Ae;Ae|=1;var r=gn.transition,n=Oe;try{if(gn.transition=null,Oe=1,e)return e()}finally{Oe=n,gn.transition=r,Ae=t,!(Ae&6)&&ao()}}function ab(){Ur=Ks.current,Ge(Ks)}function Lo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,tz(r)),xt!==null)for(r=xt.return;r!==null;){var n=r;switch(zw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Oh();break;case 3:vl(),Ge(jr),Ge(fr),Qw();break;case 5:Hw(n);break;case 4:vl();break;case 13:Ge(nt);break;case 19:Ge(nt);break;case 10:Bw(n.type._context);break;case 22:case 23:ab()}r=r.return}if(jt=e,xt=e=Va(e.current,null),Wt=Ur=t,At=0,Mc=null,rb=sm=Ko=0,kr=lc=null,Po!==null){for(t=0;t<Po.length;t++)if(r=Po[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Po=null}return e}function KO(e,t){do{var r=xt;try{if(Uw(),ah.current=Fh,Vh){for(var n=it.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Vh=!1}if(qo=0,Ot=Tt=it=null,oc=!1,jc=0,tb.current=null,r===null||r.return===null){At=1,Mc=t,xt=null;break}e:{var a=e,o=r.return,s=r,l=t;if(t=Wt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=OA(o);if(m!==null){m.flags&=-257,jA(m,o,s,a,t),m.mode&1&&NA(a,u,t),t=m,l=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}else{if(!(t&1)){NA(a,u,t),ob();break e}l=Error(B(426))}}else if(Xe&&s.mode&1){var b=OA(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),jA(b,o,s,a,t),Vw(yl(l,s));break e}}a=l=yl(l,s),At!==4&&(At=2),lc===null?lc=[a]:lc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=IO(a,l,t);AA(a,x);break e;case 1:s=l;var w=a.type,E=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&($a===null||!$a.has(E)))){a.flags|=65536,t&=-t,a.lanes|=t;var P=kO(a,s,t);AA(a,P);break e}}a=a.return}while(a!==null)}QO(r)}catch(C){t=C,xt===r&&r!==null&&(xt=r=r.return);continue}break}while(!0)}function WO(){var e=Uh.current;return Uh.current=Fh,e===null?Fh:e}function ob(){(At===0||At===3||At===2)&&(At=4),jt===null||!(Ko&268435455)&&!(sm&268435455)||_a(jt,Wt)}function Kh(e,t){var r=Ae;Ae|=2;var n=WO();(jt!==e||Wt!==t)&&(Ei=null,Lo(e,t));do try{Sz();break}catch(i){KO(e,i)}while(!0);if(Uw(),Ae=r,Uh.current=n,xt!==null)throw Error(B(261));return jt=null,Wt=0,At}function Sz(){for(;xt!==null;)HO(xt)}function Pz(){for(;xt!==null&&!J3();)HO(xt)}function HO(e){var t=YO(e.alternate,e,Ur);e.memoizedProps=e.pendingProps,t===null?QO(e):xt=t,tb.current=null}function QO(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=wz(r,t),r!==null){r.flags&=32767,xt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{At=6,xt=null;return}}else if(r=xz(r,t,Ur),r!==null){xt=r;return}if(t=t.sibling,t!==null){xt=t;return}xt=t=e}while(t!==null);At===0&&(At=5)}function wo(e,t,r){var n=Oe,i=gn.transition;try{gn.transition=null,Oe=1,Iz(e,t,r,n)}finally{gn.transition=i,Oe=n}return null}function Iz(e,t,r,n){do tl();while(Na!==null);if(Ae&6)throw Error(B(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(l5(e,a),e===jt&&(xt=jt=null,Wt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Nf||(Nf=!0,XO(Sh,function(){return tl(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=gn.transition,gn.transition=null;var o=Oe;Oe=1;var s=Ae;Ae|=4,tb.current=null,_z(e,r),UO(r,e),Q5(h0),Ih=!!f0,h0=f0=null,e.current=r,Ez(r),Z3(),Ae=s,Oe=o,gn.transition=a}else e.current=r;if(Nf&&(Nf=!1,Na=e,qh=i),a=e.pendingLanes,a===0&&($a=null),r5(r.stateNode),Dr(e,pt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Bh)throw Bh=!1,e=j0,j0=null,e;return qh&1&&e.tag!==0&&tl(),a=e.pendingLanes,a&1?e===R0?uc++:(uc=0,R0=e):uc=0,ao(),null}function tl(){if(Na!==null){var e=IN(qh),t=gn.transition,r=Oe;try{if(gn.transition=null,Oe=16>e?16:e,Na===null)var n=!1;else{if(e=Na,Na=null,qh=0,Ae&6)throw Error(B(331));var i=Ae;for(Ae|=4,X=e.current;X!==null;){var a=X,o=a.child;if(X.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(X=u;X!==null;){var c=X;switch(c.tag){case 0:case 11:case 15:sc(8,c,a)}var d=c.child;if(d!==null)d.return=c,X=d;else for(;X!==null;){c=X;var p=c.sibling,m=c.return;if(zO(c),c===u){X=null;break}if(p!==null){p.return=m,X=p;break}X=m}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}X=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,X=o;else e:for(;X!==null;){if(a=X,a.flags&2048)switch(a.tag){case 0:case 11:case 15:sc(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,X=x;break e}X=a.return}}var w=e.current;for(X=w;X!==null;){o=X;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,X=E;else e:for(o=w;X!==null;){if(s=X,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:om(9,s)}}catch(C){ct(s,s.return,C)}if(s===o){X=null;break e}var P=s.sibling;if(P!==null){P.return=s.return,X=P;break e}X=s.return}}if(Ae=i,ao(),ti&&typeof ti.onPostCommitFiberRoot=="function")try{ti.onPostCommitFiberRoot(Jp,e)}catch{}n=!0}return n}finally{Oe=r,gn.transition=t}}return!1}function WA(e,t,r){t=yl(r,t),t=IO(e,t,1),e=La(e,t,1),t=_r(),e!==null&&(dd(e,1,t),Dr(e,t))}function ct(e,t,r){if(e.tag===3)WA(e,e,r);else for(;t!==null;){if(t.tag===3){WA(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&($a===null||!$a.has(n))){e=yl(r,e),e=kO(t,e,1),t=La(t,e,1),e=_r(),t!==null&&(dd(t,1,e),Dr(t,e));break}}t=t.return}}function kz(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_r(),e.pingedLanes|=e.suspendedLanes&r,jt===e&&(Wt&r)===r&&(At===4||At===3&&(Wt&130023424)===Wt&&500>pt()-nb?Lo(e,0):rb|=r),Dr(e,t)}function GO(e,t){t===0&&(e.mode&1?(t=bf,bf<<=1,!(bf&130023424)&&(bf=4194304)):t=1);var r=_r();e=Bi(e,t),e!==null&&(dd(e,t,r),Dr(e,r))}function Cz(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),GO(e,r)}function Nz(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(B(314))}n!==null&&n.delete(t),GO(e,r)}var YO;YO=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||jr.current)Nr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Nr=!1,yz(e,t,r);Nr=!!(e.flags&131072)}else Nr=!1,Xe&&t.flags&1048576&&eO(t,Dh,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;sh(e,t),e=t.pendingProps;var i=pl(t,fr.current);el(t,r),i=Yw(null,t,n,e,i,r);var a=Xw();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rr(n)?(a=!0,jh(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Kw(t),i.updater=am,t.stateNode=i,i._reactInternals=t,_0(t,n,e,r),t=A0(null,t,n,!0,a,r)):(t.tag=0,Xe&&a&&$w(t),vr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(sh(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=jz(n),e=Cn(n,e),i){case 0:t=T0(null,t,n,e,r);break e;case 1:t=MA(null,t,n,e,r);break e;case 11:t=RA(null,t,n,e,r);break e;case 14:t=DA(null,t,n,Cn(n.type,e),r);break e}throw Error(B(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Cn(n,i),T0(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Cn(n,i),MA(e,t,n,i,r);case 3:e:{if(jO(t),e===null)throw Error(B(387));n=t.pendingProps,a=t.memoizedState,i=a.element,oO(e,t),$h(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=yl(Error(B(423)),t),t=LA(e,t,n,r,i);break e}else if(n!==i){i=yl(Error(B(424)),t),t=LA(e,t,n,r,i);break e}else for(Hr=Ma(t.stateNode.containerInfo.firstChild),Gr=t,Xe=!0,On=null,r=iO(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ml(),n===i){t=qi(e,t,r);break e}vr(e,t,n,r)}t=t.child}return t;case 5:return sO(t),e===null&&x0(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,p0(n,i)?o=null:a!==null&&p0(n,a)&&(t.flags|=32),OO(e,t),vr(e,t,o,r),t.child;case 6:return e===null&&x0(t),null;case 13:return RO(e,t,r);case 4:return Ww(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=gl(t,null,n,r):vr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Cn(n,i),RA(e,t,n,i,r);case 7:return vr(e,t,t.pendingProps,r),t.child;case 8:return vr(e,t,t.pendingProps.children,r),t.child;case 12:return vr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Be(Mh,n._currentValue),n._currentValue=o,a!==null)if(zn(a.value,o)){if(a.children===i.children&&!jr.current){t=qi(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Ri(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),w0(a.return,r,t),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(B(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),w0(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}vr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,el(t,r),i=xn(i),n=n(i),t.flags|=1,vr(e,t,n,r),t.child;case 14:return n=t.type,i=Cn(n,t.pendingProps),i=Cn(n.type,i),DA(e,t,n,i,r);case 15:return CO(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Cn(n,i),sh(e,t),t.tag=1,Rr(n)?(e=!0,jh(t)):e=!1,el(t,r),PO(t,n,i),_0(t,n,i,r),A0(null,t,n,!0,e,r);case 19:return DO(e,t,r);case 22:return NO(e,t,r)}throw Error(B(156,t.tag))};function XO(e,t){return TN(e,t)}function Oz(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,t,r,n){return new Oz(e,t,r,n)}function sb(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jz(e){if(typeof e=="function")return sb(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sw)return 11;if(e===Pw)return 14}return 2}function Va(e,t){var r=e.alternate;return r===null?(r=pn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ch(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")sb(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ds:return $o(r.children,i,a,t);case Aw:o=8,i|=8;break;case Wy:return e=pn(12,r,t,i|2),e.elementType=Wy,e.lanes=a,e;case Hy:return e=pn(13,r,t,i),e.elementType=Hy,e.lanes=a,e;case Qy:return e=pn(19,r,t,i),e.elementType=Qy,e.lanes=a,e;case sN:return lm(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case aN:o=10;break e;case oN:o=9;break e;case Sw:o=11;break e;case Pw:o=14;break e;case ya:o=16,n=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=pn(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function $o(e,t,r,n){return e=pn(7,e,n,t),e.lanes=r,e}function lm(e,t,r,n){return e=pn(22,e,n,t),e.elementType=sN,e.lanes=r,e.stateNode={isHidden:!1},e}function Yv(e,t,r){return e=pn(6,e,null,t),e.lanes=r,e}function Xv(e,t,r){return t=pn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rz(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nv(0),this.expirationTimes=Nv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nv(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lb(e,t,r,n,i,a,o,s,l){return e=new Rz(e,t,r,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=pn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kw(a),e}function Dz(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function JO(e){if(!e)return Qa;e=e._reactInternals;e:{if(ds(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var r=e.type;if(Rr(r))return JN(e,r,t)}return t}function ZO(e,t,r,n,i,a,o,s,l){return e=lb(r,n,!0,e,i,a,o,s,l),e.context=JO(null),r=e.current,n=_r(),i=za(r),a=Ri(n,i),a.callback=t??null,La(r,a,i),e.current.lanes=i,dd(e,i,n),Dr(e,n),e}function um(e,t,r,n){var i=t.current,a=_r(),o=za(i);return r=JO(r),t.context===null?t.context=r:t.pendingContext=r,t=Ri(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=La(i,t,o),e!==null&&($n(e,i,o,a),ih(e,i,o)),o}function Wh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function HA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ub(e,t){HA(e,t),(e=e.alternate)&&HA(e,t)}function Mz(){return null}var ej=typeof reportError=="function"?reportError:function(e){console.error(e)};function cb(e){this._internalRoot=e}cm.prototype.render=cb.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));um(e,t,null,null)};cm.prototype.unmount=cb.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wo(function(){um(null,e,null,null)}),t[Ui]=null}};function cm(e){this._internalRoot=e}cm.prototype.unstable_scheduleHydration=function(e){if(e){var t=NN();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ba.length&&t!==0&&t<ba[r].priority;r++);ba.splice(r,0,e),r===0&&jN(e)}};function db(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function dm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function QA(){}function Lz(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Wh(o);a.call(u)}}var o=ZO(t,n,e,0,null,!1,!1,"",QA);return e._reactRootContainer=o,e[Ui]=o.current,Ic(e.nodeType===8?e.parentNode:e),Wo(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=Wh(l);s.call(u)}}var l=lb(e,0,!1,null,null,!1,!1,"",QA);return e._reactRootContainer=l,e[Ui]=l.current,Ic(e.nodeType===8?e.parentNode:e),Wo(function(){um(t,l,r,n)}),l}function fm(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Wh(o);s.call(l)}}um(t,o,e,i)}else o=Lz(r,t,e,i,n);return Wh(o)}kN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ku(t.pendingLanes);r!==0&&(Cw(t,r|1),Dr(t,pt()),!(Ae&6)&&(xl=pt()+500,ao()))}break;case 13:Wo(function(){var n=Bi(e,1);if(n!==null){var i=_r();$n(n,e,1,i)}}),ub(e,1)}};Nw=function(e){if(e.tag===13){var t=Bi(e,134217728);if(t!==null){var r=_r();$n(t,e,134217728,r)}ub(e,134217728)}};CN=function(e){if(e.tag===13){var t=za(e),r=Bi(e,t);if(r!==null){var n=_r();$n(r,e,t,n)}ub(e,t)}};NN=function(){return Oe};ON=function(e,t){var r=Oe;try{return Oe=e,t()}finally{Oe=r}};i0=function(e,t,r){switch(t){case"input":if(Xy(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=rm(n);if(!i)throw Error(B(90));uN(n),Xy(n,i)}}}break;case"textarea":dN(e,r);break;case"select":t=r.value,t!=null&&Ys(e,!!r.multiple,t,!1)}};yN=ib;xN=Wo;var $z={usingClientEntryPoint:!1,Events:[hd,zs,rm,gN,vN,ib]},Ou={findFiberByHostInstance:So,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zz={bundleType:Ou.bundleType,version:Ou.version,rendererPackageName:Ou.rendererPackageName,rendererConfig:Ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:na.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_N(e),e===null?null:e.stateNode},findFiberByHostInstance:Ou.findFiberByHostInstance||Mz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Of.isDisabled&&Of.supportsFiber)try{Jp=Of.inject(zz),ti=Of}catch{}}nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$z;nn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!db(t))throw Error(B(200));return Dz(e,t,null,r)};nn.createRoot=function(e,t){if(!db(e))throw Error(B(299));var r=!1,n="",i=ej;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=lb(e,1,!1,null,null,r,!1,n,i),e[Ui]=t.current,Ic(e.nodeType===8?e.parentNode:e),new cb(t)};nn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=_N(t),e=e===null?null:e.stateNode,e};nn.flushSync=function(e){return Wo(e)};nn.hydrate=function(e,t,r){if(!dm(t))throw Error(B(200));return fm(null,e,t,!0,r)};nn.hydrateRoot=function(e,t,r){if(!db(e))throw Error(B(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=ej;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=ZO(t,null,e,1,r??null,i,!1,a,o),e[Ui]=t.current,Ic(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new cm(t)};nn.render=function(e,t,r){if(!dm(t))throw Error(B(200));return fm(null,e,t,!1,r)};nn.unmountComponentAtNode=function(e){if(!dm(e))throw Error(B(40));return e._reactRootContainer?(Wo(function(){fm(null,null,e,!1,function(){e._reactRootContainer=null,e[Ui]=null})}),!0):!1};nn.unstable_batchedUpdates=ib;nn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!dm(r))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return fm(e,t,r,!1,n)};nn.version="18.3.1-next-f1338f8080-20240426";function tj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tj)}catch(e){console.error(e)}}tj(),tN.exports=nn;var hm=tN.exports,rj,GA=hm;rj=GA.createRoot,GA.hydrateRoot;const Vz="modulepreload",Fz=function(e){return"/"+e},YA={},pr=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=Fz(l),l in YA)return;YA[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Vz,u||(d.as="script"),d.crossOrigin="",d.href=l,s&&d.setAttribute("nonce",s),document.head.appendChild(d),u)return new Promise((p,m)=>{d.addEventListener("load",p),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})};var fb={};Object.defineProperty(fb,"__esModule",{value:!0});fb.parse=Qz;fb.serialize=Gz;const Uz=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Bz=/^[\u0021-\u003A\u003C-\u007E]*$/,qz=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Kz=/^[\u0020-\u003A\u003D-\u007E]*$/,Wz=Object.prototype.toString,Hz=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function Qz(e,t){const r=new Hz,n=e.length;if(n<2)return r;const i=(t==null?void 0:t.decode)||Yz;let a=0;do{const o=e.indexOf("=",a);if(o===-1)break;const s=e.indexOf(";",a),l=s===-1?n:s;if(o>l){a=e.lastIndexOf(";",o-1)+1;continue}const u=XA(e,a,o),c=JA(e,o,u),d=e.slice(u,c);if(r[d]===void 0){let p=XA(e,o+1,l),m=JA(e,l,p);const g=i(e.slice(p,m));r[d]=g}a=l+1}while(a<n);return r}function XA(e,t,r){do{const n=e.charCodeAt(t);if(n!==32&&n!==9)return t}while(++t<r);return r}function JA(e,t,r){for(;t>r;){const n=e.charCodeAt(--t);if(n!==32&&n!==9)return t+1}return r}function Gz(e,t,r){const n=(r==null?void 0:r.encode)||encodeURIComponent;if(!Uz.test(e))throw new TypeError(`argument name is invalid: ${e}`);const i=n(t);if(!Bz.test(i))throw new TypeError(`argument val is invalid: ${t}`);let a=e+"="+i;if(!r)return a;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);a+="; Max-Age="+r.maxAge}if(r.domain){if(!qz.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);a+="; Domain="+r.domain}if(r.path){if(!Kz.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);a+="; Path="+r.path}if(r.expires){if(!Xz(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);a+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.partitioned&&(a+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return a}function Yz(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function Xz(e){return Wz.call(e)==="[object Date]"}var ZA="popstate";function Jz(e={}){function t(n,i){let{pathname:a,search:o,hash:s}=n.location;return L0("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Lc(i)}return eV(t,r,null,e)}function Ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Zz(){return Math.random().toString(36).substring(2,10)}function eS(e,t){return{usr:e.state,key:e.key,idx:t}}function L0(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Kl(t):t,state:r,key:t&&t.key||n||Zz()}}function Lc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Kl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function eV(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function d(){s="POP";let b=c(),x=b==null?null:b-u;u=b,l&&l({action:s,location:y.location,delta:x})}function p(b,x){s="PUSH";let w=L0(y.location,b,x);u=c()+1;let E=eS(w,u),P=y.createHref(w);try{o.pushState(E,"",P)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(P)}a&&l&&l({action:s,location:y.location,delta:1})}function m(b,x){s="REPLACE";let w=L0(y.location,b,x);u=c();let E=eS(w,u),P=y.createHref(w);o.replaceState(E,"",P),a&&l&&l({action:s,location:y.location,delta:0})}function g(b){return tV(b)}let y={get action(){return s},get location(){return e(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ZA,d),l=b,()=>{i.removeEventListener(ZA,d),l=null}},createHref(b){return t(i,b)},createURL:g,encodeLocation(b){let x=g(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(b){return o.go(b)}};return y}function tV(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Lc(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function nj(e,t,r="/"){return rV(e,t,r,!1)}function rV(e,t,r,n){let i=typeof t=="string"?Kl(t):t,a=Ki(i.pathname||"/",r);if(a==null)return null;let o=ij(e);nV(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=pV(a);s=fV(o[l],u,n)}return s}function ij(e,t=[],r=[],n=""){let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Ze(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let u=Di([n,l.relativePath]),c=r.concat(l);a.children&&a.children.length>0&&(Ze(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),ij(a.children,t,c,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:cV(u,a.index),routesMeta:c})};return e.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of aj(a.path))i(a,o,l)}),t}function aj(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=aj(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function nV(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:dV(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var iV=/^:[\w-]+$/,aV=3,oV=2,sV=1,lV=10,uV=-2,tS=e=>e==="*";function cV(e,t){let r=e.split("/"),n=r.length;return r.some(tS)&&(n+=uV),t&&(n+=oV),r.filter(i=>!tS(i)).reduce((i,a)=>i+(iV.test(a)?aV:a===""?sV:lV),n)}function dV(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function fV(e,t,r=!1){let{routesMeta:n}=e,i={},a="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],u=s===n.length-1,c=a==="/"?t:t.slice(a.length)||"/",d=Hh({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),p=l.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=Hh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Di([a,d.pathname]),pathnameBase:yV(Di([a,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(a=Di([a,d.pathnameBase]))}return o}function Hh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=hV(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((u,{paramName:c,isOptional:d},p)=>{if(c==="*"){let g=s[p]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=s[p];return d&&!m?u[c]=void 0:u[c]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function hV(e,t=!1,r=!0){Vn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function pV(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ki(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function mV(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Kl(e):e;return{pathname:r?r.startsWith("/")?r:gV(r,t):t,search:xV(n),hash:wV(i)}}function gV(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Jv(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vV(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function hb(e){let t=vV(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function pb(e,t,r,n=!1){let i;typeof e=="string"?i=Kl(e):(i={...e},Ze(!i.pathname||!i.pathname.includes("?"),Jv("?","pathname","search",i)),Ze(!i.pathname||!i.pathname.includes("#"),Jv("#","pathname","hash",i)),Ze(!i.search||!i.search.includes("#"),Jv("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}s=d>=0?t[d]:"/"}let l=mV(i,s),u=o&&o!=="/"&&o.endsWith("/"),c=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Di=e=>e.join("/").replace(/\/\/+/g,"/"),yV=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wV=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function bV(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var oj=["POST","PUT","PATCH","DELETE"];new Set(oj);var _V=["GET",...oj];new Set(_V);var Wl=v.createContext(null);Wl.displayName="DataRouter";var pm=v.createContext(null);pm.displayName="DataRouterState";var sj=v.createContext({isTransitioning:!1});sj.displayName="ViewTransition";var EV=v.createContext(new Map);EV.displayName="Fetchers";var TV=v.createContext(null);TV.displayName="Await";var qn=v.createContext(null);qn.displayName="Navigation";var md=v.createContext(null);md.displayName="Location";var Kn=v.createContext({outlet:null,matches:[],isDataRoute:!1});Kn.displayName="Route";var mb=v.createContext(null);mb.displayName="RouteError";function AV(e,{relative:t}={}){Ze(Hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=v.useContext(qn),{hash:i,pathname:a,search:o}=gd(e,{relative:t}),s=a;return r!=="/"&&(s=a==="/"?r:Di([r,a])),n.createHref({pathname:s,search:o,hash:i})}function Hl(){return v.useContext(md)!=null}function ia(){return Ze(Hl(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(md).location}var lj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uj(e){v.useContext(qn).static||v.useLayoutEffect(e)}function mm(){let{isDataRoute:e}=v.useContext(Kn);return e?$V():SV()}function SV(){Ze(Hl(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Wl),{basename:t,navigator:r}=v.useContext(qn),{matches:n}=v.useContext(Kn),{pathname:i}=ia(),a=JSON.stringify(hb(n)),o=v.useRef(!1);return uj(()=>{o.current=!0}),v.useCallback((l,u={})=>{if(Vn(o.current,lj),!o.current)return;if(typeof l=="number"){r.go(l);return}let c=pb(l,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Di([t,c.pathname])),(u.replace?r.replace:r.push)(c,u.state,u)},[t,r,a,i,e])}v.createContext(null);function pfe(){let{matches:e}=v.useContext(Kn),t=e[e.length-1];return t?t.params:{}}function gd(e,{relative:t}={}){let{matches:r}=v.useContext(Kn),{pathname:n}=ia(),i=JSON.stringify(hb(r));return v.useMemo(()=>pb(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function PV(e,t){return cj(e,t)}function cj(e,t,r,n){var x;Ze(Hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=v.useContext(qn),{matches:a}=v.useContext(Kn),o=a[a.length-1],s=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",c=o&&o.route;{let w=c&&c.path||"";dj(l,!c||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let d=ia(),p;if(t){let w=typeof t=="string"?Kl(t):t;Ze(u==="/"||((x=w.pathname)==null?void 0:x.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${w.pathname}" was given in the \`location\` prop.`),p=w}else p=d;let m=p.pathname||"/",g=m;if(u!=="/"){let w=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=nj(e,{pathname:g});Vn(c||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Vn(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=OV(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},s,w.params),pathname:Di([u,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:Di([u,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,r,n);return t&&b?v.createElement(md.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},b):b}function IV(){let e=LV(),t=bV(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=v.createElement(v.Fragment,null,v.createElement("p",null,"💿 Hey developer 👋"),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:a},"ErrorBoundary")," or"," ",v.createElement("code",{style:a},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:i},r):null,o)}var kV=v.createElement(IV,null),CV=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?v.createElement(Kn.Provider,{value:this.props.routeContext},v.createElement(mb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NV({routeContext:e,match:t,children:r}){let n=v.useContext(Wl);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(Kn.Provider,{value:e},r)}function OV(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=r==null?void 0:r.errors;if(a!=null){let l=i.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);Ze(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,s=-1;if(r)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(s=l),u.route.id){let{loaderData:c,errors:d}=r,p=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||p){o=!0,s>=0?i=i.slice(0,s+1):i=[i[0]];break}}}return i.reduceRight((l,u,c)=>{let d,p=!1,m=null,g=null;r&&(d=a&&u.route.id?a[u.route.id]:void 0,m=u.route.errorElement||kV,o&&(s<0&&c===0?(dj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,g=null):s===c&&(p=!0,g=u.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,c+1)),b=()=>{let x;return d?x=m:p?x=g:u.route.Component?x=v.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=l,v.createElement(NV,{match:u,routeContext:{outlet:l,matches:y,isDataRoute:r!=null},children:x})};return r&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?v.createElement(CV,{location:r.location,revalidation:r.revalidation,component:m,error:d,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}function gb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jV(e){let t=v.useContext(Wl);return Ze(t,gb(e)),t}function RV(e){let t=v.useContext(pm);return Ze(t,gb(e)),t}function DV(e){let t=v.useContext(Kn);return Ze(t,gb(e)),t}function vb(e){let t=DV(e),r=t.matches[t.matches.length-1];return Ze(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function MV(){return vb("useRouteId")}function LV(){var n;let e=v.useContext(mb),t=RV("useRouteError"),r=vb("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function $V(){let{router:e}=jV("useNavigate"),t=vb("useNavigate"),r=v.useRef(!1);return uj(()=>{r.current=!0}),v.useCallback(async(i,a={})=>{Vn(r.current,lj),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var rS={};function dj(e,t,r){!t&&!rS[e]&&(rS[e]=!0,Vn(!1,r))}v.memo(zV);function zV({routes:e,future:t,state:r}){return cj(e,void 0,r,t)}function Qh({to:e,replace:t,state:r,relative:n}){Ze(Hl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=v.useContext(qn);Vn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=v.useContext(Kn),{pathname:o}=ia(),s=mm(),l=pb(e,hb(a),o,n==="path"),u=JSON.stringify(l);return v.useEffect(()=>{s(JSON.parse(u),{replace:t,state:r,relative:n})},[s,u,n,t,r]),null}function Te(e){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VV({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){Ze(!Hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),s=v.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof r=="string"&&(r=Kl(r));let{pathname:l="/",search:u="",hash:c="",state:d=null,key:p="default"}=r,m=v.useMemo(()=>{let g=Ki(l,o);return g==null?null:{location:{pathname:g,search:u,hash:c,state:d,key:p},navigationType:n}},[o,l,u,c,d,p,n]);return Vn(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:v.createElement(qn.Provider,{value:s},v.createElement(md.Provider,{children:t,value:m}))}function FV({children:e,location:t}){return PV($0(e),t)}function $0(e,t=[]){let r=[];return v.Children.forEach(e,(n,i)=>{if(!v.isValidElement(n))return;let a=[...t,i];if(n.type===v.Fragment){r.push.apply(r,$0(n.props.children,a));return}Ze(n.type===Te,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=$0(n.props.children,a)),r.push(o)}),r}var dh="get",fh="application/x-www-form-urlencoded";function gm(e){return e!=null&&typeof e.tagName=="string"}function UV(e){return gm(e)&&e.tagName.toLowerCase()==="button"}function BV(e){return gm(e)&&e.tagName.toLowerCase()==="form"}function qV(e){return gm(e)&&e.tagName.toLowerCase()==="input"}function KV(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function WV(e,t){return e.button===0&&(!t||t==="_self")&&!KV(e)}var jf=null;function HV(){if(jf===null)try{new FormData(document.createElement("form"),0),jf=!1}catch{jf=!0}return jf}var QV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zv(e){return e!=null&&!QV.has(e)?(Vn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):e}function GV(e,t){let r,n,i,a,o;if(BV(e)){let s=e.getAttribute("action");n=s?Ki(s,t):null,r=e.getAttribute("method")||dh,i=Zv(e.getAttribute("enctype"))||fh,a=new FormData(e)}else if(UV(e)||qV(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||s.getAttribute("action");if(n=l?Ki(l,t):null,r=e.getAttribute("formmethod")||s.getAttribute("method")||dh,i=Zv(e.getAttribute("formenctype"))||Zv(s.getAttribute("enctype"))||fh,a=new FormData(s,e),!HV()){let{name:u,type:c,value:d}=e;if(c==="image"){let p=u?`${u}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else u&&a.append(u,d)}}else{if(gm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=dh,n=null,i=fh,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:o}}function yb(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function YV(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XV(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function JV(e,t,r){let n=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await YV(a,r);return o.links?o.links():[]}return[]}));return rF(n.flat(1).filter(XV).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function nS(e,t,r,n,i,a){let o=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,s=(l,u)=>{var c;return r[u].pathname!==l.pathname||((c=r[u].route.path)==null?void 0:c.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return a==="assets"?t.filter((l,u)=>o(l,u)||s(l,u)):a==="data"?t.filter((l,u)=>{var d;let c=n.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||s(l,u))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=r[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function ZV(e,t,{includeHydrateFallback:r}={}){return eF(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function eF(e){return[...new Set(e)]}function tF(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function rF(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let a=JSON.stringify(tF(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var nF=new Set([100,101,204,205]);function iF(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&Ki(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function fj(){let e=v.useContext(Wl);return yb(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function aF(){let e=v.useContext(pm);return yb(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var xb=v.createContext(void 0);xb.displayName="FrameworkContext";function hj(){let e=v.useContext(xb);return yb(e,"You must render this element inside a <HydratedRouter> element"),e}function oF(e,t){let r=v.useContext(xb),[n,i]=v.useState(!1),[a,o]=v.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=t,p=v.useRef(null);v.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=x=>{x.forEach(w=>{o(w.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[e]),v.useEffect(()=>{if(n){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[n]);let m=()=>{i(!0)},g=()=>{i(!1),o(!1)};return r?e!=="intent"?[a,p,{}]:[a,p,{onFocus:ju(s,m),onBlur:ju(l,g),onMouseEnter:ju(u,m),onMouseLeave:ju(c,g),onTouchStart:ju(d,m)}]:[!1,p,{}]}function ju(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function sF({page:e,...t}){let{router:r}=fj(),n=v.useMemo(()=>nj(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?v.createElement(uF,{page:e,matches:n,...t}):null}function lF(e){let{manifest:t,routeModules:r}=hj(),[n,i]=v.useState([]);return v.useEffect(()=>{let a=!1;return JV(e,t,r).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,r]),n}function uF({page:e,matches:t,...r}){let n=ia(),{manifest:i,routeModules:a}=hj(),{basename:o}=fj(),{loaderData:s,matches:l}=aF(),u=v.useMemo(()=>nS(e,t,l,i,n,"data"),[e,t,l,i,n]),c=v.useMemo(()=>nS(e,t,l,i,n,"assets"),[e,t,l,i,n]),d=v.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let g=new Set,y=!1;if(t.forEach(x=>{var E;let w=i.routes[x.route.id];!w||!w.hasLoader||(!u.some(P=>P.route.id===x.route.id)&&x.route.id in s&&((E=a[x.route.id])!=null&&E.shouldRevalidate)||w.hasClientLoader?y=!0:g.add(x.route.id))}),g.size===0)return[];let b=iF(e,o);return y&&g.size>0&&b.searchParams.set("_routes",t.filter(x=>g.has(x.route.id)).map(x=>x.route.id).join(",")),[b.pathname+b.search]},[o,s,n,i,u,t,e,a]),p=v.useMemo(()=>ZV(c,i),[c,i]),m=lF(c);return v.createElement(v.Fragment,null,d.map(g=>v.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),p.map(g=>v.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),m.map(({key:g,link:y})=>v.createElement("link",{key:g,...y})))}function cF(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var pj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pj&&(window.__reactRouterVersion="7.6.3")}catch{}function dF({basename:e,children:t,window:r}){let n=v.useRef();n.current==null&&(n.current=Jz({window:r,v5Compat:!0}));let i=n.current,[a,o]=v.useState({action:i.action,location:i.location}),s=v.useCallback(l=>{v.startTransition(()=>o(l))},[o]);return v.useLayoutEffect(()=>i.listen(s),[i,s]),v.createElement(VV,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var mj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=v.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:o,state:s,target:l,to:u,preventScrollReset:c,viewTransition:d,...p},m){let{basename:g}=v.useContext(qn),y=typeof u=="string"&&mj.test(u),b,x=!1;if(typeof u=="string"&&y&&(b=u,pj))try{let I=new URL(window.location.href),N=u.startsWith("//")?new URL(I.protocol+u):new URL(u),R=Ki(N.pathname,g);N.origin===I.origin&&R!=null?u=R+N.search+N.hash:x=!0}catch{Vn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=AV(u,{relative:i}),[E,P,C]=oF(n,p),j=mF(u,{replace:o,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:d});function A(I){t&&t(I),I.defaultPrevented||j(I)}let S=v.createElement("a",{...p,...C,href:b||w,onClick:x||a?t:A,ref:cF(m,P),target:l,"data-discover":!y&&r==="render"?"true":void 0});return E&&!y?v.createElement(v.Fragment,null,S,v.createElement(sF,{page:w})):S});Ie.displayName="Link";var fF=v.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:o,viewTransition:s,children:l,...u},c){let d=gd(o,{relative:u.relative}),p=ia(),m=v.useContext(pm),{navigator:g,basename:y}=v.useContext(qn),b=m!=null&&wF(d)&&s===!0,x=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,w=p.pathname,E=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(w=w.toLowerCase(),E=E?E.toLowerCase():null,x=x.toLowerCase()),E&&y&&(E=Ki(E,y)||E);const P=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let C=w===x||!i&&w.startsWith(x)&&w.charAt(P)==="/",j=E!=null&&(E===x||!i&&E.startsWith(x)&&E.charAt(x.length)==="/"),A={isActive:C,isPending:j,isTransitioning:b},S=C?t:void 0,I;typeof n=="function"?I=n(A):I=[n,C?"active":null,j?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(A):a;return v.createElement(Ie,{...u,"aria-current":S,className:I,ref:c,style:N,to:o,viewTransition:s},typeof l=="function"?l(A):l)});fF.displayName="NavLink";var hF=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:a,method:o=dh,action:s,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,...p},m)=>{let g=yF(),y=xF(s,{relative:u}),b=o.toLowerCase()==="get"?"get":"post",x=typeof s=="string"&&mj.test(s),w=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let P=E.nativeEvent.submitter,C=(P==null?void 0:P.getAttribute("formmethod"))||o;g(P||E.currentTarget,{fetcherKey:t,method:C,navigate:r,replace:i,state:a,relative:u,preventScrollReset:c,viewTransition:d})};return v.createElement("form",{ref:m,method:b,action:y,onSubmit:n?l:w,...p,"data-discover":!x&&e==="render"?"true":void 0})});hF.displayName="Form";function pF(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gj(e){let t=v.useContext(Wl);return Ze(t,pF(e)),t}function mF(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:o}={}){let s=mm(),l=ia(),u=gd(e,{relative:a});return v.useCallback(c=>{if(WV(c,t)){c.preventDefault();let d=r!==void 0?r:Lc(l)===Lc(u);s(e,{replace:d,state:n,preventScrollReset:i,relative:a,viewTransition:o})}},[l,s,u,r,n,t,e,i,a,o])}var gF=0,vF=()=>`__${String(++gF)}__`;function yF(){let{router:e}=gj("useSubmit"),{basename:t}=v.useContext(qn),r=MV();return v.useCallback(async(n,i={})=>{let{action:a,method:o,encType:s,formData:l,body:u}=GV(n,t);if(i.navigate===!1){let c=i.fetcherKey||vF();await e.fetch(c,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function xF(e,{relative:t}={}){let{basename:r}=v.useContext(qn),n=v.useContext(Kn);Ze(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...gd(e||".",{relative:t})},o=ia();if(e==null){a.search=o.search;let s=new URLSearchParams(a.search),l=s.getAll("index");if(l.some(c=>c==="")){s.delete("index"),l.filter(d=>d).forEach(d=>s.append("index",d));let c=s.toString();a.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Di([r,a.pathname])),Lc(a)}function wF(e,t={}){let r=v.useContext(sj);Ze(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=gj("useViewTransitionState"),i=gd(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=Ki(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Ki(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Hh(i.pathname,o)!=null||Hh(i.pathname,a)!=null}[...nF];var vj={exports:{}},yj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wl=v;function bF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _F=typeof Object.is=="function"?Object.is:bF,EF=wl.useState,TF=wl.useEffect,AF=wl.useLayoutEffect,SF=wl.useDebugValue;function PF(e,t){var r=t(),n=EF({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return AF(function(){i.value=r,i.getSnapshot=t,ey(i)&&a({inst:i})},[e,r,t]),TF(function(){return ey(i)&&a({inst:i}),e(function(){ey(i)&&a({inst:i})})},[e]),SF(r),r}function ey(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_F(e,r)}catch{return!0}}function IF(e,t){return t()}var kF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?IF:PF;yj.useSyncExternalStore=wl.useSyncExternalStore!==void 0?wl.useSyncExternalStore:kF;vj.exports=yj;var CF=vj.exports,xj={exports:{}},wj={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm=v,NF=CF;function OF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jF=typeof Object.is=="function"?Object.is:OF,RF=NF.useSyncExternalStore,DF=vm.useRef,MF=vm.useEffect,LF=vm.useMemo,$F=vm.useDebugValue;wj.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=DF(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=LF(function(){function l(m){if(!u){if(u=!0,c=m,m=n(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return d=g}return d=m}if(g=d,jF(c,m))return g;var y=n(m);return i!==void 0&&i(g,y)?(c=m,g):(c=m,d=y)}var u=!1,c,d,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,i]);var s=RF(e,a[0],a[1]);return MF(function(){o.hasValue=!0,o.value=s},[s]),$F(s),s};xj.exports=wj;var bj=xj.exports;function zF(e){e()}let _j=zF;const VF=e=>_j=e,FF=()=>_j,iS=Symbol.for("react-redux-context"),aS=typeof globalThis<"u"?globalThis:{};function UF(){var e;if(!v.createContext)return{};const t=(e=aS[iS])!=null?e:aS[iS]=new Map;let r=t.get(v.createContext);return r||(r=v.createContext(null),t.set(v.createContext,r)),r}const Ga=UF();function wb(e=Ga){return function(){return v.useContext(e)}}const Ej=wb(),BF=()=>{throw new Error("uSES not initialized!")};let Tj=BF;const qF=e=>{Tj=e},KF=(e,t)=>e===t;function WF(e=Ga){const t=e===Ga?Ej:wb(e);return function(n,i={}){const{equalityFn:a=KF,stabilityCheck:o=void 0,noopCheck:s=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:u,getServerState:c,stabilityCheck:d,noopCheck:p}=t();v.useRef(!0);const m=v.useCallback({[n.name](y){return n(y)}}[n.name],[n,d,o]),g=Tj(u.addNestedSub,l.getState,c||l.getState,m,a);return v.useDebugValue(g),g}}const Jr=WF();var Aj={exports:{}},De={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rt=typeof Symbol=="function"&&Symbol.for,bb=Rt?Symbol.for("react.element"):60103,_b=Rt?Symbol.for("react.portal"):60106,ym=Rt?Symbol.for("react.fragment"):60107,xm=Rt?Symbol.for("react.strict_mode"):60108,wm=Rt?Symbol.for("react.profiler"):60114,bm=Rt?Symbol.for("react.provider"):60109,_m=Rt?Symbol.for("react.context"):60110,Eb=Rt?Symbol.for("react.async_mode"):60111,Em=Rt?Symbol.for("react.concurrent_mode"):60111,Tm=Rt?Symbol.for("react.forward_ref"):60112,Am=Rt?Symbol.for("react.suspense"):60113,HF=Rt?Symbol.for("react.suspense_list"):60120,Sm=Rt?Symbol.for("react.memo"):60115,Pm=Rt?Symbol.for("react.lazy"):60116,QF=Rt?Symbol.for("react.block"):60121,GF=Rt?Symbol.for("react.fundamental"):60117,YF=Rt?Symbol.for("react.responder"):60118,XF=Rt?Symbol.for("react.scope"):60119;function on(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case bb:switch(e=e.type,e){case Eb:case Em:case ym:case wm:case xm:case Am:return e;default:switch(e=e&&e.$$typeof,e){case _m:case Tm:case Pm:case Sm:case bm:return e;default:return t}}case _b:return t}}}function Sj(e){return on(e)===Em}De.AsyncMode=Eb;De.ConcurrentMode=Em;De.ContextConsumer=_m;De.ContextProvider=bm;De.Element=bb;De.ForwardRef=Tm;De.Fragment=ym;De.Lazy=Pm;De.Memo=Sm;De.Portal=_b;De.Profiler=wm;De.StrictMode=xm;De.Suspense=Am;De.isAsyncMode=function(e){return Sj(e)||on(e)===Eb};De.isConcurrentMode=Sj;De.isContextConsumer=function(e){return on(e)===_m};De.isContextProvider=function(e){return on(e)===bm};De.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===bb};De.isForwardRef=function(e){return on(e)===Tm};De.isFragment=function(e){return on(e)===ym};De.isLazy=function(e){return on(e)===Pm};De.isMemo=function(e){return on(e)===Sm};De.isPortal=function(e){return on(e)===_b};De.isProfiler=function(e){return on(e)===wm};De.isStrictMode=function(e){return on(e)===xm};De.isSuspense=function(e){return on(e)===Am};De.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ym||e===Em||e===wm||e===xm||e===Am||e===HF||typeof e=="object"&&e!==null&&(e.$$typeof===Pm||e.$$typeof===Sm||e.$$typeof===bm||e.$$typeof===_m||e.$$typeof===Tm||e.$$typeof===GF||e.$$typeof===YF||e.$$typeof===XF||e.$$typeof===QF)};De.typeOf=on;Aj.exports=De;var JF=Aj.exports,Pj=JF,ZF={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},e9={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ij={};Ij[Pj.ForwardRef]=ZF;Ij[Pj.Memo]=e9;var kj={exports:{}},Me={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb=Symbol.for("react.element"),Ab=Symbol.for("react.portal"),Im=Symbol.for("react.fragment"),km=Symbol.for("react.strict_mode"),Cm=Symbol.for("react.profiler"),Nm=Symbol.for("react.provider"),Om=Symbol.for("react.context"),t9=Symbol.for("react.server_context"),jm=Symbol.for("react.forward_ref"),Rm=Symbol.for("react.suspense"),Dm=Symbol.for("react.suspense_list"),Mm=Symbol.for("react.memo"),Lm=Symbol.for("react.lazy"),r9=Symbol.for("react.offscreen"),Cj;Cj=Symbol.for("react.module.reference");function En(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Tb:switch(e=e.type,e){case Im:case Cm:case km:case Rm:case Dm:return e;default:switch(e=e&&e.$$typeof,e){case t9:case Om:case jm:case Lm:case Mm:case Nm:return e;default:return t}}case Ab:return t}}}Me.ContextConsumer=Om;Me.ContextProvider=Nm;Me.Element=Tb;Me.ForwardRef=jm;Me.Fragment=Im;Me.Lazy=Lm;Me.Memo=Mm;Me.Portal=Ab;Me.Profiler=Cm;Me.StrictMode=km;Me.Suspense=Rm;Me.SuspenseList=Dm;Me.isAsyncMode=function(){return!1};Me.isConcurrentMode=function(){return!1};Me.isContextConsumer=function(e){return En(e)===Om};Me.isContextProvider=function(e){return En(e)===Nm};Me.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tb};Me.isForwardRef=function(e){return En(e)===jm};Me.isFragment=function(e){return En(e)===Im};Me.isLazy=function(e){return En(e)===Lm};Me.isMemo=function(e){return En(e)===Mm};Me.isPortal=function(e){return En(e)===Ab};Me.isProfiler=function(e){return En(e)===Cm};Me.isStrictMode=function(e){return En(e)===km};Me.isSuspense=function(e){return En(e)===Rm};Me.isSuspenseList=function(e){return En(e)===Dm};Me.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Im||e===Cm||e===km||e===Rm||e===Dm||e===r9||typeof e=="object"&&e!==null&&(e.$$typeof===Lm||e.$$typeof===Mm||e.$$typeof===Nm||e.$$typeof===Om||e.$$typeof===jm||e.$$typeof===Cj||e.getModuleId!==void 0)};Me.typeOf=En;kj.exports=Me;var n9=kj.exports;function i9(){const e=FF();let t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0,a=r={callback:n,next:null,prev:r};return a.prev?a.prev.next=a:t=a,function(){!i||t===null||(i=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}const oS={notify(){},get:()=>[]};function a9(e,t){let r,n=oS,i=0,a=!1;function o(y){c();const b=n.subscribe(y);let x=!1;return()=>{x||(x=!0,b(),d())}}function s(){n.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return a}function c(){i++,r||(r=e.subscribe(l),n=i9())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=oS)}function p(){a||(a=!0,c())}function m(){a&&(a=!1,d())}const g={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>n};return g}const o9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",s9=o9?v.useLayoutEffect:v.useEffect;function Sb({store:e,context:t,children:r,serverState:n,stabilityCheck:i="once",noopCheck:a="once"}){const o=v.useMemo(()=>{const u=a9(e);return{store:e,subscription:u,getServerState:n?()=>n:void 0,stabilityCheck:i,noopCheck:a}},[e,n,i,a]),s=v.useMemo(()=>e.getState(),[e]);s9(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,s]);const l=t||Ga;return v.createElement(l.Provider,{value:o},r)}function Nj(e=Ga){const t=e===Ga?Ej:wb(e);return function(){const{store:n}=t();return n}}const l9=Nj();function u9(e=Ga){const t=e===Ga?l9:Nj(e);return function(){return t().dispatch}}const $m=u9();qF(bj.useSyncExternalStoreWithSelector);VF(hm.unstable_batchedUpdates);function Rn(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ya(e){return!!e&&!!e[Ye]}function Wi(e){var t;return!!e&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===v9}(e)||Array.isArray(e)||!!e[hS]||!!(!((t=e.constructor)===null||t===void 0)&&t[hS])||Pb(e)||Ib(e))}function Ho(e,t,r){r===void 0&&(r=!1),Ql(e)===0?(r?Object.keys:nl)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,i){return t(i,n,e)})}function Ql(e){var t=e[Ye];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Pb(e)?2:Ib(e)?3:0}function rl(e,t){return Ql(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c9(e,t){return Ql(e)===2?e.get(t):e[t]}function Oj(e,t,r){var n=Ql(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function jj(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Pb(e){return m9&&e instanceof Map}function Ib(e){return g9&&e instanceof Set}function bo(e){return e.o||e.t}function kb(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Dj(e);delete t[Ye];for(var r=nl(t),n=0;n<r.length;n++){var i=r[n],a=t[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Cb(e,t){return t===void 0&&(t=!1),Nb(e)||Ya(e)||!Wi(e)||(Ql(e)>1&&(e.set=e.add=e.clear=e.delete=d9),Object.freeze(e),t&&Ho(e,function(r,n){return Cb(n,!0)},!0)),e}function d9(){Rn(2)}function Nb(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function ni(e){var t=U0[e];return t||Rn(18,e),t}function f9(e,t){U0[e]||(U0[e]=t)}function z0(){return $c}function ty(e,t){t&&(ni("Patches"),e.u=[],e.s=[],e.v=t)}function Gh(e){V0(e),e.p.forEach(h9),e.p=null}function V0(e){e===$c&&($c=e.l)}function sS(e){return $c={p:[],l:$c,h:e,m:!0,_:0}}function h9(e){var t=e[Ye];t.i===0||t.i===1?t.j():t.g=!0}function ry(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.O||ni("ES5").S(t,e,n),n?(r[Ye].P&&(Gh(t),Rn(4)),Wi(e)&&(e=Yh(t,e),t.l||Xh(t,e)),t.u&&ni("Patches").M(r[Ye].t,e,t.u,t.s)):e=Yh(t,r,[]),Gh(t),t.u&&t.v(t.u,t.s),e!==Rj?e:void 0}function Yh(e,t,r){if(Nb(t))return t;var n=t[Ye];if(!n)return Ho(t,function(s,l){return lS(e,n,t,s,l,r)},!0),t;if(n.A!==e)return t;if(!n.P)return Xh(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=kb(n.k):n.o,a=i,o=!1;n.i===3&&(a=new Set(i),i.clear(),o=!0),Ho(a,function(s,l){return lS(e,n,i,s,l,r,o)}),Xh(e,i,!1),r&&e.u&&ni("Patches").N(n,r,e.u,e.s)}return n.o}function lS(e,t,r,n,i,a,o){if(Ya(i)){var s=Yh(e,i,a&&t&&t.i!==3&&!rl(t.R,n)?a.concat(n):void 0);if(Oj(r,n,s),!Ya(s))return;e.m=!1}else o&&r.add(i);if(Wi(i)&&!Nb(i)){if(!e.h.D&&e._<1)return;Yh(e,i),t&&t.A.l||Xh(e,i)}}function Xh(e,t,r){r===void 0&&(r=!1),!e.l&&e.h.D&&e.m&&Cb(t,r)}function ny(e,t){var r=e[Ye];return(r?bo(r):e)[t]}function uS(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function Ea(e){e.P||(e.P=!0,e.l&&Ea(e.l))}function iy(e){e.o||(e.o=kb(e.t))}function F0(e,t,r){var n=Pb(t)?ni("MapSet").F(t,r):Ib(t)?ni("MapSet").T(t,r):e.O?function(i,a){var o=Array.isArray(i),s={i:o?1:0,A:a?a.A:z0(),P:!1,I:!1,R:{},l:a,t:i,k:null,o:null,j:null,C:!1},l=s,u=zc;o&&(l=[s],u=Hu);var c=Proxy.revocable(l,u),d=c.revoke,p=c.proxy;return s.k=p,s.j=d,p}(t,r):ni("ES5").J(t,r);return(r?r.A:z0()).p.push(n),n}function Mi(e){return Ya(e)||Rn(22,e),function t(r){if(!Wi(r))return r;var n,i=r[Ye],a=Ql(r);if(i){if(!i.P&&(i.i<4||!ni("ES5").K(i)))return i.t;i.I=!0,n=cS(r,a),i.I=!1}else n=cS(r,a);return Ho(n,function(o,s){i&&c9(i.t,o)===s||Oj(n,o,t(s))}),a===3?new Set(n):n}(e)}function cS(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return kb(e)}function p9(){function e(a,o){var s=i[a];return s?s.enumerable=o:i[a]=s={configurable:!0,enumerable:o,get:function(){var l=this[Ye];return zc.get(l,a)},set:function(l){var u=this[Ye];zc.set(u,a,l)}},s}function t(a){for(var o=a.length-1;o>=0;o--){var s=a[o][Ye];if(!s.P)switch(s.i){case 5:n(s)&&Ea(s);break;case 4:r(s)&&Ea(s)}}}function r(a){for(var o=a.t,s=a.k,l=nl(s),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Ye){var d=o[c];if(d===void 0&&!rl(o,c))return!0;var p=s[c],m=p&&p[Ye];if(m?m.t!==d:!jj(p,d))return!0}}var g=!!o[Ye];return l.length!==nl(o).length+(g?0:1)}function n(a){var o=a.k;if(o.length!==a.t.length)return!0;var s=Object.getOwnPropertyDescriptor(o,o.length-1);if(s&&!s.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};f9("ES5",{J:function(a,o){var s=Array.isArray(a),l=function(c,d){if(c){for(var p=Array(d.length),m=0;m<d.length;m++)Object.defineProperty(p,""+m,e(m,!0));return p}var g=Dj(d);delete g[Ye];for(var y=nl(g),b=0;b<y.length;b++){var x=y[b];g[x]=e(x,c||!!g[x].enumerable)}return Object.create(Object.getPrototypeOf(d),g)}(s,a),u={i:s?5:4,A:o?o.A:z0(),P:!1,I:!1,R:{},l:o,t:a,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,Ye,{value:u,writable:!0}),l},S:function(a,o,s){s?Ya(o)&&o[Ye].A===a&&t(a.p):(a.u&&function l(u){if(u&&typeof u=="object"){var c=u[Ye];if(c){var d=c.t,p=c.k,m=c.R,g=c.i;if(g===4)Ho(p,function(E){E!==Ye&&(d[E]!==void 0||rl(d,E)?m[E]||l(p[E]):(m[E]=!0,Ea(c)))}),Ho(d,function(E){p[E]!==void 0||rl(p,E)||(m[E]=!1,Ea(c))});else if(g===5){if(n(c)&&(Ea(c),m.length=!0),p.length<d.length)for(var y=p.length;y<d.length;y++)m[y]=!1;else for(var b=d.length;b<p.length;b++)m[b]=!0;for(var x=Math.min(p.length,d.length),w=0;w<x;w++)p.hasOwnProperty(w)||(m[w]=!0),m[w]===void 0&&l(p[w])}}}}(a.p[0]),t(a.p))},K:function(a){return a.i===4?r(a):n(a)}})}var dS,$c,Ob=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",m9=typeof Map<"u",g9=typeof Set<"u",fS=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Rj=Ob?Symbol.for("immer-nothing"):((dS={})["immer-nothing"]=!0,dS),hS=Ob?Symbol.for("immer-draftable"):"__$immer_draftable",Ye=Ob?Symbol.for("immer-state"):"__$immer_state",v9=""+Object.prototype.constructor,nl=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Dj=Object.getOwnPropertyDescriptors||function(e){var t={};return nl(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},U0={},zc={get:function(e,t){if(t===Ye)return e;var r=bo(e);if(!rl(r,t))return function(i,a,o){var s,l=uS(a,o);return l?"value"in l?l.value:(s=l.get)===null||s===void 0?void 0:s.call(i.k):void 0}(e,r,t);var n=r[t];return e.I||!Wi(n)?n:n===ny(e.t,t)?(iy(e),e.o[t]=F0(e.A.h,n,e)):n},has:function(e,t){return t in bo(e)},ownKeys:function(e){return Reflect.ownKeys(bo(e))},set:function(e,t,r){var n=uS(bo(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var i=ny(bo(e),t),a=i==null?void 0:i[Ye];if(a&&a.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(jj(r,i)&&(r!==void 0||rl(e.t,t)))return!0;iy(e),Ea(e)}return e.o[t]===r&&(r!==void 0||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return ny(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,iy(e),Ea(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=bo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){Rn(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Rn(12)}},Hu={};Ho(zc,function(e,t){Hu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Hu.deleteProperty=function(e,t){return Hu.set.call(this,e,t,void 0)},Hu.set=function(e,t,r){return zc.set.call(this,e[0],t,r,e[0])};var y9=function(){function e(r){var n=this;this.O=fS,this.D=!0,this.produce=function(i,a,o){if(typeof i=="function"&&typeof a!="function"){var s=a;a=i;var l=n;return function(y){var b=this;y===void 0&&(y=s);for(var x=arguments.length,w=Array(x>1?x-1:0),E=1;E<x;E++)w[E-1]=arguments[E];return l.produce(y,function(P){var C;return(C=a).call.apply(C,[b,P].concat(w))})}}var u;if(typeof a!="function"&&Rn(6),o!==void 0&&typeof o!="function"&&Rn(7),Wi(i)){var c=sS(n),d=F0(n,i,void 0),p=!0;try{u=a(d),p=!1}finally{p?Gh(c):V0(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(y){return ty(c,o),ry(y,c)},function(y){throw Gh(c),y}):(ty(c,o),ry(u,c))}if(!i||typeof i!="object"){if((u=a(i))===void 0&&(u=i),u===Rj&&(u=void 0),n.D&&Cb(u,!0),o){var m=[],g=[];ni("Patches").M(i,u,m,g),o(m,g)}return u}Rn(21,i)},this.produceWithPatches=function(i,a){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),p=1;p<c;p++)d[p-1]=arguments[p];return n.produceWithPatches(u,function(m){return i.apply(void 0,[m].concat(d))})};var o,s,l=n.produce(i,a,function(u,c){o=u,s=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,s]}):[l,o,s]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){Wi(r)||Rn(8),Ya(r)&&(r=Mi(r));var n=sS(this),i=F0(this,r,void 0);return i[Ye].C=!0,V0(n),i},t.finishDraft=function(r,n){var i=r&&r[Ye],a=i.A;return ty(a,n),ry(void 0,a)},t.setAutoFreeze=function(r){this.D=r},t.setUseProxies=function(r){r&&!fS&&Rn(20),this.O=r},t.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var a=n[i];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}i>-1&&(n=n.slice(i+1));var o=ni("Patches").$;return Ya(r)?o(r,n):this.produce(r,function(s){return o(s,n)})},e}(),Zr=new y9,Mj=Zr.produce;Zr.produceWithPatches.bind(Zr);Zr.setAutoFreeze.bind(Zr);Zr.setUseProxies.bind(Zr);Zr.applyPatches.bind(Zr);Zr.createDraft.bind(Zr);Zr.finishDraft.bind(Zr);function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function x9(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w9(e){var t=x9(e,"string");return Vc(t)=="symbol"?t:t+""}function b9(e,t,r){return(t=w9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(r),!0).forEach(function(n){b9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ar(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var gS=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ay=function(){return Math.random().toString(36).substring(7).split("").join(".")},Jh={INIT:"@@redux/INIT"+ay(),REPLACE:"@@redux/REPLACE"+ay(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ay()}};function _9(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Lj(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ar(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ar(1));return r(Lj)(e,t)}if(typeof e!="function")throw new Error(ar(2));var i=e,a=t,o=[],s=o,l=!1;function u(){s===o&&(s=o.slice())}function c(){if(l)throw new Error(ar(3));return a}function d(y){if(typeof y!="function")throw new Error(ar(4));if(l)throw new Error(ar(5));var b=!0;return u(),s.push(y),function(){if(b){if(l)throw new Error(ar(6));b=!1,u();var w=s.indexOf(y);s.splice(w,1),o=null}}}function p(y){if(!_9(y))throw new Error(ar(7));if(typeof y.type>"u")throw new Error(ar(8));if(l)throw new Error(ar(9));try{l=!0,a=i(a,y)}finally{l=!1}for(var b=o=s,x=0;x<b.length;x++){var w=b[x];w()}return y}function m(y){if(typeof y!="function")throw new Error(ar(10));i=y,p({type:Jh.REPLACE})}function g(){var y,b=d;return y={subscribe:function(w){if(typeof w!="object"||w===null)throw new Error(ar(11));function E(){w.next&&w.next(c())}E();var P=b(E);return{unsubscribe:P}}},y[gS]=function(){return this},y}return p({type:Jh.INIT}),n={dispatch:p,subscribe:d,getState:c,replaceReducer:m},n[gS]=g,n}function E9(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:Jh.INIT});if(typeof n>"u")throw new Error(ar(12));if(typeof r(void 0,{type:Jh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ar(13))})}function $j(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n];typeof e[i]=="function"&&(r[i]=e[i])}var a=Object.keys(r),o;try{E9(r)}catch(s){o=s}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,d={},p=0;p<a.length;p++){var m=a[p],g=r[m],y=l[m],b=g(y,u);if(typeof b>"u")throw u&&u.type,new Error(ar(14));d[m]=b,c=c||b!==y}return c=c||a.length!==Object.keys(l).length,c?d:l}}function Zh(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function T9(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),a=function(){throw new Error(ar(15))},o={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=t.map(function(l){return l(o)});return a=Zh.apply(void 0,s)(i.dispatch),mS(mS({},i),{},{dispatch:a})}}}function zj(e){var t=function(n){var i=n.dispatch,a=n.getState;return function(o){return function(s){return typeof s=="function"?s(i,a,e):o(s)}}};return t}var B0=zj();B0.withExtraArgument=zj;var Vj=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vd=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Qo=function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},A9=Object.defineProperty,S9=Object.defineProperties,P9=Object.getOwnPropertyDescriptors,vS=Object.getOwnPropertySymbols,I9=Object.prototype.hasOwnProperty,k9=Object.prototype.propertyIsEnumerable,yS=function(e,t,r){return t in e?A9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},Fa=function(e,t){for(var r in t||(t={}))I9.call(t,r)&&yS(e,r,t[r]);if(vS)for(var n=0,i=vS(t);n<i.length;n++){var r=i[n];k9.call(t,r)&&yS(e,r,t[r])}return e},oy=function(e,t){return S9(e,P9(t))},yd=function(e,t,r){return new Promise(function(n,i){var a=function(l){try{s(r.next(l))}catch(u){i(u)}},o=function(l){try{s(r.throw(l))}catch(u){i(u)}},s=function(l){return l.done?n(l.value):Promise.resolve(l.value).then(a,o)};s((r=r.apply(e,t)).next())})},C9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Zh:Zh.apply(null,arguments)};function Fj(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return t===r}function Er(e,t){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(t){var a=t.apply(void 0,n);if(!a)throw new Error("prepareAction did not return an object");return Fa(Fa({type:e,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:e,payload:n[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(n){return n.type===e},r}function N9(e){return Fj(e)&&"type"in e}var O9=function(e){Vj(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,Qo([void 0],r[0].concat(this)))):new(t.bind.apply(t,Qo([void 0],r.concat(this))))},t}(Array),j9=function(e){Vj(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,Qo([void 0],r[0].concat(this)))):new(t.bind.apply(t,Qo([void 0],r.concat(this))))},t}(Array);function q0(e){return Wi(e)?Mj(e,function(){}):e}function R9(e){return typeof e=="boolean"}function D9(){return function(t){return M9(t)}}function M9(e){e===void 0&&(e={});var t=e.thunk,r=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var n=new O9;return r&&(R9(r)?n.push(B0):n.push(B0.withExtraArgument(r.extraArgument))),n}function Uj(e){var t=D9(),r=e||{},n=r.reducer,i=n===void 0?void 0:n,a=r.middleware,o=a===void 0?t():a,s=r.devTools,l=s===void 0?!0:s,u=r.preloadedState,c=u===void 0?void 0:u,d=r.enhancers,p=d===void 0?void 0:d,m;if(typeof i=="function")m=i;else if(Fj(i))m=$j(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var g=o;typeof g=="function"&&(g=g(t));var y=T9.apply(void 0,g),b=Zh;l&&(b=C9(Fa({trace:!1},typeof l=="object"&&l)));var x=new j9(y),w=x;Array.isArray(p)?w=Qo([y],p):typeof p=="function"&&(w=p(x));var E=b.apply(void 0,w);return Lj(m,c,E)}function Bj(e){var t={},r=[],n,i={addCase:function(a,o){var s=typeof a=="string"?a:a.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[s]=o,i},addMatcher:function(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase:function(a){return n=a,i}};return e(i),[t,r,n]}function L9(e){return typeof e=="function"}function $9(e,t,r,n){r===void 0&&(r=[]);var i=typeof t=="function"?Bj(t):[t,r,n],a=i[0],o=i[1],s=i[2],l;if(L9(e))l=function(){return q0(e())};else{var u=q0(e);l=function(){return u}}function c(d,p){d===void 0&&(d=l());var m=Qo([a[p.type]],o.filter(function(g){var y=g.matcher;return y(p)}).map(function(g){var y=g.reducer;return y}));return m.filter(function(g){return!!g}).length===0&&(m=[s]),m.reduce(function(g,y){if(y)if(Ya(g)){var b=g,x=y(b,p);return x===void 0?g:x}else{if(Wi(g))return Mj(g,function(w){return y(w,p)});var x=y(g,p);if(x===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}return g},d)}return c.getInitialState=l,c}function z9(e,t){return e+"/"+t}function $r(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var r=typeof e.initialState=="function"?e.initialState:q0(e.initialState),n=e.reducers||{},i=Object.keys(n),a={},o={},s={};i.forEach(function(c){var d=n[c],p=z9(t,c),m,g;"reducer"in d?(m=d.reducer,g=d.prepare):m=d,a[c]=m,o[p]=m,s[c]=g?Er(p,g):Er(p)});function l(){var c=typeof e.extraReducers=="function"?Bj(e.extraReducers):[e.extraReducers],d=c[0],p=d===void 0?{}:d,m=c[1],g=m===void 0?[]:m,y=c[2],b=y===void 0?void 0:y,x=Fa(Fa({},p),o);return $9(r,function(w){for(var E in x)w.addCase(E,x[E]);for(var P=0,C=g;P<C.length;P++){var j=C[P];w.addMatcher(j.matcher,j.reducer)}b&&w.addDefaultCase(b)})}var u;return{name:t,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:s,caseReducers:a,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var V9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",qj=function(e){e===void 0&&(e=21);for(var t="",r=e;r--;)t+=V9[Math.random()*64|0];return t},F9=["name","message","stack","code"],sy=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),xS=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),U9=function(e){if(typeof e=="object"&&e!==null){for(var t={},r=0,n=F9;r<n.length;r++){var i=n[r];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}},Kj=function(){function e(t,r,n){var i=Er(t+"/fulfilled",function(u,c,d,p){return{payload:u,meta:oy(Fa({},p||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),a=Er(t+"/pending",function(u,c,d){return{payload:void 0,meta:oy(Fa({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=Er(t+"/rejected",function(u,c,d,p,m){return{payload:p,error:(n&&n.serializeError||U9)(u||"Rejected"),meta:oy(Fa({},m||{}),{arg:d,requestId:c,rejectedWithValue:!!p,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,p){var m=n!=null&&n.idGenerator?n.idGenerator(u):qj(),g=new s,y;function b(w){y=w,g.abort()}var x=function(){return yd(this,null,function(){var w,E,P,C,j,A,S;return vd(this,function(I){switch(I.label){case 0:return I.trys.push([0,4,,5]),C=(w=n==null?void 0:n.condition)==null?void 0:w.call(n,u,{getState:d,extra:p}),q9(C)?[4,C]:[3,2];case 1:C=I.sent(),I.label=2;case 2:if(C===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return j=new Promise(function(N,R){return g.signal.addEventListener("abort",function(){return R({name:"AbortError",message:y||"Aborted"})})}),c(a(m,u,(E=n==null?void 0:n.getPendingMeta)==null?void 0:E.call(n,{requestId:m,arg:u},{getState:d,extra:p}))),[4,Promise.race([j,Promise.resolve(r(u,{dispatch:c,getState:d,extra:p,requestId:m,signal:g.signal,abort:b,rejectWithValue:function(N,R){return new sy(N,R)},fulfillWithValue:function(N,R){return new xS(N,R)}})).then(function(N){if(N instanceof sy)throw N;return N instanceof xS?i(N.payload,m,u,N.meta):i(N,m,u)})])];case 3:return P=I.sent(),[3,5];case 4:return A=I.sent(),P=A instanceof sy?o(null,m,u,A.payload,A.meta):o(A,m,u),[3,5];case 5:return S=n&&!n.dispatchConditionRejection&&o.match(P)&&P.meta.condition,S||c(P),[2,P]}})})}();return Object.assign(x,{abort:b,requestId:m,arg:u,unwrap:function(){return x.then(B9)}})}}return Object.assign(l,{pending:a,rejected:o,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e}();function B9(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function q9(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var jb=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},K0=function(){},Wj=function(e,t){return t===void 0&&(t=K0),e.catch(t),e},Hj=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},il=function(e,t){var r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},K9="task",Qj="listener",Gj="completed",Rb="cancelled",W9="task-"+Rb,H9="task-"+Gj,Yj=Qj+"-"+Rb,Q9=Qj+"-"+Gj,zm=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=K9+" "+Rb+" (reason: "+t+")"}return e}(),al=function(e){if(e.aborted)throw new zm(e.reason)};function Xj(e,t){var r=K0;return new Promise(function(n,i){var a=function(){return i(new zm(e.reason))};if(e.aborted){a();return}r=Hj(e,a),t.finally(function(){return r()}).then(n,i)}).finally(function(){r=K0})}var G9=function(e,t){return yd(void 0,null,function(){var r,n;return vd(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return r=i.sent(),[2,{status:"ok",value:r}];case 3:return n=i.sent(),[2,{status:n instanceof zm?"cancelled":"rejected",error:n}];case 4:return t==null||t(),[7];case 5:return[2]}})})},ep=function(e){return function(t){return Wj(Xj(e,t).then(function(r){return al(e),r}))}},Jj=function(e){var t=ep(e);return function(r){return t(new Promise(function(n){return setTimeout(n,r)}))}},Y9=Object.assign,wS={},xd="listenerMiddleware",X9=function(e,t){var r=function(n){return Hj(e,function(){return il(n,e.reason)})};return function(n,i){jb(n,"taskExecutor");var a=new AbortController;r(a);var o=G9(function(){return yd(void 0,null,function(){var s;return vd(this,function(l){switch(l.label){case 0:return al(e),al(a.signal),[4,n({pause:ep(a.signal),delay:Jj(a.signal),signal:a.signal})];case 1:return s=l.sent(),al(a.signal),[2,s]}})})},function(){return il(a,H9)});return i!=null&&i.autoJoin&&t.push(o),{result:ep(e)(o),cancel:function(){il(a,W9)}}}},J9=function(e,t){var r=function(n,i){return yd(void 0,null,function(){var a,o,s,l;return vd(this,function(u){switch(u.label){case 0:al(t),a=function(){},o=new Promise(function(c,d){var p=e({predicate:n,effect:function(m,g){g.unsubscribe(),c([m,g.getState(),g.getOriginalState()])}});a=function(){p(),d()}}),s=[o],i!=null&&s.push(new Promise(function(c){return setTimeout(c,i,null)})),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,Xj(t,Promise.race(s))];case 2:return l=u.sent(),al(t),[2,l];case 3:return a(),[7];case 4:return[2]}})})};return function(n,i){return Wj(r(n,i))}},Zj=function(e){var t=e.type,r=e.actionCreator,n=e.matcher,i=e.predicate,a=e.effect;if(t)i=Er(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return jb(a,"options.listener"),{predicate:i,type:t,effect:a}},Z9=function(e){var t=Zj(e),r=t.type,n=t.predicate,i=t.effect,a=qj(),o={id:a,effect:i,type:r,predicate:n,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return o},W0=function(e){e.pending.forEach(function(t){il(t,Yj)})},eU=function(e){return function(){e.forEach(W0),e.clear()}},bS=function(e,t,r){try{e(t,r)}catch(n){setTimeout(function(){throw n},0)}},tU=Er(xd+"/add"),rU=Er(xd+"/removeAll"),nU=Er(xd+"/remove"),iU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,Qo([xd+"/error"],e))};function wd(e){var t=this;e===void 0&&(e={});var r=new Map,n=e.extra,i=e.onError,a=i===void 0?iU:i;jb(a,"onError");var o=function(m){return m.unsubscribe=function(){return r.delete(m.id)},r.set(m.id,m),function(g){m.unsubscribe(),g!=null&&g.cancelActive&&W0(m)}},s=function(m){for(var g=0,y=Array.from(r.values());g<y.length;g++){var b=y[g];if(m(b))return b}},l=function(m){var g=s(function(y){return y.effect===m.effect});return g||(g=Z9(m)),o(g)},u=function(m){var g=Zj(m),y=g.type,b=g.effect,x=g.predicate,w=s(function(E){var P=typeof y=="string"?E.type===y:E.predicate===x;return P&&E.effect===b});return w&&(w.unsubscribe(),m.cancelActive&&W0(w)),!!w},c=function(m,g,y,b){return yd(t,null,function(){var x,w,E,P;return vd(this,function(C){switch(C.label){case 0:x=new AbortController,w=J9(l,x.signal),E=[],C.label=1;case 1:return C.trys.push([1,3,4,6]),m.pending.add(x),[4,Promise.resolve(m.effect(g,Y9({},y,{getOriginalState:b,condition:function(j,A){return w(j,A).then(Boolean)},take:w,delay:Jj(x.signal),pause:ep(x.signal),extra:n,signal:x.signal,fork:X9(x.signal,E),unsubscribe:m.unsubscribe,subscribe:function(){r.set(m.id,m)},cancelActiveListeners:function(){m.pending.forEach(function(j,A,S){j!==x&&(il(j,Yj),S.delete(j))})}})))];case 2:return C.sent(),[3,6];case 3:return P=C.sent(),P instanceof zm||bS(a,P,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(E)];case 5:return C.sent(),il(x,Q9),m.pending.delete(x),[7];case 6:return[2]}})})},d=eU(r),p=function(m){return function(g){return function(y){if(!N9(y))return g(y);if(tU.match(y))return l(y.payload);if(rU.match(y)){d();return}if(nU.match(y))return u(y.payload);var b=m.getState(),x=function(){if(b===wS)throw new Error(xd+": getOriginalState can only be called synchronously");return b},w;try{if(w=g(y),r.size>0)for(var E=m.getState(),P=Array.from(r.values()),C=0,j=P;C<j.length;C++){var A=j[C],S=!1;try{S=A.predicate(y,E,b)}catch(I){S=!1,bS(a,I,{raisedBy:"predicate"})}S&&c(A,y,m,x)}}finally{b=wS}return w}}};return{middleware:p,startListening:l,stopListening:u,clearListeners:d}}var _S;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:globalThis);p9();const aU={user:null,isLoading:!0,error:null,isAuthenticated:!1,needsRoleSelection:!1,authChecked:!1},eR=$r({name:"auth",initialState:aU,reducers:{loginStart:e=>{e.isLoading=!0,e.error=null},loginSuccess:(e,t)=>{console.log("🎯 Auth loginSuccess reducer called with:",t.payload),e.isLoading=!1,e.user=t.payload,e.isAuthenticated=!0,e.error=null,e.needsRoleSelection=!t.payload.role,console.log("🎯 Auth state after loginSuccess:",{isAuthenticated:e.isAuthenticated,user:e.user,isLoading:e.isLoading})},loginFailure:(e,t)=>{e.isLoading=!1,e.error=t.payload,e.user=null,e.isAuthenticated=!1},logout:e=>{e.user=null,e.isAuthenticated=!1,e.isLoading=!1},authCheckComplete:e=>{e.isLoading=!1,e.authChecked=!0},setRole:(e,t)=>{e.user&&(e.user.role=t.payload,e.needsRoleSelection=!1)},setLoading:(e,t)=>{e.isLoading=t.payload}}}),{loginSuccess:ES,logout:tR,authCheckComplete:TS,setRole:AS}=eR.actions,oU=eR.reducer;var SS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},sU=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],o=e[r++],s=e[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const a=e[r++],o=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join("")},nR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],o=i+1<e.length,s=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=a>>2,d=(a&3)<<4|s>>4;let p=(s&15)<<2|u>>6,m=u&63;l||(m=64,o||(p=64)),n.push(r[c],r[d],r[p],r[m])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(rR(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):sU(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],s=i<e.length?r[e.charAt(i)]:0;++i;const u=i<e.length?r[e.charAt(i)]:64;++i;const d=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||s==null||u==null||d==null)throw new lU;const p=a<<2|s>>4;if(n.push(p),u!==64){const m=s<<4&240|u>>2;if(n.push(m),d!==64){const g=u<<6&192|d;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class lU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uU=function(e){const t=rR(e);return nR.encodeByteArray(t,!0)},tp=function(e){return uU(e).replace(/\./g,"")},iR=function(e){try{return nR.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU=()=>cU().__FIREBASE_DEFAULTS__,fU=()=>{if(typeof process>"u"||typeof SS>"u")return;const e=SS.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},hU=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&iR(e[1]);return t&&JSON.parse(t)},Vm=()=>{try{return dU()||fU()||hU()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},aR=e=>{var t,r;return(r=(t=Vm())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},pU=e=>{const t=aR(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},oR=()=>{var e;return(e=Vm())===null||e===void 0?void 0:e.config},sR=e=>{var t;return(t=Vm())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[tp(JSON.stringify(r)),tp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hr())}function yU(){var e;const t=(e=Vm())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function xU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lR(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function wU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bU(){const e=hr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _U(){return!yU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uR(){try{return typeof indexedDB=="object"}catch{return!1}}function cR(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;t(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){t(r)}})}function EU(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU="FirebaseError";class Wn extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=TU,Object.setPrototypeOf(this,Wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fs.prototype.create)}}class fs{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],o=a?AU(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new Wn(i,s,n)}}function AU(e,t){return e.replace(SU,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const SU=/\{\$([^}]+)}/g;function PU(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Go(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],o=t[i];if(PS(a)&&PS(o)){if(!Go(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function PS(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(i=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function Qu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");t[decodeURIComponent(i)]=decodeURIComponent(a)}}),t}function Gu(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function IU(e,t){const r=new kU(e,t);return r.subscribe.bind(r)}class kU{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let i;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");CU(t,["next","error","complete"])?i=t:i={next:t,error:r,complete:n},i.next===void 0&&(i.next=ly),i.error===void 0&&(i.error=ly),i.complete===void 0&&(i.complete=ly);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CU(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function ly(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=1e3,OU=2,jU=4*60*60*1e3,RU=.5;function IS(e,t=NU,r=OU){const n=t*Math.pow(r,e),i=Math.round(RU*n*(Math.random()-.5)*2);return Math.min(jU,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(e){return e&&e._delegate?e._delegate:e}class Fn{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new mU;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(LU(t))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=_o){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_o){return this.instances.has(t)}getOptions(t=_o){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(t,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(t),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&t(o,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:MU(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=_o){return this.component?this.component.multipleInstances?t:_o:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MU(e){return e===_o?void 0:e}function LU(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new DU(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(be||(be={}));const zU={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},VU=be.INFO,FU={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},UU=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=FU[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Fm{constructor(t){this.name=t,this._logLevel=VU,this._logHandler=UU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in be))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zU[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...t),this._logHandler(this,be.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...t),this._logHandler(this,be.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,be.INFO,...t),this._logHandler(this,be.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,be.WARN,...t),this._logHandler(this,be.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...t),this._logHandler(this,be.ERROR,...t)}}const BU=(e,t)=>t.some(r=>e instanceof r);let kS,CS;function qU(){return kS||(kS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KU(){return CS||(CS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dR=new WeakMap,H0=new WeakMap,fR=new WeakMap,uy=new WeakMap,Db=new WeakMap;function WU(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{r(Ua(e.result)),i()},o=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(r=>{r instanceof IDBCursor&&dR.set(r,e)}).catch(()=>{}),Db.set(t,e),t}function HU(e){if(H0.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});H0.set(e,t)}let Q0={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return H0.get(e);if(t==="objectStoreNames")return e.objectStoreNames||fR.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ua(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function QU(e){Q0=e(Q0)}function GU(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(cy(this),t,...r);return fR.set(n,t.sort?t.sort():[t]),Ua(n)}:KU().includes(e)?function(...t){return e.apply(cy(this),t),Ua(dR.get(this))}:function(...t){return Ua(e.apply(cy(this),t))}}function YU(e){return typeof e=="function"?GU(e):(e instanceof IDBTransaction&&HU(e),BU(e,qU())?new Proxy(e,Q0):e)}function Ua(e){if(e instanceof IDBRequest)return WU(e);if(uy.has(e))return uy.get(e);const t=YU(e);return t!==e&&(uy.set(e,t),Db.set(t,e)),t}const cy=e=>Db.get(e);function hR(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(e,t),s=Ua(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Ua(o.result),l.oldVersion,l.newVersion,Ua(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const XU=["get","getKey","getAll","getAllKeys","count"],JU=["put","add","delete","clear"],dy=new Map;function NS(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(dy.get(t))return dy.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=JU.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||XU.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(s.shift())),(await Promise.all([u[r](...s),i&&l.done]))[0]};return dy.set(t,a),a}QU(e=>({...e,get:(t,r,n)=>NS(t,r)||e.get(t,r,n),has:(t,r)=>!!NS(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(eB(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function eB(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const G0="@firebase/app",OS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Fm("@firebase/app"),tB="@firebase/app-compat",rB="@firebase/analytics-compat",nB="@firebase/analytics",iB="@firebase/app-check-compat",aB="@firebase/app-check",oB="@firebase/auth",sB="@firebase/auth-compat",lB="@firebase/database",uB="@firebase/data-connect",cB="@firebase/database-compat",dB="@firebase/functions",fB="@firebase/functions-compat",hB="@firebase/installations",pB="@firebase/installations-compat",mB="@firebase/messaging",gB="@firebase/messaging-compat",vB="@firebase/performance",yB="@firebase/performance-compat",xB="@firebase/remote-config",wB="@firebase/remote-config-compat",bB="@firebase/storage",_B="@firebase/storage-compat",EB="@firebase/firestore",TB="@firebase/vertexai-preview",AB="@firebase/firestore-compat",SB="firebase",PB="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="[DEFAULT]",IB={[G0]:"fire-core",[tB]:"fire-core-compat",[nB]:"fire-analytics",[rB]:"fire-analytics-compat",[aB]:"fire-app-check",[iB]:"fire-app-check-compat",[oB]:"fire-auth",[sB]:"fire-auth-compat",[lB]:"fire-rtdb",[uB]:"fire-data-connect",[cB]:"fire-rtdb-compat",[dB]:"fire-fn",[fB]:"fire-fn-compat",[hB]:"fire-iid",[pB]:"fire-iid-compat",[mB]:"fire-fcm",[gB]:"fire-fcm-compat",[vB]:"fire-perf",[yB]:"fire-perf-compat",[xB]:"fire-rc",[wB]:"fire-rc-compat",[bB]:"fire-gcs",[_B]:"fire-gcs-compat",[EB]:"fire-fst",[AB]:"fire-fst-compat",[TB]:"fire-vertex","fire-js":"fire-js",[SB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new Map,kB=new Map,X0=new Map;function jS(e,t){try{e.container.addComponent(t)}catch(r){Hi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function ui(e){const t=e.name;if(X0.has(t))return Hi.debug(`There were multiple attempts to register component ${t}.`),!1;X0.set(t,e);for(const r of Fc.values())jS(r,e);for(const r of kB.values())jS(r,e);return!0}function hs(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function Zn(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ba=new fs("app","Firebase",CB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ba.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=PB;function Mb(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:Y0,automaticDataCollectionEnabled:!1},t),i=n.name;if(typeof i!="string"||!i)throw Ba.create("bad-app-name",{appName:String(i)});if(r||(r=oR()),!r)throw Ba.create("no-options");const a=Fc.get(i);if(a){if(Go(r,a.options)&&Go(n,a.config))return a;throw Ba.create("duplicate-app",{appName:i})}const o=new $U(i);for(const l of X0.values())o.addComponent(l);const s=new NB(r,n,o);return Fc.set(i,s),s}function _d(e=Y0){const t=Fc.get(e);if(!t&&e===Y0&&oR())return Mb();if(!t)throw Ba.create("no-app",{appName:e});return t}function pR(){return Array.from(Fc.values())}function vn(e,t,r){var n;let i=(n=IB[e])!==null&&n!==void 0?n:e;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${t}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hi.warn(s.join(" "));return}ui(new Fn(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB="firebase-heartbeat-database",jB=1,Uc="firebase-heartbeat-store";let fy=null;function mR(){return fy||(fy=hR(OB,jB,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Uc)}catch(r){console.warn(r)}}}}).catch(e=>{throw Ba.create("idb-open",{originalErrorMessage:e.message})})),fy}async function RB(e){try{const r=(await mR()).transaction(Uc),n=await r.objectStore(Uc).get(gR(e));return await r.done,n}catch(t){if(t instanceof Wn)Hi.warn(t.message);else{const r=Ba.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Hi.warn(r.message)}}}async function RS(e,t){try{const n=(await mR()).transaction(Uc,"readwrite");await n.objectStore(Uc).put(t,gR(e)),await n.done}catch(r){if(r instanceof Wn)Hi.warn(r.message);else{const n=Ba.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Hi.warn(n.message)}}}function gR(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB=1024,MB=30*24*60*60*1e3;class LB{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new zB(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=DS();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=MB}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Hi.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=DS(),{heartbeatsToSend:n,unsentEntries:i}=$B(this._heartbeatsCache.heartbeats),a=tp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Hi.warn(r),""}}}function DS(){return new Date().toISOString().substring(0,10)}function $B(e,t=DB){const r=[];let n=e.slice();for(const i of e){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),MS(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),MS(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class zB{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uR()?cR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await RB(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return RS(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return RS(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function MS(e){return tp(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(e){ui(new Fn("platform-logger",t=>new ZU(t),"PRIVATE")),ui(new Fn("heartbeat",t=>new LB(t),"PRIVATE")),vn(G0,OS,e),vn(G0,OS,"esm2017"),vn("fire-js","")}VB("");var LS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zo,vR;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(A,S){function I(){}I.prototype=S.prototype,A.D=S.prototype,A.prototype=new I,A.prototype.constructor=A,A.C=function(N,R,D){for(var k=Array(arguments.length-2),q=2;q<arguments.length;q++)k[q-2]=arguments[q];return S.prototype[R].apply(N,k)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,S,I){I||(I=0);var N=Array(16);if(typeof S=="string")for(var R=0;16>R;++R)N[R]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(R=0;16>R;++R)N[R]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=A.g[0],I=A.g[1],R=A.g[2];var D=A.g[3],k=S+(D^I&(R^D))+N[0]+3614090360&4294967295;S=I+(k<<7&4294967295|k>>>25),k=D+(R^S&(I^R))+N[1]+3905402710&4294967295,D=S+(k<<12&4294967295|k>>>20),k=R+(I^D&(S^I))+N[2]+606105819&4294967295,R=D+(k<<17&4294967295|k>>>15),k=I+(S^R&(D^S))+N[3]+3250441966&4294967295,I=R+(k<<22&4294967295|k>>>10),k=S+(D^I&(R^D))+N[4]+4118548399&4294967295,S=I+(k<<7&4294967295|k>>>25),k=D+(R^S&(I^R))+N[5]+1200080426&4294967295,D=S+(k<<12&4294967295|k>>>20),k=R+(I^D&(S^I))+N[6]+2821735955&4294967295,R=D+(k<<17&4294967295|k>>>15),k=I+(S^R&(D^S))+N[7]+4249261313&4294967295,I=R+(k<<22&4294967295|k>>>10),k=S+(D^I&(R^D))+N[8]+1770035416&4294967295,S=I+(k<<7&4294967295|k>>>25),k=D+(R^S&(I^R))+N[9]+2336552879&4294967295,D=S+(k<<12&4294967295|k>>>20),k=R+(I^D&(S^I))+N[10]+4294925233&4294967295,R=D+(k<<17&4294967295|k>>>15),k=I+(S^R&(D^S))+N[11]+2304563134&4294967295,I=R+(k<<22&4294967295|k>>>10),k=S+(D^I&(R^D))+N[12]+1804603682&4294967295,S=I+(k<<7&4294967295|k>>>25),k=D+(R^S&(I^R))+N[13]+4254626195&4294967295,D=S+(k<<12&4294967295|k>>>20),k=R+(I^D&(S^I))+N[14]+2792965006&4294967295,R=D+(k<<17&4294967295|k>>>15),k=I+(S^R&(D^S))+N[15]+1236535329&4294967295,I=R+(k<<22&4294967295|k>>>10),k=S+(R^D&(I^R))+N[1]+4129170786&4294967295,S=I+(k<<5&4294967295|k>>>27),k=D+(I^R&(S^I))+N[6]+3225465664&4294967295,D=S+(k<<9&4294967295|k>>>23),k=R+(S^I&(D^S))+N[11]+643717713&4294967295,R=D+(k<<14&4294967295|k>>>18),k=I+(D^S&(R^D))+N[0]+3921069994&4294967295,I=R+(k<<20&4294967295|k>>>12),k=S+(R^D&(I^R))+N[5]+3593408605&4294967295,S=I+(k<<5&4294967295|k>>>27),k=D+(I^R&(S^I))+N[10]+38016083&4294967295,D=S+(k<<9&4294967295|k>>>23),k=R+(S^I&(D^S))+N[15]+3634488961&4294967295,R=D+(k<<14&4294967295|k>>>18),k=I+(D^S&(R^D))+N[4]+3889429448&4294967295,I=R+(k<<20&4294967295|k>>>12),k=S+(R^D&(I^R))+N[9]+568446438&4294967295,S=I+(k<<5&4294967295|k>>>27),k=D+(I^R&(S^I))+N[14]+3275163606&4294967295,D=S+(k<<9&4294967295|k>>>23),k=R+(S^I&(D^S))+N[3]+4107603335&4294967295,R=D+(k<<14&4294967295|k>>>18),k=I+(D^S&(R^D))+N[8]+1163531501&4294967295,I=R+(k<<20&4294967295|k>>>12),k=S+(R^D&(I^R))+N[13]+2850285829&4294967295,S=I+(k<<5&4294967295|k>>>27),k=D+(I^R&(S^I))+N[2]+4243563512&4294967295,D=S+(k<<9&4294967295|k>>>23),k=R+(S^I&(D^S))+N[7]+1735328473&4294967295,R=D+(k<<14&4294967295|k>>>18),k=I+(D^S&(R^D))+N[12]+2368359562&4294967295,I=R+(k<<20&4294967295|k>>>12),k=S+(I^R^D)+N[5]+4294588738&4294967295,S=I+(k<<4&4294967295|k>>>28),k=D+(S^I^R)+N[8]+2272392833&4294967295,D=S+(k<<11&4294967295|k>>>21),k=R+(D^S^I)+N[11]+1839030562&4294967295,R=D+(k<<16&4294967295|k>>>16),k=I+(R^D^S)+N[14]+4259657740&4294967295,I=R+(k<<23&4294967295|k>>>9),k=S+(I^R^D)+N[1]+2763975236&4294967295,S=I+(k<<4&4294967295|k>>>28),k=D+(S^I^R)+N[4]+1272893353&4294967295,D=S+(k<<11&4294967295|k>>>21),k=R+(D^S^I)+N[7]+4139469664&4294967295,R=D+(k<<16&4294967295|k>>>16),k=I+(R^D^S)+N[10]+3200236656&4294967295,I=R+(k<<23&4294967295|k>>>9),k=S+(I^R^D)+N[13]+681279174&4294967295,S=I+(k<<4&4294967295|k>>>28),k=D+(S^I^R)+N[0]+3936430074&4294967295,D=S+(k<<11&4294967295|k>>>21),k=R+(D^S^I)+N[3]+3572445317&4294967295,R=D+(k<<16&4294967295|k>>>16),k=I+(R^D^S)+N[6]+76029189&4294967295,I=R+(k<<23&4294967295|k>>>9),k=S+(I^R^D)+N[9]+3654602809&4294967295,S=I+(k<<4&4294967295|k>>>28),k=D+(S^I^R)+N[12]+3873151461&4294967295,D=S+(k<<11&4294967295|k>>>21),k=R+(D^S^I)+N[15]+530742520&4294967295,R=D+(k<<16&4294967295|k>>>16),k=I+(R^D^S)+N[2]+3299628645&4294967295,I=R+(k<<23&4294967295|k>>>9),k=S+(R^(I|~D))+N[0]+4096336452&4294967295,S=I+(k<<6&4294967295|k>>>26),k=D+(I^(S|~R))+N[7]+1126891415&4294967295,D=S+(k<<10&4294967295|k>>>22),k=R+(S^(D|~I))+N[14]+2878612391&4294967295,R=D+(k<<15&4294967295|k>>>17),k=I+(D^(R|~S))+N[5]+4237533241&4294967295,I=R+(k<<21&4294967295|k>>>11),k=S+(R^(I|~D))+N[12]+1700485571&4294967295,S=I+(k<<6&4294967295|k>>>26),k=D+(I^(S|~R))+N[3]+2399980690&4294967295,D=S+(k<<10&4294967295|k>>>22),k=R+(S^(D|~I))+N[10]+4293915773&4294967295,R=D+(k<<15&4294967295|k>>>17),k=I+(D^(R|~S))+N[1]+2240044497&4294967295,I=R+(k<<21&4294967295|k>>>11),k=S+(R^(I|~D))+N[8]+1873313359&4294967295,S=I+(k<<6&4294967295|k>>>26),k=D+(I^(S|~R))+N[15]+4264355552&4294967295,D=S+(k<<10&4294967295|k>>>22),k=R+(S^(D|~I))+N[6]+2734768916&4294967295,R=D+(k<<15&4294967295|k>>>17),k=I+(D^(R|~S))+N[13]+1309151649&4294967295,I=R+(k<<21&4294967295|k>>>11),k=S+(R^(I|~D))+N[4]+4149444226&4294967295,S=I+(k<<6&4294967295|k>>>26),k=D+(I^(S|~R))+N[11]+3174756917&4294967295,D=S+(k<<10&4294967295|k>>>22),k=R+(S^(D|~I))+N[2]+718787259&4294967295,R=D+(k<<15&4294967295|k>>>17),k=I+(D^(R|~S))+N[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(R+(k<<21&4294967295|k>>>11))&4294967295,A.g[2]=A.g[2]+R&4294967295,A.g[3]=A.g[3]+D&4294967295}n.prototype.u=function(A,S){S===void 0&&(S=A.length);for(var I=S-this.blockSize,N=this.B,R=this.h,D=0;D<S;){if(R==0)for(;D<=I;)i(this,A,D),D+=this.blockSize;if(typeof A=="string"){for(;D<S;)if(N[R++]=A.charCodeAt(D++),R==this.blockSize){i(this,N),R=0;break}}else for(;D<S;)if(N[R++]=A[D++],R==this.blockSize){i(this,N),R=0;break}}this.h=R,this.o+=S},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;var I=8*this.o;for(S=A.length-8;S<A.length;++S)A[S]=I&255,I/=256;for(this.u(A),A=Array(16),S=I=0;4>S;++S)for(var N=0;32>N;N+=8)A[I++]=this.g[S]>>>N&255;return A};function a(A,S){var I=s;return Object.prototype.hasOwnProperty.call(I,A)?I[A]:I[A]=S(A)}function o(A,S){this.h=S;for(var I=[],N=!0,R=A.length-1;0<=R;R--){var D=A[R]|0;N&&D==S||(I[R]=D,N=!1)}this.g=I}var s={};function l(A){return-128<=A&&128>A?a(A,function(S){return new o([S|0],0>S?-1:0)}):new o([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return d;if(0>A)return b(u(-A));for(var S=[],I=1,N=0;A>=I;N++)S[N]=A/I|0,I*=4294967296;return new o(S,0)}function c(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return b(c(A.substring(1),S));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(S,8)),N=d,R=0;R<A.length;R+=8){var D=Math.min(8,A.length-R),k=parseInt(A.substring(R,R+D),S);8>D?(D=u(Math.pow(S,D)),N=N.j(D).add(u(k))):(N=N.j(I),N=N.add(u(k)))}return N}var d=l(0),p=l(1),m=l(16777216);e=o.prototype,e.m=function(){if(y(this))return-b(this).m();for(var A=0,S=1,I=0;I<this.g.length;I++){var N=this.i(I);A+=(0<=N?N:4294967296+N)*S,S*=4294967296}return A},e.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(g(this))return"0";if(y(this))return"-"+b(this).toString(A);for(var S=u(Math.pow(A,6)),I=this,N="";;){var R=P(I,S).g;I=x(I,R.j(S));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(A);if(I=R,g(I))return D+N;for(;6>D.length;)D="0"+D;N=D+N}},e.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function g(A){if(A.h!=0)return!1;for(var S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function y(A){return A.h==-1}e.l=function(A){return A=x(this,A),y(A)?-1:g(A)?0:1};function b(A){for(var S=A.g.length,I=[],N=0;N<S;N++)I[N]=~A.g[N];return new o(I,~A.h).add(p)}e.abs=function(){return y(this)?b(this):this},e.add=function(A){for(var S=Math.max(this.g.length,A.g.length),I=[],N=0,R=0;R<=S;R++){var D=N+(this.i(R)&65535)+(A.i(R)&65535),k=(D>>>16)+(this.i(R)>>>16)+(A.i(R)>>>16);N=k>>>16,D&=65535,k&=65535,I[R]=k<<16|D}return new o(I,I[I.length-1]&-2147483648?-1:0)};function x(A,S){return A.add(b(S))}e.j=function(A){if(g(this)||g(A))return d;if(y(this))return y(A)?b(this).j(b(A)):b(b(this).j(A));if(y(A))return b(this.j(b(A)));if(0>this.l(m)&&0>A.l(m))return u(this.m()*A.m());for(var S=this.g.length+A.g.length,I=[],N=0;N<2*S;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var R=0;R<A.g.length;R++){var D=this.i(N)>>>16,k=this.i(N)&65535,q=A.i(R)>>>16,te=A.i(R)&65535;I[2*N+2*R]+=k*te,w(I,2*N+2*R),I[2*N+2*R+1]+=D*te,w(I,2*N+2*R+1),I[2*N+2*R+1]+=k*q,w(I,2*N+2*R+1),I[2*N+2*R+2]+=D*q,w(I,2*N+2*R+2)}for(N=0;N<S;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=S;N<2*S;N++)I[N]=0;return new o(I,0)};function w(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function E(A,S){this.g=A,this.h=S}function P(A,S){if(g(S))throw Error("division by zero");if(g(A))return new E(d,d);if(y(A))return S=P(b(A),S),new E(b(S.g),b(S.h));if(y(S))return S=P(A,b(S)),new E(b(S.g),S.h);if(30<A.g.length){if(y(A)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var I=p,N=S;0>=N.l(A);)I=C(I),N=C(N);var R=j(I,1),D=j(N,1);for(N=j(N,2),I=j(I,2);!g(N);){var k=D.add(N);0>=k.l(A)&&(R=R.add(I),D=k),N=j(N,1),I=j(I,1)}return S=x(A,R.j(S)),new E(R,S)}for(R=d;0<=A.l(S);){for(I=Math.max(1,Math.floor(A.m()/S.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),D=u(I),k=D.j(S);y(k)||0<k.l(A);)I-=N,D=u(I),k=D.j(S);g(D)&&(D=p),R=R.add(D),A=x(A,k)}return new E(R,A)}e.A=function(A){return P(this,A).h},e.and=function(A){for(var S=Math.max(this.g.length,A.g.length),I=[],N=0;N<S;N++)I[N]=this.i(N)&A.i(N);return new o(I,this.h&A.h)},e.or=function(A){for(var S=Math.max(this.g.length,A.g.length),I=[],N=0;N<S;N++)I[N]=this.i(N)|A.i(N);return new o(I,this.h|A.h)},e.xor=function(A){for(var S=Math.max(this.g.length,A.g.length),I=[],N=0;N<S;N++)I[N]=this.i(N)^A.i(N);return new o(I,this.h^A.h)};function C(A){for(var S=A.g.length+1,I=[],N=0;N<S;N++)I[N]=A.i(N)<<1|A.i(N-1)>>>31;return new o(I,A.h)}function j(A,S){var I=S>>5;S%=32;for(var N=A.g.length-I,R=[],D=0;D<N;D++)R[D]=0<S?A.i(D+I)>>>S|A.i(D+I+1)<<32-S:A.i(D+I);return new o(R,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,vR=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,zo=o}).apply(typeof LS<"u"?LS:typeof self<"u"?self:typeof window<"u"?window:{});var Rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yR,Yu,xR,hh,J0,wR,bR,_R;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,T){return f==Array.prototype||f==Object.prototype||(f[_]=T.value),f};function r(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rf=="object"&&Rf];for(var _=0;_<f.length;++_){var T=f[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var n=r(this);function i(f,_){if(_)e:{var T=n;f=f.split(".");for(var O=0;O<f.length-1;O++){var M=f[O];if(!(M in T))break e;T=T[M]}f=f[f.length-1],O=T[f],_=_(O),_!=O&&_!=null&&t(T,f,{configurable:!0,writable:!0,value:_})}}function a(f,_){f instanceof String&&(f+="");var T=0,O=!1,M={next:function(){if(!O&&T<f.length){var $=T++;return{value:_($,f[$]),done:!1}}return O=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(f){return f||function(){return a(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function u(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function c(f,_,T){return f.call.apply(f.bind,arguments)}function d(f,_,T){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,O),f.apply(_,M)}}return function(){return f.apply(_,arguments)}}function p(f,_,T){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,p.apply(null,arguments)}function m(f,_){var T=Array.prototype.slice.call(arguments,1);return function(){var O=T.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function g(f,_){function T(){}T.prototype=_.prototype,f.aa=_.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(O,M,$){for(var K=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)K[$e-2]=arguments[$e];return _.prototype[M].apply(O,K)}}function y(f){const _=f.length;if(0<_){const T=Array(_);for(let O=0;O<_;O++)T[O]=f[O];return T}return[]}function b(f,_){for(let T=1;T<arguments.length;T++){const O=arguments[T];if(l(O)){const M=f.length||0,$=O.length||0;f.length=M+$;for(let K=0;K<$;K++)f[M+K]=O[K]}else f.push(O)}}class x{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function w(f){return/^[\s\xa0]*$/.test(f)}function E(){var f=s.navigator;return f&&(f=f.userAgent)?f:""}function P(f){return P[" "](f),f}P[" "]=function(){};var C=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function j(f,_,T){for(const O in f)_.call(T,f[O],O,f)}function A(f,_){for(const T in f)_.call(void 0,f[T],T,f)}function S(f){const _={};for(const T in f)_[T]=f[T];return _}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(f,_){let T,O;for(let M=1;M<arguments.length;M++){O=arguments[M];for(T in O)f[T]=O[T];for(let $=0;$<I.length;$++)T=I[$],Object.prototype.hasOwnProperty.call(O,T)&&(f[T]=O[T])}}function R(f){var _=1;f=f.split(":");const T=[];for(;0<_&&f.length;)T.push(f.shift()),_--;return f.length&&T.push(f.join(":")),T}function D(f){s.setTimeout(()=>{throw f},0)}function k(){var f=Y;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class q{constructor(){this.h=this.g=null}add(_,T){const O=te.get();O.set(_,T),this.h?this.h.next=O:this.g=O,this.h=O}}var te=new x(()=>new ie,f=>f.reset());class ie{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,F=!1,Y=new q,ae=()=>{const f=s.Promise.resolve(void 0);Q=()=>{f.then(xe)}};var xe=()=>{for(var f;f=k();){try{f.h.call(f.g)}catch(T){D(T)}var _=te;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}F=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Lt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};s.addEventListener("test",T,_),s.removeEventListener("test",T,_)}catch{}return f}();function lt(f,_){if(ge.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(C){e:{try{P(_.nodeName);var M=!0;break e}catch{}M=!1}M||(_=null)}}else T=="mouseover"?_=f.fromElement:T=="mouseout"&&(_=f.toElement);this.relatedTarget=_,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Sn[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&lt.aa.h.call(this)}}g(lt,ge);var Sn={2:"touch",3:"pen",4:"mouse"};lt.prototype.h=function(){lt.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Pn="closure_listenable_"+(1e6*Math.random()|0),ov=0;function ee(f,_,T,O,M){this.listener=f,this.proxy=null,this.src=_,this.type=T,this.capture=!!O,this.ha=M,this.key=++ov,this.da=this.fa=!1}function fe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ve(f){this.src=f,this.g={},this.h=0}ve.prototype.add=function(f,_,T,O,M){var $=f.toString();f=this.g[$],f||(f=this.g[$]=[],this.h++);var K=kt(f,_,O,M);return-1<K?(_=f[K],T||(_.fa=!1)):(_=new ee(_,this.src,$,!!O,M),_.fa=T,f.push(_)),_};function U(f,_){var T=_.type;if(T in f.g){var O=f.g[T],M=Array.prototype.indexOf.call(O,_,void 0),$;($=0<=M)&&Array.prototype.splice.call(O,M,1),$&&(fe(_),f.g[T].length==0&&(delete f.g[T],f.h--))}}function kt(f,_,T,O){for(var M=0;M<f.length;++M){var $=f[M];if(!$.da&&$.listener==_&&$.capture==!!T&&$.ha==O)return M}return-1}var Ce="closure_lm_"+(1e6*Math.random()|0),$t={};function Jt(f,_,T,O,M){if(Array.isArray(_)){for(var $=0;$<_.length;$++)Jt(f,_[$],T,O,M);return null}return T=qE(T),f&&f[Pn]?f.K(_,T,u(O)?!!O.capture:!1,M):xi(f,_,T,!1,O,M)}function xi(f,_,T,O,M,$){if(!_)throw Error("Invalid event type");var K=u(M)?!!M.capture:!!M,$e=lv(f);if($e||(f[Ce]=$e=new ve(f)),T=$e.add(_,T,O,K,$),T.proxy)return T;if(O=Jd(),T.proxy=O,O.src=f,O.listener=T,f.addEventListener)Lt||(M=K),M===void 0&&(M=!1),f.addEventListener(_.toString(),O,M);else if(f.attachEvent)f.attachEvent(BE(_.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Jd(){function f(T){return _.call(f.src,f.listener,T)}const _=V$;return f}function UE(f,_,T,O,M){if(Array.isArray(_))for(var $=0;$<_.length;$++)UE(f,_[$],T,O,M);else O=u(O)?!!O.capture:!!O,T=qE(T),f&&f[Pn]?(f=f.i,_=String(_).toString(),_ in f.g&&($=f.g[_],T=kt($,T,O,M),-1<T&&(fe($[T]),Array.prototype.splice.call($,T,1),$.length==0&&(delete f.g[_],f.h--)))):f&&(f=lv(f))&&(_=f.g[_.toString()],f=-1,_&&(f=kt(_,T,O,M)),(T=-1<f?_[f]:null)&&sv(T))}function sv(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Pn])U(_.i,f);else{var T=f.type,O=f.proxy;_.removeEventListener?_.removeEventListener(T,O,f.capture):_.detachEvent?_.detachEvent(BE(T),O):_.addListener&&_.removeListener&&_.removeListener(O),(T=lv(_))?(U(T,f),T.h==0&&(T.src=null,_[Ce]=null)):fe(f)}}}function BE(f){return f in $t?$t[f]:$t[f]="on"+f}function V$(f,_){if(f.da)f=!0;else{_=new lt(_,this);var T=f.listener,O=f.ha||f.src;f.fa&&sv(f),f=T.call(O,_)}return f}function lv(f){return f=f[Ce],f instanceof ve?f:null}var uv="__closure_events_fn_"+(1e9*Math.random()>>>0);function qE(f){return typeof f=="function"?f:(f[uv]||(f[uv]=function(_){return f.handleEvent(_)}),f[uv])}function Zt(){W.call(this),this.i=new ve(this),this.M=this,this.F=null}g(Zt,W),Zt.prototype[Pn]=!0,Zt.prototype.removeEventListener=function(f,_,T,O){UE(this,f,_,T,O)};function mr(f,_){var T,O=f.F;if(O)for(T=[];O;O=O.F)T.push(O);if(f=f.M,O=_.type||_,typeof _=="string")_=new ge(_,f);else if(_ instanceof ge)_.target=_.target||f;else{var M=_;_=new ge(O,f),N(_,M)}if(M=!0,T)for(var $=T.length-1;0<=$;$--){var K=_.g=T[$];M=Zd(K,O,!0,_)&&M}if(K=_.g=f,M=Zd(K,O,!0,_)&&M,M=Zd(K,O,!1,_)&&M,T)for($=0;$<T.length;$++)K=_.g=T[$],M=Zd(K,O,!1,_)&&M}Zt.prototype.N=function(){if(Zt.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var T=f.g[_],O=0;O<T.length;O++)fe(T[O]);delete f.g[_],f.h--}}this.F=null},Zt.prototype.K=function(f,_,T,O){return this.i.add(String(f),_,!1,T,O)},Zt.prototype.L=function(f,_,T,O){return this.i.add(String(f),_,!0,T,O)};function Zd(f,_,T,O){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var M=!0,$=0;$<_.length;++$){var K=_[$];if(K&&!K.da&&K.capture==T){var $e=K.listener,zt=K.ha||K.src;K.fa&&U(f.i,K),M=$e.call(zt,O)!==!1&&M}}return M&&!O.defaultPrevented}function KE(f,_,T){if(typeof f=="function")T&&(f=p(f,T));else if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:s.setTimeout(f,_||0)}function WE(f){f.g=KE(()=>{f.g=null,f.i&&(f.i=!1,WE(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class F$ extends W{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:WE(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fu(f){W.call(this),this.h=f,this.g={}}g(fu,W);var HE=[];function QE(f){j(f.g,function(_,T){this.g.hasOwnProperty(T)&&sv(_)},f),f.g={}}fu.prototype.N=function(){fu.aa.N.call(this),QE(this)},fu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cv=s.JSON.stringify,U$=s.JSON.parse,B$=class{stringify(f){return s.JSON.stringify(f,void 0)}parse(f){return s.JSON.parse(f,void 0)}};function dv(){}dv.prototype.h=null;function GE(f){return f.h||(f.h=f.i())}function YE(){}var hu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fv(){ge.call(this,"d")}g(fv,ge);function hv(){ge.call(this,"c")}g(hv,ge);var mo={},XE=null;function ef(){return XE=XE||new Zt}mo.La="serverreachability";function JE(f){ge.call(this,mo.La,f)}g(JE,ge);function pu(f){const _=ef();mr(_,new JE(_))}mo.STAT_EVENT="statevent";function ZE(f,_){ge.call(this,mo.STAT_EVENT,f),this.stat=_}g(ZE,ge);function gr(f){const _=ef();mr(_,new ZE(_,f))}mo.Ma="timingevent";function eT(f,_){ge.call(this,mo.Ma,f),this.size=_}g(eT,ge);function mu(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){f()},_)}function gu(){this.g=!0}gu.prototype.xa=function(){this.g=!1};function q$(f,_,T,O,M,$){f.info(function(){if(f.g)if($)for(var K="",$e=$.split("&"),zt=0;zt<$e.length;zt++){var Se=$e[zt].split("=");if(1<Se.length){var er=Se[0];Se=Se[1];var tr=er.split("_");K=2<=tr.length&&tr[1]=="type"?K+(er+"="+Se+"&"):K+(er+"=redacted&")}}else K=null;else K=$;return"XMLHTTP REQ ("+O+") [attempt "+M+"]: "+_+`
`+T+`
`+K})}function K$(f,_,T,O,M,$,K){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+M+"]: "+_+`
`+T+`
`+$+" "+K})}function Es(f,_,T,O){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+H$(f,T)+(O?" "+O:"")})}function W$(f,_){f.info(function(){return"TIMEOUT: "+_})}gu.prototype.info=function(){};function H$(f,_){if(!f.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var O=T[f];if(!(2>O.length)){var M=O[1];if(Array.isArray(M)&&!(1>M.length)){var $=M[0];if($!="noop"&&$!="stop"&&$!="close")for(var K=1;K<M.length;K++)M[K]=""}}}}return cv(T)}catch{return _}}var tf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pv;function rf(){}g(rf,dv),rf.prototype.g=function(){return new XMLHttpRequest},rf.prototype.i=function(){return{}},pv=new rf;function da(f,_,T,O){this.j=f,this.i=_,this.l=T,this.R=O||1,this.U=new fu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rT}function rT(){this.i=null,this.g="",this.h=!1}var nT={},mv={};function gv(f,_,T){f.L=1,f.v=sf(wi(_)),f.m=T,f.P=!0,iT(f,null)}function iT(f,_){f.F=Date.now(),nf(f),f.A=wi(f.v);var T=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),yT(T.i,"t",O),f.C=0,T=f.j.J,f.h=new rT,f.g=MT(f.j,T?_:null,!f.m),0<f.O&&(f.M=new F$(p(f.Y,f,f.g),f.O)),_=f.U,T=f.g,O=f.ca;var M="readystatechange";Array.isArray(M)||(M&&(HE[0]=M.toString()),M=HE);for(var $=0;$<M.length;$++){var K=Jt(T,M[$],O||_.handleEvent,!1,_.h||_);if(!K)break;_.g[K.key]=K}_=f.H?S(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),pu(),q$(f.i,f.u,f.A,f.l,f.R,f.m)}da.prototype.ca=function(f){f=f.target;const _=this.M;_&&bi(f)==3?_.j():this.Y(f)},da.prototype.Y=function(f){try{if(f==this.g)e:{const tr=bi(this.g);var _=this.g.Ba();const Ss=this.g.Z();if(!(3>tr)&&(tr!=3||this.g&&(this.h.h||this.g.oa()||AT(this.g)))){this.J||tr!=4||_==7||(_==8||0>=Ss?pu(3):pu(2)),vv(this);var T=this.g.Z();this.X=T;t:if(aT(this)){var O=AT(this.g);f="";var M=O.length,$=bi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){go(this),vu(this);var K="";break t}this.h.i=new s.TextDecoder}for(_=0;_<M;_++)this.h.h=!0,f+=this.h.i.decode(O[_],{stream:!($&&_==M-1)});O.length=0,this.h.g+=f,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=T==200,K$(this.i,this.u,this.A,this.l,this.R,tr,T),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,zt=this.g;if(($e=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w($e)){var Se=$e;break t}}Se=null}if(T=Se)Es(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yv(this,T);else{this.o=!1,this.s=3,gr(12),go(this),vu(this);break e}}if(this.P){T=!0;let In;for(;!this.J&&this.C<K.length;)if(In=Q$(this,K),In==mv){tr==4&&(this.s=4,gr(14),T=!1),Es(this.i,this.l,null,"[Incomplete Response]");break}else if(In==nT){this.s=4,gr(15),Es(this.i,this.l,K,"[Invalid Chunk]"),T=!1;break}else Es(this.i,this.l,In,null),yv(this,In);if(aT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tr!=4||K.length!=0||this.h.h||(this.s=1,gr(16),T=!1),this.o=this.o&&T,!T)Es(this.i,this.l,K,"[Invalid Chunked Response]"),go(this),vu(this);else if(0<K.length&&!this.W){this.W=!0;var er=this.j;er.g==this&&er.ba&&!er.M&&(er.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Tv(er),er.M=!0,gr(11))}}else Es(this.i,this.l,K,null),yv(this,K);tr==4&&go(this),this.o&&!this.J&&(tr==4?OT(this.j,this):(this.o=!1,nf(this)))}else d3(this.g),T==400&&0<K.indexOf("Unknown SID")?(this.s=3,gr(12)):(this.s=0,gr(13)),go(this),vu(this)}}}catch{}finally{}};function aT(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Q$(f,_){var T=f.C,O=_.indexOf(`
`,T);return O==-1?mv:(T=Number(_.substring(T,O)),isNaN(T)?nT:(O+=1,O+T>_.length?mv:(_=_.slice(O,O+T),f.C=O+T,_)))}da.prototype.cancel=function(){this.J=!0,go(this)};function nf(f){f.S=Date.now()+f.I,oT(f,f.I)}function oT(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=mu(p(f.ba,f),_)}function vv(f){f.B&&(s.clearTimeout(f.B),f.B=null)}da.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(W$(this.i,this.A),this.L!=2&&(pu(),gr(17)),go(this),this.s=2,vu(this)):oT(this,this.S-f)};function vu(f){f.j.G==0||f.J||OT(f.j,f)}function go(f){vv(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,QE(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function yv(f,_){try{var T=f.j;if(T.G!=0&&(T.g==f||xv(T.h,f))){if(!f.K&&xv(T.h,f)&&T.G==3){try{var O=T.Da.g.parse(_)}catch{O=null}if(Array.isArray(O)&&O.length==3){var M=O;if(M[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)hf(T),df(T);else break e;Ev(T),gr(18)}}else T.za=M[1],0<T.za-T.T&&37500>M[2]&&T.F&&T.v==0&&!T.C&&(T.C=mu(p(T.Za,T),6e3));if(1>=uT(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else yo(T,11)}else if((f.K||T.g==f)&&hf(T),!w(_))for(M=T.Da.g.parse(_),_=0;_<M.length;_++){let Se=M[_];if(T.T=Se[0],Se=Se[1],T.G==2)if(Se[0]=="c"){T.K=Se[1],T.ia=Se[2];const er=Se[3];er!=null&&(T.la=er,T.j.info("VER="+T.la));const tr=Se[4];tr!=null&&(T.Aa=tr,T.j.info("SVER="+T.Aa));const Ss=Se[5];Ss!=null&&typeof Ss=="number"&&0<Ss&&(O=1.5*Ss,T.L=O,T.j.info("backChannelRequestTimeoutMs_="+O)),O=T;const In=f.g;if(In){const mf=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mf){var $=O.h;$.g||mf.indexOf("spdy")==-1&&mf.indexOf("quic")==-1&&mf.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(wv($,$.h),$.h=null))}if(O.D){const Av=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;Av&&(O.ya=Av,qe(O.I,O.D,Av))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),O=T;var K=f;if(O.qa=DT(O,O.J?O.ia:null,O.W),K.K){cT(O.h,K);var $e=K,zt=O.L;zt&&($e.I=zt),$e.B&&(vv($e),nf($e)),O.g=K}else CT(O);0<T.i.length&&ff(T)}else Se[0]!="stop"&&Se[0]!="close"||yo(T,7);else T.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?yo(T,7):_v(T):Se[0]!="noop"&&T.l&&T.l.ta(Se),T.v=0)}}pu(4)}catch{}}var G$=class{constructor(f,_){this.g=f,this.map=_}};function sT(f){this.l=f||10,s.PerformanceNavigationTiming?(f=s.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lT(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function uT(f){return f.h?1:f.g?f.g.size:0}function xv(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function wv(f,_){f.g?f.g.add(_):f.h=_}function cT(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}sT.prototype.cancel=function(){if(this.i=dT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function dT(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const T of f.g.values())_=_.concat(T.D);return _}return y(f.i)}function Y$(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var _=[],T=f.length,O=0;O<T;O++)_.push(f[O]);return _}_=[],T=0;for(O in f)_[T++]=f[O];return _}function X$(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var _=[];f=f.length;for(var T=0;T<f;T++)_.push(T);return _}_=[],T=0;for(const O in f)_[T++]=O;return _}}}function fT(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var T=X$(f),O=Y$(f),M=O.length,$=0;$<M;$++)_.call(void 0,O[$],T&&T[$],f)}var hT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function J$(f,_){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var O=f[T].indexOf("="),M=null;if(0<=O){var $=f[T].substring(0,O);M=f[T].substring(O+1)}else $=f[T];_($,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function vo(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof vo){this.h=f.h,af(this,f.j),this.o=f.o,this.g=f.g,of(this,f.s),this.l=f.l;var _=f.i,T=new wu;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),pT(this,T),this.m=f.m}else f&&(_=String(f).match(hT))?(this.h=!1,af(this,_[1]||"",!0),this.o=yu(_[2]||""),this.g=yu(_[3]||"",!0),of(this,_[4]),this.l=yu(_[5]||"",!0),pT(this,_[6]||"",!0),this.m=yu(_[7]||"")):(this.h=!1,this.i=new wu(null,this.h))}vo.prototype.toString=function(){var f=[],_=this.j;_&&f.push(xu(_,mT,!0),":");var T=this.g;return(T||_=="file")&&(f.push("//"),(_=this.o)&&f.push(xu(_,mT,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(xu(T,T.charAt(0)=="/"?t3:e3,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",xu(T,n3)),f.join("")};function wi(f){return new vo(f)}function af(f,_,T){f.j=T?yu(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function of(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function pT(f,_,T){_ instanceof wu?(f.i=_,i3(f.i,f.h)):(T||(_=xu(_,r3)),f.i=new wu(_,f.h))}function qe(f,_,T){f.i.set(_,T)}function sf(f){return qe(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function yu(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function xu(f,_,T){return typeof f=="string"?(f=encodeURI(f).replace(_,Z$),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Z$(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var mT=/[#\/\?@]/g,e3=/[#\?:]/g,t3=/[#\?]/g,r3=/[#\?@]/g,n3=/#/g;function wu(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function fa(f){f.g||(f.g=new Map,f.h=0,f.i&&J$(f.i,function(_,T){f.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}e=wu.prototype,e.add=function(f,_){fa(this),this.i=null,f=Ts(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(_),this.h+=1,this};function gT(f,_){fa(f),_=Ts(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function vT(f,_){return fa(f),_=Ts(f,_),f.g.has(_)}e.forEach=function(f,_){fa(this),this.g.forEach(function(T,O){T.forEach(function(M){f.call(_,M,O,this)},this)},this)},e.na=function(){fa(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let O=0;O<_.length;O++){const M=f[O];for(let $=0;$<M.length;$++)T.push(_[O])}return T},e.V=function(f){fa(this);let _=[];if(typeof f=="string")vT(this,f)&&(_=_.concat(this.g.get(Ts(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)_=_.concat(f[T])}return _},e.set=function(f,_){return fa(this),this.i=null,f=Ts(this,f),vT(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},e.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function yT(f,_,T){gT(f,_),0<T.length&&(f.i=null,f.g.set(Ts(f,_),y(T)),f.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var O=_[T];const $=encodeURIComponent(String(O)),K=this.V(O);for(O=0;O<K.length;O++){var M=$;K[O]!==""&&(M+="="+encodeURIComponent(String(K[O]))),f.push(M)}}return this.i=f.join("&")};function Ts(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function i3(f,_){_&&!f.j&&(fa(f),f.i=null,f.g.forEach(function(T,O){var M=O.toLowerCase();O!=M&&(gT(this,O),yT(this,M,T))},f)),f.j=_}function a3(f,_){const T=new gu;if(s.Image){const O=new Image;O.onload=m(ha,T,"TestLoadImage: loaded",!0,_,O),O.onerror=m(ha,T,"TestLoadImage: error",!1,_,O),O.onabort=m(ha,T,"TestLoadImage: abort",!1,_,O),O.ontimeout=m(ha,T,"TestLoadImage: timeout",!1,_,O),s.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else _(!1)}function o3(f,_){const T=new gu,O=new AbortController,M=setTimeout(()=>{O.abort(),ha(T,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:O.signal}).then($=>{clearTimeout(M),$.ok?ha(T,"TestPingServer: ok",!0,_):ha(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(M),ha(T,"TestPingServer: error",!1,_)})}function ha(f,_,T,O,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),O(T)}catch{}}function s3(){this.g=new B$}function l3(f,_,T){const O=T||"";try{fT(f,function(M,$){let K=M;u(M)&&(K=cv(M)),_.push(O+$+"="+encodeURIComponent(K))})}catch(M){throw _.push(O+"type="+encodeURIComponent("_badmap")),M}}function lf(f){this.l=f.Ub||null,this.j=f.eb||!1}g(lf,dv),lf.prototype.g=function(){return new uf(this.l,this.j)},lf.prototype.i=function(f){return function(){return f}}({});function uf(f,_){Zt.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(uf,Zt),e=uf.prototype,e.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,_u(this)},e.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||s).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bu(this)),this.readyState=0},e.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,_u(this)),this.g&&(this.readyState=3,_u(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xT(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function xT(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}e.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?bu(this):_u(this),this.readyState==3&&xT(this)}},e.Ra=function(f){this.g&&(this.response=this.responseText=f,bu(this))},e.Qa=function(f){this.g&&(this.response=f,bu(this))},e.ga=function(){this.g&&bu(this)};function bu(f){f.readyState=4,f.l=null,f.j=null,f.v=null,_u(f)}e.setRequestHeader=function(f,_){this.u.append(f,_)},e.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=_.next();return f.join(`\r
`)};function _u(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(uf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function wT(f){let _="";return j(f,function(T,O){_+=O,_+=":",_+=T,_+=`\r
`}),_}function bv(f,_,T){e:{for(O in T){var O=!1;break e}O=!0}O||(T=wT(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):qe(f,_,T))}function ut(f){Zt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(ut,Zt);var u3=/^https?$/i,c3=["POST","PUT"];e=ut.prototype,e.Ha=function(f){this.J=f},e.ea=function(f,_,T,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pv.g(),this.v=this.o?GE(this.o):GE(pv),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch($){bT(this,$);return}if(f=T||"",T=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var M in O)T.set(M,O[M]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const $ of O.keys())T.set($,O.get($));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(T.keys()).find($=>$.toLowerCase()=="content-type"),M=s.FormData&&f instanceof s.FormData,!(0<=Array.prototype.indexOf.call(c3,_,void 0))||O||M||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,K]of T)this.g.setRequestHeader($,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{TT(this),this.u=!0,this.g.send(f),this.u=!1}catch($){bT(this,$)}};function bT(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,_T(f),cf(f)}function _T(f){f.A||(f.A=!0,mr(f,"complete"),mr(f,"error"))}e.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,mr(this,"complete"),mr(this,"abort"),cf(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cf(this,!0)),ut.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?ET(this):this.bb())},e.bb=function(){ET(this)};function ET(f){if(f.h&&typeof o<"u"&&(!f.v[1]||bi(f)!=4||f.Z()!=2)){if(f.u&&bi(f)==4)KE(f.Ea,0,f);else if(mr(f,"readystatechange"),bi(f)==4){f.h=!1;try{const K=f.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var O;if(O=K===0){var M=String(f.D).match(hT)[1]||null;!M&&s.self&&s.self.location&&(M=s.self.location.protocol.slice(0,-1)),O=!u3.test(M?M.toLowerCase():"")}T=O}if(T)mr(f,"complete"),mr(f,"success");else{f.m=6;try{var $=2<bi(f)?f.g.statusText:""}catch{$=""}f.l=$+" ["+f.Z()+"]",_T(f)}}finally{cf(f)}}}}function cf(f,_){if(f.g){TT(f);const T=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||mr(f,"ready");try{T.onreadystatechange=O}catch{}}}function TT(f){f.I&&(s.clearTimeout(f.I),f.I=null)}e.isActive=function(){return!!this.g};function bi(f){return f.g?f.g.readyState:0}e.Z=function(){try{return 2<bi(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),U$(_)}};function AT(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function d3(f){const _={};f=(f.g&&2<=bi(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(w(f[O]))continue;var T=R(f[O]);const M=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const $=_[M]||[];_[M]=$,$.push(T)}A(_,function(O){return O.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Eu(f,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||_}function ST(f){this.Aa=0,this.i=[],this.j=new gu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Eu("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Eu("baseRetryDelayMs",5e3,f),this.cb=Eu("retryDelaySeedMs",1e4,f),this.Wa=Eu("forwardChannelMaxRetries",2,f),this.wa=Eu("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new sT(f&&f.concurrentRequestLimit),this.Da=new s3,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ST.prototype,e.la=8,e.G=1,e.connect=function(f,_,T,O){gr(0),this.W=f,this.H=_||{},T&&O!==void 0&&(this.H.OSID=T,this.H.OAID=O),this.F=this.X,this.I=DT(this,null,this.W),ff(this)};function _v(f){if(PT(f),f.G==3){var _=f.U++,T=wi(f.I);if(qe(T,"SID",f.K),qe(T,"RID",_),qe(T,"TYPE","terminate"),Tu(f,T),_=new da(f,f.j,_),_.L=2,_.v=sf(wi(T)),T=!1,s.navigator&&s.navigator.sendBeacon)try{T=s.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&s.Image&&(new Image().src=_.v,T=!0),T||(_.g=MT(_.j,null),_.g.ea(_.v)),_.F=Date.now(),nf(_)}RT(f)}function df(f){f.g&&(Tv(f),f.g.cancel(),f.g=null)}function PT(f){df(f),f.u&&(s.clearTimeout(f.u),f.u=null),hf(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&s.clearTimeout(f.s),f.s=null)}function ff(f){if(!lT(f.h)&&!f.s){f.s=!0;var _=f.Ga;Q||ae(),F||(Q(),F=!0),Y.add(_,f),f.B=0}}function f3(f,_){return uT(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=mu(p(f.Ga,f,_),jT(f,f.B)),f.B++,!0)}e.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const M=new da(this,this.j,f);let $=this.o;if(this.S&&($?($=S($),N($,this.S)):$=this.S),this.m!==null||this.O||(M.H=$,$=null),this.P)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var O=this.i[T];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(_+=O,4096<_){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=kT(this,M,_),T=wi(this.I),qe(T,"RID",f),qe(T,"CVER",22),this.D&&qe(T,"X-HTTP-Session-Id",this.D),Tu(this,T),$&&(this.O?_="headers="+encodeURIComponent(String(wT($)))+"&"+_:this.m&&bv(T,this.m,$)),wv(this.h,M),this.Ua&&qe(T,"TYPE","init"),this.P?(qe(T,"$req",_),qe(T,"SID","null"),M.T=!0,gv(M,T,null)):gv(M,T,_),this.G=2}}else this.G==3&&(f?IT(this,f):this.i.length==0||lT(this.h)||IT(this))};function IT(f,_){var T;_?T=_.l:T=f.U++;const O=wi(f.I);qe(O,"SID",f.K),qe(O,"RID",T),qe(O,"AID",f.T),Tu(f,O),f.m&&f.o&&bv(O,f.m,f.o),T=new da(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),_&&(f.i=_.D.concat(f.i)),_=kT(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),wv(f.h,T),gv(T,O,_)}function Tu(f,_){f.H&&j(f.H,function(T,O){qe(_,O,T)}),f.l&&fT({},function(T,O){qe(_,O,T)})}function kT(f,_,T){T=Math.min(f.i.length,T);var O=f.l?p(f.l.Na,f.l,f):null;e:{var M=f.i;let $=-1;for(;;){const K=["count="+T];$==-1?0<T?($=M[0].g,K.push("ofs="+$)):$=0:K.push("ofs="+$);let $e=!0;for(let zt=0;zt<T;zt++){let Se=M[zt].g;const er=M[zt].map;if(Se-=$,0>Se)$=Math.max(0,M[zt].g-100),$e=!1;else try{l3(er,K,"req"+Se+"_")}catch{O&&O(er)}}if($e){O=K.join("&");break e}}}return f=f.i.splice(0,T),_.D=f,O}function CT(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;Q||ae(),F||(Q(),F=!0),Y.add(_,f),f.v=0}}function Ev(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=mu(p(f.Fa,f),jT(f,f.v)),f.v++,!0)}e.Fa=function(){if(this.u=null,NT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=mu(p(this.ab,this),f)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gr(10),df(this),NT(this))};function Tv(f){f.A!=null&&(s.clearTimeout(f.A),f.A=null)}function NT(f){f.g=new da(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=wi(f.qa);qe(_,"RID","rpc"),qe(_,"SID",f.K),qe(_,"AID",f.T),qe(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&qe(_,"TO",f.ja),qe(_,"TYPE","xmlhttp"),Tu(f,_),f.m&&f.o&&bv(_,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=sf(wi(_)),T.m=null,T.P=!0,iT(T,f)}e.Za=function(){this.C!=null&&(this.C=null,df(this),Ev(this),gr(19))};function hf(f){f.C!=null&&(s.clearTimeout(f.C),f.C=null)}function OT(f,_){var T=null;if(f.g==_){hf(f),Tv(f),f.g=null;var O=2}else if(xv(f.h,_))T=_.D,cT(f.h,_),O=1;else return;if(f.G!=0){if(_.o)if(O==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var M=f.B;O=ef(),mr(O,new eT(O,T)),ff(f)}else CT(f);else if(M=_.s,M==3||M==0&&0<_.X||!(O==1&&f3(f,_)||O==2&&Ev(f)))switch(T&&0<T.length&&(_=f.h,_.i=_.i.concat(T)),M){case 1:yo(f,5);break;case 4:yo(f,10);break;case 3:yo(f,6);break;default:yo(f,2)}}}function jT(f,_){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*_}function yo(f,_){if(f.j.info("Error code "+_),_==2){var T=p(f.fb,f),O=f.Xa;const M=!O;O=new vo(O||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||af(O,"https"),sf(O),M?a3(O.toString(),T):o3(O.toString(),T)}else gr(2);f.G=0,f.l&&f.l.sa(_),RT(f),PT(f)}e.fb=function(f){f?(this.j.info("Successfully pinged google.com"),gr(2)):(this.j.info("Failed to ping google.com"),gr(1))};function RT(f){if(f.G=0,f.ka=[],f.l){const _=dT(f.h);(_.length!=0||f.i.length!=0)&&(b(f.ka,_),b(f.ka,f.i),f.h.i.length=0,y(f.i),f.i.length=0),f.l.ra()}}function DT(f,_,T){var O=T instanceof vo?wi(T):new vo(T);if(O.g!="")_&&(O.g=_+"."+O.g),of(O,O.s);else{var M=s.location;O=M.protocol,_=_?_+"."+M.hostname:M.hostname,M=+M.port;var $=new vo(null);O&&af($,O),_&&($.g=_),M&&of($,M),T&&($.l=T),O=$}return T=f.D,_=f.ya,T&&_&&qe(O,T,_),qe(O,"VER",f.la),Tu(f,O),O}function MT(f,_,T){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new ut(new lf({eb:T})):new ut(f.pa),_.Ha(f.J),_}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function LT(){}e=LT.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function pf(){}pf.prototype.g=function(f,_){return new zr(f,_)};function zr(f,_){Zt.call(this),this.g=new ST(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!w(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!w(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new As(this)}g(zr,Zt),zr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zr.prototype.close=function(){_v(this.g)},zr.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=cv(f),f=T);_.i.push(new G$(_.Ya++,f)),_.G==3&&ff(_)},zr.prototype.N=function(){this.g.l=null,delete this.j,_v(this.g),delete this.g,zr.aa.N.call(this)};function $T(f){fv.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const T in _){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}g($T,fv);function zT(){hv.call(this),this.status=1}g(zT,hv);function As(f){this.g=f}g(As,LT),As.prototype.ua=function(){mr(this.g,"a")},As.prototype.ta=function(f){mr(this.g,new $T(f))},As.prototype.sa=function(f){mr(this.g,new zT)},As.prototype.ra=function(){mr(this.g,"b")},pf.prototype.createWebChannel=pf.prototype.g,zr.prototype.send=zr.prototype.o,zr.prototype.open=zr.prototype.m,zr.prototype.close=zr.prototype.close,_R=function(){return new pf},bR=function(){return ef()},wR=mo,J0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tf.NO_ERROR=0,tf.TIMEOUT=8,tf.HTTP_ERROR=6,hh=tf,tT.COMPLETE="complete",xR=tT,YE.EventType=hu,hu.OPEN="a",hu.CLOSE="b",hu.ERROR="c",hu.MESSAGE="d",Zt.prototype.listen=Zt.prototype.K,Yu=YE,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,yR=ut}).apply(typeof Rf<"u"?Rf:typeof self<"u"?self:typeof window<"u"?window:{});const $S="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sr=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};sr.UNAUTHENTICATED=new sr(null),sr.GOOGLE_CREDENTIALS=new sr("google-credentials-uid"),sr.FIRST_PARTY=new sr("first-party-uid"),sr.MOCK_USER=new sr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new Fm("@firebase/firestore");function Ru(){return Yo.logLevel}function re(e,...t){if(Yo.logLevel<=be.DEBUG){const r=t.map(Lb);Yo.debug(`Firestore (${Yl}): ${e}`,...r)}}function Qi(e,...t){if(Yo.logLevel<=be.ERROR){const r=t.map(Lb);Yo.error(`Firestore (${Yl}): ${e}`,...r)}}function bl(e,...t){if(Yo.logLevel<=be.WARN){const r=t.map(Lb);Yo.warn(`Firestore (${Yl}): ${e}`,...r)}}function Lb(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(e="Unexpected state"){const t=`FIRESTORE (${Yl}) INTERNAL ASSERTION FAILED: `+e;throw Qi(t),new Error(t)}function je(e,t){e||le()}function de(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends Wn{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class FB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(sr.UNAUTHENTICATED))}shutdown(){}}class UB{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class BB{constructor(t){this.t=t,this.currentUser=sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){je(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Li,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Li)}},0),o()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(je(typeof n.accessToken=="string"),new ER(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return je(t===null||typeof t=="string"),new sr(t)}}class qB{constructor(t,r,n){this.l=t,this.h=r,this.P=n,this.type="FirstParty",this.user=sr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class KB{constructor(t,r,n){this.l=t,this.h=r,this.P=n}getToken(){return Promise.resolve(new qB(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(sr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WB{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HB{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,r){je(this.o===void 0);const n=a=>{a.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>n(a))};const i=a=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(je(typeof r.token=="string"),this.R=r.token,new WB(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const i=QB(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=t.charAt(i[a]%t.length))}return n}}function Pe(e,t){return e<t?-1:e>t?1:0}function _l(e,t,r){return e.length===t.length&&e.every((n,i)=>r(n,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new G(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new G(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new G(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new G(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return St.fromMillis(Date.now())}static fromDate(t){return St.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*r));return new St(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Pe(this.nanoseconds,t.nanoseconds):Pe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ce(t)}static min(){return new ce(new St(0,0))}static max(){return new ce(new St(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,r,n){r===void 0?r=0:r>t.length&&le(),n===void 0?n=t.length-r:n>t.length-r&&le(),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return Bc.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Bc?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let i=0;i<n;i++){const a=t.get(i),o=r.get(i);if(a<o)return-1;if(a>o)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class Qe extends Bc{construct(t,r,n){return new Qe(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new G(z.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Qe(r)}static emptyPath(){return new Qe([])}}const GB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends Bc{construct(t,r,n){return new qt(t,r,n)}static isValidIdentifier(t){return GB.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new qt(["__name__"])}static fromServerFormat(t){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new G(z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<t.length;){const s=t[i];if(s==="\\"){if(i+1===t.length)throw new G(z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new G(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new G(z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qt(r)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t){this.path=t}static fromPath(t){return new oe(Qe.fromString(t))}static fromName(t){return new oe(Qe.fromString(t).popFirst(5))}static empty(){return new oe(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Qe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Qe.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new oe(new Qe(t.slice()))}}function YB(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(n===1e9?new St(r+1,0):new St(r,n));return new Xa(i,oe.empty(),t)}function XB(e){return new Xa(e.readTime,e.key,-1)}class Xa{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new Xa(ce.min(),oe.empty(),-1)}static max(){return new Xa(ce.max(),oe.empty(),-1)}}function JB(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=oe.comparator(e.documentKey,t.documentKey),r!==0?r:Pe(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ed(e){if(e.code!==z.FAILED_PRECONDITION||e.message!==ZB)throw e;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new V((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof V?r:V.resolve(r)}catch(r){return V.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):V.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):V.reject(r)}static resolve(t){return new V((r,n)=>{r(t)})}static reject(t){return new V((r,n)=>{n(t)})}static waitFor(t){return new V((r,n)=>{let i=0,a=0,o=!1;t.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&r()},l=>n(l))}),o=!0,a===i&&r()})}static or(t){let r=V.resolve(!1);for(const n of t)r=r.next(i=>i?V.resolve(i):n());return r}static forEach(t,r){const n=[];return t.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(t,r){return new V((n,i)=>{const a=t.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;r(t[u]).next(c=>{o[u]=c,++s,s===a&&n(o)},c=>i(c))}})}static doWhile(t,r){return new V((n,i)=>{const a=()=>{t()===!0?r().next(()=>{a()},i):n()};a()})}}function t8(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Td(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}$b.oe=-1;function Um(e){return e==null}function rp(e){return e===0&&1/e==-1/0}function r8(e){return typeof e=="number"&&Number.isInteger(e)&&!rp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function ps(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function AR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(t,r){this.comparator=t,this.root=r||Ut.EMPTY}insert(t,r){return new ot(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(t){return new ot(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Df(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Df(this.root,t,this.comparator,!1)}getReverseIterator(){return new Df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Df(this.root,t,this.comparator,!0)}}class Df{constructor(t,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=r?n(t.key,r):1,r&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ut{constructor(t,r,n,i,a){this.key=t,this.value=r,this.color=n??Ut.RED,this.left=i??Ut.EMPTY,this.right=a??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,i,a){return new Ut(t??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this;const a=n(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(t,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,i=this;if(r(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(t,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const t=this.left.check();if(t!==this.right.check())throw le();return t+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(t,r,n,i,a){return this}insert(t,r,n){return new Ut(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t){this.comparator=t,this.data=new ot(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;r(i.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new VS(this.data.getIterator())}getIteratorFrom(t){return new VS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof Ht)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Ht(this.comparator);return r.data=t,r}}class VS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t){this.fields=t,t.sort(qt.comparator)}static empty(){return new Qr([])}unionWith(t){let r=new Ht(qt.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new Qr(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return _l(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new SR("Invalid base64 string: "+a):a}}(t);return new Gt(r)}static fromUint8Array(t){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(t);return new Gt(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const n8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ja(e){if(je(!!e),typeof e=="string"){let t=0;const r=n8.exec(e);if(je(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:ht(e.seconds),nanos:ht(e.nanos)}}function ht(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Xo(e){return typeof e=="string"?Gt.fromBase64String(e):Gt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Vb(e){const t=e.mapValue.fields.__previous_value__;return zb(t)?Vb(t):t}function qc(e){const t=Ja(e.mapValue.fields.__local_write_time__.timestampValue);return new St(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(t,r,n,i,a,o,s,l,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class Kc{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new Kc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Kc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf={mapValue:{}};function Jo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?zb(e)?4:o8(e)?9007199254740991:a8(e)?10:11:le()}function ci(e,t){if(e===t)return!0;const r=Jo(e);if(r!==Jo(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return qc(e).isEqual(qc(t));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Ja(i.timestampValue),s=Ja(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,a){return Xo(i.bytesValue).isEqual(Xo(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,a){return ht(i.geoPointValue.latitude)===ht(a.geoPointValue.latitude)&&ht(i.geoPointValue.longitude)===ht(a.geoPointValue.longitude)}(e,t);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ht(i.integerValue)===ht(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=ht(i.doubleValue),s=ht(a.doubleValue);return o===s?rp(o)===rp(s):isNaN(o)&&isNaN(s)}return!1}(e,t);case 9:return _l(e.arrayValue.values||[],t.arrayValue.values||[],ci);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(zS(o)!==zS(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!ci(o[l],s[l])))return!1;return!0}(e,t);default:return le()}}function Wc(e,t){return(e.values||[]).find(r=>ci(r,t))!==void 0}function El(e,t){if(e===t)return 0;const r=Jo(e),n=Jo(t);if(r!==n)return Pe(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Pe(e.booleanValue,t.booleanValue);case 2:return function(a,o){const s=ht(a.integerValue||a.doubleValue),l=ht(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(e,t);case 3:return FS(e.timestampValue,t.timestampValue);case 4:return FS(qc(e),qc(t));case 5:return Pe(e.stringValue,t.stringValue);case 6:return function(a,o){const s=Xo(a),l=Xo(o);return s.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=Pe(s[u],l[u]);if(c!==0)return c}return Pe(s.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,o){const s=Pe(ht(a.latitude),ht(o.latitude));return s!==0?s:Pe(ht(a.longitude),ht(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return US(e.arrayValue,t.arrayValue);case 10:return function(a,o){var s,l,u,c;const d=a.fields||{},p=o.fields||{},m=(s=d.value)===null||s===void 0?void 0:s.arrayValue,g=(l=p.value)===null||l===void 0?void 0:l.arrayValue,y=Pe(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return y!==0?y:US(m,g)}(e.mapValue,t.mapValue);case 11:return function(a,o){if(a===Mf.mapValue&&o===Mf.mapValue)return 0;if(a===Mf.mapValue)return 1;if(o===Mf.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const p=Pe(l[d],c[d]);if(p!==0)return p;const m=El(s[l[d]],u[c[d]]);if(m!==0)return m}return Pe(l.length,c.length)}(e.mapValue,t.mapValue);default:throw le()}}function FS(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Pe(e,t);const r=Ja(e),n=Ja(t),i=Pe(r.seconds,n.seconds);return i!==0?i:Pe(r.nanos,n.nanos)}function US(e,t){const r=e.values||[],n=t.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=El(r[i],n[i]);if(a)return a}return Pe(r.length,n.length)}function Tl(e){return Z0(e)}function Z0(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=Ja(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return Xo(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return oe.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Z0(a);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${Z0(r.fields[o])}`;return i+"}"}(e.mapValue):le()}function BS(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ex(e){return!!e&&"integerValue"in e}function Fb(e){return!!e&&"arrayValue"in e}function qS(e){return!!e&&"nullValue"in e}function KS(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ph(e){return!!e&&"mapValue"in e}function a8(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function cc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ps(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=cc(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=cc(e.arrayValue.values[r]);return t}return Object.assign({},e)}function o8(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(t){this.value=t}static empty(){return new Cr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!ph(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=cc(r)}setAll(t){let r=qt.emptyPath(),n={},i=[];t.forEach((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=cc(o):i.push(s.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(t){const r=this.field(t.popLast());ph(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return ci(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=r.mapValue.fields[t.get(n)];ph(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(t,r,n){ps(r,(i,a)=>t[i]=a);for(const i of n)delete t[i]}clone(){return new Cr(cc(this.value))}}function PR(e){const t=[];return ps(e.fields,(r,n)=>{const i=new qt([r]);if(ph(n)){const a=PR(n.mapValue).fields;if(a.length===0)t.push(i);else for(const o of a)t.push(i.child(o))}else t.push(i)}),new Qr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(t,r,n,i,a,o,s){this.key=t,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(t){return new ur(t,0,ce.min(),ce.min(),ce.min(),Cr.empty(),0)}static newFoundDocument(t,r,n,i){return new ur(t,1,r,ce.min(),n,i,0)}static newNoDocument(t,r){return new ur(t,2,r,ce.min(),ce.min(),Cr.empty(),0)}static newUnknownDocument(t,r){return new ur(t,3,r,ce.min(),ce.min(),Cr.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Cr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ur&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(t,r){this.position=t,this.inclusive=r}}function WS(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(a.field.isKeyField()?n=oe.comparator(oe.fromName(o.referenceValue),r.key):n=El(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function HS(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!ci(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,r="asc"){this.field=t,this.dir=r}}function s8(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{}class wt extends IR{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new u8(t,r,n):r==="array-contains"?new f8(t,n):r==="in"?new h8(t,n):r==="not-in"?new p8(t,n):r==="array-contains-any"?new m8(t,n):new wt(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new c8(t,n):new d8(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(El(r,this.value)):r!==null&&Jo(this.value)===Jo(r)&&this.matchesComparison(El(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends IR{constructor(t,r){super(),this.filters=t,this.op=r,this.ae=null}static create(t,r){return new Un(t,r)}matches(t){return kR(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function kR(e){return e.op==="and"}function CR(e){return l8(e)&&kR(e)}function l8(e){for(const t of e.filters)if(t instanceof Un)return!1;return!0}function tx(e){if(e instanceof wt)return e.field.canonicalString()+e.op.toString()+Tl(e.value);if(CR(e))return e.filters.map(t=>tx(t)).join(",");{const t=e.filters.map(r=>tx(r)).join(",");return`${e.op}(${t})`}}function NR(e,t){return e instanceof wt?function(n,i){return i instanceof wt&&n.op===i.op&&n.field.isEqual(i.field)&&ci(n.value,i.value)}(e,t):e instanceof Un?function(n,i){return i instanceof Un&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,s)=>a&&NR(o,i.filters[s]),!0):!1}(e,t):void le()}function OR(e){return e instanceof wt?function(r){return`${r.field.canonicalString()} ${r.op} ${Tl(r.value)}`}(e):e instanceof Un?function(r){return r.op.toString()+" {"+r.getFilters().map(OR).join(" ,")+"}"}(e):"Filter"}class u8 extends wt{constructor(t,r,n){super(t,r,n),this.key=oe.fromName(n.referenceValue)}matches(t){const r=oe.comparator(t.key,this.key);return this.matchesComparison(r)}}class c8 extends wt{constructor(t,r){super(t,"in",r),this.keys=jR("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class d8 extends wt{constructor(t,r){super(t,"not-in",r),this.keys=jR("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function jR(e,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>oe.fromName(n.referenceValue))}class f8 extends wt{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return Fb(r)&&Wc(r.arrayValue,this.value)}}class h8 extends wt{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Wc(this.value.arrayValue,r)}}class p8 extends wt{constructor(t,r){super(t,"not-in",r)}matches(t){if(Wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!Wc(this.value.arrayValue,r)}}class m8 extends wt{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!Fb(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Wc(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(t,r=null,n=[],i=[],a=null,o=null,s=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ue=null}}function QS(e,t=null,r=[],n=[],i=null,a=null,o=null){return new g8(e,t,r,n,i,a,o)}function Ub(e){const t=de(e);if(t.ue===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>tx(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Um(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>Tl(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>Tl(n)).join(",")),t.ue=r}return t.ue}function Bb(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!s8(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!NR(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!HS(e.startAt,t.startAt)&&HS(e.endAt,t.endAt)}function rx(e){return oe.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(t,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function v8(e,t,r,n,i,a,o,s){return new Xl(e,t,r,n,i,a,o,s)}function Bm(e){return new Xl(e)}function GS(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function RR(e){return e.collectionGroup!==null}function dc(e){const t=de(e);if(t.ce===null){t.ce=[];const r=new Set;for(const a of t.explicitOrderBy)t.ce.push(a),r.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new Ht(qt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(t).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||t.ce.push(new Hc(a,n))}),r.has(qt.keyField().canonicalString())||t.ce.push(new Hc(qt.keyField(),n))}return t.ce}function ii(e){const t=de(e);return t.le||(t.le=y8(t,dc(e))),t.le}function y8(e,t){if(e.limitType==="F")return QS(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Hc(i.field,a)});const r=e.endAt?new np(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new np(e.startAt.position,e.startAt.inclusive):null;return QS(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function nx(e,t){const r=e.filters.concat([t]);return new Xl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function ip(e,t,r){return new Xl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function qm(e,t){return Bb(ii(e),ii(t))&&e.limitType===t.limitType}function DR(e){return`${Ub(ii(e))}|lt:${e.limitType}`}function Ns(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>OR(i)).join(", ")}]`),Um(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Tl(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Tl(i)).join(",")),`Target(${n})`}(ii(e))}; limitType=${e.limitType})`}function Km(e,t){return t.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):oe.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(e,t)&&function(n,i){for(const a of dc(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(e,t)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!function(o,s,l){const u=WS(o,s,l);return o.inclusive?u<=0:u<0}(n.startAt,dc(n),i)||n.endAt&&!function(o,s,l){const u=WS(o,s,l);return o.inclusive?u>=0:u>0}(n.endAt,dc(n),i))}(e,t)}function x8(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function MR(e){return(t,r)=>{let n=!1;for(const i of dc(e)){const a=w8(i,t,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function w8(e,t,r){const n=e.field.isKeyField()?oe.comparator(t.key,r.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?El(l,u):le()}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,r]);i.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){ps(this.inner,(r,n)=>{for(const[i,a]of n)t(i,a)})}isEmpty(){return AR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8=new ot(oe.comparator);function Gi(){return b8}const LR=new ot(oe.comparator);function Xu(...e){let t=LR;for(const r of e)t=t.insert(r.key,r);return t}function $R(e){let t=LR;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function ko(){return fc()}function zR(){return fc()}function fc(){return new Jl(e=>e.toString(),(e,t)=>e.isEqual(t))}const _8=new ot(oe.comparator),E8=new Ht(oe.comparator);function we(...e){let t=E8;for(const r of e)t=t.add(r);return t}const T8=new Ht(Pe);function A8(){return T8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rp(t)?"-0":t}}function VR(e){return{integerValue:""+e}}function S8(e,t){return r8(t)?VR(t):qb(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(){this._=void 0}}function P8(e,t,r){return e instanceof Qc?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&zb(a)&&(a=Vb(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(r,t):e instanceof Al?UR(e,t):e instanceof Sl?BR(e,t):function(i,a){const o=FR(i,a),s=YS(o)+YS(i.Pe);return ex(o)&&ex(i.Pe)?VR(s):qb(i.serializer,s)}(e,t)}function I8(e,t,r){return e instanceof Al?UR(e,t):e instanceof Sl?BR(e,t):r}function FR(e,t){return e instanceof ap?function(n){return ex(n)||function(a){return!!a&&"doubleValue"in a}(n)}(t)?t:{integerValue:0}:null}class Qc extends Wm{}class Al extends Wm{constructor(t){super(),this.elements=t}}function UR(e,t){const r=qR(t);for(const n of e.elements)r.some(i=>ci(i,n))||r.push(n);return{arrayValue:{values:r}}}class Sl extends Wm{constructor(t){super(),this.elements=t}}function BR(e,t){let r=qR(t);for(const n of e.elements)r=r.filter(i=>!ci(i,n));return{arrayValue:{values:r}}}class ap extends Wm{constructor(t,r){super(),this.serializer=t,this.Pe=r}}function YS(e){return ht(e.integerValue||e.doubleValue)}function qR(e){return Fb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(t,r){this.field=t,this.transform=r}}function k8(e,t){return e.field.isEqual(t.field)&&function(n,i){return n instanceof Al&&i instanceof Al||n instanceof Sl&&i instanceof Sl?_l(n.elements,i.elements,ci):n instanceof ap&&i instanceof ap?ci(n.Pe,i.Pe):n instanceof Qc&&i instanceof Qc}(e.transform,t.transform)}class C8{constructor(t,r){this.version=t,this.transformResults=r}}class yn{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new yn}static exists(t){return new yn(void 0,t)}static updateTime(t){return new yn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function mh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Hm{}function KR(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Wb(e.key,yn.none()):new Ad(e.key,e.data,yn.none());{const r=e.data,n=Cr.empty();let i=new Ht(qt.comparator);for(let a of t.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new oo(e.key,n,new Qr(i.toArray()),yn.none())}}function N8(e,t,r){e instanceof Ad?function(i,a,o){const s=i.value.clone(),l=JS(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(e,t,r):e instanceof oo?function(i,a,o){if(!mh(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=JS(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(WR(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,r)}function hc(e,t,r,n){return e instanceof Ad?function(a,o,s,l){if(!mh(a.precondition,o))return s;const u=a.value.clone(),c=ZS(a.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,r,n):e instanceof oo?function(a,o,s,l){if(!mh(a.precondition,o))return s;const u=ZS(a.fieldTransforms,l,o),c=o.data;return c.setAll(WR(a)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(e,t,r,n):function(a,o,s){return mh(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(e,t,r)}function O8(e,t){let r=null;for(const n of e.fieldTransforms){const i=t.data.field(n.field),a=FR(n.transform,i||null);a!=null&&(r===null&&(r=Cr.empty()),r.set(n.field,a))}return r||null}function XS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&_l(n,i,(a,o)=>k8(a,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ad extends Hm{constructor(t,r,n,i=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class oo extends Hm{constructor(t,r,n,i,a=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function WR(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function JS(e,t,r){const n=new Map;je(e.length===r.length);for(let i=0;i<r.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);n.set(a.field,I8(o,s,r[i]))}return n}function ZS(e,t,r){const n=new Map;for(const i of e){const a=i.transform,o=r.data.field(i.field);n.set(i.field,P8(a,o,t))}return n}class Wb extends Hm{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j8 extends Hm{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(t,r,n,i){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&N8(a,t,n[i])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=hc(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=hc(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=zR();return this.mutations.forEach(i=>{const a=t.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=KR(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ce.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),we())}isEqual(t){return this.batchId===t.batchId&&_l(this.mutations,t.mutations,(r,n)=>XS(r,n))&&_l(this.baseMutations,t.baseMutations,(r,n)=>XS(r,n))}}class Hb{constructor(t,r,n,i){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(t,r,n){je(t.mutations.length===n.length);let i=function(){return _8}();const a=t.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new Hb(t,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,_e;function L8(e){switch(e){default:return le();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function HR(e){if(e===void 0)return Qi("GRPC error has no .code"),z.UNKNOWN;switch(e){case yt.OK:return z.OK;case yt.CANCELLED:return z.CANCELLED;case yt.UNKNOWN:return z.UNKNOWN;case yt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case yt.INTERNAL:return z.INTERNAL;case yt.UNAVAILABLE:return z.UNAVAILABLE;case yt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case yt.NOT_FOUND:return z.NOT_FOUND;case yt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case yt.ABORTED:return z.ABORTED;case yt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case yt.DATA_LOSS:return z.DATA_LOSS;default:return le()}}(_e=yt||(yt={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8=new zo([4294967295,4294967295],0);function eP(e){const t=$8().encode(e),r=new vR;return r.update(t),new Uint8Array(r.digest())}function tP(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new zo([r,n],0),new zo([i,a],0)]}class Qb{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Ju(`Invalid padding: ${r}`);if(n<0)throw new Ju(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Ju(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new Ju(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*t.length-r,this.Te=zo.fromNumber(this.Ie)}Ee(t,r,n){let i=t.add(r.multiply(zo.fromNumber(n)));return i.compare(z8)===1&&(i=new zo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const r=eP(t),[n,i]=tP(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);if(!this.de(o))return!1}return!0}static create(t,r,n){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),o=new Qb(a,i,r);return n.forEach(s=>o.insert(s)),o}insert(t){if(this.Ie===0)return;const r=eP(t),[n,i]=tP(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);this.Ae(o)}}Ae(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class Ju extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(t,r,n,i,a){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const i=new Map;return i.set(t,Sd.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new Qm(ce.min(),i,new ot(Pe),Gi(),we())}}class Sd{constructor(t,r,n,i,a){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new Sd(n,r,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(t,r,n,i){this.Re=t,this.removedTargetIds=r,this.key=n,this.Ve=i}}class QR{constructor(t,r){this.targetId=t,this.me=r}}class GR{constructor(t,r,n=Gt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=i}}class rP{constructor(){this.fe=0,this.ge=iP(),this.pe=Gt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=we(),r=we(),n=we();return this.ge.forEach((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:le()}}),new Sd(this.pe,this.ye,t,r,n)}Ce(){this.we=!1,this.ge=iP()}Fe(t,r){this.we=!0,this.ge=this.ge.insert(t,r)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class V8{constructor(t){this.Le=t,this.Be=new Map,this.ke=Gi(),this.qe=nP(),this.Qe=new ot(Pe)}Ke(t){for(const r of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(r,t.Ve):this.Ue(r,t.key,t.Ve);for(const r of t.removedTargetIds)this.Ue(r,t.key,t.Ve)}We(t){this.forEachTarget(t,r=>{const n=this.Ge(r);switch(t.state){case 0:this.ze(r)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(t.resumeToken));break;default:le()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(t){const r=t.targetId,n=t.me.count,i=this.Je(r);if(i){const a=i.target;if(rx(a))if(n===0){const o=new oe(a.path);this.Ue(r,o,ur.newNoDocument(o,ce.min()))}else je(n===1);else{const o=this.Ye(r);if(o!==n){const s=this.Ze(t),l=s?this.Xe(s,t,o):1;if(l!==0){this.je(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,u)}}}}}Ze(t){const r=t.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=Xo(n).toUint8Array()}catch(l){if(l instanceof SR)return bl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new Qb(o,i,a)}catch(l){return bl(l instanceof Ju?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(t,r,n){return r.me.count===n-this.nt(t,r.targetId)?0:2}nt(t,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Le.tt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;t.mightContain(s)||(this.Ue(r,a,null),i++)}),i}rt(t){const r=new Map;this.Be.forEach((a,o)=>{const s=this.Je(o);if(s){if(a.current&&rx(s.target)){const l=new oe(s.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,ur.newNoDocument(l,t))}a.be&&(r.set(o,a.ve()),a.Ce())}});let n=we();this.qe.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(t));const i=new Qm(t,r,this.Qe,this.ke,n);return this.ke=Gi(),this.qe=nP(),this.Qe=new ot(Pe),i}$e(t,r){if(!this.ze(t))return;const n=this.it(t,r.key)?2:0;this.Ge(t).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(t))}Ue(t,r,n){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(t)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(t){this.Be.delete(t)}Ye(t){const r=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let r=this.Be.get(t);return r||(r=new rP,this.Be.set(t,r)),r}st(t){let r=this.qe.get(t);return r||(r=new Ht(Pe),this.qe=this.qe.insert(t,r)),r}ze(t){const r=this.Je(t)!==null;return r||re("WatchChangeAggregator","Detected inactive target",t),r}Je(t){const r=this.Be.get(t);return r&&r.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new rP),this.Le.getRemoteKeysForTarget(t).forEach(r=>{this.Ue(t,r,null)})}it(t,r){return this.Le.getRemoteKeysForTarget(t).has(r)}}function nP(){return new ot(oe.comparator)}function iP(){return new ot(oe.comparator)}const F8={asc:"ASCENDING",desc:"DESCENDING"},U8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B8={and:"AND",or:"OR"};class q8{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function ix(e,t){return e.useProto3Json||Um(t)?t:{value:t}}function op(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function YR(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function K8(e,t){return op(e,t.toTimestamp())}function ai(e){return je(!!e),ce.fromTimestamp(function(r){const n=Ja(r);return new St(n.seconds,n.nanos)}(e))}function Gb(e,t){return ax(e,t).canonicalString()}function ax(e,t){const r=function(i){return new Qe(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?r:r.child(t)}function XR(e){const t=Qe.fromString(e);return je(r2(t)),t}function ox(e,t){return Gb(e.databaseId,t.path)}function hy(e,t){const r=XR(t);if(r.get(1)!==e.databaseId.projectId)throw new G(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new G(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new oe(ZR(r))}function JR(e,t){return Gb(e.databaseId,t)}function W8(e){const t=XR(e);return t.length===4?Qe.emptyPath():ZR(t)}function sx(e){return new Qe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ZR(e){return je(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function aP(e,t,r){return{name:ox(e,t),fields:r.value.mapValue.fields}}function H8(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(je(c===void 0||typeof c=="string"),Gt.fromBase64String(c||"")):(je(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Gt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(u){const c=u.code===void 0?z.UNKNOWN:HR(u.code);return new G(c,u.message||"")}(o);r=new GR(n,i,a,s||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=hy(e,n.document.name),a=ai(n.document.updateTime),o=n.document.createTime?ai(n.document.createTime):ce.min(),s=new Cr({mapValue:{fields:n.document.fields}}),l=ur.newFoundDocument(i,a,o,s),u=n.targetIds||[],c=n.removedTargetIds||[];r=new gh(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=hy(e,n.document),a=n.readTime?ai(n.readTime):ce.min(),o=ur.newNoDocument(i,a),s=n.removedTargetIds||[];r=new gh([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=hy(e,n.document),a=n.removedTargetIds||[];r=new gh([],a,i,null)}else{if(!("filter"in t))return le();{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new M8(i,a),s=n.targetId;r=new QR(s,o)}}return r}function Q8(e,t){let r;if(t instanceof Ad)r={update:aP(e,t.key,t.value)};else if(t instanceof Wb)r={delete:ox(e,t.key)};else if(t instanceof oo)r={update:aP(e,t.key,t.data),updateMask:n7(t.fieldMask)};else{if(!(t instanceof j8))return le();r={verify:ox(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(a,o){const s=o.transform;if(s instanceof Qc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Al)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Sl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof ap)return{fieldPath:o.field.canonicalString(),increment:s.Pe};throw le()}(0,n))),t.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:K8(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:le()}(e,t.precondition)),r}function G8(e,t){return e&&e.length>0?(je(t!==void 0),e.map(r=>function(i,a){let o=i.updateTime?ai(i.updateTime):ai(a);return o.isEqual(ce.min())&&(o=ai(a)),new C8(o,i.transformResults||[])}(r,t))):[]}function Y8(e,t){return{documents:[JR(e,t.path)]}}function X8(e,t){const r={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=JR(e,i);const a=function(u){if(u.length!==0)return t2(Un.create(u,"and"))}(t.filters);a&&(r.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(c=>function(p){return{field:Os(p.field),direction:e7(p.dir)}}(c))}(t.orderBy);o&&(r.structuredQuery.orderBy=o);const s=ix(e,t.limit);return s!==null&&(r.structuredQuery.limit=s),t.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{_t:r,parent:i}}function J8(e){let t=W8(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){je(n===1);const c=r.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let a=[];r.where&&(a=function(d){const p=e2(d);return p instanceof Un&&CR(p)?p.getFilters():[p]}(r.where));let o=[];r.orderBy&&(o=function(d){return d.map(p=>function(g){return new Hc(js(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(r.orderBy));let s=null;r.limit&&(s=function(d){let p;return p=typeof d=="object"?d.value:d,Um(p)?null:p}(r.limit));let l=null;r.startAt&&(l=function(d){const p=!!d.before,m=d.values||[];return new np(m,p)}(r.startAt));let u=null;return r.endAt&&(u=function(d){const p=!d.before,m=d.values||[];return new np(m,p)}(r.endAt)),v8(t,i,o,a,s,"F",l,u)}function Z8(e,t){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function e2(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=js(r.unaryFilter.field);return wt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=js(r.unaryFilter.field);return wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=js(r.unaryFilter.field);return wt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=js(r.unaryFilter.field);return wt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(e):e.fieldFilter!==void 0?function(r){return wt.create(js(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return Un.create(r.compositeFilter.filters.map(n=>e2(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(r.compositeFilter.op))}(e):le()}function e7(e){return F8[e]}function t7(e){return U8[e]}function r7(e){return B8[e]}function Os(e){return{fieldPath:e.canonicalString()}}function js(e){return qt.fromServerFormat(e.fieldPath)}function t2(e){return e instanceof wt?function(r){if(r.op==="=="){if(KS(r.value))return{unaryFilter:{field:Os(r.field),op:"IS_NAN"}};if(qS(r.value))return{unaryFilter:{field:Os(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(KS(r.value))return{unaryFilter:{field:Os(r.field),op:"IS_NOT_NAN"}};if(qS(r.value))return{unaryFilter:{field:Os(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Os(r.field),op:t7(r.op),value:r.value}}}(e):e instanceof Un?function(r){const n=r.getFilters().map(i=>t2(i));return n.length===1?n[0]:{compositeFilter:{op:r7(r.op),filters:n}}}(e):le()}function n7(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function r2(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t,r,n,i,a=ce.min(),o=ce.min(),s=Gt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(t){return new Oa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(t){this.ct=t}}function a7(e){const t=J8({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?ip(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(){this.un=new s7}addToCollectionParentIndex(t,r){return this.un.add(r),V.resolve()}getCollectionParents(t,r){return V.resolve(this.un.getEntries(r))}addFieldIndex(t,r){return V.resolve()}deleteFieldIndex(t,r){return V.resolve()}deleteAllFieldIndexes(t){return V.resolve()}createTargetIndexes(t,r){return V.resolve()}getDocumentsMatchingTarget(t,r){return V.resolve(null)}getIndexType(t,r){return V.resolve(0)}getFieldIndexes(t,r){return V.resolve([])}getNextCollectionGroupToUpdate(t){return V.resolve(null)}getMinOffset(t,r){return V.resolve(Xa.min())}getMinOffsetFromCollectionGroup(t,r){return V.resolve(Xa.min())}updateCollectionGroup(t,r,n){return V.resolve()}updateIndexEntries(t,r){return V.resolve()}}class s7{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r]||new Ht(Qe.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Ht(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Pl(0)}static kn(){return new Pl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(){this.changes=new Jl(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,ur.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?V.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(t,r,n,i){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,r))).next(i=>(n!==null&&hc(n.mutation,i,Qr.empty(),St.now()),i))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,we()).next(()=>n))}getLocalViewOfDocuments(t,r,n=we()){const i=ko();return this.populateOverlays(t,i,r).next(()=>this.computeViews(t,r,i,n).next(a=>{let o=Xu();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,r){const n=ko();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,we()))}populateOverlays(t,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(t,i).next(a=>{a.forEach((o,s)=>{r.set(o,s)})})}computeViews(t,r,n,i){let a=Gi();const o=fc(),s=function(){return fc()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof oo)?a=a.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),hc(c.mutation,u,c.mutation.getFieldMask(),St.now())):o.set(u.key,Qr.empty())}),this.recalculateAndSaveOverlays(t,a).next(l=>(l.forEach((u,c)=>o.set(u,c)),r.forEach((u,c)=>{var d;return s.set(u,new u7(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),s))}recalculateAndSaveOverlays(t,r){const n=fc();let i=new ot((o,s)=>o-s),a=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||Qr.empty();c=s.applyToLocalView(u,c),n.set(l,c);const d=(i.get(s.batchId)||we()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,d=zR();c.forEach(p=>{if(!a.has(p)){const m=KR(r.get(p),n.get(p));m!==null&&d.set(p,m),a=a.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return V.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,i){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):RR(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,i):this.getDocumentsMatchingCollectionQuery(t,r,n,i)}getNextDocuments(t,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,i-a.size):V.resolve(ko());let s=-1,l=a;return o.next(u=>V.forEach(u,(c,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),a.get(c)?V.resolve():this.remoteDocumentCache.getEntry(t,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(t,u,a)).next(()=>this.computeViews(t,l,u,we())).next(c=>({batchId:s,changes:$R(c)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new oe(r)).next(n=>{let i=Xu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(t,r,n,i){const a=r.collectionGroup;let o=Xu();return this.indexManager.getCollectionParents(t,a).next(s=>V.forEach(s,l=>{const u=function(d,p){return new Xl(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(t,u,n,i).next(c=>{c.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,a,i))).next(o=>{a.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,ur.newInvalidDocument(c)))});let s=Xu();return o.forEach((l,u)=>{const c=a.get(l);c!==void 0&&hc(c.mutation,u,Qr.empty(),St.now()),Km(r,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,r){return V.resolve(this.hr.get(r))}saveBundleMetadata(t,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:ai(i.createTime)}}(r)),V.resolve()}getNamedQuery(t,r){return V.resolve(this.Pr.get(r))}saveNamedQuery(t,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:a7(i.bundledQuery),readTime:ai(i.readTime)}}(r)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(){this.overlays=new ot(oe.comparator),this.Ir=new Map}getOverlay(t,r){return V.resolve(this.overlays.get(r))}getOverlays(t,r){const n=ko();return V.forEach(r,i=>this.getOverlay(t,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((i,a)=>{this.ht(t,r,a)}),V.resolve()}removeOverlaysForBatchId(t,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),V.resolve()}getOverlaysForCollection(t,r,n){const i=ko(),a=r.length+1,o=new oe(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return V.resolve(i)}getOverlaysForCollectionGroup(t,r,n,i){let a=new ot((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=a.get(u.largestBatchId);c===null&&(c=ko(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=ko(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return V.resolve(s)}ht(t,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new D8(r,n));let a=this.Ir.get(r);a===void 0&&(a=we(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(t){return V.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,V.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.Tr=new Ht(Ct.Er),this.dr=new Ht(Ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,r){const n=new Ct(t,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Vr(new Ct(t,r))}mr(t,r){t.forEach(n=>this.removeReference(n,r))}gr(t){const r=new oe(new Qe([])),n=new Ct(r,t),i=new Ct(r,t+1),a=[];return this.dr.forEachInRange([n,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const r=new oe(new Qe([])),n=new Ct(r,t),i=new Ct(r,t+1);let a=we();return this.dr.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(t){const r=new Ct(t,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Ct{constructor(t,r){this.key=t,this.wr=r}static Er(t,r){return oe.comparator(t.key,r.key)||Pe(t.wr,r.wr)}static Ar(t,r){return Pe(t.wr,r.wr)||oe.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Ht(Ct.Er)}checkEmpty(t){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new R8(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.br=this.br.add(new Ct(s.key,a)),this.indexManager.addToCollectionParentIndex(t,s.key.path.popLast());return V.resolve(o)}lookupMutationBatch(t,r){return V.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return V.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Ct(r,0),i=new Ct(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],o=>{const s=this.Dr(o.wr);a.push(s)}),V.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Ht(Pe);return r.forEach(i=>{const a=new Ct(i,0),o=new Ct(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],s=>{n=n.add(s.wr)})}),V.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,i=n.length+1;let a=n;oe.isDocumentKey(a)||(a=a.child(""));const o=new Ct(new oe(a),0);let s=new Ht(Pe);return this.br.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},o),V.resolve(this.Cr(s))}Cr(t){const r=[];return t.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(t,r){je(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return V.forEach(r.mutations,i=>{const a=new Ct(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.br=n})}On(t){}containsKey(t,r){const n=new Ct(r,0),i=this.br.firstAfterOrEqual(n);return V.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,V.resolve()}Fr(t,r){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const r=this.vr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(t){this.Mr=t,this.docs=function(){return new ot(oe.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return V.resolve(n?n.document.mutableCopy():ur.newInvalidDocument(r))}getEntries(t,r){let n=Gi();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():ur.newInvalidDocument(i))}),V.resolve(n)}getDocumentsMatchingQuery(t,r,n,i){let a=Gi();const o=r.path,s=new oe(o.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||JB(XB(c),n)<=0||(i.has(c.key)||Km(r,c))&&(a=a.insert(c.key,c.mutableCopy()))}return V.resolve(a)}getAllFromCollectionGroup(t,r,n,i){le()}Or(t,r){return V.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new g7(this)}getSize(t){return V.resolve(this.size)}}class g7 extends l7{constructor(t){super(),this.cr=t}applyChanges(t){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(t,i)):this.cr.removeEntry(n)}),V.waitFor(r)}getFromCache(t,r){return this.cr.getEntry(t,r)}getAllFromCache(t,r){return this.cr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(t){this.persistence=t,this.Nr=new Jl(r=>Ub(r),Bb),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Yb,this.targetCount=0,this.kr=Pl.Bn()}forEachTarget(t,r){return this.Nr.forEach((n,i)=>r(i)),V.resolve()}getLastRemoteSnapshotVersion(t){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return V.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),V.resolve()}Kn(t){this.Nr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.kr=new Pl(r),this.highestTargetId=r),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,r){return this.Kn(r),this.targetCount+=1,V.resolve()}updateTargetData(t,r){return this.Kn(r),V.resolve()}removeTargetData(t,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,V.resolve()}removeTargets(t,r,n){let i=0;const a=[];return this.Nr.forEach((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),V.waitFor(a).next(()=>i)}getTargetCount(t){return V.resolve(this.targetCount)}getTargetData(t,r){const n=this.Nr.get(r)||null;return V.resolve(n)}addMatchingKeys(t,r,n){return this.Br.Rr(r,n),V.resolve()}removeMatchingKeys(t,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(t,o))}),V.waitFor(a)}removeMatchingKeysForTargetId(t,r){return this.Br.gr(r),V.resolve()}getMatchingKeysForTargetId(t,r){const n=this.Br.yr(r);return V.resolve(n)}containsKey(t,r){return V.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(t,r){this.qr={},this.overlays={},this.Qr=new $b(0),this.Kr=!1,this.Kr=!0,this.$r=new h7,this.referenceDelegate=t(this),this.Ur=new v7(this),this.indexManager=new o7,this.remoteDocumentCache=function(i){return new m7(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new i7(r),this.Gr=new d7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new f7,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.qr[t.toKey()];return n||(n=new p7(r,this.referenceDelegate),this.qr[t.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,r,n){re("MemoryPersistence","Starting transaction:",t);const i=new x7(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(t,r){return V.or(Object.values(this.qr).map(n=>()=>n.containsKey(t,r)))}}class x7 extends e8{constructor(t){super(),this.currentSequenceNumber=t}}class Xb{constructor(t){this.persistence=t,this.Jr=new Yb,this.Yr=null}static Zr(t){return new Xb(t)}get Xr(){if(this.Yr)return this.Yr;throw le()}addReference(t,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),V.resolve()}removeReference(t,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),V.resolve()}markPotentiallyOrphaned(t,r){return this.Xr.add(r.toString()),V.resolve()}removeTarget(t,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(t,r))}zr(){this.Yr=new Set}jr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Xr,n=>{const i=oe.fromPath(n);return this.ei(t,i).next(a=>{a||r.removeEntry(i,ce.min())})}).next(()=>(this.Yr=null,r.apply(t)))}updateLimboDocument(t,r){return this.ei(t,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(t){return 0}ei(t,r){return V.or([()=>V.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Hr(t,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(t,r,n,i){this.targetId=t,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(t,r){let n=we(),i=we();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Jb(t,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return _U()?8:t8(hr())>0?6:4}()}initialize(t,r){this.Ji=t,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(t,r,n,i){const a={result:null};return this.Yi(t,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(t,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new w7;return this.Xi(t,r,o).next(s=>{if(a.result=s,this.zi)return this.es(t,r,o,s.size)})}).next(()=>a.result)}es(t,r,n,i){return n.documentReadCount<this.ji?(Ru()<=be.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Ns(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),V.resolve()):(Ru()<=be.DEBUG&&re("QueryEngine","Query:",Ns(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Ru()<=be.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Ns(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ii(r))):V.resolve())}Yi(t,r){if(GS(r))return V.resolve(null);let n=ii(r);return this.indexManager.getIndexType(t,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=ip(r,null,"F"),n=ii(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(a=>{const o=we(...a);return this.Ji.getDocuments(t,o).next(s=>this.indexManager.getMinOffset(t,n).next(l=>{const u=this.ts(r,s);return this.ns(r,u,o,l.readTime)?this.Yi(t,ip(r,null,"F")):this.rs(t,u,r,l)}))})))}Zi(t,r,n,i){return GS(r)||i.isEqual(ce.min())?V.resolve(null):this.Ji.getDocuments(t,n).next(a=>{const o=this.ts(r,a);return this.ns(r,o,n,i)?V.resolve(null):(Ru()<=be.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ns(r)),this.rs(t,o,r,YB(i,-1)).next(s=>s))})}ts(t,r){let n=new Ht(MR(t));return r.forEach((i,a)=>{Km(t,a)&&(n=n.add(a))}),n}ns(t,r,n,i){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const a=t.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(t,r,n){return Ru()<=be.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Ns(r)),this.Ji.getDocumentsMatchingQuery(t,r,Xa.min(),n)}rs(t,r,n,i){return this.Ji.getDocumentsMatchingQuery(t,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(t,r,n,i){this.persistence=t,this.ss=r,this.serializer=i,this.os=new ot(Pe),this._s=new Jl(a=>Ub(a),Bb),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(n)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new c7(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.os))}}function E7(e,t,r,n){return new _7(e,t,r,n)}async function n2(e,t){const r=de(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(t),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],s=[];let l=we();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:s}))})})}function T7(e,t){const r=de(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=t.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const d=u.batch,p=d.keys();let m=V.resolve();return p.forEach(g=>{m=m.next(()=>c.getEntry(l,g)).next(y=>{const b=u.docVersions.get(g);je(b!==null),y.version.compareTo(b)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),m.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(r,n,t,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(s){let l=we();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,i))})}function i2(e){const t=de(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Ur.getLastRemoteSnapshotVersion(r))}function A7(e,t){const r=de(e),n=t.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const s=[];t.targetChanges.forEach((c,d)=>{const p=i.get(d);if(!p)return;s.push(r.Ur.removeMatchingKeys(a,c.removedDocuments,d).next(()=>r.Ur.addMatchingKeys(a,c.addedDocuments,d)));let m=p.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(d)!==null?m=m.withResumeToken(Gt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,n)),i=i.insert(d,m),function(y,b,x){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,m,c)&&s.push(r.Ur.updateTargetData(a,m))});let l=Gi(),u=we();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,c))}),s.push(S7(a,o,t.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!n.isEqual(ce.min())){const c=r.Ur.getLastRemoteSnapshotVersion(a).next(d=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(c)}return V.waitFor(s).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(r.os=i,a))}function S7(e,t,r){let n=we(),i=we();return r.forEach(a=>n=n.add(a)),t.getEntries(e,n).next(a=>{let o=Gi();return r.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(ce.min())?(t.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(s,l)):re("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function P7(e,t){const r=de(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function I7(e,t){const r=de(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,t).next(a=>a?(i=a,V.resolve(i)):r.Ur.allocateTargetId(n).next(o=>(i=new Oa(t,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(t,n.targetId)),n})}async function lx(e,t,r){const n=de(e),i=n.os.get(t),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Td(o))throw o;re("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}n.os=n.os.remove(t),n._s.delete(i.target)}function oP(e,t,r){const n=de(e);let i=ce.min(),a=we();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=de(l),p=d._s.get(c);return p!==void 0?V.resolve(d.os.get(p)):d.Ur.getTargetData(u,c)}(n,o,ii(t)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>n.ss.getDocumentsMatchingQuery(o,t,r?i:ce.min(),r?a:we())).next(s=>(k7(n,x8(t),s),{documents:s,Ts:a})))}function k7(e,t,r){let n=e.us.get(t)||ce.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),e.us.set(t,n)}class sP{constructor(){this.activeTargetIds=A8()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class C7{constructor(){this.so=new sP,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,r,n){this.oo[t]=r}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new sP,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lf=null;function py(){return Lf===null?Lf=function(){return 268435456+Math.round(2147483648*Math.random())}():Lf++,"0x"+Lf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir="WebChannelConnection";class R7 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,o){const s=py(),l=this.xo(r,n.toUriEncodedString());re("RestConnection",`Sending RPC '${r}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,a,o),this.No(r,l,u,i).then(c=>(re("RestConnection",`Received RPC '${r}' ${s}: `,c),c),c=>{throw bl("RestConnection",`RPC '${r}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(r,n,i,a,o,s){return this.Mo(r,n,i,a,o)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yl}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,o)=>r[o]=a),i&&i.headers.forEach((a,o)=>r[o]=a)}xo(r,n){const i=O7[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,r,n,i){const a=py();return new Promise((o,s)=>{const l=new yR;l.setWithCredentials(!0),l.listenOnce(xR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case hh.NO_ERROR:const c=l.getResponseJson();re(ir,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(c)),o(c);break;case hh.TIMEOUT:re(ir,`RPC '${t}' ${a} timed out`),s(new G(z.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const d=l.getStatus();if(re(ir,`RPC '${t}' ${a} failed with status:`,d,"response text:",l.getResponseText()),d>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const g=function(b){const x=b.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(x)>=0?x:z.UNKNOWN}(m.status);s(new G(g,m.message))}else s(new G(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new G(z.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{re(ir,`RPC '${t}' ${a} completed.`)}});const u=JSON.stringify(i);re(ir,`RPC '${t}' ${a} sending request:`,i),l.send(r,"POST",u,n,15)})}Bo(t,r,n){const i=py(),a=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=_R(),s=bR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=a.join("");re(ir,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let p=!1,m=!1;const g=new j7({Io:b=>{m?re(ir,`Not sending because RPC '${t}' stream ${i} is closed:`,b):(p||(re(ir,`Opening RPC '${t}' stream ${i} transport.`),d.open(),p=!0),re(ir,`RPC '${t}' stream ${i} sending:`,b),d.send(b))},To:()=>d.close()}),y=(b,x,w)=>{b.listen(x,E=>{try{w(E)}catch(P){setTimeout(()=>{throw P},0)}})};return y(d,Yu.EventType.OPEN,()=>{m||(re(ir,`RPC '${t}' stream ${i} transport opened.`),g.yo())}),y(d,Yu.EventType.CLOSE,()=>{m||(m=!0,re(ir,`RPC '${t}' stream ${i} transport closed`),g.So())}),y(d,Yu.EventType.ERROR,b=>{m||(m=!0,bl(ir,`RPC '${t}' stream ${i} transport errored:`,b),g.So(new G(z.UNAVAILABLE,"The operation could not be completed")))}),y(d,Yu.EventType.MESSAGE,b=>{var x;if(!m){const w=b.data[0];je(!!w);const E=w,P=E.error||((x=E[0])===null||x===void 0?void 0:x.error);if(P){re(ir,`RPC '${t}' stream ${i} received error:`,P);const C=P.status;let j=function(I){const N=yt[I];if(N!==void 0)return HR(N)}(C),A=P.message;j===void 0&&(j=z.INTERNAL,A="Unknown error status: "+C+" with message "+P.message),m=!0,g.So(new G(j,A)),d.close()}else re(ir,`RPC '${t}' stream ${i} received:`,w),g.bo(w)}}),y(s,wR.STAT_EVENT,b=>{b.stat===J0.PROXY?re(ir,`RPC '${t}' stream ${i} detected buffering proxy`):b.stat===J0.NOPROXY&&re(ir,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function my(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(e){return new q8(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t,r,n=1e3,i=1.5,a=6e4){this.ui=t,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(t,r,n,i,a,o,s,l){this.ui=t,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new a2(t,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():r&&r.code===z.RESOURCE_EXHAUSTED?(Qi(r.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(r)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{t(()=>{const i=new G(z.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(t,r){const n=this.h_(this.Yo);this.stream=this.T_(t,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return re("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return r=>{this.ui.enqueueAndForget(()=>this.Yo===t?r():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class D7 extends o2{constructor(t,r,n,i,a,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}T_(t,r){return this.connection.Bo("Listen",t,r)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const r=H8(this.serializer,t),n=function(a){if(!("targetChange"in a))return ce.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?ai(o.readTime):ce.min()}(t);return this.listener.d_(r,n)}A_(t){const r={};r.database=sx(this.serializer),r.addTarget=function(a,o){let s;const l=o.target;if(s=rx(l)?{documents:Y8(a,l)}:{query:X8(a,l)._t},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=YR(a,o.resumeToken);const u=ix(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(ce.min())>0){s.readTime=op(a,o.snapshotVersion.toTimestamp());const u=ix(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,t);const n=Z8(this.serializer,t);n&&(r.labels=n),this.a_(r)}R_(t){const r={};r.database=sx(this.serializer),r.removeTarget=t,this.a_(r)}}class M7 extends o2{constructor(t,r,n,i,a,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,r){return this.connection.Bo("Write",t,r)}E_(t){return je(!!t.streamToken),this.lastStreamToken=t.streamToken,je(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){je(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const r=G8(t.writeResults,t.commitTime),n=ai(t.commitTime);return this.listener.g_(n,r)}p_(){const t={};t.database=sx(this.serializer),this.a_(t)}m_(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>Q8(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7 extends class{}{constructor(t,r,n,i){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new G(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(t,ax(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new G(z.UNKNOWN,a.toString())})}Lo(t,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Lo(t,ax(r,n),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(z.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class $7{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qi(r),this.D_=!1):re("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(t,r,n,i,a){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{n.enqueueAndForget(async()=>{ms(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=de(l);u.L_.add(4),await Pd(u),u.q_.set("Unknown"),u.L_.delete(4),await Ym(u)}(this))})}),this.q_=new $7(n,i)}}async function Ym(e){if(ms(e))for(const t of e.B_)await t(!0)}async function Pd(e){for(const t of e.B_)await t(!1)}function s2(e,t){const r=de(e);r.N_.has(t.targetId)||(r.N_.set(t.targetId,t),r_(r)?t_(r):Zl(r).r_()&&e_(r,t))}function Zb(e,t){const r=de(e),n=Zl(r);r.N_.delete(t),n.r_()&&l2(r,t),r.N_.size===0&&(n.r_()?n.o_():ms(r)&&r.q_.set("Unknown"))}function e_(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ce.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Zl(e).A_(t)}function l2(e,t){e.Q_.xe(t),Zl(e).R_(t)}function t_(e){e.Q_=new V8({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Zl(e).start(),e.q_.v_()}function r_(e){return ms(e)&&!Zl(e).n_()&&e.N_.size>0}function ms(e){return de(e).L_.size===0}function u2(e){e.Q_=void 0}async function V7(e){e.q_.set("Online")}async function F7(e){e.N_.forEach((t,r)=>{e_(e,t)})}async function U7(e,t){u2(e),r_(e)?(e.q_.M_(t),t_(e)):e.q_.set("Unknown")}async function B7(e,t,r){if(e.q_.set("Online"),t instanceof GR&&t.state===2&&t.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.N_.delete(s),i.Q_.removeTarget(s))}(e,t)}catch(n){re("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await sp(e,n)}else if(t instanceof gh?e.Q_.Ke(t):t instanceof QR?e.Q_.He(t):e.Q_.We(t),!r.isEqual(ce.min()))try{const n=await i2(e.localStore);r.compareTo(n)>=0&&await function(a,o){const s=a.Q_.rt(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.N_.get(u);c&&a.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const c=a.N_.get(l);if(!c)return;a.N_.set(l,c.withResumeToken(Gt.EMPTY_BYTE_STRING,c.snapshotVersion)),l2(a,l);const d=new Oa(c.target,l,u,c.sequenceNumber);e_(a,d)}),a.remoteSyncer.applyRemoteEvent(s)}(e,r)}catch(n){re("RemoteStore","Failed to raise snapshot:",n),await sp(e,n)}}async function sp(e,t,r){if(!Td(t))throw t;e.L_.add(1),await Pd(e),e.q_.set("Offline"),r||(r=()=>i2(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await r(),e.L_.delete(1),await Ym(e)})}function c2(e,t){return t().catch(r=>sp(e,r,t))}async function Xm(e){const t=de(e),r=Za(t);let n=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;q7(t);)try{const i=await P7(t.localStore,n);if(i===null){t.O_.length===0&&r.o_();break}n=i.batchId,K7(t,i)}catch(i){await sp(t,i)}d2(t)&&f2(t)}function q7(e){return ms(e)&&e.O_.length<10}function K7(e,t){e.O_.push(t);const r=Za(e);r.r_()&&r.V_&&r.m_(t.mutations)}function d2(e){return ms(e)&&!Za(e).n_()&&e.O_.length>0}function f2(e){Za(e).start()}async function W7(e){Za(e).p_()}async function H7(e){const t=Za(e);for(const r of e.O_)t.m_(r.mutations)}async function Q7(e,t,r){const n=e.O_.shift(),i=Hb.from(n,t,r);await c2(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Xm(e)}async function G7(e,t){t&&Za(e).V_&&await async function(n,i){if(function(o){return L8(o)&&o!==z.ABORTED}(i.code)){const a=n.O_.shift();Za(n).s_(),await c2(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Xm(n)}}(e,t),d2(e)&&f2(e)}async function uP(e,t){const r=de(e);r.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const n=ms(r);r.L_.add(3),await Pd(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.L_.delete(3),await Ym(r)}async function Y7(e,t){const r=de(e);t?(r.L_.delete(2),await Ym(r)):t||(r.L_.add(2),await Pd(r),r.q_.set("Unknown"))}function Zl(e){return e.K_||(e.K_=function(r,n,i){const a=de(r);return a.w_(),new D7(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Eo:V7.bind(null,e),Ro:F7.bind(null,e),mo:U7.bind(null,e),d_:B7.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),r_(e)?t_(e):e.q_.set("Unknown")):(await e.K_.stop(),u2(e))})),e.K_}function Za(e){return e.U_||(e.U_=function(r,n,i){const a=de(r);return a.w_(),new M7(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:W7.bind(null,e),mo:G7.bind(null,e),f_:H7.bind(null,e),g_:Q7.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await Xm(e)):(await e.U_.stop(),e.O_.length>0&&(re("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(t,r,n,i,a){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,i,a){const o=Date.now()+n,s=new n_(t,r,o,i,a);return s.start(n),s}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function i_(e,t){if(Qi("AsyncQueue",`${t}: ${e}`),Td(e))return new G(z.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(t){this.comparator=t?(r,n)=>t(r,n)||oe.comparator(r.key,n.key):(r,n)=>oe.comparator(r.key,n.key),this.keyedMap=Xu(),this.sortedSet=new ot(this.comparator)}static emptySet(t){return new ol(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof ol)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new ol;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.W_=new ot(oe.comparator)}track(t){const r=t.doc.key,n=this.W_.get(r);n?t.type!==0&&n.type===3?this.W_=this.W_.insert(r,t):t.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.W_=this.W_.remove(r):t.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):le():this.W_=this.W_.insert(r,t)}G_(){const t=[];return this.W_.inorderTraversal((r,n)=>{t.push(n)}),t}}class Il{constructor(t,r,n,i,a,o,s,l,u){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,r,n,i,a){const o=[];return r.forEach(s=>{o.push({type:0,doc:s})}),new Il(t,r,ol.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&qm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class J7{constructor(){this.queries=dP(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=de(r),a=i.queries;i.queries=dP(),a.forEach((o,s)=>{for(const l of s.j_)l.onError(n)})})(this,new G(z.ABORTED,"Firestore shutting down"))}}function dP(){return new Jl(e=>DR(e),qm)}async function a_(e,t){const r=de(e);let n=3;const i=t.query;let a=r.queries.get(i);a?!a.H_()&&t.J_()&&(n=2):(a=new X7,n=t.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=i_(o,`Initialization of query '${Ns(t.query)}' failed`);return void t.onError(s)}r.queries.set(i,a),a.j_.push(t),t.Z_(r.onlineState),a.z_&&t.X_(a.z_)&&s_(r)}async function o_(e,t){const r=de(e),n=t.query;let i=3;const a=r.queries.get(n);if(a){const o=a.j_.indexOf(t);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=t.J_()?0:1:!a.H_()&&t.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Z7(e,t){const r=de(e);let n=!1;for(const i of t){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.j_)s.X_(i)&&(n=!0);o.z_=i}}n&&s_(r)}function eq(e,t,r){const n=de(e),i=n.queries.get(t);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(t)}function s_(e){e.Y_.forEach(t=>{t.next()})}var ux,fP;(fP=ux||(ux={})).ea="default",fP.Cache="cache";class l_{constructor(t,r,n){this.query=t,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new Il(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.na?this.ia(t)&&(this.ta.next(t),r=!0):this.sa(t,this.onlineState)&&(this.oa(t),r=!0),this.ra=t,r}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),r=!0),r}sa(t,r){if(!t.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(t){t=Il.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==ux.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(t){this.key=t}}class p2{constructor(t){this.key=t}}class tq{constructor(t,r){this.query=t,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=we(),this.mutatedKeys=we(),this.Aa=MR(t),this.Ra=new ol(this.Aa)}get Va(){return this.Ta}ma(t,r){const n=r?r.fa:new cP,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const p=i.get(c),m=Km(this.query,d)?d:null,g=!!p&&this.mutatedKeys.has(p.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let b=!1;p&&m?p.data.isEqual(m.data)?g!==y&&(n.track({type:3,doc:m}),b=!0):this.ga(p,m)||(n.track({type:2,doc:m}),b=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(s=!0)):!p&&m?(n.track({type:0,doc:m}),b=!0):p&&!m&&(n.track({type:1,doc:p}),b=!0,(l||u)&&(s=!0)),b&&(m?(o=o.add(m),a=y?a.add(c):a.delete(c)):(o=o.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),n.track({type:1,doc:c})}return{Ra:o,fa:n,ns:s,mutatedKeys:a}}ga(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,i){const a=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const o=t.fa.G_();o.sort((c,d)=>function(m,g){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return y(m)-y(g)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(n),i=i!=null&&i;const s=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Il(this.query,t.Ra,a,o,t.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new cP,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=we(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return t.forEach(n=>{this.da.has(n)||r.push(new p2(n))}),this.da.forEach(n=>{t.has(n)||r.push(new h2(n))}),r}ba(t){this.Ta=t.Ts,this.da=we();const r=this.ma(t.documents);return this.applyChanges(r,!0)}Da(){return Il.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class rq{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class nq{constructor(t){this.key=t,this.va=!1}}class iq{constructor(t,r,n,i,a,o){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Jl(s=>DR(s),qm),this.Ma=new Map,this.xa=new Set,this.Oa=new ot(oe.comparator),this.Na=new Map,this.La=new Yb,this.Ba={},this.ka=new Map,this.qa=Pl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function aq(e,t,r=!0){const n=w2(e);let i;const a=n.Fa.get(t);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await m2(n,t,r,!0),i}async function oq(e,t){const r=w2(e);await m2(r,t,!0,!1)}async function m2(e,t,r,n){const i=await I7(e.localStore,ii(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,r);let s;return n&&(s=await sq(e,t,a,o==="current",i.resumeToken)),e.isPrimaryClient&&r&&s2(e.remoteStore,i),s}async function sq(e,t,r,n,i){e.Ka=(d,p,m)=>async function(y,b,x,w){let E=b.view.ma(x);E.ns&&(E=await oP(y.localStore,b.query,!1).then(({documents:A})=>b.view.ma(A,E)));const P=w&&w.targetChanges.get(b.targetId),C=w&&w.targetMismatches.get(b.targetId)!=null,j=b.view.applyChanges(E,y.isPrimaryClient,P,C);return pP(y,b.targetId,j.wa),j.snapshot}(e,d,p,m);const a=await oP(e.localStore,t,!0),o=new tq(t,a.Ts),s=o.ma(a.documents),l=Sd.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",i),u=o.applyChanges(s,e.isPrimaryClient,l);pP(e,r,u.wa);const c=new rq(t,r,o);return e.Fa.set(t,c),e.Ma.has(r)?e.Ma.get(r).push(t):e.Ma.set(r,[t]),u.snapshot}async function lq(e,t,r){const n=de(e),i=n.Fa.get(t),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(o=>!qm(o,t))),void n.Fa.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await lx(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&Zb(n.remoteStore,i.targetId),cx(n,i.targetId)}).catch(Ed)):(cx(n,i.targetId),await lx(n.localStore,i.targetId,!0))}async function uq(e,t){const r=de(e),n=r.Fa.get(t),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Zb(r.remoteStore,n.targetId))}async function cq(e,t,r){const n=vq(e);try{const i=await function(o,s){const l=de(o),u=St.now(),c=s.reduce((m,g)=>m.add(g.key),we());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=Gi(),y=we();return l.cs.getEntries(m,c).next(b=>{g=b,g.forEach((x,w)=>{w.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(b=>{d=b;const x=[];for(const w of s){const E=O8(w,d.get(w.key).overlayedDocument);E!=null&&x.push(new oo(w.key,E,PR(E.value.mapValue),yn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,x,s)}).next(b=>{p=b;const x=b.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(m,b.batchId,x)})}).then(()=>({batchId:p.batchId,changes:$R(d)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new ot(Pe)),u=u.insert(s,l),o.Ba[o.currentUser.toKey()]=u}(n,i.batchId,r),await Id(n,i.changes),await Xm(n.remoteStore)}catch(i){const a=i_(i,"Failed to persist write");r.reject(a)}}async function g2(e,t){const r=de(e);try{const n=await A7(r.localStore,t);t.targetChanges.forEach((i,a)=>{const o=r.Na.get(a);o&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?je(o.va):i.removedDocuments.size>0&&(je(o.va),o.va=!1))}),await Id(r,n,t)}catch(n){await Ed(n)}}function hP(e,t,r){const n=de(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,o)=>{const s=o.view.Z_(t);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=de(o);l.onlineState=s;let u=!1;l.queries.forEach((c,d)=>{for(const p of d.j_)p.Z_(s)&&(u=!0)}),u&&s_(l)}(n.eventManager,t),i.length&&n.Ca.d_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function dq(e,t,r){const n=de(e);n.sharedClientState.updateQueryState(t,"rejected",r);const i=n.Na.get(t),a=i&&i.key;if(a){let o=new ot(oe.comparator);o=o.insert(a,ur.newNoDocument(a,ce.min()));const s=we().add(a),l=new Qm(ce.min(),new Map,new ot(Pe),o,s);await g2(n,l),n.Oa=n.Oa.remove(a),n.Na.delete(t),u_(n)}else await lx(n.localStore,t,!1).then(()=>cx(n,t,r)).catch(Ed)}async function fq(e,t){const r=de(e),n=t.batch.batchId;try{const i=await T7(r.localStore,t);y2(r,n,null),v2(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Id(r,i)}catch(i){await Ed(i)}}async function hq(e,t,r){const n=de(e);try{const i=await function(o,s){const l=de(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(d=>(je(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,t);y2(n,t,r),v2(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await Id(n,i)}catch(i){await Ed(i)}}function v2(e,t){(e.ka.get(t)||[]).forEach(r=>{r.resolve()}),e.ka.delete(t)}function y2(e,t,r){const n=de(e);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(t);a&&(r?a.reject(r):a.resolve(),i=i.remove(t)),n.Ba[n.currentUser.toKey()]=i}}function cx(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Ma.get(t))e.Fa.delete(n),r&&e.Ca.$a(n,r);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(n=>{e.La.containsKey(n)||x2(e,n)})}function x2(e,t){e.xa.delete(t.path.canonicalString());const r=e.Oa.get(t);r!==null&&(Zb(e.remoteStore,r),e.Oa=e.Oa.remove(t),e.Na.delete(r),u_(e))}function pP(e,t,r){for(const n of r)n instanceof h2?(e.La.addReference(n.key,t),pq(e,n)):n instanceof p2?(re("SyncEngine","Document no longer in limbo: "+n.key),e.La.removeReference(n.key,t),e.La.containsKey(n.key)||x2(e,n.key)):le()}function pq(e,t){const r=t.key,n=r.path.canonicalString();e.Oa.get(r)||e.xa.has(n)||(re("SyncEngine","New document in limbo: "+r),e.xa.add(n),u_(e))}function u_(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const r=new oe(Qe.fromString(t)),n=e.qa.next();e.Na.set(n,new nq(r)),e.Oa=e.Oa.insert(r,n),s2(e.remoteStore,new Oa(ii(Bm(r.path)),n,"TargetPurposeLimboResolution",$b.oe))}}async function Id(e,t,r){const n=de(e),i=[],a=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((s,l)=>{o.push(n.Ka(l,t,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const d=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=Jb.Wi(l.targetId,u);a.push(d)}}))}),await Promise.all(o),n.Ca.d_(i),await async function(l,u){const c=de(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>V.forEach(u,p=>V.forEach(p.$i,m=>c.persistence.referenceDelegate.addReference(d,p.targetId,m)).next(()=>V.forEach(p.Ui,m=>c.persistence.referenceDelegate.removeReference(d,p.targetId,m)))))}catch(d){if(!Td(d))throw d;re("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const p=d.targetId;if(!d.fromCache){const m=c.os.get(p),g=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(p,y)}}}(n.localStore,a))}async function mq(e,t){const r=de(e);if(!r.currentUser.isEqual(t)){re("SyncEngine","User change. New user:",t.toKey());const n=await n2(r.localStore,t);r.currentUser=t,function(a,o){a.ka.forEach(s=>{s.forEach(l=>{l.reject(new G(z.CANCELLED,o))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Id(r,n.hs)}}function gq(e,t){const r=de(e),n=r.Na.get(t);if(n&&n.va)return we().add(n.key);{let i=we();const a=r.Ma.get(t);if(!a)return i;for(const o of a){const s=r.Fa.get(o);i=i.unionWith(s.view.Va)}return i}}function w2(e){const t=de(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=g2.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gq.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dq.bind(null,t),t.Ca.d_=Z7.bind(null,t.eventManager),t.Ca.$a=eq.bind(null,t.eventManager),t}function vq(e){const t=de(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fq.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hq.bind(null,t),t}class lp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Gm(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,r){return null}Ha(t,r){return null}za(t){return E7(this.persistence,new b7,t.initialUser,this.serializer)}Ga(t){return new y7(Xb.Zr,this.serializer)}Wa(t){return new C7}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lp.provider={build:()=>new lp};class dx{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>hP(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=mq.bind(null,this.syncEngine),await Y7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new J7}()}createDatastore(t){const r=Gm(t.databaseInfo.databaseId),n=function(a){return new R7(a)}(t.databaseInfo);return function(a,o,s,l){return new L7(a,o,s,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,i,a,o,s){return new z7(n,i,a,o,s)}(this.localStore,this.datastore,t.asyncQueue,r=>hP(this.syncEngine,r,0),function(){return lP.D()?new lP:new N7}())}createSyncEngine(t,r){return function(i,a,o,s,l,u,c){const d=new iq(i,a,o,s,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(i){const a=de(i);re("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Pd(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}dx.provider={build:()=>new dx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Qi("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(t,r,n,i,a){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=sr.UNAUTHENTICATED,this.clientId=TR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{re("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(re("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=i_(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function gy(e,t){e.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async i=>{n.isEqual(i)||(await n2(t.localStore,i),n=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function mP(e,t){e.asyncQueue.verifyOperationInProgress();const r=await xq(e);re("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>uP(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,i)=>uP(t.remoteStore,i)),e._onlineComponents=t}async function xq(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{await gy(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;bl("Error using user provided cache. Falling back to memory cache: "+r),await gy(e,new lp)}}else re("FirestoreClient","Using default OfflineComponentProvider"),await gy(e,new lp);return e._offlineComponents}async function b2(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),await mP(e,e._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),await mP(e,new dx))),e._onlineComponents}function wq(e){return b2(e).then(t=>t.syncEngine)}async function up(e){const t=await b2(e),r=t.eventManager;return r.onListen=aq.bind(null,t.syncEngine),r.onUnlisten=lq.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=oq.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=uq.bind(null,t.syncEngine),r}function bq(e,t,r={}){const n=new Li;return e.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new c_({next:p=>{c.Za(),o.enqueueAndForget(()=>o_(a,d));const m=p.docs.has(s);!m&&p.fromCache?u.reject(new G(z.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new G(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new l_(Bm(s.path),c,{includeMetadataChanges:!0,_a:!0});return a_(a,d)}(await up(e),e.asyncQueue,t,r,n)),n.promise}function _q(e,t,r={}){const n=new Li;return e.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new c_({next:p=>{c.Za(),o.enqueueAndForget(()=>o_(a,d)),p.fromCache&&l.source==="server"?u.reject(new G(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new l_(s,c,{includeMetadataChanges:!0,_a:!0});return a_(a,d)}(await up(e),e.asyncQueue,t,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(e,t,r){if(!r)throw new G(z.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Eq(e,t,r,n){if(t===!0&&n===!0)throw new G(z.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function vP(e){if(!oe.isDocumentKey(e))throw new G(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function yP(e){if(oe.isDocumentKey(e))throw new G(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Jm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":le()}function Mr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new G(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Jm(e);throw new G(z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function Tq(e,t){if(t<=0)throw new G(z.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(t){var r,n;if(t.host===void 0){if(t.ssl!==void 0)throw new G(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(r=t.ssl)===null||r===void 0||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new G(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Eq("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_2((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new G(z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new G(z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new G(z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Zm{constructor(t,r,n,i){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xP({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new G(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xP(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new FB;switch(n.type){case"firstParty":return new KB(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new G(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=gP.get(r);n&&(re("ComponentProvider","Removing Datastore"),gP.delete(r),n.terminate())}(this),Promise.resolve()}}function Aq(e,t,r,n={}){var i;const a=(e=Mr(e,Zm))._getSettings(),o=`${t}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),n.mockUserToken){let s,l;if(typeof n.mockUserToken=="string")s=n.mockUserToken,l=sr.MOCK_USER;else{s=gU(n.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new G(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new sr(u)}e._authCredentials=new UB(new ER(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new aa(this.firestore,t,this._query)}}class dr{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new dr(this.firestore,t,this._key)}}class qa extends aa{constructor(t,r,n){super(t,r,Bm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new dr(this.firestore,null,new oe(t))}withConverter(t){return new qa(this.firestore,t,this._path)}}function ze(e,t,...r){if(e=et(e),E2("collection","path",t),e instanceof Zm){const n=Qe.fromString(t,...r);return yP(n),new qa(e,null,n)}{if(!(e instanceof dr||e instanceof qa))throw new G(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Qe.fromString(t,...r));return yP(n),new qa(e.firestore,null,n)}}function Le(e,t,...r){if(e=et(e),arguments.length===1&&(t=TR.newId()),E2("doc","path",t),e instanceof Zm){const n=Qe.fromString(t,...r);return vP(n),new dr(e,null,new oe(n))}{if(!(e instanceof dr||e instanceof qa))throw new G(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Qe.fromString(t,...r));return vP(n),new dr(e.firestore,e instanceof qa?e.converter:null,new oe(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new a2(this,"async_queue_retry"),this.Vu=()=>{const n=my();n&&re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=t;const r=my();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const r=my();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Li;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!Td(t))throw t;re("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const r=this.mu.then(()=>(this.du=!0,t().catch(n=>{this.Eu=n,this.du=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(n);throw Qi("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(t,r,n){this.fu(),this.Ru.indexOf(t)>-1&&(r=0);const i=n_.createAndSchedule(this,t,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&le()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const r of this.Tu)if(r.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const r=this.Tu.indexOf(t);this.Tu.splice(r,1)}}function bP(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(e,["next","error","complete"])}class Yi extends Zm{constructor(t,r,n,i){super(t,r,n,i),this.type="firestore",this._queue=new wP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new wP(t),this._firestoreClient=void 0,await t}}}function T2(e,t){const r=typeof e=="object"?e:_d(),n=typeof e=="string"?e:"(default)",i=hs(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=pU("firestore");a&&Aq(i,...a)}return i}function eg(e){if(e._terminated)throw new G(z.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Sq(e),e._firestoreClient}function Sq(e){var t,r,n;const i=e._freezeSettings(),a=function(s,l,u,c){return new i8(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,_2(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new yq(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new kl(Gt.fromBase64String(t))}catch(r){throw new G(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new kl(Gt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new G(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new G(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new G(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Pe(this._lat,t._lat)||Pe(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq=/^__.*__$/;class Iq{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new oo(t,this.data,this.fieldMask,r,this.fieldTransforms):new Ad(t,this.data,r,this.fieldTransforms)}}class A2{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new oo(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function S2(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class rg{constructor(t,r,n,i,a,o){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new rg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),i=this.Fu({path:n,xu:!1});return i.Ou(t),i}Nu(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return cp(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(S2(this.Cu)&&Pq.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class kq{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||Gm(t)}Qu(t,r,n,i=!1){return new rg({Cu:t,methodName:r,qu:n,path:qt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ng(e){const t=e._freezeSettings(),r=Gm(e._databaseId);return new kq(e._databaseId,!!t.ignoreUndefinedProperties,r)}function P2(e,t,r,n,i,a={}){const o=e.Qu(a.merge||a.mergeFields?2:0,t,r,i);g_("Data must be an object, but it was:",o,n);const s=k2(n,o);let l,u;if(a.merge)l=new Qr(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const c=[];for(const d of a.mergeFields){const p=fx(t,d,r);if(!o.contains(p))throw new G(z.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);N2(c,p)||c.push(p)}l=new Qr(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new Iq(new Cr(s),l,u)}class ig extends eu{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ig}}function I2(e,t,r){return new rg({Cu:3,qu:t.settings.qu,methodName:e._methodName,xu:r},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class h_ extends eu{_toFieldTransform(t){return new Kb(t.path,new Qc)}isEqual(t){return t instanceof h_}}class p_ extends eu{constructor(t,r){super(t),this.Ku=r}_toFieldTransform(t){const r=I2(this,t,!0),n=this.Ku.map(a=>gs(a,r)),i=new Al(n);return new Kb(t.path,i)}isEqual(t){return t instanceof p_&&Go(this.Ku,t.Ku)}}class m_ extends eu{constructor(t,r){super(t),this.Ku=r}_toFieldTransform(t){const r=I2(this,t,!0),n=this.Ku.map(a=>gs(a,r)),i=new Sl(n);return new Kb(t.path,i)}isEqual(t){return t instanceof m_&&Go(this.Ku,t.Ku)}}function Cq(e,t,r,n){const i=e.Qu(1,t,r);g_("Data must be an object, but it was:",i,n);const a=[],o=Cr.empty();ps(n,(l,u)=>{const c=v_(t,l,r);u=et(u);const d=i.Nu(c);if(u instanceof ig)a.push(c);else{const p=gs(u,d);p!=null&&(a.push(c),o.set(c,p))}});const s=new Qr(a);return new A2(o,s,i.fieldTransforms)}function Nq(e,t,r,n,i,a){const o=e.Qu(1,t,r),s=[fx(t,n,r)],l=[i];if(a.length%2!=0)throw new G(z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)s.push(fx(t,a[p])),l.push(a[p+1]);const u=[],c=Cr.empty();for(let p=s.length-1;p>=0;--p)if(!N2(u,s[p])){const m=s[p];let g=l[p];g=et(g);const y=o.Nu(m);if(g instanceof ig)u.push(m);else{const b=gs(g,y);b!=null&&(u.push(m),c.set(m,b))}}const d=new Qr(u);return new A2(c,d,o.fieldTransforms)}function Oq(e,t,r,n=!1){return gs(r,e.Qu(n?4:3,t))}function gs(e,t){if(C2(e=et(e)))return g_("Unsupported field value:",t,e),k2(e,t);if(e instanceof eu)return function(n,i){if(!S2(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const s of n){let l=gs(s,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(e,t)}return function(n,i){if((n=et(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return S8(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=St.fromDate(n);return{timestampValue:op(i.serializer,a)}}if(n instanceof St){const a=new St(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:op(i.serializer,a)}}if(n instanceof d_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof kl)return{bytesValue:YR(i.serializer,n._byteString)};if(n instanceof dr){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Gb(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof f_)return function(o,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return qb(s.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${Jm(n)}`)}(e,t)}function k2(e,t){const r={};return AR(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ps(e,(n,i)=>{const a=gs(i,t.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function C2(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof St||e instanceof d_||e instanceof kl||e instanceof dr||e instanceof eu||e instanceof f_)}function g_(e,t,r){if(!C2(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Jm(r);throw n==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+n)}}function fx(e,t,r){if((t=et(t))instanceof tg)return t._internalPath;if(typeof t=="string")return v_(e,t);throw cp("Field path arguments must be of type string or ",e,!1,void 0,r)}const jq=new RegExp("[~\\*/\\[\\]]");function v_(e,t,r){if(t.search(jq)>=0)throw cp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new tg(...t.split("."))._internalPath}catch{throw cp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function cp(e,t,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let s=`Function ${t}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${n}`),o&&(l+=` in document ${i}`),l+=")"),new G(z.INVALID_ARGUMENT,s+e+l)}function N2(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t,r,n,i,a){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Rq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(ag("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Rq extends O2{data(){return super.data()}}function ag(e,t){return typeof t=="string"?v_(e,t):t instanceof tg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new G(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class y_{}class x_ extends y_{}function xr(e,t,...r){let n=[];t instanceof y_&&n.push(t),n=n.concat(r),function(a){const o=a.filter(l=>l instanceof w_).length,s=a.filter(l=>l instanceof og).length;if(o>1||o>0&&s>0)throw new G(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)e=i._apply(e);return e}class og extends x_{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new og(t,r,n)}_apply(t){const r=this._parse(t);return R2(t._query,r),new aa(t.firestore,t.converter,nx(t._query,r))}_parse(t){const r=ng(t.firestore);return function(a,o,s,l,u,c,d){let p;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new G(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){EP(d,c);const m=[];for(const g of d)m.push(_P(l,a,g));p={arrayValue:{values:m}}}else p=_P(l,a,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||EP(d,c),p=Oq(s,o,d,c==="in"||c==="not-in");return wt.create(u,c,p)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function Ta(e,t,r){const n=t,i=ag("where",e);return og._create(i,n,r)}class w_ extends y_{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new w_(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Un.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)R2(o,l),o=nx(o,l)}(t._query,r),new aa(t.firestore,t.converter,nx(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class b_ extends x_{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new b_(t,r)}_apply(t){const r=function(i,a,o){if(i.startAt!==null)throw new G(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new G(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hc(a,o)}(t._query,this._field,this._direction);return new aa(t.firestore,t.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new Xl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,r))}}function so(e,t="asc"){const r=t,n=ag("orderBy",e);return b_._create(n,r)}class __ extends x_{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new __(t,r,n)}_apply(t){return new aa(t.firestore,t.converter,ip(t._query,this._limit,this._limitType))}}function tu(e){return Tq("limit",e),__._create("limit",e,"F")}function _P(e,t,r){if(typeof(r=et(r))=="string"){if(r==="")throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RR(t)&&r.indexOf("/")!==-1)throw new G(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Qe.fromString(r));if(!oe.isDocumentKey(n))throw new G(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return BS(e,new oe(n))}if(r instanceof dr)return BS(e,r._key);throw new G(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jm(r)}.`)}function EP(e,t){if(!Array.isArray(e)||e.length===0)throw new G(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function R2(e,t){const r=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new G(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new G(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class Dq{convertValue(t,r="none"){switch(Jo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ht(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Xo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw le()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return ps(t,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(t){var r,n,i;const a=(i=(n=(r=t.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>ht(o.doubleValue));return new f_(a)}convertGeoPoint(t){return new d_(ht(t.latitude),ht(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=Vb(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(qc(t));default:return null}}convertTimestamp(t){const r=Ja(t);return new St(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=Qe.fromString(t);je(r2(n));const i=new Kc(n.get(1),n.get(3)),a=new oe(n.popFirst(5));return i.isEqual(r)||Qi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class M2 extends O2{constructor(t,r,n,i,a,o){super(t,r,n,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(ag("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class vh extends M2{data(t={}){return super.data(t)}}class L2{constructor(t,r,n,i){this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new Zu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new vh(this._firestore,this._userDataWriter,n.key,n,new Zu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new G(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new vh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Zu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new vh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Zu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:Mq(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Mq(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(e){e=Mr(e,dr);const t=Mr(e.firestore,Yi);return bq(eg(t),e._key).then(r=>$2(t,e,r))}class E_ extends Dq{constructor(t){super(),this.firestore=t}convertBytes(t){return new kl(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new dr(this.firestore,null,r)}}function ft(e){e=Mr(e,aa);const t=Mr(e.firestore,Yi),r=eg(t),n=new E_(t);return j2(e._query),_q(r,e._query).then(i=>new L2(t,n,e,i))}function Cl(e,t,r){e=Mr(e,dr);const n=Mr(e.firestore,Yi),i=D2(e.converter,t,r);return sg(n,[P2(ng(n),"setDoc",e._key,i,e.converter!==null,r).toMutation(e._key,yn.none())])}function yr(e,t,r,...n){e=Mr(e,dr);const i=Mr(e.firestore,Yi),a=ng(i);let o;return o=typeof(t=et(t))=="string"||t instanceof tg?Nq(a,"updateDoc",e._key,t,r,n):Cq(a,"updateDoc",e._key,t),sg(i,[o.toMutation(e._key,yn.exists(!0))])}function T_(e){return sg(Mr(e.firestore,Yi),[new Wb(e._key,yn.none())])}function kd(e,t){const r=Mr(e.firestore,Yi),n=Le(e),i=D2(e.converter,t);return sg(r,[P2(ng(e.firestore),"addDoc",n._key,i,e.converter!==null,{}).toMutation(n._key,yn.exists(!1))]).then(()=>n)}function xfe(e,...t){var r,n,i;e=et(e);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof t[o]!="object"||bP(t[o])||(a=t[o],o++);const s={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(bP(t[o])){const d=t[o];t[o]=(r=d.next)===null||r===void 0?void 0:r.bind(d),t[o+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),t[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(e instanceof dr)u=Mr(e.firestore,Yi),c=Bm(e._key.path),l={next:d=>{t[o]&&t[o]($2(u,e,d))},error:t[o+1],complete:t[o+2]};else{const d=Mr(e,aa);u=Mr(d.firestore,Yi),c=d._query;const p=new E_(u);l={next:m=>{t[o]&&t[o](new L2(u,p,d,m))},error:t[o+1],complete:t[o+2]},j2(e._query)}return function(p,m,g,y){const b=new c_(y),x=new l_(m,b,g);return p.asyncQueue.enqueueAndForget(async()=>a_(await up(p),x)),()=>{b.Za(),p.asyncQueue.enqueueAndForget(async()=>o_(await up(p),x))}}(eg(u),c,s,l)}function sg(e,t){return function(n,i){const a=new Li;return n.asyncQueue.enqueueAndForget(async()=>cq(await wq(n),i,a)),a.promise}(eg(e),t)}function $2(e,t,r){const n=r.docs.get(t._key),i=new E_(e);return new M2(e,i,t._key,n,new Zu(r.hasPendingWrites,r.fromCache),t.converter)}function Co(){return new h_("serverTimestamp")}function hx(...e){return new p_("arrayUnion",e)}function z2(...e){return new m_("arrayRemove",e)}(function(t,r=!0){(function(i){Yl=i})(Gl),ui(new Fn("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new Yi(new BB(n.getProvider("auth-internal")),new HB(n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new G(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kc(u.options.projectId,c)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),vn($S,"4.7.3",t),vn($S,"4.7.3","esm2017")})();var Lq="firebase",$q="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn(Lq,$q,"app");function A_(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function V2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zq=V2,F2=new fs("auth","Firebase",V2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp=new Fm("@firebase/auth");function Vq(e,...t){dp.logLevel<=be.WARN&&dp.warn(`Auth (${Gl}): ${e}`,...t)}function yh(e,...t){dp.logLevel<=be.ERROR&&dp.error(`Auth (${Gl}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(e,...t){throw S_(e,...t)}function oi(e,...t){return S_(e,...t)}function U2(e,t,r){const n=Object.assign(Object.assign({},zq()),{[t]:r});return new fs("auth","Firebase",n).create(t,{appName:e.name})}function $i(e){return U2(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function S_(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return F2.create(e,...t)}function se(e,t,...r){if(!e)throw S_(t,...r)}function ki(e){const t="INTERNAL ASSERTION FAILED: "+e;throw yh(t),new Error(t)}function Xi(e,t){e||ki(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function Fq(){return TP()==="http:"||TP()==="https:"}function TP(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Fq()||lR()||"connection"in navigator)?navigator.onLine:!0}function Bq(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(t,r){this.shortDelay=t,this.longDelay=r,Xi(r>t,"Short delay should be less than long delay!"),this.isMobile=vU()||wU()}get(){return Uq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(e,t){Xi(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq=new Cd(3e4,6e4);function lo(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function vi(e,t,r,n,i={}){return q2(e,i,async()=>{let a={},o={};n&&(t==="GET"?o=n:a={body:JSON.stringify(n)});const s=bd(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},a);return xU()||(u.referrerPolicy="no-referrer"),B2.fetch()(K2(e,e.config.apiHost,r,s),u)})}async function q2(e,t,r){e._canInitEmulator=!1;const n=Object.assign(Object.assign({},qq),t);try{const i=new Hq(e),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw $f(e,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw $f(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw $f(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw $f(e,"user-disabled",o);const c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw U2(e,c,u);Bn(e,c)}}catch(i){if(i instanceof Wn)throw i;Bn(e,"network-request-failed",{message:String(i)})}}async function Nd(e,t,r,n,i={}){const a=await vi(e,t,r,n,i);return"mfaPendingCredential"in a&&Bn(e,"multi-factor-auth-required",{_serverResponse:a}),a}function K2(e,t,r,n){const i=`${t}${r}?${n}`;return e.config.emulator?P_(e.config,i):`${e.config.apiScheme}://${i}`}function Wq(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hq{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(oi(this.auth,"network-request-failed")),Kq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $f(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=oi(e,t,n);return i.customData._tokenResponse=r,i}function AP(e){return e!==void 0&&e.enterprise!==void 0}class Qq{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return Wq(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function Gq(e,t){return vi(e,"GET","/v2/recaptchaConfig",lo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yq(e,t){return vi(e,"POST","/v1/accounts:delete",t)}async function W2(e,t){return vi(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Xq(e,t=!1){const r=et(e),n=await r.getIdToken(t),i=I_(n);se(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:pc(vy(i.auth_time)),issuedAtTime:pc(vy(i.iat)),expirationTime:pc(vy(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function vy(e){return Number(e)*1e3}function I_(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const i=iR(r);return i?JSON.parse(i):(yh("Failed to decode base64 JWT payload"),null)}catch(i){return yh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function SP(e){const t=I_(e);return se(t,"internal-error"),se(typeof t.exp<"u","internal-error"),se(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof Wn&&Jq(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function Jq({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var r;if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=pc(this.lastLoginAt),this.creationTime=pc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fp(e){var t;const r=e.auth,n=await e.getIdToken(),i=await Zo(e,W2(r,{idToken:n}));se(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const o=!((t=a.providerUserInfo)===null||t===void 0)&&t.length?H2(a.providerUserInfo):[],s=tK(e.providerData,o),l=e.isAnonymous,u=!(e.email&&a.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new mx(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function eK(e){const t=et(e);await fp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function tK(e,t){return[...e.filter(n=>!t.some(i=>i.providerId===n.providerId)),...t]}function H2(e){return e.map(t=>{var{providerId:r}=t,n=A_(t,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rK(e,t){const r=await q2(e,{},async()=>{const n=bd({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:a}=e.config,o=K2(e,i,"/v1/token",`key=${a}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",B2.fetch()(o,{method:"POST",headers:s,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function nK(e,t){return vi(e,"POST","/v2/accounts:revokeToken",lo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){se(t.idToken,"internal-error"),se(typeof t.idToken<"u","internal-error"),se(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):SP(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){se(t.length!==0,"internal-error");const r=SP(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await rK(t,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new sl;return n&&(se(typeof n=="string","internal-error",{appName:t}),o.refreshToken=n),i&&(se(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),a&&(se(typeof a=="number","internal-error",{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new sl,this.toJSON())}_performRefresh(){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(e,t){se(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ci{constructor(t){var{uid:r,auth:n,stsTokenManager:i}=t,a=A_(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new mx(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const r=await Zo(this,this.stsTokenManager.getToken(this.auth,t));return se(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return Xq(this,t)}reload(){return eK(this)}_assign(t){this!==t&&(se(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>Object.assign({},r)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new Ci(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(t){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await fp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject($i(this.auth));const t=await this.getIdToken();return await Zo(this,Yq(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){var n,i,a,o,s,l,u,c;const d=(n=r.displayName)!==null&&n!==void 0?n:void 0,p=(i=r.email)!==null&&i!==void 0?i:void 0,m=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,g=(o=r.photoURL)!==null&&o!==void 0?o:void 0,y=(s=r.tenantId)!==null&&s!==void 0?s:void 0,b=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=r.createdAt)!==null&&u!==void 0?u:void 0,w=(c=r.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:E,emailVerified:P,isAnonymous:C,providerData:j,stsTokenManager:A}=r;se(E&&A,t,"internal-error");const S=sl.fromJSON(this.name,A);se(typeof E=="string",t,"internal-error"),ma(d,t.name),ma(p,t.name),se(typeof P=="boolean",t,"internal-error"),se(typeof C=="boolean",t,"internal-error"),ma(m,t.name),ma(g,t.name),ma(y,t.name),ma(b,t.name),ma(x,t.name),ma(w,t.name);const I=new Ci({uid:E,auth:t,email:p,emailVerified:P,displayName:d,isAnonymous:C,photoURL:g,phoneNumber:m,tenantId:y,stsTokenManager:S,createdAt:x,lastLoginAt:w});return j&&Array.isArray(j)&&(I.providerData=j.map(N=>Object.assign({},N))),b&&(I._redirectEventId=b),I}static async _fromIdTokenResponse(t,r,n=!1){const i=new sl;i.updateFromServerResponse(r);const a=new Ci({uid:r.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await fp(a),a}static async _fromGetAccountInfoResponse(t,r,n){const i=r.users[0];se(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?H2(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new sl;s.updateFromIdToken(n);const l=new Ci({uid:i.localId,auth:t,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new mx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=new Map;function Ni(e){Xi(e instanceof Function,"Expected a class definition");let t=PP.get(e);return t?(Xi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,PP.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}Q2.type="NONE";const IP=Q2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(e,t,r){return`firebase:${e}:${t}:${r}`}class ll{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=xh(this.userKey,i.apiKey,a),this.fullPersistenceKey=xh("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Ci._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new ll(Ni(IP),t,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Ni(IP);const o=xh(n,t.config.apiKey,t.name);let s=null;for(const u of r)try{const c=await u._get(o);if(c){const d=Ci._fromJSON(t,c);u!==a&&(s=d),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new ll(a,t,n):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new ll(a,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(J2(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(G2(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(eD(t))return"Blackberry";if(tD(t))return"Webos";if(Y2(t))return"Safari";if((t.includes("chrome/")||X2(t))&&!t.includes("edge/"))return"Chrome";if(Z2(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function G2(e=hr()){return/firefox\//i.test(e)}function Y2(e=hr()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function X2(e=hr()){return/crios\//i.test(e)}function J2(e=hr()){return/iemobile/i.test(e)}function Z2(e=hr()){return/android/i.test(e)}function eD(e=hr()){return/blackberry/i.test(e)}function tD(e=hr()){return/webos/i.test(e)}function k_(e=hr()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function iK(e=hr()){var t;return k_(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function aK(){return bU()&&document.documentMode===10}function rD(e=hr()){return k_(e)||Z2(e)||tD(e)||eD(e)||/windows phone/i.test(e)||J2(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(e,t=[]){let r;switch(e){case"Browser":r=kP(hr());break;case"Worker":r=`${kP(hr())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${Gl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=a=>new Promise((o,s)=>{try{const l=t(a);o(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sK(e,t={}){return vi(e,"GET","/v2/passwordPolicy",lo(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lK=6;class uK{constructor(t){var r,n,i,a;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:lK,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=t.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var r,n,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),i&&(r.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<t.length;i++)n=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cK{constructor(t,r,n,i){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CP(this),this.idTokenSubscription=new CP(this),this.beforeStateQueue=new oK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=F2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Ni(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await ll.create(this,t),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await W2(this,{idToken:t}),n=await Ci._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(Zn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await fp(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Bq()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zn(this.app))return Promise.reject($i(this));const r=t?et(t):null;return r&&se(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&se(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zn(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await sK(this),r=new uK(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new fs("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await nK(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Ni(t)||this._popupRedirectResolver;se(r,this,"argument-error"),this.redirectPersistenceManager=await ll.create(this,[Ni(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const l=t.addObserver(r,n,i);return()=>{o=!0,l()}}else{const l=t.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=nD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var t;const r=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return r!=null&&r.error&&Vq(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function vs(e){return et(e)}class CP{constructor(t){this.auth=t,this.observer=null,this.addObserver=IU(r=>this.observer=r)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dK(e){lg=e}function iD(e){return lg.loadJS(e)}function fK(){return lg.recaptchaEnterpriseScript}function hK(){return lg.gapiScript}function pK(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const mK="recaptcha-enterprise",gK="NO_RECAPTCHA";class vK{constructor(t){this.type=mK,this.auth=vs(t)}async verify(t="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{Gq(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new Qq(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;AP(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:t}).then(u=>{o(u)}).catch(()=>{o(gK)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{n(this.auth).then(s=>{if(!r&&AP(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=fK();l.length!==0&&(l+=s),iD(l).then(()=>{i(s,a,o)}).catch(u=>{o(u)})}}).catch(s=>{o(s)})})}}async function NP(e,t,r,n=!1){const i=new vK(e);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const o=Object.assign({},t);return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function gx(e,t,r,n){var i;if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await NP(e,t,r,r==="getOobCode");return n(e,a)}else return n(e,t).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await NP(e,t,r,r==="getOobCode");return n(e,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yK(e,t){const r=hs(e,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Go(a,t??{}))return i;Bn(i,"already-initialized")}return r.initialize({options:t})}function xK(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Ni);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function wK(e,t,r){const n=vs(e);se(n._canInitEmulator,n,"emulator-config-failed"),se(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const i=!1,a=aD(t),{host:o,port:s}=bK(t),l=s===null?"":`:${s}`;n.config.emulator={url:`${a}//${o}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),_K()}function aD(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function bK(e){const t=aD(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:OP(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:OP(o)}}}function OP(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function _K(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return ki("not implemented")}_getIdTokenResponse(t){return ki("not implemented")}_linkToIdToken(t,r){return ki("not implemented")}_getReauthenticationResolver(t){return ki("not implemented")}}async function EK(e,t){return vi(e,"POST","/v1/accounts:update",t)}async function TK(e,t){return vi(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AK(e,t){return Nd(e,"POST","/v1/accounts:signInWithPassword",lo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SK(e,t){return Nd(e,"POST","/v1/accounts:signInWithEmailLink",lo(e,t))}async function PK(e,t){return Nd(e,"POST","/v1/accounts:signInWithEmailLink",lo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends C_{constructor(t,r,n,i=null){super("password",n),this._email=t,this._password=r,this._tenantId=i}static _fromEmailAndPassword(t,r){return new Gc(t,r,"password")}static _fromEmailAndCode(t,r,n=null){return new Gc(t,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gx(t,r,"signInWithPassword",AK);case"emailLink":return SK(t,{email:this._email,oobCode:this._password});default:Bn(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gx(t,n,"signUpPassword",TK);case"emailLink":return PK(t,{idToken:r,email:this._email,oobCode:this._password});default:Bn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(e,t){return Nd(e,"POST","/v1/accounts:signInWithIdp",lo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IK="http://localhost";class es extends C_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new es(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):Bn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:i}=r,a=A_(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new es(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(t){const r=this.buildRequest();return ul(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,ul(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,ul(t,r)}buildRequest(){const t={requestUri:IK,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=bd(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kK(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CK(e){const t=Qu(Gu(e)).link,r=t?Qu(Gu(t)).deep_link_id:null,n=Qu(Gu(e)).deep_link_id;return(n?Qu(Gu(n)).link:null)||n||r||t||e}class N_{constructor(t){var r,n,i,a,o,s;const l=Qu(Gu(t)),u=(r=l.apiKey)!==null&&r!==void 0?r:null,c=(n=l.oobCode)!==null&&n!==void 0?n:null,d=kK((i=l.mode)!==null&&i!==void 0?i:null);se(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(t){const r=CK(t);try{return new N_(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(){this.providerId=ru.PROVIDER_ID}static credential(t,r){return Gc._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const n=N_.parseLink(r);return se(n,"argument-error"),Gc._fromEmailAndCode(t,n.code,n.tenantId)}}ru.PROVIDER_ID="password";ru.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ru.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od extends oD{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends Od{constructor(){super("facebook.com")}static credential(t){return es._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Aa.credentialFromTaggedObject(t)}static credentialFromError(t){return Aa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Aa.credential(t.oauthAccessToken)}catch{return null}}}Aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Aa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends Od{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return es._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return Sa.credentialFromTaggedObject(t)}static credentialFromError(t){return Sa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return Sa.credential(r,n)}catch{return null}}}Sa.GOOGLE_SIGN_IN_METHOD="google.com";Sa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends Od{constructor(){super("github.com")}static credential(t){return es._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pa.credentialFromTaggedObject(t)}static credentialFromError(t){return Pa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pa.credential(t.oauthAccessToken)}catch{return null}}}Pa.GITHUB_SIGN_IN_METHOD="github.com";Pa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends Od{constructor(){super("twitter.com")}static credential(t,r){return es._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return Ia.credentialFromTaggedObject(t)}static credentialFromError(t){return Ia.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return Ia.credential(r,n)}catch{return null}}}Ia.TWITTER_SIGN_IN_METHOD="twitter.com";Ia.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NK(e,t){return Nd(e,"POST","/v1/accounts:signUp",lo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,i=!1){const a=await Ci._fromIdTokenResponse(t,n,i),o=jP(n);return new ts({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const i=jP(n);return new ts({user:t,providerId:i,_tokenResponse:n,operationType:r})}}function jP(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp extends Wn{constructor(t,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,hp.prototype),this.customData={appName:t.name,tenantId:(a=t.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,i){return new hp(t,r,n,i)}}function sD(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?hp._fromErrorAndOperation(e,a,t,n):a})}async function OK(e,t,r=!1){const n=await Zo(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return ts._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jK(e,t,r=!1){const{auth:n}=e;if(Zn(n.app))return Promise.reject($i(n));const i="reauthenticate";try{const a=await Zo(e,sD(n,i,t,e),r);se(a.idToken,n,"internal-error");const o=I_(a.idToken);se(o,n,"internal-error");const{sub:s}=o;return se(e.uid===s,n,"user-mismatch"),ts._forOperation(e,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Bn(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(e,t,r=!1){if(Zn(e.app))return Promise.reject($i(e));const n="signIn",i=await sD(e,n,t),a=await ts._fromIdTokenResponse(e,n,i);return r||await e._updateCurrentUser(a.user),a}async function RK(e,t){return lD(vs(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(e){const t=vs(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function DK(e,t,r){if(Zn(e.app))return Promise.reject($i(e));const n=vs(e),o=await gx(n,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NK).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&uD(e),l}),s=await ts._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(s.user),s}function MK(e,t,r){return Zn(e.app)?Promise.reject($i(e)):RK(et(e),ru.credential(t,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&uD(e),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LK(e,t){return vi(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wfe(e,{displayName:t,photoURL:r}){if(t===void 0&&r===void 0)return;const n=et(e),a={idToken:await n.getIdToken(),displayName:t,photoUrl:r,returnSecureToken:!0},o=await Zo(n,LK(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const s=n.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=n.displayName,s.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function bfe(e,t){return $K(et(e),null,t)}async function $K(e,t,r){const{auth:n}=e,a={idToken:await e.getIdToken(),returnSecureToken:!0};r&&(a.password=r);const o=await Zo(e,EK(n,a));await e._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zK(e,t){return et(e).setPersistence(t)}function VK(e,t,r,n){return et(e).onIdTokenChanged(t,r,n)}function FK(e,t,r){return et(e).beforeAuthStateChanged(t,r)}function UK(e,t,r,n){return et(e).onAuthStateChanged(t,r,n)}function BK(e){return et(e).signOut()}const pp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(pp,"1"),this.storage.removeItem(pp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qK=1e3,KK=10;class dD extends cD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rD(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&t(r,i,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const n=t.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);aK()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,KK):i()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},qK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}dD.type="LOCAL";const fD=dD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD extends cD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}hD.type="SESSION";const pD=hD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WK(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(i=>i.isListeningto(t));if(r)return r;const n=new ug(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async u=>u(r.origin,a)),l=await WK(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ug.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HK{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const u=O_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(d){const p=d;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(p.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function QK(e){si().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function GK(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YK(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function XK(){return mD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="firebaseLocalStorageDb",JK=1,mp="firebaseLocalStorage",vD="fbase_key";class jd{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function cg(e,t){return e.transaction([mp],t?"readwrite":"readonly").objectStore(mp)}function ZK(){const e=indexedDB.deleteDatabase(gD);return new jd(e).toPromise()}function vx(){const e=indexedDB.open(gD,JK);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(mp,{keyPath:vD})}catch(i){r(i)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(mp)?t(n):(n.close(),await ZK(),t(await vx()))})})}async function RP(e,t,r){const n=cg(e,!0).put({[vD]:t,value:r});return new jd(n).toPromise()}async function eW(e,t){const r=cg(e,!1).get(t),n=await new jd(r).toPromise();return n===void 0?null:n.value}function DP(e,t){const r=cg(e,!0).delete(t);return new jd(r).toPromise()}const tW=800,rW=3;class yD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vx(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>rW)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ug._getInstance(XK()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await GK(),!this.activeServiceWorker)return;this.sender=new HK(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((t=n[0])===null||t===void 0)&&t.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||YK()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await vx();return await RP(t,pp,"1"),await DP(t,pp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>RP(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>eW(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>DP(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const a=cg(i,!1).getAll();return new jd(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(t.length!==0)for(const{fbase_key:i,value:a}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yD.type="LOCAL";const nW=yD;new Cd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iW(e,t){return t?Ni(t):(se(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_ extends C_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ul(t,this._buildIdpRequest())}_linkToIdToken(t,r){return ul(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return ul(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function aW(e){return lD(e.auth,new j_(e),e.bypassAuthState)}function oW(e){const{auth:t,user:r}=e;return se(r,t,"internal-error"),jK(r,new j_(e),e.bypassAuthState)}async function sW(e){const{auth:t,user:r}=e;return se(r,t,"internal-error"),OK(r,new j_(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t,r,n,i,a=!1){this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:s}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return aW;case"linkViaPopup":case"linkViaRedirect":return sW;case"reauthViaPopup":case"reauthViaRedirect":return oW;default:Bn(this.auth,"internal-error")}}resolve(t){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lW=new Cd(2e3,1e4);class Ws extends xD{constructor(t,r,n,i,a){super(t,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Ws.currentPopupAction&&Ws.currentPopupAction.cancel(),Ws.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return se(t,this.auth,"internal-error"),t}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const t=O_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ws.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,lW.get())};t()}}Ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW="pendingRedirect",wh=new Map;class cW extends xD{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=wh.get(this.auth._key());if(!t){try{const n=await dW(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}wh.set(this.auth._key(),t)}return this.bypassAuthState||wh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dW(e,t){const r=pW(t),n=hW(e);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function fW(e,t){wh.set(e._key(),t)}function hW(e){return Ni(e._redirectPersistence)}function pW(e){return xh(uW,e.config.apiKey,e.name)}async function mW(e,t,r=!1){if(Zn(e.app))return Promise.reject($i(e));const n=vs(e),i=iW(n,t),o=await new cW(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gW=10*60*1e3;class vW{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!yW(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!wD(t)){const i=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(oi(this.auth,i))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=gW&&this.cachedEventUids.clear(),this.cachedEventUids.has(MP(t))}saveEventToCache(t){this.cachedEventUids.add(MP(t)),this.lastProcessedEventTime=Date.now()}}function MP(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function wD({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function yW(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wD(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xW(e,t={}){return vi(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bW=/^https?/;async function _W(e){if(e.config.emulator)return;const{authorizedDomains:t}=await xW(e);for(const r of t)try{if(EW(r))return}catch{}Bn(e,"unauthorized-domain")}function EW(e){const t=px(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!bW.test(r))return!1;if(wW.test(e))return n===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TW=new Cd(3e4,6e4);function LP(){const e=si().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function AW(e){return new Promise((t,r)=>{var n,i,a;function o(){LP(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{LP(),r(oi(e,"network-request-failed"))},timeout:TW.get()})}if(!((i=(n=si().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((a=si().gapi)===null||a===void 0)&&a.load)o();else{const s=pK("iframefcb");return si()[s]=()=>{gapi.load?o():r(oi(e,"network-request-failed"))},iD(`${hK()}?onload=${s}`).catch(l=>r(l))}}).catch(t=>{throw bh=null,t})}let bh=null;function SW(e){return bh=bh||AW(e),bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PW=new Cd(5e3,15e3),IW="__/auth/iframe",kW="emulator/auth/iframe",CW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OW(e){const t=e.config;se(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?P_(t,kW):`https://${e.config.authDomain}/${IW}`,n={apiKey:t.apiKey,appName:e.name,v:Gl},i=NW.get(e.config.apiHost);i&&(n.eid=i);const a=e._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${bd(n).slice(1)}`}async function jW(e){const t=await SW(e),r=si().gapi;return se(r,e,"internal-error"),t.open({where:document.body,url:OW(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CW,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=oi(e,"network-request-failed"),s=si().setTimeout(()=>{a(o)},PW.get());function l(){si().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DW=500,MW=600,LW="_blank",$W="http://localhost";class $P{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zW(e,t,r,n=DW,i=MW){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l=Object.assign(Object.assign({},RW),{width:n.toString(),height:i.toString(),top:a,left:o}),u=hr().toLowerCase();r&&(s=X2(u)?LW:r),G2(u)&&(t=t||$W,l.scrollbars="yes");const c=Object.entries(l).reduce((p,[m,g])=>`${p}${m}=${g},`,"");if(iK(u)&&s!=="_self")return VW(t||"",s),new $P(null);const d=window.open(t||"",s,c);se(d,e,"popup-blocked");try{d.focus()}catch{}return new $P(d)}function VW(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FW="__/auth/handler",UW="emulator/auth/handler",BW=encodeURIComponent("fac");async function zP(e,t,r,n,i,a){se(e.config.authDomain,e,"auth-domain-config-required"),se(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:Gl,eventId:i};if(t instanceof oD){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",PU(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(t instanceof Od){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const s=o;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await e._getAppCheckToken(),u=l?`#${BW}=${encodeURIComponent(l)}`:"";return`${qW(e)}?${bd(s).slice(1)}${u}`}function qW({config:e}){return e.emulator?P_(e,UW):`https://${e.authDomain}/${FW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="webStorageSupport";class KW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pD,this._completeRedirectFn=mW,this._overrideRedirectResult=fW}async _openPopup(t,r,n,i){var a;Xi((a=this.eventManagers[t._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await zP(t,r,n,px(),i);return zW(t,o,O_())}async _openRedirect(t,r,n,i){await this._originValidation(t);const a=await zP(t,r,n,px(),i);return QK(a),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Xi(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await jW(t),n=new vW(t);return r.register("authEvent",i=>(se(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(yy,{type:yy},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[yy];o!==void 0&&r(!!o),Bn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=_W(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return rD()||Y2()||k_()}}const WW=KW;var VP="@firebase/auth",FP="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QW(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GW(e){ui(new Fn("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:s,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nD(e)},u=new cK(n,i,a,l);return xK(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),ui(new Fn("auth-internal",t=>{const r=vs(t.getProvider("auth").getImmediate());return(n=>new HW(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),vn(VP,FP,QW(e)),vn(VP,FP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW=5*60,XW=sR("authIdTokenMaxAge")||YW;let UP=null;const JW=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>XW)return;const i=r==null?void 0:r.token;UP!==i&&(UP=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function bD(e=_d()){const t=hs(e,"auth");if(t.isInitialized())return t.getImmediate();const r=yK(e,{popupRedirectResolver:WW,persistence:[nW,fD,pD]}),n=sR("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=JW(a.toString());FK(r,o,()=>o(r.currentUser)),VK(r,s=>o(s))}}const i=aR("auth");return i&&wK(r,`http://${i}`),r}function ZW(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}dK({loadJS(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=i=>{const a=oi("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",ZW().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GW("Browser");const _D="@firebase/installations",R_="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=1e4,TD=`w:${R_}`,AD="FIS_v2",eH="https://firebaseinstallations.googleapis.com/v1",tH=60*60*1e3,rH="installations",nH="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iH={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},rs=new fs(rH,nH,iH);function SD(e){return e instanceof Wn&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD({projectId:e}){return`${eH}/projects/${e}/installations`}function ID(e){return{token:e.token,requestStatus:2,expiresIn:oH(e.expiresIn),creationTime:Date.now()}}async function kD(e,t){const n=(await t.json()).error;return rs.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function CD({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function aH(e,{refreshToken:t}){const r=CD(e);return r.append("Authorization",sH(t)),r}async function ND(e){const t=await e();return t.status>=500&&t.status<600?e():t}function oH(e){return Number(e.replace("s","000"))}function sH(e){return`${AD} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lH({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const n=PD(e),i=CD(e),a=t.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:r,authVersion:AD,appId:e.appId,sdkVersion:TD},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await ND(()=>fetch(n,s));if(l.ok){const u=await l.json();return{fid:u.fid||r,registrationStatus:2,refreshToken:u.refreshToken,authToken:ID(u.authToken)}}else throw await kD("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uH(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH=/^[cdef][\w-]{21}$/,yx="";function dH(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=fH(e);return cH.test(r)?r:yx}catch{return yx}}function fH(e){return uH(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=new Map;function RD(e,t){const r=dg(e);DD(r,t),hH(r,t)}function DD(e,t){const r=jD.get(e);if(r)for(const n of r)n(t)}function hH(e,t){const r=pH();r&&r.postMessage({key:e,fid:t}),mH()}let No=null;function pH(){return!No&&"BroadcastChannel"in self&&(No=new BroadcastChannel("[Firebase] FID Change"),No.onmessage=e=>{DD(e.data.key,e.data.fid)}),No}function mH(){jD.size===0&&No&&(No.close(),No=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH="firebase-installations-database",vH=1,ns="firebase-installations-store";let xy=null;function D_(){return xy||(xy=hR(gH,vH,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ns)}}})),xy}async function gp(e,t){const r=dg(e),i=(await D_()).transaction(ns,"readwrite"),a=i.objectStore(ns),o=await a.get(r);return await a.put(t,r),await i.done,(!o||o.fid!==t.fid)&&RD(e,t.fid),t}async function MD(e){const t=dg(e),n=(await D_()).transaction(ns,"readwrite");await n.objectStore(ns).delete(t),await n.done}async function fg(e,t){const r=dg(e),i=(await D_()).transaction(ns,"readwrite"),a=i.objectStore(ns),o=await a.get(r),s=t(o);return s===void 0?await a.delete(r):await a.put(s,r),await i.done,s&&(!o||o.fid!==s.fid)&&RD(e,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M_(e){let t;const r=await fg(e.appConfig,n=>{const i=yH(n),a=xH(e,i);return t=a.registrationPromise,a.installationEntry});return r.fid===yx?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function yH(e){const t=e||{fid:dH(),registrationStatus:0};return LD(t)}function xH(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(rs.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=wH(e,r);return{installationEntry:r,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:bH(e)}:{installationEntry:t}}async function wH(e,t){try{const r=await lH(e,t);return gp(e.appConfig,r)}catch(r){throw SD(r)&&r.customData.serverCode===409?await MD(e.appConfig):await gp(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function bH(e){let t=await BP(e.appConfig);for(;t.registrationStatus===1;)await OD(100),t=await BP(e.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await M_(e);return n||r}return t}function BP(e){return fg(e,t=>{if(!t)throw rs.create("installation-not-found");return LD(t)})}function LD(e){return _H(e)?{fid:e.fid,registrationStatus:0}:e}function _H(e){return e.registrationStatus===1&&e.registrationTime+ED<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EH({appConfig:e,heartbeatServiceProvider:t},r){const n=TH(e,r),i=aH(e,r),a=t.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:TD,appId:e.appId}},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await ND(()=>fetch(n,s));if(l.ok){const u=await l.json();return ID(u)}else throw await kD("Generate Auth Token",l)}function TH(e,{fid:t}){return`${PD(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L_(e,t=!1){let r;const n=await fg(e.appConfig,a=>{if(!$D(a))throw rs.create("not-registered");const o=a.authToken;if(!t&&PH(o))return a;if(o.requestStatus===1)return r=AH(e,t),a;{if(!navigator.onLine)throw rs.create("app-offline");const s=kH(a);return r=SH(e,s),s}});return r?await r:n.authToken}async function AH(e,t){let r=await qP(e.appConfig);for(;r.authToken.requestStatus===1;)await OD(100),r=await qP(e.appConfig);const n=r.authToken;return n.requestStatus===0?L_(e,t):n}function qP(e){return fg(e,t=>{if(!$D(t))throw rs.create("not-registered");const r=t.authToken;return CH(r)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function SH(e,t){try{const r=await EH(e,t),n=Object.assign(Object.assign({},t),{authToken:r});return await gp(e.appConfig,n),r}catch(r){if(SD(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await MD(e.appConfig);else{const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await gp(e.appConfig,n)}throw r}}function $D(e){return e!==void 0&&e.registrationStatus===2}function PH(e){return e.requestStatus===2&&!IH(e)}function IH(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+tH}function kH(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function CH(e){return e.requestStatus===1&&e.requestTime+ED<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NH(e){const t=e,{installationEntry:r,registrationPromise:n}=await M_(t);return n?n.catch(console.error):L_(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OH(e,t=!1){const r=e;return await jH(r),(await L_(r,t)).token}async function jH(e){const{registrationPromise:t}=await M_(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RH(e){if(!e||!e.options)throw wy("App Configuration");if(!e.name)throw wy("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw wy(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function wy(e){return rs.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="installations",DH="installations-internal",MH=e=>{const t=e.getProvider("app").getImmediate(),r=RH(t),n=hs(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},LH=e=>{const t=e.getProvider("app").getImmediate(),r=hs(t,zD).getImmediate();return{getId:()=>NH(r),getToken:i=>OH(r,i)}};function $H(){ui(new Fn(zD,MH,"PUBLIC")),ui(new Fn(DH,LH,"PRIVATE"))}$H();vn(_D,R_);vn(_D,R_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="analytics",zH="firebase_id",VH="origin",FH=60*1e3,UH="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new Fm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Yr=new fs("analytics","Analytics",BH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qH(e){if(!e.startsWith($_)){const t=Yr.create("invalid-gtag-resource",{gtagURL:e});return Lr.warn(t.message),""}return e}function VD(e){return Promise.all(e.map(t=>t.catch(r=>r)))}function KH(e,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(e,t)),r}function WH(e,t){const r=KH("firebase-js-sdk-policy",{createScriptURL:qH}),n=document.createElement("script"),i=`${$_}?l=${e}&id=${t}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function HH(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function QH(e,t,r,n,i,a){const o=n[i];try{if(o)await t[o];else{const l=(await VD(r)).find(u=>u.measurementId===i);l&&await t[l.appId]}}catch(s){Lr.error(s)}e("config",i,a)}async function GH(e,t,r,n,i){try{let a=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const s=await VD(r);for(const l of o){const u=s.find(d=>d.measurementId===l),c=u&&t[u.appId];if(c)a.push(c);else{a=[];break}}}a.length===0&&(a=Object.values(t)),await Promise.all(a),e("event",n,i||{})}catch(a){Lr.error(a)}}function YH(e,t,r,n){async function i(a,...o){try{if(a==="event"){const[s,l]=o;await GH(e,t,r,s,l)}else if(a==="config"){const[s,l]=o;await QH(e,t,r,n,s,l)}else if(a==="consent"){const[s,l]=o;e("consent",s,l)}else if(a==="get"){const[s,l,u]=o;e("get",s,l,u)}else if(a==="set"){const[s]=o;e("set",s)}else e(a,...o)}catch(s){Lr.error(s)}}return i}function XH(e,t,r,n,i){let a=function(...o){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=YH(a,e,t,r),{gtagCore:a,wrappedGtag:window[i]}}function JH(e){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes($_)&&r.src.includes(e))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZH=30,eQ=1e3;class tQ{constructor(t={},r=eQ){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const FD=new tQ;function rQ(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function nQ(e){var t;const{appId:r,apiKey:n}=e,i={method:"GET",headers:rQ(n)},a=UH.replace("{app-id}",r),o=await fetch(a,i);if(o.status!==200&&o.status!==304){let s="";try{const l=await o.json();!((t=l.error)===null||t===void 0)&&t.message&&(s=l.error.message)}catch{}throw Yr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s})}return o.json()}async function iQ(e,t=FD,r){const{appId:n,apiKey:i,measurementId:a}=e.options;if(!n)throw Yr.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:n};throw Yr.create("no-api-key")}const o=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new sQ;return setTimeout(async()=>{s.abort()},FH),UD({appId:n,apiKey:i,measurementId:a},o,s,t)}async function UD(e,{throttleEndTimeMillis:t,backoffCount:r},n,i=FD){var a;const{appId:o,measurementId:s}=e;try{await aQ(n,t)}catch(l){if(s)return Lr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:s};throw l}try{const l=await nQ(e);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!oQ(u)){if(i.deleteThrottleMetadata(o),s)return Lr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:s};throw l}const c=Number((a=u==null?void 0:u.customData)===null||a===void 0?void 0:a.httpStatus)===503?IS(r,i.intervalMillis,ZH):IS(r,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:r+1};return i.setThrottleMetadata(o,d),Lr.debug(`Calling attemptFetch again in ${c} millis`),UD(e,d,n,i)}}function aQ(e,t){return new Promise((r,n)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(r,i);e.addEventListener(()=>{clearTimeout(a),n(Yr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function oQ(e){if(!(e instanceof Wn)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class sQ{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function lQ(e,t,r,n,i){if(i&&i.global){e("event",r,n);return}else{const a=await t,o=Object.assign(Object.assign({},n),{send_to:a});e("event",r,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uQ(){if(uR())try{await cR()}catch(e){return Lr.warn(Yr.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Lr.warn(Yr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function cQ(e,t,r,n,i,a,o){var s;const l=iQ(e);l.then(m=>{r[m.measurementId]=m.appId,e.options.measurementId&&m.measurementId!==e.options.measurementId&&Lr.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Lr.error(m)),t.push(l);const u=uQ().then(m=>{if(m)return n.getId()}),[c,d]=await Promise.all([l,u]);JH(a)||WH(a,c.measurementId),i("js",new Date);const p=(s=o==null?void 0:o.config)!==null&&s!==void 0?s:{};return p[VH]="firebase",p.update=!0,d!=null&&(p[zH]=d),i("config",c.measurementId,p),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dQ{constructor(t){this.app=t}_delete(){return delete mc[this.app.options.appId],Promise.resolve()}}let mc={},KP=[];const WP={};let by="dataLayer",fQ="gtag",HP,BD,QP=!1;function hQ(){const e=[];if(lR()&&e.push("This is a browser extension environment."),EU()||e.push("Cookies are not available."),e.length>0){const t=e.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=Yr.create("invalid-analytics-context",{errorInfo:t});Lr.warn(r.message)}}function pQ(e,t,r){hQ();const n=e.options.appId;if(!n)throw Yr.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Lr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Yr.create("no-api-key");if(mc[n]!=null)throw Yr.create("already-exists",{id:n});if(!QP){HH(by);const{wrappedGtag:a,gtagCore:o}=XH(mc,KP,WP,by,fQ);BD=a,HP=o,QP=!0}return mc[n]=cQ(e,KP,WP,t,HP,by,r),new dQ(e)}function mQ(e=_d()){e=et(e);const t=hs(e,vp);return t.isInitialized()?t.getImmediate():gQ(e)}function gQ(e,t={}){const r=hs(e,vp);if(r.isInitialized()){const i=r.getImmediate();if(Go(t,r.getOptions()))return i;throw Yr.create("already-initialized")}return r.initialize({options:t})}function vQ(e,t,r,n){e=et(e),lQ(BD,mc[e.app.options.appId],t,r,n).catch(i=>Lr.error(i))}const GP="@firebase/analytics",YP="0.10.8";function yQ(){ui(new Fn(vp,(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return pQ(n,i,r)},"PUBLIC")),ui(new Fn("analytics-internal",e,"PRIVATE")),vn(GP,YP),vn(GP,YP,"esm2017");function e(t){try{const r=t.getProvider(vp).getImmediate();return{logEvent:(n,i,a)=>vQ(r,n,i,a)}}catch(r){throw Yr.create("interop-component-reg-failed",{reason:r})}}}yQ();const xQ={apiKey:"AIzaSyB6bUM5UFLNcwPYDFPkdW2i6uy-QH7ldsA",authDomain:"quiz-app-85db6.firebaseapp.com",projectId:"quiz-app-85db6",storageBucket:"quiz-app-85db6.firebasestorage.app",messagingSenderId:"609646993082",appId:"1:609646993082:web:202a0d6d0ab5e0c6ac2c83",measurementId:"G-M7B6P9R97Y"},z_=pR().length===0?Mb(xQ):_d(),fi=T2(z_),wQ=bD(z_);mQ(z_);const qD="quizzes",bQ=async(e,t)=>{try{let r=xr(ze(fi,qD),tu(t||10));const n=await ft(r);return{quizzes:n.docs.map(a=>({id:a.id,...a.data()})),lastDoc:n.docs[n.docs.length-1]}}catch(r){throw console.error("Error fetching quizzes:",r),r instanceof Error?(console.error("Error message:",r.message),r.code&&console.error("Error code:",r.code)):console.error("Unknown error:",r),r}},_Q=async e=>{try{const t=Le(fi,qD,e),r=await di(t);if(!r.exists())throw new Error("Quiz not found");return{id:r.id,...r.data()}}catch(t){throw console.error("Error fetching quiz:",t),t}};function KD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=KD(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function he(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=KD(e))&&(n&&(n+=" "),n+=t);return n}function EQ(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}EQ(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Rd=e=>typeof e=="number"&&!isNaN(e),is=e=>typeof e=="string",Ji=e=>typeof e=="function",TQ=e=>is(e)||Rd(e),xx=e=>is(e)||Ji(e)?e:null,AQ=(e,t)=>e===!1||Rd(e)&&e>0?e:t,wx=e=>v.isValidElement(e)||is(e)||Ji(e)||Rd(e);function SQ(e,t,r=300){let{scrollHeight:n,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${r}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,r)})})}function PQ({enter:e,exit:t,appendPosition:r=!1,collapse:n=!0,collapseDuration:i=300}){return function({children:a,position:o,preventExitTransition:s,done:l,nodeRef:u,isIn:c,playToast:d}){let p=r?`${e}--${o}`:e,m=r?`${t}--${o}`:t,g=v.useRef(0);return v.useLayoutEffect(()=>{let y=u.current,b=p.split(" "),x=w=>{w.target===u.current&&(d(),y.removeEventListener("animationend",x),y.removeEventListener("animationcancel",x),g.current===0&&w.type!=="animationcancel"&&y.classList.remove(...b))};y.classList.add(...b),y.addEventListener("animationend",x),y.addEventListener("animationcancel",x)},[]),v.useEffect(()=>{let y=u.current,b=()=>{y.removeEventListener("animationend",b),n?SQ(y,l,i):l()};c||(s?b():(g.current=1,y.className+=` ${m}`,y.addEventListener("animationend",b)))},[c]),pe.createElement(pe.Fragment,null,a)}}function XP(e,t){return{content:WD(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function WD(e,t,r=!1){return v.isValidElement(e)&&!is(e.type)?v.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):Ji(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function IQ({closeToast:e,theme:t,ariaLabel:r="close"}){return pe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:n=>{n.stopPropagation(),e(!0)},"aria-label":r},pe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},pe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function kQ({delay:e,isRunning:t,closeToast:r,type:n="default",hide:i,className:a,controlledProgress:o,progress:s,rtl:l,isIn:u,theme:c}){let d=i||o&&s===0,p={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(p.transform=`scaleX(${s})`);let m=he("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${c}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":l}),g=Ji(a)?a({rtl:l,type:n,defaultClassName:m}):he(m,a),y={[o&&s>=1?"onTransitionEnd":"onAnimationEnd"]:o&&s<1?null:()=>{u&&r()}};return pe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":d},pe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${c} Toastify__progress-bar--${n}`}),pe.createElement("div",{role:"progressbar","aria-hidden":d?"true":"false","aria-label":"notification timer",className:g,style:p,...y}))}var CQ=1,HD=()=>`${CQ++}`;function NQ(e,t,r){let n=1,i=0,a=[],o=[],s=t,l=new Map,u=new Set,c=w=>(u.add(w),()=>u.delete(w)),d=()=>{o=Array.from(l.values()),u.forEach(w=>w())},p=({containerId:w,toastId:E,updateId:P})=>{let C=w?w!==e:e!==1,j=l.has(E)&&P==null;return C||j},m=(w,E)=>{l.forEach(P=>{var C;(E==null||E===P.props.toastId)&&((C=P.toggle)==null||C.call(P,w))})},g=w=>{var E,P;(P=(E=w.props)==null?void 0:E.onClose)==null||P.call(E,w.removalReason),w.isActive=!1},y=w=>{if(w==null)l.forEach(g);else{let E=l.get(w);E&&g(E)}d()},b=()=>{i-=a.length,a=[]},x=w=>{var E,P;let{toastId:C,updateId:j}=w.props,A=j==null;w.staleId&&l.delete(w.staleId),w.isActive=!0,l.set(C,w),d(),r(XP(w,A?"added":"updated")),A&&((P=(E=w.props).onOpen)==null||P.call(E))};return{id:e,props:s,observe:c,toggle:m,removeToast:y,toasts:l,clearQueue:b,buildToast:(w,E)=>{if(p(E))return;let{toastId:P,updateId:C,data:j,staleId:A,delay:S}=E,I=C==null;I&&i++;let N={...s,style:s.toastStyle,key:n++,...Object.fromEntries(Object.entries(E).filter(([D,k])=>k!=null)),toastId:P,updateId:C,data:j,isIn:!1,className:xx(E.className||s.toastClassName),progressClassName:xx(E.progressClassName||s.progressClassName),autoClose:E.isLoading?!1:AQ(E.autoClose,s.autoClose),closeToast(D){l.get(P).removalReason=D,y(P)},deleteToast(){let D=l.get(P);if(D!=null){if(r(XP(D,"removed")),l.delete(P),i--,i<0&&(i=0),a.length>0){x(a.shift());return}d()}}};N.closeButton=s.closeButton,E.closeButton===!1||wx(E.closeButton)?N.closeButton=E.closeButton:E.closeButton===!0&&(N.closeButton=wx(s.closeButton)?s.closeButton:!0);let R={content:w,props:N,staleId:A};s.limit&&s.limit>0&&i>s.limit&&I?a.push(R):Rd(S)?setTimeout(()=>{x(R)},S):x(R)},setProps(w){s=w},setToggle:(w,E)=>{let P=l.get(w);P&&(P.toggle=E)},isToastActive:w=>{var E;return(E=l.get(w))==null?void 0:E.isActive},getSnapshot:()=>o}}var wr=new Map,Yc=[],bx=new Set,OQ=e=>bx.forEach(t=>t(e)),QD=()=>wr.size>0;function jQ(){Yc.forEach(e=>YD(e.content,e.options)),Yc=[]}var RQ=(e,{containerId:t})=>{var r;return(r=wr.get(t||1))==null?void 0:r.toasts.get(e)};function GD(e,t){var r;if(t)return!!((r=wr.get(t))!=null&&r.isToastActive(e));let n=!1;return wr.forEach(i=>{i.isToastActive(e)&&(n=!0)}),n}function DQ(e){if(!QD()){Yc=Yc.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||TQ(e))wr.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=wr.get(e.containerId);t?t.removeToast(e.id):wr.forEach(r=>{r.removeToast(e.id)})}}var MQ=(e={})=>{wr.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function YD(e,t){wx(e)&&(QD()||Yc.push({content:e,options:t}),wr.forEach(r=>{r.buildToast(e,t)}))}function LQ(e){var t;(t=wr.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function XD(e,t){wr.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function $Q(e){let t=e.containerId||1;return{subscribe(r){let n=NQ(t,e,OQ);wr.set(t,n);let i=n.observe(r);return jQ(),()=>{i(),wr.delete(t)}},setProps(r){var n;(n=wr.get(t))==null||n.setProps(r)},getSnapshot(){var r;return(r=wr.get(t))==null?void 0:r.getSnapshot()}}}function zQ(e){return bx.add(e),()=>{bx.delete(e)}}function VQ(e){return e&&(is(e.toastId)||Rd(e.toastId))?e.toastId:HD()}function Dd(e,t){return YD(e,t),t.toastId}function hg(e,t){return{...t,type:t&&t.type||e,toastId:VQ(t)}}function pg(e){return(t,r)=>Dd(t,hg(e,r))}function H(e,t){return Dd(e,hg("default",t))}H.loading=(e,t)=>Dd(e,hg("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function FQ(e,{pending:t,error:r,success:n},i){let a;t&&(a=is(t)?H.loading(t,i):H.loading(t.render,{...i,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},s=(u,c,d)=>{if(c==null){H.dismiss(a);return}let p={type:u,...o,...i,data:d},m=is(c)?{render:c}:c;return a?H.update(a,{...p,...m}):H(m.render,{...p,...m}),d},l=Ji(e)?e():e;return l.then(u=>s("success",n,u)).catch(u=>s("error",r,u)),l}H.promise=FQ;H.success=pg("success");H.info=pg("info");H.error=pg("error");H.warning=pg("warning");H.warn=H.warning;H.dark=(e,t)=>Dd(e,hg("default",{theme:"dark",...t}));function UQ(e){DQ(e)}H.dismiss=UQ;H.clearWaitingQueue=MQ;H.isActive=GD;H.update=(e,t={})=>{let r=RQ(e,t);if(r){let{props:n,content:i}=r,a={delay:100,...n,...t,toastId:t.toastId||e,updateId:HD()};a.toastId!==e&&(a.staleId=e);let o=a.render||i;delete a.render,Dd(o,a)}};H.done=e=>{H.update(e,{progress:1})};H.onChange=zQ;H.play=e=>XD(!0,e);H.pause=e=>XD(!1,e);function BQ(e){var t;let{subscribe:r,getSnapshot:n,setProps:i}=v.useRef($Q(e)).current;i(e);let a=(t=v.useSyncExternalStore(r,n,n))==null?void 0:t.slice();function o(s){if(!a)return[];let l=new Map;return e.newestOnTop&&a.reverse(),a.forEach(u=>{let{position:c}=u.props;l.has(c)||l.set(c,[]),l.get(c).push(u)}),Array.from(l,u=>s(u[0],u[1]))}return{getToastToRender:o,isToastActive:GD,count:a==null?void 0:a.length}}function qQ(e){let[t,r]=v.useState(!1),[n,i]=v.useState(!1),a=v.useRef(null),o=v.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:s,pauseOnHover:l,closeToast:u,onClick:c,closeOnClick:d}=e;LQ({id:e.toastId,containerId:e.containerId,fn:r}),v.useEffect(()=>{if(e.pauseOnFocusLoss)return p(),()=>{m()}},[e.pauseOnFocusLoss]);function p(){document.hasFocus()||x(),window.addEventListener("focus",b),window.addEventListener("blur",x)}function m(){window.removeEventListener("focus",b),window.removeEventListener("blur",x)}function g(A){if(e.draggable===!0||e.draggable===A.pointerType){w();let S=a.current;o.canCloseOnClick=!0,o.canDrag=!0,S.style.transition="none",e.draggableDirection==="x"?(o.start=A.clientX,o.removalDistance=S.offsetWidth*(e.draggablePercent/100)):(o.start=A.clientY,o.removalDistance=S.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function y(A){let{top:S,bottom:I,left:N,right:R}=a.current.getBoundingClientRect();A.nativeEvent.type!=="touchend"&&e.pauseOnHover&&A.clientX>=N&&A.clientX<=R&&A.clientY>=S&&A.clientY<=I?x():b()}function b(){r(!0)}function x(){r(!1)}function w(){o.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",C)}function E(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",C)}function P(A){let S=a.current;if(o.canDrag&&S){o.didMove=!0,t&&x(),e.draggableDirection==="x"?o.delta=A.clientX-o.start:o.delta=A.clientY-o.start,o.start!==A.clientX&&(o.canCloseOnClick=!1);let I=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;S.style.transform=`translate3d(${I},0)`,S.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function C(){E();let A=a.current;if(o.canDrag&&o.didMove&&A){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}A.style.transition="transform 0.2s, opacity 0.2s",A.style.removeProperty("transform"),A.style.removeProperty("opacity")}}let j={onPointerDown:g,onPointerUp:y};return s&&l&&(j.onMouseEnter=x,e.stacked||(j.onMouseLeave=b)),d&&(j.onClick=A=>{c&&c(A),o.canCloseOnClick&&u(!0)}),{playToast:b,pauseToast:x,isRunning:t,preventExitTransition:n,toastRef:a,eventHandlers:j}}var KQ=typeof window<"u"?v.useLayoutEffect:v.useEffect,mg=({theme:e,type:t,isLoading:r,...n})=>pe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...n});function WQ(e){return pe.createElement(mg,{...e},pe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function HQ(e){return pe.createElement(mg,{...e},pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function QQ(e){return pe.createElement(mg,{...e},pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function GQ(e){return pe.createElement(mg,{...e},pe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function YQ(){return pe.createElement("div",{className:"Toastify__spinner"})}var _x={info:HQ,warning:WQ,success:QQ,error:GQ,spinner:YQ},XQ=e=>e in _x;function JQ({theme:e,type:t,isLoading:r,icon:n}){let i=null,a={theme:e,type:t};return n===!1||(Ji(n)?i=n({...a,isLoading:r}):v.isValidElement(n)?i=v.cloneElement(n,a):r?i=_x.spinner():XQ(t)&&(i=_x[t](a))),i}var ZQ=e=>{let{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:i,playToast:a}=qQ(e),{closeButton:o,children:s,autoClose:l,onClick:u,type:c,hideProgressBar:d,closeToast:p,transition:m,position:g,className:y,style:b,progressClassName:x,updateId:w,role:E,progress:P,rtl:C,toastId:j,deleteToast:A,isIn:S,isLoading:I,closeOnClick:N,theme:R,ariaLabel:D}=e,k=he("Toastify__toast",`Toastify__toast-theme--${R}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":N}),q=Ji(y)?y({rtl:C,position:g,type:c,defaultClassName:k}):he(k,y),te=JQ(e),ie=!!P||!l,Q={closeToast:p,type:c,theme:R},F=null;return o===!1||(Ji(o)?F=o(Q):v.isValidElement(o)?F=v.cloneElement(o,Q):F=IQ(Q)),pe.createElement(m,{isIn:S,done:A,position:g,preventExitTransition:r,nodeRef:n,playToast:a},pe.createElement("div",{id:j,tabIndex:0,onClick:u,"data-in":S,className:q,...i,style:b,ref:n,...S&&{role:E,"aria-label":D}},te!=null&&pe.createElement("div",{className:he("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},te),WD(s,e,!t),F,!e.customProgressBar&&pe.createElement(kQ,{...w&&!ie?{key:`p-${w}`}:{},rtl:C,theme:R,delay:l,isRunning:t,isIn:S,closeToast:p,hide:d,type:c,className:x,controlledProgress:ie,progress:P||0})))},eG=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),tG=PQ(eG("bounce",!0)),rG={position:"top-right",transition:tG,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function nG(e){let t={...rG,...e},r=e.stacked,[n,i]=v.useState(!0),a=v.useRef(null),{getToastToRender:o,isToastActive:s,count:l}=BQ(t),{className:u,style:c,rtl:d,containerId:p,hotKeys:m}=t;function g(b){let x=he("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":d});return Ji(u)?u({position:b,rtl:d,defaultClassName:x}):he(x,xx(u))}function y(){r&&(i(!0),H.play())}return KQ(()=>{var b;if(r){let x=a.current.querySelectorAll('[data-in="true"]'),w=12,E=(b=t.position)==null?void 0:b.includes("top"),P=0,C=0;Array.from(x).reverse().forEach((j,A)=>{let S=j;S.classList.add("Toastify__toast--stacked"),A>0&&(S.dataset.collapsed=`${n}`),S.dataset.pos||(S.dataset.pos=E?"top":"bot");let I=P*(n?.2:1)+(n?0:w*A);S.style.setProperty("--y",`${E?I:I*-1}px`),S.style.setProperty("--g",`${w}`),S.style.setProperty("--s",`${1-(n?C:0)}`),P+=S.offsetHeight,C+=.025})}},[n,l,r]),v.useEffect(()=>{function b(x){var w;let E=a.current;m(x)&&((w=E.querySelector('[tabIndex="0"]'))==null||w.focus(),i(!1),H.pause()),x.key==="Escape"&&(document.activeElement===E||E!=null&&E.contains(document.activeElement))&&(i(!0),H.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[m]),pe.createElement("section",{ref:a,className:"Toastify",id:p,onMouseEnter:()=>{r&&(i(!1),H.pause())},onMouseLeave:y,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((b,x)=>{let w=x.length?{...c}:{...c,pointerEvents:"none"};return pe.createElement("div",{tabIndex:-1,className:g(b),"data-stacked":r,style:w,key:`c-${b}`},x.map(({content:E,props:P})=>pe.createElement(ZQ,{...P,stacked:r,collapseAll:y,isIn:s(P.toastId,P.containerId),key:`t-${P.key}`},E)))}))}const V_="quizzes",Xc="quizResults",F_=e=>{const t={...e};return["createdAt","updatedAt","submittedAt","completedAt","approvedAt"].forEach(n=>{var i;t[n]&&((i=t[n])!=null&&i.toDate?t[n]=t[n].toDate().toISOString():t[n]instanceof Date?t[n]=t[n].toISOString():typeof t[n]!="string"&&(t[n]=""))}),t},iG=async(e,t)=>{try{const r=Le(fi,V_,e);await yr(r,{...t,updatedAt:new Date}),H.success("Cập nhật quiz thành công!")}catch(r){throw console.error("Error updating quiz:",r),H.error("Không thể cập nhật quiz"),new Error("Không thể cập nhật quiz")}},aG=async e=>{try{const t=await di(Le(fi,V_,e));if(t.exists()){const r=t.data(),n=F_(r);return{id:t.id,...n}}return null}catch(t){throw console.error("Error fetching quiz:",t),new Error("Không thể tải quiz")}},oG=async e=>{if(!e.userId||!e.quizId||typeof e.score!="number"||!Array.isArray(e.answers)||!e.completedAt)throw console.error("❌ [submitQuizResult] Thiếu trường bắt buộc:",e),new Error("Thiếu trường bắt buộc khi lưu kết quả quiz");if(isNaN(e.score)||e.score<0||e.score>100)throw console.error("❌ [submitQuizResult] Điểm số không hợp lệ:",e.score),new Error("Điểm số không hợp lệ");try{const t=await kd(ze(fi,Xc),e);return H.success("Nộp bài thành công!"),t.id}catch(t){throw console.error("Error submitting quiz result:",t,e),H.error("Không thể lưu kết quả quiz"),new Error("Không thể lưu kết quả quiz")}},sG=async e=>{try{console.log("🔍 getQuizResults called for quizId:",e),console.log("🔍 Collection name:",Xc);const t=xr(ze(fi,Xc),Ta("quizId","==",e),so("completedAt","desc"));console.log("🔍 Executing Firestore query...");const r=await ft(t),n=[];return console.log("📊 Found",r.size,"quiz results"),r.empty?(console.log("📊 No quiz results found for quizId:",e),console.log("📊 This could mean:"),console.log("   - No one has completed this quiz yet"),console.log("   - The quizId is incorrect"),console.log("   - There are Firestore permission issues"),[]):(r.forEach(i=>{const a=i.data();console.log("📊 Raw document data:",{id:i.id,...a});const o=F_(a),s={id:i.id,...o};console.log("📊 Converted quiz result:",s),n.push(s)}),console.log("📊 Returning",n.length,"quiz results"),n)}catch(t){throw console.error("❌ Error fetching quiz results:",t),console.error("❌ Error details:",{message:t==null?void 0:t.message,code:t==null?void 0:t.code,name:t==null?void 0:t.name}),new Error("Không thể tải kết quả quiz")}};async function lG(e){const t=Le(fi,"quizResults",e),r=await di(t);if(r.exists()){const n=r.data(),i=F_(n);return{id:r.id,...i}}return null}const _fe=Object.freeze(Object.defineProperty({__proto__:null,QUIZZES_COLLECTION:V_,QUIZ_RESULTS_COLLECTION:Xc,getQuizById:aG,getQuizResultById:lG,getQuizResults:sG,submitQuizResult:oG,updateQuiz:iG},Symbol.toStringTag,{value:"Module"})),uG=async e=>{try{const t=xr(ze(fi,Xc),Ta("userId","==",e),so("completedAt","desc")),r=await ft(t),n=[];return r.forEach(i=>{var o;const a=i.data();n.push({id:i.id,...a,completedAt:(o=a.completedAt)!=null&&o.toDate?a.completedAt.toDate().toISOString():a.completedAt instanceof Date?a.completedAt.toISOString():typeof a.completedAt=="string"?a.completedAt:""})}),n}catch(t){throw console.error("Error fetching user quiz results:",t),new Error("Không thể tải kết quả quiz")}},gc=Kj("quiz/fetchQuizzes",async(e,{rejectWithValue:t})=>{try{return(await bQ(void 0,void 0)).quizzes}catch(r){return console.error("Failed to fetch quizzes:",r),r.type==="CONNECTION_ERROR"?t("Không thể kết nối đến server. Vui lòng kiểm tra kết nối mạng của bạn."):r.type==="TIMEOUT_ERROR"?t("Server không phản hồi. Vui lòng thử lại sau."):t("Đã có lỗi xảy ra khi tải danh sách quiz. Vui lòng thử lại.")}}),_y=Kj("quiz/fetchQuizById",async e=>await _Q(e)),Efe=e=>async t=>{try{const r=await uG(e);t({type:"quiz/setUserResults",payload:r})}catch{}},cG={quizzes:[],currentQuiz:null,userResults:[],loading:!1,isLoading:!1,error:null,connectionError:!1,filters:{category:"all",difficulty:void 0,searchTerm:""},currentQuestionIndex:0,userAnswers:{},timeLeft:0,quizStartTime:null,retryCount:0,lastError:null,isTimeWarning:!1,totalTime:0},JD=$r({name:"quiz",initialState:cG,reducers:{setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload},setQuizzes:(e,t)=>{e.quizzes=t.payload},addQuiz:(e,t)=>{e.quizzes.unshift(t.payload)},updateQuiz:(e,t)=>{const r=e.quizzes.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.quizzes[r]=t.payload)},removeQuiz:(e,t)=>{e.quizzes=e.quizzes.filter(r=>r.id!==t.payload)},setCurrentQuiz:(e,t)=>{e.currentQuiz=t.payload,t.payload?(e.currentQuestionIndex=0,e.userAnswers={},e.totalTime=t.payload.duration*60,e.timeLeft=e.totalTime,e.quizStartTime=Date.now(),e.isTimeWarning=!1):(e.currentQuestionIndex=0,e.userAnswers={},e.timeLeft=0,e.quizStartTime=null,e.totalTime=0,e.isTimeWarning=!1)},updateTimeLeft:e=>{if(e.quizStartTime&&e.totalTime>0){const t=Math.floor((Date.now()-e.quizStartTime)/1e3),r=Math.max(e.totalTime-t,0);e.timeLeft=r,e.isTimeWarning=r<=Math.ceil(e.totalTime*.1)}},decrementTime:e=>{e.timeLeft>0&&(e.timeLeft-=1,e.isTimeWarning=e.timeLeft<=Math.ceil(e.totalTime*.1))},setUserAnswer:(e,t)=>{e.userAnswers[t.payload.questionId]=t.payload.answerId},clearUserAnswers:e=>{e.userAnswers={}},setTimeLeft:(e,t)=>{e.timeLeft=t.payload},setUserResults:(e,t)=>{e.userResults=t.payload},addUserResult:(e,t)=>{e.userResults.unshift(t.payload)},setFilters:(e,t)=>{e.filters=t.payload},updateFilter:(e,t)=>{e.filters={...e.filters,...t.payload}},clearFilters:e=>{e.filters={}},resetQuizState:e=>{e.currentQuiz=null,e.currentQuestionIndex=0,e.userAnswers={},e.timeLeft=0,e.quizStartTime=null,e.totalTime=0,e.isTimeWarning=!1}},extraReducers:e=>{e.addCase(gc.pending,t=>{t.loading=!0,t.isLoading=!0,t.error=null}).addCase(gc.fulfilled,(t,r)=>{t.loading=!1,t.isLoading=!1,t.quizzes=r.payload}).addCase(gc.rejected,(t,r)=>{t.loading=!1,t.isLoading=!1,t.error=r.error.message||"Lỗi khi tải quiz"}).addCase(_y.pending,t=>{t.loading=!0,t.error=null}).addCase(_y.fulfilled,(t,r)=>{t.loading=!1,r.payload&&(t.currentQuiz=r.payload,t.quizzes.find(i=>i.id===r.payload.id)||t.quizzes.push(r.payload))}).addCase(_y.rejected,(t,r)=>{t.loading=!1,t.error=r.error.message||"Lỗi khi tải quiz"}).addCase("quiz/setUserResults",(t,r)=>{t.userResults=r.payload})}}),{setCurrentQuiz:Tfe,updateTimeLeft:Afe}=JD.actions,dG=JD.reducer,fG=()=>e=>t=>{try{return e(t)}catch(r){console.error("Redux Error:",r),H.error("Đã xảy ra lỗi. Vui lòng tải lại trang.");return}},ZD=Uj({reducer:{auth:oU,quiz:dG},middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE","quiz/fetchQuizzes/fulfilled","quiz/fetchQuizById/fulfilled"],ignoredPaths:["quiz.quizzes","quiz.currentQuiz","quiz.userResults"]},immutableCheck:{warnAfter:128},thunk:{extraArgument:{timeout:1e4}}}).concat(fG)}),hG={apiKey:"AIzaSyB6bUM5UFLNcwPYDFPkdW2i6uy-QH7ldsA",authDomain:"quiz-app-85db6.firebaseapp.com",projectId:"quiz-app-85db6",storageBucket:"quiz-app-85db6.appspot.com",messagingSenderId:"609646993082",appId:"1:609646993082:web:202a0d6d0ab5e0c6ac2c83",measurementId:"G-M7B6P9R97Y"},eM=pR().length===0?Mb(hG):_d(),Nl=bD(eM);zK(Nl,fD).catch(e=>{console.error("Auth persistence error:",e),H.error("Có lỗi xảy ra khi thiết lập xác thực. Vui lòng tải lại trang.")});const ue=T2(eM),JP=()=>h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900",children:[h.jsx("nav",{className:"flex items-center justify-between p-4 sm:p-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center mr-2 sm:mr-3",children:h.jsx("span",{className:"text-white text-lg sm:text-xl font-bold",children:"Q"})}),h.jsx("span",{className:"text-white text-lg sm:text-xl font-bold",children:"Quiz Trivia"})]})}),h.jsx("div",{className:"flex items-center justify-center min-h-[80vh] px-4",children:h.jsxs("div",{className:"text-center text-white max-w-4xl",children:[h.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold mb-4 sm:mb-6 bg-gradient-to-r from-blue-200 to-purple-200 bg-clip-text text-transparent leading-tight",children:"Thử thách kiến thức của bạn"}),h.jsx("p",{className:"text-lg sm:text-xl text-blue-100 mb-6 sm:mb-8 max-w-2xl mx-auto px-4 leading-relaxed",children:"Khám phá hàng ngàn quiz thú vị, thử thách bản thân và nâng cao kiến thức với Quiz Trivia - nền tảng quiz tương tác hàng đầu!"}),h.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4 justify-center mb-8 sm:mb-12 px-4",children:[h.jsx(Ie,{to:"/login",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 sm:px-8 py-3 sm:py-4 rounded-xl font-semibold text-base sm:text-lg transition-all duration-200 transform hover:scale-105 shadow-lg",children:"Bắt đầu ngay - Miễn phí!"}),h.jsx(Ie,{to:"/login",className:"border-2 border-white text-white hover:bg-white hover:text-blue-900 px-6 sm:px-8 py-3 sm:py-4 rounded-xl font-semibold text-base sm:text-lg transition-all duration-200",children:"Đã có tài khoản?"})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8 mt-8 sm:mt-12 lg:mt-16 px-4",children:[h.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4 sm:p-6",children:[h.jsx("div",{className:"text-3xl sm:text-4xl mb-3 sm:mb-4",children:"🎯"}),h.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:"Đa dạng chủ đề"}),h.jsx("p",{className:"text-blue-100 text-sm sm:text-base",children:"Khoa học, lịch sử, thể thao, giải trí và nhiều chủ đề hấp dẫn khác"})]}),h.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4 sm:p-6",children:[h.jsx("div",{className:"text-3xl sm:text-4xl mb-3 sm:mb-4",children:"⏱️"}),h.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:"Thời gian thực"}),h.jsx("p",{className:"text-blue-100 text-sm sm:text-base",children:"Thử thách với timer đếm ngược và theo dõi tiến độ realtime"})]}),h.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4 sm:p-6 sm:col-span-2 lg:col-span-1",children:[h.jsx("div",{className:"text-3xl sm:text-4xl mb-3 sm:mb-4",children:"🏆"}),h.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:"Xếp hạng & Thành tích"}),h.jsx("p",{className:"text-blue-100 text-sm sm:text-base",children:"Theo dõi điểm số, thống kê và so sánh với bạn bè"})]})]})]})}),h.jsx("div",{className:"py-8 sm:py-12 lg:py-16 bg-white/5 backdrop-blur-sm",children:h.jsx("div",{className:"max-w-6xl mx-auto px-4",children:h.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 lg:gap-8 text-center text-white",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-blue-300 mb-1 sm:mb-2",children:"1000+"}),h.jsx("div",{className:"text-blue-100 text-xs sm:text-sm lg:text-base",children:"Quiz đa dạng"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-purple-300 mb-1 sm:mb-2",children:"10K+"}),h.jsx("div",{className:"text-blue-100 text-xs sm:text-sm lg:text-base",children:"Người chơi"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-indigo-300 mb-1 sm:mb-2",children:"50K+"}),h.jsx("div",{className:"text-blue-100 text-xs sm:text-sm lg:text-base",children:"Lượt chơi"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-cyan-300 mb-1 sm:mb-2",children:"24/7"}),h.jsx("div",{className:"text-blue-100 text-xs sm:text-sm lg:text-base",children:"Hỗ trợ"})]})]})})}),h.jsx("footer",{className:"text-center text-blue-200 py-4 sm:py-6 lg:py-8 px-4",children:h.jsx("p",{children:"© 2025 Quiz Trivia. Tất cả quyền được bảo lưu."})})]});/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mG=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),ZP=e=>{const t=mG(e);return t.charAt(0).toUpperCase()+t.slice(1)},tM=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),gG=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...s},l)=>v.createElement("svg",{ref:l,...vG,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:tM("lucide",i),...!a&&!gG(s)&&{"aria-hidden":"true"},...s},[...o.map(([u,c])=>v.createElement(u,c)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(e,t)=>{const r=v.forwardRef(({className:n,...i},a)=>v.createElement(yG,{ref:a,iconNode:t,className:tM(`lucide-${pG(ZP(e))}`,`lucide-${e}`,n),...i}));return r.displayName=ZP(e),r};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],wG=tt("activity",xG);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],_G=tt("award",bG);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Jn=tt("book-open",EG);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],AG=tt("chart-column",TG);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],eI=tt("check",SG);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],IG=tt("clock",PG);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],CG=tt("download",kG);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hs=tt("eye",NG);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],jG=tt("message-square",OG);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],DG=tt("pen-line",RG);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],LG=tt("plus",MG);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],zG=tt("refresh-cw",$G);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],tI=tt("rotate-ccw",VG);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],UG=tt("search",FG);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],rI=tt("sparkles",BG);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],KG=tt("square-pen",qG);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],HG=tt("star",WG);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],nI=tt("target",QG);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],YG=tt("trash-2",GG);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],JG=tt("trending-down",XG);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],eY=tt("trending-up",ZG);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rY=tt("user",tY);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],iI=tt("users",nY);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ey=tt("x",iY),Gn="quizReviews",aY={async createReview(e,t,r,n){try{console.log("Creating review with data:",{reviewData:e,userId:t,userName:r,userAvatar:n});const i={...e,userId:t,userName:r,userAvatar:n||null,createdAt:new Date,updatedAt:new Date,helpful:[],reported:[]};console.log("Review document to be saved:",i);const a=await kd(ze(ue,Gn),i);console.log("Review saved successfully with ID:",a.id);try{await this.updateQuizReviewStats(e.quizId),console.log("Quiz stats updated successfully")}catch(o){console.warn("Error updating quiz stats (review still saved):",o)}return a.id}catch(i){throw console.error("Error creating review:",i),console.error("Error details:",JSON.stringify(i,null,2)),new Error(`Không thể tạo đánh giá: ${i instanceof Error?i.message:"Unknown error"}`)}},async getQuizReviewsSimple(e){try{console.log(`🔍 Getting reviews (simple) for quiz: ${e}`);const t=xr(ze(ue,Gn),Ta("quizId","==",e)),n=(await ft(t)).docs.map(i=>{var o,s;const a=i.data();return{id:i.id,...a,createdAt:(o=a.createdAt)!=null&&o.toDate?a.createdAt.toDate():new Date(a.createdAt)||new Date,updatedAt:(s=a.updatedAt)!=null&&s.toDate?a.updatedAt.toDate():new Date(a.updatedAt)||new Date}});return n.sort((i,a)=>a.createdAt.getTime()-i.createdAt.getTime()),console.log(`✅ Found ${n.length} reviews for quiz ${e} (simple query)`),n}catch(t){throw console.error("Error getting quiz reviews (simple):",t),t}},async getQuizReviews(e,t="newest",r=50){try{console.log(`🔍 Getting reviews for quiz: ${e}, sortBy: ${t}`);const n=xr(ze(ue,Gn),Ta("quizId","==",e),tu(r));let a=(await ft(n)).docs.map(o=>{var l,u;const s=o.data();return{id:o.id,...s,createdAt:(l=s.createdAt)!=null&&l.toDate?s.createdAt.toDate():new Date(s.createdAt)||new Date,updatedAt:(u=s.updatedAt)!=null&&u.toDate?s.updatedAt.toDate():new Date(s.updatedAt)||new Date}});switch(t){case"newest":a=a.sort((o,s)=>s.createdAt.getTime()-o.createdAt.getTime());break;case"oldest":a=a.sort((o,s)=>o.createdAt.getTime()-s.createdAt.getTime());break;case"helpful":a=a.sort((o,s)=>{var l,u;return(((l=s.helpful)==null?void 0:l.length)||0)-(((u=o.helpful)==null?void 0:u.length)||0)});break}return console.log(`✅ Found ${a.length} reviews for quiz ${e}`),a}catch(n){throw console.error("Error getting quiz reviews:",n),n}},async getQuizReviewStats(e){try{const t=xr(ze(ue,Gn),Ta("quizId","==",e)),n=(await ft(t)).docs.map(l=>l.data()),i=n.length;if(i===0)return{totalReviews:0,averageRating:0,ratingDistribution:{1:0,2:0,3:0,4:0,5:0}};const o=n.reduce((l,u)=>l+u.rating,0)/i,s={1:0,2:0,3:0,4:0,5:0};return n.forEach(l=>{s[l.rating]++}),{totalReviews:i,averageRating:Math.round(o*10)/10,ratingDistribution:s}}catch(t){throw console.error("Error getting quiz review stats:",t),t}},async updateReview(e,t){try{const r=Le(ue,Gn,e);await yr(r,{...t,updatedAt:new Date});const n=await di(r);n.exists()&&await this.updateQuizReviewStats(n.data().quizId)}catch(r){throw console.error("Error updating review:",r),r}},async deleteReview(e){try{const t=Le(ue,Gn,e),r=await di(t);if(r.exists()){const n=r.data().quizId;await T_(t),await this.updateQuizReviewStats(n)}}catch(t){throw console.error("Error deleting review:",t),t}},async markReviewHelpful(e,t){try{const r=Le(ue,Gn,e);await yr(r,{helpful:hx(t)})}catch(r){throw console.error("Error marking review as helpful:",r),r}},async removeHelpfulMark(e,t){try{const r=Le(ue,Gn,e);await yr(r,{helpful:z2(t)})}catch(r){throw console.error("Error removing helpful mark:",r),r}},async reportReview(e,t){try{const r=Le(ue,Gn,e);await yr(r,{reported:hx(t)})}catch(r){throw console.error("Error reporting review:",r),r}},async updateQuizReviewStats(e){try{const t=await this.getQuizReviewStats(e),r=Le(ue,"quizzes",e);await yr(r,{reviewStats:t,averageRating:t.averageRating,totalReviews:t.totalReviews})}catch(t){throw console.error("Error updating quiz review stats:",t),t}},async getUserReview(e,t){try{const r=xr(ze(ue,Gn),Ta("quizId","==",e),Ta("userId","==",t)),n=await ft(r);if(n.empty)return null;const i=n.docs[0];return{id:i.id,...i.data(),createdAt:i.data().createdAt.toDate(),updatedAt:i.data().updatedAt.toDate()}}catch(r){throw console.error("Error getting user review:",r),r}}},oY=({quiz:e,viewMode:t="grid"})=>{const r=g=>{switch(g){case"easy":return"bg-green-100 text-green-800 border-green-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"hard":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},n=g=>{if(g<60)return`${g}m`;const y=Math.floor(g/60),b=g%60;return b>0?`${y}h ${b}m`:`${y}h`},i=()=>e.isCompleted?h.jsxs("div",{className:"flex items-center text-green-600 text-sm",children:[h.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Completed ",e.score,"%"]}):null,a=({rating:g,reviewCount:y,size:b="sm"})=>{const x=b==="sm"?"w-4 h-4":"w-5 h-5",w=b==="sm"?"text-sm":"text-base";return h.jsxs("div",{className:`flex items-center gap-1 ${w}`,children:[h.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(E=>h.jsx(HG,{className:`${x} ${E<=Math.round(g)?"text-yellow-400 fill-current":"text-gray-300"}`},E))}),h.jsx("span",{className:"text-gray-600 font-medium",children:g.toFixed(1)}),h.jsxs("span",{className:"text-gray-500",children:["(",y,")"]})]})},o=Jr(g=>g.auth.user),[s,l]=v.useState(!1),[u,c]=v.useState(!1),[d,p]=v.useState(null);v.useEffect(()=>{(async()=>{try{const y=await aY.getQuizReviewStats(e.id);p(y)}catch(y){console.error("Error fetching review stats:",y)}})()},[e.id]),v.useEffect(()=>{if(!o)return;(async()=>{const y=Le(ue,"user_favorites",o.uid),b=await di(y);if(b.exists()){const x=b.data();l(Array.isArray(x.quizIds)&&x.quizIds.includes(e.id))}else l(!1)})()},[o,e.id]);const m=async g=>{if(g.preventDefault(),!o)return;c(!0);const y=Le(ue,"user_favorites",o.uid);try{(await di(y)).exists()?await yr(y,{quizIds:s?z2(e.id):hx(e.id)}):await Cl(y,{quizIds:[e.id]}),l(!s),H.success(s?"Đã bỏ yêu thích quiz!":"Đã thêm vào yêu thích!"),window.location.pathname.startsWith("/favorites")&&window.location.reload()}catch{H.error("Lỗi khi cập nhật yêu thích!")}finally{c(!1)}};return t==="list"?h.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:h.jsxs("div",{className:"flex items-center gap-6",children:[h.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden flex-shrink-0 bg-gradient-to-br from-blue-500 to-purple-600 relative",children:e.imageUrl?h.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover"}):h.jsx("div",{className:"w-full h-full flex items-center justify-center text-white text-2xl font-bold",children:e.category.charAt(0).toUpperCase()})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate pr-4",children:e.title}),h.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[h.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${r(e.difficulty)}`,children:e.difficulty.charAt(0).toUpperCase()+e.difficulty.slice(1)}),e.isCompleted&&h.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded font-medium",children:"✓ Hoàn thành"})]})]}),h.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-1",children:e.description}),h.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500 mb-4",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),e.category]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.questions.length," câu hỏi"]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n(e.duration)]}),e.totalPlayers&&h.jsxs("div",{className:"flex items-center",children:[h.jsx(Hs,{className:"w-4 h-4 mr-1"}),e.totalPlayers," lượt chơi"]}),d&&d.totalReviews>0&&h.jsx(a,{rating:d.averageRating,reviewCount:d.totalReviews})]}),e.tags&&e.tags.length>0&&h.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[e.tags.slice(0,4).map((g,y)=>h.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:g},y)),e.tags.length>4&&h.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:["+",e.tags.length-4]})]})]}),h.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[h.jsx("button",{onClick:m,disabled:!o||u,className:`p-2 border rounded-lg transition-colors ${s?"bg-yellow-100 border-yellow-400 text-yellow-600":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,title:s?"Bỏ yêu thích":"Yêu thích quiz này",children:h.jsx("svg",{className:"w-5 h-5",fill:s?"gold":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),h.jsx(Ie,{to:`/quiz/${e.id}/reviews`,className:"p-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",title:"Xem đánh giá",children:h.jsx(Hs,{className:"w-5 h-5"})}),h.jsx(Ie,{to:`/quiz/${e.id}/preview`,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 px-6 rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-200",onClick:()=>console.log("Quiz card clicked:",e.id,e.title),children:e.isCompleted?"Chơi lại":"Xem chi tiết"})]})]})}):h.jsxs("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-gray-100 hover:border-blue-400 group transform hover:scale-105 cursor-pointer flex flex-col h-full",children:[h.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-blue-500 to-purple-600 overflow-hidden",children:[e.imageUrl?h.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):h.jsx("div",{className:"w-full h-full flex items-center justify-center",children:h.jsx("div",{className:"text-white text-6xl font-bold opacity-20",children:e.category.charAt(0).toUpperCase()})}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent z-10"}),h.jsxs("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:[h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${r(e.difficulty)}`,children:e.difficulty.charAt(0).toUpperCase()+e.difficulty.slice(1)}),e.isPublic&&h.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 border border-blue-200",children:"Public"})]}),h.jsx("div",{className:"absolute bottom-4 right-4 text-white text-sm",children:h.jsxs("div",{className:"flex items-center space-x-4",children:[e.attempts&&h.jsxs("div",{className:"flex items-center",children:[h.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.attempts]}),e.averageScore&&h.jsxs("div",{className:"flex items-center",children:[h.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),Math.round(e.averageScore),"%"]})]})})]}),h.jsxs("div",{className:"p-6",children:[h.jsx("div",{className:"flex items-start justify-between mb-3",children:h.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-2",children:e.title})}),h.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),h.jsxs("div",{className:"space-y-3 mb-4",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),e.category]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n(e.duration)]})]}),h.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.questions.length," questions"]}),e.totalPlayers&&h.jsxs("div",{className:"flex items-center",children:[h.jsx(Hs,{className:"w-4 h-4 mr-1"}),e.totalPlayers," played"]})]}),d&&d.totalReviews>0&&h.jsx("div",{className:"flex justify-center pt-2",children:h.jsx(a,{rating:d.averageRating,reviewCount:d.totalReviews,size:"md"})})]}),i(),e.tags&&e.tags.length>0&&h.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[e.tags.slice(0,3).map((g,y)=>h.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-md",children:g},y)),e.tags.length>3&&h.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-md",children:["+",e.tags.length-3]})]}),h.jsxs("div",{className:"flex gap-2 pt-4 border-t border-gray-100",children:[h.jsx(Ie,{to:`/quiz/${e.id}`,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 px-4 rounded-lg font-medium text-center hover:from-blue-600 hover:to-purple-700 transition-all duration-200 transform hover:scale-105",onClick:()=>console.log("Quiz card clicked:",e.id,e.title),children:e.isCompleted?"Retake Quiz":"Start Quiz"}),h.jsx("button",{onClick:m,disabled:!o||u,className:`px-3 py-3 border rounded-lg transition-colors flex items-center ${s?"bg-yellow-100 border-yellow-400 text-yellow-600":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,title:s?"Bỏ yêu thích":"Yêu thích quiz này",children:h.jsx("svg",{className:"w-5 h-5",fill:s?"gold":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),h.jsx(Ie,{to:`/quiz/${e.id}/reviews`,className:"px-3 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",title:"Xem đánh giá",children:h.jsx(Hs,{className:"w-5 h-5"})})]})]})]})},Sfe=()=>h.jsxs("div",{className:"bg-white rounded-xl shadow-lg animate-pulse h-96 flex flex-col",children:[h.jsx("div",{className:"h-48 bg-gray-200 w-full"}),h.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[h.jsx("div",{className:"h-6 bg-gray-200 rounded w-2/3 mb-4"}),h.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),h.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-6"}),h.jsxs("div",{className:"flex gap-2 mt-auto",children:[h.jsx("div",{className:"h-10 w-24 bg-gray-200 rounded"}),h.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded"})]})]})]}),aI=({variant:e="primary",size:t="md",loading:r=!1,icon:n,children:i,className:a="",disabled:o,...s})=>{const l="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",u={primary:"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500",secondary:"bg-gray-600 hover:bg-gray-700 text-white focus:ring-gray-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",outline:"border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white focus:ring-blue-500"},c={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},d=o||r;return h.jsxs("button",{className:`
        ${l}
        ${u[e]}
        ${c[t]}
        ${d?"opacity-50 cursor-not-allowed":""}
        ${a}
      `,disabled:d,...s,children:[r&&h.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!r&&n&&h.jsx("span",{className:"mr-2",children:n}),i]})},sY=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),[i,a]=v.useState("all");v.useEffect(()=>{(async()=>{try{n(!0),t([{id:"1",title:"JavaScript Fundamentals",description:"Kiến thức cơ bản về JavaScript",category:"Programming",difficulty:"easy",questions:[],duration:15,createdBy:"system",createdAt:new Date,updatedAt:new Date,isPublished:!0,tags:["javascript","basic"],attempts:1250,averageScore:78.5,totalPlayers:890,status:"approved"},{id:"2",title:"React Hooks Deep Dive",description:"Tìm hiểu sâu về React Hooks",category:"Programming",difficulty:"medium",questions:[],duration:20,createdBy:"system",createdAt:new Date,updatedAt:new Date,isPublished:!0,tags:["react","hooks"],attempts:980,averageScore:72.3,totalPlayers:654,status:"approved"},{id:"3",title:"HTML & CSS Basics",description:"Nền tảng HTML và CSS",category:"Web Development",difficulty:"easy",questions:[],duration:12,createdBy:"system",createdAt:new Date,updatedAt:new Date,isPublished:!0,tags:["html","css"],attempts:875,averageScore:82.1,totalPlayers:567,status:"approved"},{id:"4",title:"TypeScript Advanced",description:"TypeScript nâng cao",category:"Programming",difficulty:"hard",questions:[],duration:25,createdBy:"system",createdAt:new Date,updatedAt:new Date,isPublished:!0,tags:["typescript","advanced"],attempts:432,averageScore:65.8,totalPlayers:298,status:"approved"},{id:"5",title:"Node.js Backend Development",description:"Phát triển backend với Node.js",category:"Backend",difficulty:"medium",questions:[],duration:18,createdBy:"system",createdAt:new Date,updatedAt:new Date,isPublished:!0,tags:["nodejs","backend"],attempts:623,averageScore:70.4,totalPlayers:401,status:"approved"}])}catch(c){console.error("Error loading popular quizzes:",c)}finally{n(!1)}})()},[i]);const o=u=>{switch(u){case"easy":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"hard":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},s=u=>{switch(u){case 0:return"🥇";case 1:return"🥈";case 2:return"🥉";default:return`#${u+1}`}},l=u=>{switch(u){case 0:return"bg-gradient-to-r from-yellow-400 to-yellow-600 text-white";case 1:return"bg-gradient-to-r from-gray-400 to-gray-600 text-white";case 2:return"bg-gradient-to-r from-orange-400 to-orange-600 text-white";default:return"bg-blue-100 text-blue-800"}};return h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"🔥 Quiz Phổ Biến Nhất"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:"text-sm text-gray-600",children:"Thời gian:"}),h.jsxs("select",{value:i,onChange:u=>a(u.target.value),className:"border border-gray-300 rounded-lg px-3 py-1 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[h.jsx("option",{value:"all",children:"Tất cả"}),h.jsx("option",{value:"week",children:"Tuần này"}),h.jsx("option",{value:"month",children:"Tháng này"})]})]})]}),r?h.jsx("div",{className:"flex justify-center py-8",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):h.jsx("div",{className:"space-y-4",children:e.map((u,c)=>h.jsxs("div",{className:`p-6 rounded-xl border transition-all duration-300 hover:shadow-lg ${c<3?"border-yellow-200 bg-gradient-to-r from-yellow-50 to-orange-50":"border-gray-200"}`,children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg ${l(c)}`,children:s(c)}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:u.title}),h.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${o(u.difficulty)}`,children:u.difficulty.toUpperCase()})]}),h.jsx("p",{className:"text-gray-600 text-sm mb-2",children:u.description}),h.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[h.jsxs("span",{children:["📂 ",u.category]}),h.jsxs("span",{children:["⏱️ ",u.duration," phút"]}),h.jsxs("span",{children:["👥 ",u.totalPlayers," người chơi"]})]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:u.attempts.toLocaleString()}),h.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"lượt chơi"}),h.jsxs("div",{className:"text-sm font-medium text-green-600",children:["⭐ ",u.averageScore.toFixed(1),"% TB"]}),h.jsxs("div",{className:"flex space-x-2 mt-3",children:[h.jsx(Ie,{to:`/quiz/${u.id}`,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"🎯 Chơi ngay"}),h.jsx(Ie,{to:`/quiz/${u.id}/preview`,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:"👁️ Xem trước"})]})]})]}),h.jsxs("div",{className:"mt-4",children:[h.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-1",children:[h.jsx("span",{children:"Độ phổ biến"}),h.jsxs("span",{children:[Math.round(u.attempts/e[0].attempts*100),"%"]})]}),h.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:h.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${c===0?"bg-gradient-to-r from-yellow-400 to-orange-500":c===1?"bg-gradient-to-r from-gray-400 to-gray-500":c===2?"bg-gradient-to-r from-orange-400 to-orange-500":"bg-blue-500"}`,style:{width:`${u.attempts/e[0].attempts*100}%`}})})]})]},u.id))}),h.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 text-center",children:h.jsx(Ie,{to:"/quizzes",className:"text-blue-600 hover:text-blue-800 font-medium",children:"📚 Xem tất cả Quiz →"})})]})},lY=({type:e,title:t,description:r,actionLabel:n,actionUrl:i,showTestData:a=!1,onCreateTestData:o})=>{const l=(()=>{switch(e){case"quizzes":return{icon:h.jsx(Jn,{className:"w-16 h-16 text-gray-400"}),title:"Chưa có quiz nào",description:"Hãy tạo quiz đầu tiên của bạn để bắt đầu!",actionLabel:"Tạo Quiz Mới",actionUrl:"/create-quiz"};case"reviews":return{icon:h.jsx(rI,{className:"w-16 h-16 text-gray-400"}),title:"Chưa có đánh giá nào",description:"Hãy là người đầu tiên đánh giá quiz này!",actionLabel:"Viết đánh giá",actionUrl:null};case"favorites":return{icon:h.jsx(Jn,{className:"w-16 h-16 text-gray-400"}),title:"Chưa có quiz yêu thích",description:"Hãy thêm quiz vào danh sách yêu thích để dễ dàng truy cập!",actionLabel:"Khám phá Quiz",actionUrl:"/quiz"};default:return{icon:h.jsx(Jn,{className:"w-16 h-16 text-gray-400"}),title:"Không có dữ liệu",description:"Hiện tại chưa có nội dung nào.",actionLabel:null,actionUrl:null}}})(),u=t||l.title,c=r||l.description,d=n||l.actionLabel,p=i||l.actionUrl;return h.jsxs("div",{className:"text-center py-16",children:[h.jsx("div",{className:"flex justify-center mb-6",children:l.icon}),h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:u}),h.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:c}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[p&&d&&h.jsxs(Ie,{to:p,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[h.jsx(LG,{className:"w-5 h-5 mr-2"}),d]}),a&&o&&h.jsxs("button",{onClick:o,className:"inline-flex items-center px-6 py-3 bg-yellow-600 text-white font-medium rounded-lg hover:bg-yellow-700 transition-colors",children:[h.jsx(rI,{className:"w-5 h-5 mr-2"}),"Tạo dữ liệu mẫu"]})]})]})},uY=async()=>{try{const e=xr(ze(ue,"quizzes"));if((await ft(e)).size>0){console.log("Đã có quiz trong database");return}const r=[{title:"Kiến thức lịch sử Việt Nam",description:"Test quiz về lịch sử Việt Nam từ cổ đại đến hiện đại",category:"history",difficulty:"medium",questions:[{id:"q1",text:"Ai là vị vua đầu tiên của nhà Lý?",type:"multiple",answers:[{id:"a1",text:"Lý Thái Tổ",isCorrect:!0},{id:"a2",text:"Lý Thái Tông",isCorrect:!1},{id:"a3",text:"Lý Thánh Tông",isCorrect:!1},{id:"a4",text:"Lý Nhân Tông",isCorrect:!1}],points:1,correctAnswer:"",acceptedAnswers:[]},{id:"q2",text:"Trận Bạch Đằng năm 1288 do ai chỉ huy?",type:"multiple",answers:[{id:"a1",text:"Trần Hưng Đạo",isCorrect:!0},{id:"a2",text:"Trần Thái Tông",isCorrect:!1},{id:"a3",text:"Trần Nhân Tông",isCorrect:!1},{id:"a4",text:"Lê Lợi",isCorrect:!1}],points:1,correctAnswer:"",acceptedAnswers:[]}],timeLimit:300,createdBy:"test-user-id",createdAt:Co(),updatedAt:Co(),isPublished:!0,status:"approved",tags:["history","vietnam"]},{title:"JavaScript Cơ bản",description:"Kiểm tra kiến thức JavaScript cho người mới bắt đầu",category:"technology",difficulty:"easy",questions:[{id:"q1",text:"JavaScript được tạo ra bởi ai?",type:"multiple",answers:[{id:"a1",text:"Brendan Eich",isCorrect:!0},{id:"a2",text:"Tim Berners-Lee",isCorrect:!1},{id:"a3",text:"Douglas Crockford",isCorrect:!1},{id:"a4",text:"John Resig",isCorrect:!1}],points:1,correctAnswer:"",acceptedAnswers:[]},{id:"q2",text:"Từ khóa nào dùng để khai báo biến trong ES6?",type:"multiple",answers:[{id:"a1",text:"let",isCorrect:!0},{id:"a2",text:"var",isCorrect:!1},{id:"a3",text:"const",isCorrect:!0},{id:"a4",text:"def",isCorrect:!1}],points:1,correctAnswer:"",acceptedAnswers:[]}],timeLimit:180,createdBy:"test-user-id",createdAt:Co(),updatedAt:Co(),isPublished:!0,status:"approved",tags:["javascript","programming"]}];console.log("Đang tạo quiz mẫu...");for(const n of r){const i=await kd(ze(ue,"quizzes"),n);console.log(`Quiz created with ID: ${i.id}`)}console.log("Đã tạo xong quiz mẫu")}catch(e){console.error("Lỗi khi tạo quiz mẫu:",e)}},cY=async()=>{try{const e=xr(ze(ue,"quizzes")),t=await ft(e);if(t.size===0){console.log("Không có quiz nào để tạo review");return}const r=[{rating:5,comment:"Quiz rất hay và bổ ích! Câu hỏi được thiết kế khá tốt.",userId:"test-user-1",userName:"Nguyễn Văn A",createdAt:Co(),helpful:0,helpfulVoters:[]},{rating:4,comment:"Nội dung tốt nhưng có thể thêm nhiều câu hỏi hơn.",userId:"test-user-2",userName:"Trần Thị B",createdAt:Co(),helpful:2,helpfulVoters:["user1","user2"]},{rating:5,comment:"Tuyệt vời! Đã học được nhiều điều mới.",userId:"test-user-3",userName:"Lê Văn C",createdAt:Co(),helpful:1,helpfulVoters:["user1"]}];console.log("Đang tạo review mẫu...");for(const n of t.docs){const i=n.id;for(const a of r)await kd(ze(ue,"quizReviews"),{...a,quizId:i});console.log(`Đã tạo review cho quiz ${i}`)}console.log("Đã tạo xong review mẫu")}catch(e){console.error("Lỗi khi tạo review mẫu:",e)}},dY=async()=>{await uY(),await cY()},fY=()=>{const e=$m(),{user:t}=Jr(l=>l.auth),{quizzes:r,loading:n}=Jr(l=>l.quiz),[i,a]=v.useState({totalQuizzes:0,completedQuizzes:0,averageScore:0,todayQuizzes:0}),[o,s]=v.useState([]);return v.useEffect(()=>{r.length===0&&e(gc({user:t}))},[e,t,r.length]),v.useEffect(()=>{if(r.length>0){const l=r.filter(p=>p.isCompleted).length,u=r.reduce((p,m)=>p+(m.score||0),0),c=l>0?u/l:0;a({totalQuizzes:r.length,completedQuizzes:l,averageScore:Math.round(c*10)/10,todayQuizzes:r.filter(p=>{const m=new Date().toDateString();return new Date(p.createdAt).toDateString()===m}).length});const d=r.filter(p=>p.isPublic).sort((p,m)=>(m.attempts||0)-(p.attempts||0)).slice(0,6);s(d)}},[r]),n?h.jsx("div",{className:"flex items-center justify-center min-h-96",children:Array.from({length:4}).map((l,u)=>h.jsx("div",{className:"animate-pulse bg-white rounded-xl shadow-lg h-40 w-80 m-4"},u))}):h.jsxs("div",{className:"space-y-8",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 rounded-2xl p-8 text-white",children:h.jsxs("div",{className:"max-w-4xl",children:[h.jsxs("h1",{className:"text-4xl font-bold mb-4",children:["Welcome back, ",(t==null?void 0:t.displayName)||"Quiz Master","! 🎯"]}),h.jsx("p",{className:"text-xl text-blue-100 mb-6",children:"Ready to challenge your knowledge? Discover new quizzes and test your skills."}),h.jsxs("div",{className:"flex flex-wrap gap-4",children:[h.jsx(Ie,{to:"/quizzes",children:h.jsx(aI,{className:"bg-white text-blue-600 hover:bg-blue-50 font-semibold",children:"Explore Quizzes"})}),h.jsx(Ie,{to:"/creator",children:h.jsx(aI,{className:"border-2 border-white text-white hover:bg-white hover:text-blue-600 font-semibold",children:"Create Quiz"})})]})]})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[h.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Quizzes"}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i.totalQuizzes})]}),h.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:h.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),h.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Completed"}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i.completedQuizzes})]}),h.jsx("div",{className:"bg-green-100 rounded-full p-3",children:h.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),h.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-yellow-500",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Average Score"}),h.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[i.averageScore,"%"]})]}),h.jsx("div",{className:"bg-yellow-100 rounded-full p-3",children:h.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})})]})}),h.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-purple-500",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Today's Quizzes"}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i.todayQuizzes})]}),h.jsx("div",{className:"bg-purple-100 rounded-full p-3",children:h.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),o.length>0&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"🔥 Trending Quizzes"}),h.jsxs(Ie,{to:"/quizzes",className:"text-blue-600 hover:text-blue-700 font-medium flex items-center",children:["View All",h.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),o.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(l=>h.jsx(oY,{quiz:l},l.id))}):h.jsx(lY,{type:"quizzes",showTestData:!1,onCreateTestData:async()=>{try{await dY(),H.success("Đã tạo dữ liệu mẫu thành công!"),e(gc({user:t}))}catch{H.error("Có lỗi khi tạo dữ liệu mẫu")}}})]}),h.jsxs("div",{className:"bg-gray-50 rounded-2xl p-8",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Quick Actions"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs(Ie,{to:"/creator",className:"bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-shadow border-2 border-transparent hover:border-blue-200",children:[h.jsx("div",{className:"text-blue-600 mb-4",children:h.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Create New Quiz"}),h.jsx("p",{className:"text-gray-600",children:"Design and share your own quiz with others"})]}),h.jsxs(Ie,{to:"/quizzes?filter=recent",className:"bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-shadow border-2 border-transparent hover:border-green-200",children:[h.jsx("div",{className:"text-green-600 mb-4",children:h.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quick Quiz"}),h.jsx("p",{className:"text-gray-600",children:"Jump into a random quiz and test your knowledge"})]}),h.jsxs(Ie,{to:"/profile",className:"bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-shadow border-2 border-transparent hover:border-purple-200",children:[h.jsx("div",{className:"text-purple-600 mb-4",children:h.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"View Progress"}),h.jsx("p",{className:"text-gray-600",children:"Check your achievements and quiz history"})]})]}),h.jsx("div",{className:"mt-16",children:h.jsx(sY,{})})]})]})},hY=async e=>{try{console.log("🔵 Attempting login for:",e.email);const t=await MK(wQ,e.email,e.password);console.log("🟢 Firebase login successful, UID:",t.user.uid);const r=e.email==="admin123@gmail.com";let n;if(r)n="admin",console.log("🛡️ Admin account detected, setting role to admin"),await Cl(Le(fi,"users",t.user.uid),{role:"admin",isAdmin:!0,email:t.user.email,displayName:t.user.displayName||"System Admin",updatedAt:new Date},{merge:!0}),localStorage.setItem(`user_role_${t.user.uid}`,"admin"),localStorage.setItem("isAdmin","true"),console.log("💾 Admin role saved");else{const o=(await di(Le(fi,"users",t.user.uid))).data();n=o==null?void 0:o.role,console.log("🔍 Role from Firestore:",n)}const i={uid:t.user.uid,email:t.user.email,displayName:t.user.displayName,photoURL:t.user.photoURL,emailVerified:t.user.emailVerified,role:n};return console.log("🚀 Returning auth user:",i),i}catch(t){const r=t;throw console.error("❌ Login error:",r),new Error(pY(r.code))}},pY=e=>{switch(e){case"auth/user-not-found":return"Không tìm thấy tài khoản với email này";case"auth/wrong-password":return"Mật khẩu không chính xác";case"auth/email-already-in-use":return"Email này đã được sử dụng";case"auth/weak-password":return"Mật khẩu quá yếu";case"auth/invalid-email":return"Email không hợp lệ";case"auth/user-disabled":return"Tài khoản đã bị vô hiệu hóa";case"auth/too-many-requests":return"Quá nhiều yêu cầu. Vui lòng thử lại sau";case"auth/network-request-failed":return"Lỗi kết nối mạng";default:return"Đã xảy ra lỗi không xác định"}},mY=()=>{const[e,t]=v.useState(!0),[r,n]=v.useState({email:"",password:"",confirmPassword:"",displayName:""}),[i,a]=v.useState(!1),[o,s]=v.useState(""),l=c=>{const{name:d,value:p}=c.target;n(m=>({...m,[d]:p}))},u=async c=>{c.preventDefault(),a(!0),s(""),console.log("🔐 LoginPage: Starting login process...",{email:r.email});try{if(e){console.log("🔐 LoginPage: Calling custom signIn...");let d=!1;try{await hY({email:r.email,password:r.password}),d=!0}catch(p){if(p.message&&p.message.includes("Tài khoản đã bị khoá")){s("Tài khoản của bạn đã bị khoá. Vui lòng liên hệ quản trị viên."),a(!1);return}throw p}d&&H.success("Đăng nhập thành công!"),console.log("🔐 LoginPage: Login complete, App will handle redirect")}else{if(r.password!==r.confirmPassword)throw new Error("Mật khẩu xác nhận không khớp");if(r.password.length<6)throw new Error("Mật khẩu phải có ít nhất 6 ký tự");console.log("🔐 LoginPage: Creating user account...");const d=await DK(Nl,r.email,r.password);console.log("🔐 LoginPage: Creating user document..."),await Cl(Le(ue,"users",d.user.uid),{email:r.email,displayName:r.displayName,role:"user",createdAt:new Date,isActive:!0}),H.success("Đăng ký thành công!"),console.log("🔐 LoginPage: Registration complete, App will handle redirect")}}catch(d){d.message&&d.message.includes("Tài khoản đã bị khoá")?s("Tài khoản của bạn đã bị khoá. Vui lòng liên hệ quản trị viên."):s(d.message||"Có lỗi xảy ra")}finally{a(!1)}};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-600 flex items-center justify-center px-4",children:h.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8",children:[h.jsxs("div",{className:"text-center mb-8",children:[o&&h.jsxs("div",{className:"mb-4 p-3 bg-red-100 border border-red-300 text-red-700 rounded-lg font-semibold relative",children:[h.jsx("span",{children:o}),h.jsx("button",{type:"button","aria-label":"Đóng thông báo",className:"absolute top-2 right-3 text-xl text-red-500 hover:text-red-700 focus:outline-none",onClick:()=>s(""),children:"×"})]}),h.jsx("div",{className:"mx-auto h-16 w-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-white text-2xl font-bold",children:"Q"})}),h.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:e?"Đăng nhập":"Đăng ký"}),h.jsx("p",{className:"text-gray-600",children:e?"Chào mừng trở lại với Quiz App":"Tạo tài khoản mới"})]}),h.jsxs("div",{className:"flex rounded-lg bg-gray-100 p-1 mb-6",children:[h.jsx("button",{type:"button",onClick:()=>t(!0),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${e?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Đăng nhập"}),h.jsx("button",{type:"button",onClick:()=>t(!1),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${e?"text-gray-600 hover:text-gray-900":"bg-white text-blue-600 shadow-sm"}`,children:"Đăng ký"})]}),h.jsxs("form",{onSubmit:u,className:"space-y-4",children:[!e&&h.jsxs("div",{children:[h.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Họ và tên"}),h.jsx("input",{type:"text",id:"displayName",name:"displayName",value:r.displayName,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nhập họ và tên",required:!e})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),h.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nhập email",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mật khẩu"}),h.jsx("input",{type:"password",id:"password",name:"password",value:r.password,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nhập mật khẩu",required:!0})]}),!e&&h.jsxs("div",{children:[h.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Xác nhận mật khẩu"}),h.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nhập lại mật khẩu",required:!e})]}),o&&h.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:h.jsx("p",{className:"text-red-600 text-sm",children:o})}),h.jsx("button",{type:"submit",disabled:i,className:`w-full py-3 px-4 rounded-lg font-medium transition-colors ${i?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white"}`,children:i?e?"Đang đăng nhập...":"Đang đăng ký...":e?"Đăng nhập":"Đăng ký"})]}),h.jsx("div",{className:"mt-6 text-center",children:h.jsxs("p",{className:"text-sm text-gray-600",children:[e?"Chưa có tài khoản?":"Đã có tài khoản?"," ",h.jsx("button",{type:"button",onClick:()=>t(!e),className:"text-blue-600 hover:text-blue-800 font-medium",children:e?"Đăng ký ngay":"Đăng nhập ngay"})]})})]})})},rM=({children:e,title:t})=>{const{user:r}=Jr(n=>n.auth);return(r==null?void 0:r.role)!=="admin"?h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-gray-600",children:"Bạn không có quyền truy cập trang này."})}):h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:"bg-white shadow-sm border-b",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between items-center py-4",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"🔧 Admin Panel"})}),t&&h.jsx("div",{className:"ml-4 pl-4 border-l border-gray-200",children:h.jsx("h2",{className:"text-lg font-medium text-gray-700",children:t})})]}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("span",{className:"text-sm text-gray-500",children:["Xin chào, ",r==null?void 0:r.email]}),h.jsx("div",{className:"h-8 w-8 bg-blue-500 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-white text-sm font-medium",children:"A"})})]})]})})}),h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e})]})},gY=()=>{const[e,t]=v.useState({totalQuizzes:0,totalUsers:0,completedQuizzes:0,totalCreators:0});v.useEffect(()=>{(async()=>{try{const b=(await ft(ze(ue,"quizzes"))).docs.map(A=>A.data()).filter(A=>A.status==="approved"),x=b.length,w=b.filter(A=>A.completed===!0||A.status==="completed").length,E=b.map(A=>A.creatorId).filter((A,S,I)=>A&&I.indexOf(A)===S).length,j=(await ft(ze(ue,"users"))).docs.map(A=>A.data()).length;t({totalQuizzes:x,totalUsers:j,completedQuizzes:w,totalCreators:E})}catch{}})()},[]);const{user:r}=Jr(m=>m.auth),[n,i]=v.useState(!1),[a,o]=v.useState(!1),[s,l]=v.useState({message:"",type:"info",targetRole:"all"}),u=async()=>{if(!s.message.trim()){H.error("Vui lòng nhập nội dung thông báo!");return}o(!0);try{await kd(ze(ue,"system_notifications"),{message:s.message,type:s.type,createdAt:new Date,isActive:!0,targetRole:s.targetRole}),l({message:"",type:"info",targetRole:"all"}),i(!1),H.success("Đã gửi thông báo hệ thống!")}catch(m){console.error("Error creating notification:",m),H.error("Lỗi khi gửi thông báo!")}finally{o(!1)}},c=async()=>{o(!0);try{const m=["users","quizzes","categories","quiz_results"],g={};for(const E of m){const P=await ft(ze(ue,E));g[E]=P.docs.map(C=>({id:C.id,...C.data()}))}const y=JSON.stringify(g,null,2),b=new Blob([y],{type:"application/json"}),x=URL.createObjectURL(b),w=document.createElement("a");w.href=x,w.download=`quiz-app-backup-${new Date().toISOString().split("T")[0]}.json`,w.click(),H.success("Backup dữ liệu thành công!")}catch{H.error("Lỗi khi backup dữ liệu!")}finally{o(!1)}},d=async()=>{if(confirm("Bạn có chắc muốn xóa tất cả thông báo đang hiển thị?")){o(!0);try{const g=(await ft(ze(ue,"system_notifications"))).docs.map(y=>yr(y.ref,{isActive:!1}));await Promise.all(g),H.success("Đã tắt tất cả thông báo!")}catch(m){console.error("Error deleting notifications:",m),H.error("Lỗi khi xóa thông báo!")}finally{o(!1)}}},p=async()=>{if(confirm("Bạn có chắc muốn dọn dẹp dữ liệu đã xoá (quiz, user)?")){o(!0);try{const y=(await ft(ze(ue,"quizzes"))).docs.filter(E=>E.data().deleted===!0).map(E=>yr(Le(ue,"quizzes",E.id),{isPurged:!0})),w=(await ft(ze(ue,"users"))).docs.filter(E=>E.data().deleted===!0).map(E=>yr(Le(ue,"users",E.id),{isPurged:!0}));await Promise.all([...y,...w]),H.success("Đã dọn dẹp dữ liệu xoá!")}catch{H.error("Lỗi khi dọn dẹp dữ liệu xoá!")}finally{o(!1)}}};return(r==null?void 0:r.role)!=="admin"?h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-gray-600",children:"Bạn không có quyền truy cập trang này."})}):h.jsxs(rM,{title:"Dashboard",children:[h.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg shadow-lg p-6 mb-8 text-white",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Chào mừng đến với Admin Dashboard"}),h.jsx("p",{className:"text-blue-100",children:"Quản lý toàn bộ hệ thống Quiz một cách hiệu quả"})]}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 mb-6 md:mb-8",children:[h.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6 border border-gray-200",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:h.jsx("span",{className:"text-2xl",children:"📚"})}),h.jsxs("div",{className:"ml-4",children:[h.jsx("h3",{className:"text-sm md:text-base font-semibold text-gray-900",children:"Tổng số Quiz"}),h.jsx("div",{className:"text-xl md:text-3xl font-bold text-blue-600",children:e.totalQuizzes})]})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6 border border-gray-200",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:h.jsx("span",{className:"text-2xl",children:"👥"})}),h.jsxs("div",{className:"ml-4",children:[h.jsx("h3",{className:"text-sm md:text-base font-semibold text-gray-900",children:"Người dùng"}),h.jsx("div",{className:"text-xl md:text-3xl font-bold text-green-600",children:e.totalUsers})]})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6 border border-gray-200",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:h.jsx("span",{className:"text-2xl",children:"✅"})}),h.jsxs("div",{className:"ml-4",children:[h.jsx("h3",{className:"text-sm md:text-base font-semibold text-gray-900",children:"Quiz hoàn thành"}),h.jsx("div",{className:"text-xl md:text-3xl font-bold text-purple-600",children:e.completedQuizzes})]})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6 border border-gray-200",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:h.jsx("span",{className:"text-2xl",children:"✏️"})}),h.jsxs("div",{className:"ml-4",children:[h.jsx("h3",{className:"text-sm md:text-base font-semibold text-gray-900",children:"Người tạo"}),h.jsx("div",{className:"text-xl md:text-3xl font-bold text-orange-600",children:e.totalCreators})]})]})})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[h.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-3 md:mb-4",children:"Quản lý Quiz"}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ie,{to:"/admin/quiz-management",className:"w-full text-left p-2 md:p-3 hover:bg-gray-50 rounded border block text-sm md:text-base",children:"📝 Duyệt Quiz"}),h.jsx(Ie,{to:"/admin/categories",className:"w-full text-left p-2 md:p-3 hover:bg-gray-50 rounded border block text-sm md:text-base",children:"📂 Quản lý danh mục"}),h.jsx(Ie,{to:"/admin/quiz-stats",className:"w-full text-left p-2 md:p-3 hover:bg-gray-50 rounded border block text-sm md:text-base",children:"📊 Thống kê Quiz"})]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[h.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-3 md:mb-4",children:"Quản lý người dùng"}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ie,{to:"/admin/users",className:"w-full text-left p-2 md:p-3 hover:bg-gray-50 rounded border block text-sm md:text-base",children:"👥 Danh sách người dùng"}),h.jsx(Ie,{to:"/admin/users/creators",className:"w-full text-left p-2 md:p-3 hover:bg-gray-50 rounded border block text-sm md:text-base",children:"✏️ Quản lý Creator"}),h.jsx(Ie,{to:"/admin/roles",className:"w-full text-left p-2 md:p-3 hover:bg-gray-50 rounded border block text-sm md:text-base",children:"🔐 Phân quyền người dùng"})]})]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6 border border-gray-200",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("h2",{className:"text-lg md:text-xl font-semibold text-gray-900 flex items-center",children:[h.jsx("span",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:"⚡"}),"Thao tác nhanh"]}),h.jsx("span",{className:"text-sm text-gray-500",children:"Các chức năng quan trọng"})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:[h.jsx("button",{onClick:()=>i(!0),className:"group bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white p-4 rounded-lg font-medium transition-all duration-200 transform hover:scale-105 shadow-md hover:shadow-lg",disabled:a,children:h.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[h.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform",children:"📢"}),h.jsx("span",{className:"text-sm font-medium",children:"Gửi thông báo"})]})}),h.jsx("button",{onClick:d,className:"group bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white p-4 rounded-lg font-medium transition-all duration-200 transform hover:scale-105 shadow-md hover:shadow-lg",disabled:a,children:h.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[h.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform",children:"❌"}),h.jsx("span",{className:"text-sm font-medium",children:"Xóa thông báo"})]})}),h.jsx("button",{onClick:c,className:"group bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white p-4 rounded-lg font-medium transition-all duration-200 transform hover:scale-105 shadow-md hover:shadow-lg",disabled:a,children:h.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[h.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform",children:"💾"}),h.jsx("span",{className:"text-sm font-medium",children:"Backup dữ liệu"})]})}),h.jsx("button",{onClick:p,className:"group bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white p-4 rounded-lg font-medium transition-all duration-200 transform hover:scale-105 shadow-md hover:shadow-lg",disabled:a,children:h.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[h.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform",children:"🗑️"}),h.jsx("span",{className:"text-sm font-medium",children:"Dọn dẹp dữ liệu"})]})})]})]}),n&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-lg p-4 md:p-6 w-full max-w-md mx-4",children:[h.jsx("h2",{className:"text-lg md:text-xl font-semibold mb-4",children:"Gửi thông báo hệ thống"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nội dung thông báo"}),h.jsx("textarea",{value:s.message,onChange:m=>l(g=>({...g,message:m.target.value})),placeholder:"Nhập nội dung thông báo...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",rows:4})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại thông báo"}),h.jsxs("select",{value:s.type,onChange:m=>l(g=>({...g,type:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[h.jsx("option",{value:"info",children:"Thông tin (Xanh)"}),h.jsx("option",{value:"warning",children:"Cảnh báo (Vàng)"}),h.jsx("option",{value:"success",children:"Thành công (Xanh lá)"}),h.jsx("option",{value:"error",children:"Lỗi (Đỏ)"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Đối tượng nhận"}),h.jsxs("select",{value:s.targetRole,onChange:m=>l(g=>({...g,targetRole:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[h.jsx("option",{value:"all",children:"Tất cả người dùng"}),h.jsx("option",{value:"user",children:"Chỉ User"}),h.jsx("option",{value:"creator",children:"Chỉ Creator"})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-4",children:[h.jsx("button",{onClick:()=>i(!1),className:"w-full sm:w-auto px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors text-sm md:text-base",disabled:a,children:"Hủy"}),h.jsx("button",{onClick:u,disabled:a||!s.message.trim(),className:"w-full sm:w-auto px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm md:text-base",children:a?"Đang gửi...":"Gửi thông báo"})]})]})]})})]})},vY=()=>{const{user:e}=Jr(k=>k.auth),t=mm(),[r,n]=v.useState([]),[i,a]=v.useState(!0),[o,s]=v.useState(null),[l,u]=v.useState("all"),[c,d]=v.useState(!1),[p,m]=v.useState(null),[g,y]=v.useState(""),b=k=>{if(!k)return new Date;if(k&&typeof k.toDate=="function")return k.toDate();if(k instanceof Date)return k;if(typeof k=="string"||typeof k=="number"){const q=new Date(k);return isNaN(q.getTime())?new Date:q}return k&&typeof k=="object"&&k.seconds?new Date(k.seconds*1e3):(console.warn("Unknown date format:",k),new Date)};v.useEffect(()=>{x()},[]);const x=async()=>{try{a(!0),s(null),console.log("🔍 Loading quizzes from Firestore...");const k=xr(ze(ue,"quizzes"),so("createdAt","desc")),q=await ft(k);console.log("📊 Firestore response:",{empty:q.empty,size:q.size,docs:q.docs.length});const te=[];q.forEach(ie=>{const Q=ie.data();console.log("📝 Quiz data raw:",{id:ie.id,title:Q.title,status:Q.status,createdAt:Q.createdAt,createdAtType:typeof Q.createdAt});try{te.push({id:ie.id,title:Q.title||"Untitled Quiz",description:Q.description||"",status:Q.status||"pending",createdBy:Q.createdBy||"unknown",createdAt:b(Q.createdAt),questions:Q.questions||[],difficulty:Q.difficulty||"easy",category:Q.category||"general",isPublic:Q.isPublic||!1,isPublished:Q.isPublished||!1})}catch(F){console.error("Error parsing quiz:",ie.id,F)}}),console.log("✅ Loaded quizzes:",te.length),n(te),te.length===0&&(console.log("⚠️ No quizzes found, showing empty state"),H.info("Chưa có quiz nào. Bạn có thể tạo quiz test từ Admin Utilities"))}catch(k){console.error("❌ Error loading quizzes:",k),s("Không thể tải danh sách quiz"),H.error("Không thể tải danh sách quiz: "+k)}finally{a(!1)}},w=k=>{t(`/admin/edit-quiz/${k}`)},E=k=>{m(k),d(!0)},P=async k=>{try{const q=Le(ue,"quizzes",k);await yr(q,{status:"approved",isPublished:!0,approvedAt:new Date,approvedBy:e==null?void 0:e.uid}),n(te=>te.map(ie=>ie.id===k?{...ie,status:"approved",isPublished:!0}:ie)),H.success("Đã phê duyệt quiz thành công!")}catch(q){console.error("Error approving quiz:",q),H.error("Không thể duyệt quiz")}},C=async k=>{try{const q=Le(ue,"quizzes",k);await yr(q,{status:"rejected",isPublished:!1,rejectedAt:new Date,rejectedBy:e==null?void 0:e.uid}),n(te=>te.map(ie=>ie.id===k?{...ie,status:"rejected",isPublished:!1}:ie)),H.success("Đã từ chối quiz!")}catch(q){console.error("Error rejecting quiz:",q),H.error("Không thể từ chối quiz")}},j=async k=>{try{const q=Le(ue,"quizzes",k);await yr(q,{status:"pending",isPublished:!1,reopenedAt:new Date,reopenedBy:e==null?void 0:e.uid}),n(te=>te.map(ie=>ie.id===k?{...ie,status:"pending",isPublished:!1}:ie)),H.success("Đã mở lại quiz để xem xét!")}catch(q){console.error("Error reopening quiz:",q),H.error("Không thể mở lại quiz")}},A=async k=>{if(window.confirm("Bạn có chắc chắn muốn xóa quiz này không?"))try{await T_(Le(ue,"quizzes",k)),n(q=>q.filter(te=>te.id!==k)),H.success("Quiz đã được xóa")}catch(q){console.error("Error deleting quiz:",q),H.error("Không thể xóa quiz")}},S=r.filter(k=>{const q=l==="all"||k.status===l,te=k.title.toLowerCase().includes(g.toLowerCase())||k.description.toLowerCase().includes(g.toLowerCase());return q&&te}),N={all:r.length,pending:r.filter(k=>k.status==="pending").length,approved:r.filter(k=>k.status==="approved").length,rejected:r.filter(k=>k.status==="rejected").length},R=k=>{switch(k){case"approved":return h.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"✅ Đã duyệt"});case"rejected":return h.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:"❌ Từ chối"});default:return h.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 rounded-full text-xs font-medium",children:"⏳ Chờ duyệt"})}},D=k=>{switch(k){case"easy":return h.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:"🟢 Dễ"});case"hard":return h.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs",children:"🔴 Khó"});default:return h.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs",children:"🟡 Trung bình"})}};return!e||e.role!=="admin"?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"⛔ Không có quyền truy cập"}),h.jsx("p",{className:"text-gray-600",children:"Bạn cần quyền admin để truy cập trang này."})]})}):i?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),h.jsx("p",{className:"mt-4 text-gray-600",children:"Đang tải danh sách quiz..."})]})}):o?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"❌ Lỗi"}),h.jsx("p",{className:"text-gray-600 mb-4",children:o}),h.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Thử lại"})]})}):h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:"bg-white border-b border-gray-200",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl flex items-center justify-center",children:h.jsx(Jn,{className:"w-6 h-6 text-white"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Quản lý Quiz"}),h.jsx("p",{className:"text-gray-600",children:"Duyệt và quản lý tất cả quiz trong hệ thống"})]})]}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("button",{onClick:()=>window.open("/admin/utilities","_blank"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",title:"Tạo quiz test để thử nghiệm",children:[h.jsx(Jn,{className:"w-4 h-4"}),"Quiz Test"]}),h.jsxs("button",{onClick:x,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center gap-2",title:"Làm mới danh sách",children:[h.jsx(tI,{className:"w-4 h-4"}),"Làm mới"]}),h.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[h.jsx(rY,{className:"w-4 h-4"}),h.jsx("span",{children:e==null?void 0:e.email}),h.jsx("span",{className:"ml-2 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:"Admin"})]})]})]})})}),h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[h.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng Quiz"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.all})]}),h.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:h.jsx(AG,{className:"w-6 h-6 text-blue-600"})})]})}),h.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Chờ duyệt"}),h.jsx("p",{className:"text-2xl font-bold text-orange-600",children:N.pending})]}),h.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:h.jsx(IG,{className:"w-6 h-6 text-orange-600"})})]})}),h.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đã duyệt"}),h.jsx("p",{className:"text-2xl font-bold text-green-600",children:N.approved})]}),h.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:h.jsx(eI,{className:"w-6 h-6 text-green-600"})})]})}),h.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đã từ chối"}),h.jsx("p",{className:"text-2xl font-bold text-red-600",children:N.rejected})]}),h.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:h.jsx(Ey,{className:"w-6 h-6 text-red-600"})})]})})]}),h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-8",children:h.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[h.jsx("div",{className:"flex-1",children:h.jsxs("div",{className:"relative",children:[h.jsx(UG,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),h.jsx("input",{type:"text",placeholder:"Tìm kiếm quiz theo tiêu đề, mô tả...",value:g,onChange:k=>y(k.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),h.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[h.jsx("button",{onClick:()=>u("all"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${l==="all"?"bg-blue-600 text-white shadow-sm":"text-gray-700 hover:text-gray-900"}`,children:"Tất cả"}),h.jsx("button",{onClick:()=>u("pending"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${l==="pending"?"bg-orange-600 text-white shadow-sm":"text-gray-700 hover:text-gray-900"}`,children:"Chờ duyệt"}),h.jsx("button",{onClick:()=>u("approved"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${l==="approved"?"bg-green-600 text-white shadow-sm":"text-gray-700 hover:text-gray-900"}`,children:"Đã duyệt"}),h.jsx("button",{onClick:()=>u("rejected"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${l==="rejected"?"bg-red-600 text-white shadow-sm":"text-gray-700 hover:text-gray-900"}`,children:"Từ chối"})]})]})}),S.length===0?h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[h.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:h.jsx(Jn,{className:"w-10 h-10 text-gray-400"})}),h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:g?"Không tìm thấy quiz phù hợp":"Chưa có quiz nào"}),h.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:g?"Thử thay đổi từ khóa tìm kiếm hoặc bộ lọc để xem thêm quiz.":"Hiện tại chưa có quiz nào trong hệ thống. Bạn có thể tạo một số quiz test để thử nghiệm tính năng duyệt."}),!g&&h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[h.jsxs("button",{onClick:()=>window.open("/admin/utilities","_blank"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[h.jsx(Jn,{className:"w-5 h-5"}),"Tạo Quiz Test"]}),h.jsxs("button",{onClick:()=>window.open("/creator","_blank"),className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[h.jsx(Jn,{className:"w-5 h-5"}),"Tạo Quiz Thực"]})]})]}):h.jsx("div",{className:"grid gap-6",children:S.map(k=>h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900",children:k.title}),R(k.status),D(k.difficulty)]}),h.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:k.description}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[h.jsxs("div",{children:[h.jsx("span",{className:"font-medium",children:"Danh mục:"})," ",k.category]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium",children:"Số câu hỏi:"})," ",k.questions.length]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium",children:"Tạo lúc:"})," ",k.createdAt.toLocaleDateString("vi-VN")]})]})]}),h.jsxs("div",{className:"flex items-center gap-2 ml-6",children:[h.jsx("button",{onClick:()=>E(k),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Xem trước chi tiết",children:h.jsx(Hs,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>w(k.id),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Chỉnh sửa quiz",children:h.jsx(DG,{className:"w-5 h-5"})}),k.status==="pending"&&h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>P(k.id),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Phê duyệt quiz",children:h.jsx(eI,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>C(k.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Từ chối quiz",children:h.jsx(Ey,{className:"w-5 h-5"})})]}),(k.status==="approved"||k.status==="rejected")&&h.jsx("button",{onClick:()=>j(k.id),className:"p-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Mở lại để xem xét",children:h.jsx(tI,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>A(k.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Xóa quiz vĩnh viễn",children:h.jsx(YG,{className:"w-5 h-5"})})]})]})},k.id))})]}),c&&p&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("h2",{className:"text-xl font-bold",children:["Xem trước Quiz: ",p.title]}),h.jsx("button",{onClick:()=>d(!1),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg",children:h.jsx(Ey,{className:"w-5 h-5"})})]})}),h.jsx("div",{className:"p-6",children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold mb-2",children:"Mô tả:"}),h.jsx("p",{className:"text-gray-600",children:p.description})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[h.jsxs("div",{children:[h.jsx("span",{className:"font-semibold",children:"Danh mục:"})," ",p.category]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-semibold",children:"Độ khó:"})," ",p.difficulty]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-semibold",children:"Số câu hỏi:"})," ",p.questions.length]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-semibold",children:"Trạng thái:"})," ",R(p.status||"pending")]})]}),p.questions.length>0&&h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold mb-4",children:"Câu hỏi:"}),h.jsx("div",{className:"space-y-4",children:p.questions.map((k,q)=>h.jsxs("div",{className:"border rounded-lg p-4",children:[h.jsxs("h4",{className:"font-medium mb-2",children:[q+1,". ",k.text]}),k.answers&&h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:k.answers.map((te,ie)=>h.jsxs("div",{className:`p-2 rounded ${te.isCorrect?"bg-green-100 text-green-800":"bg-gray-100"}`,children:[String.fromCharCode(65+ie),". ",te.text,te.isCorrect&&" ✓"]},ie))})]},q))})]})]})})]})})]})},yY=({isOpen:e,onClose:t,title:r,children:n,size:i="md",closeOnBackdrop:a=!0,showCloseButton:o=!0})=>{v.useEffect(()=>{const l=u=>{u.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",l),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",l),document.body.style.overflow="unset"}},[e,t]);const s={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return e?h.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:a?t:void 0}),h.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:h.jsxs("div",{className:`
            relative bg-white rounded-lg shadow-xl transform transition-all
            w-full ${s[i]}
          `,onClick:l=>l.stopPropagation(),children:[(r||o)&&h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r&&h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r}),o&&h.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors p-1","aria-label":"Đóng modal",children:h.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),h.jsx("div",{className:"p-6",children:n})]})})]}):null},oI=()=>{const{user:e}=Jr(g=>g.auth),[t,r]=v.useState([]),[n,i]=v.useState(!0),[a,o]=v.useState("all"),[s,l]=v.useState({open:!1,type:null});v.useEffect(()=>{u()},[]);const u=async()=>{try{const y=(await ft(ze(ue,"users"))).docs.map(b=>({id:b.id,...b.data()}));r(y)}catch(g){console.error("Error fetching users:",g)}finally{i(!1)}},c=async(g,y)=>{if(g===(e==null?void 0:e.uid)&&y!=="admin"){H.error("Bạn không thể thay đổi quyền của chính mình!");return}i(!0);try{await yr(Le(ue,"users",g),{role:y}),r(b=>b.map(x=>x.id===g?{...x,role:y}:x)),H.success("Đã cập nhật quyền người dùng!")}catch(b){console.error("Error updating user role:",b),H.error("Có lỗi xảy ra!")}finally{i(!1)}},d=async(g,y)=>{if(g===(e==null?void 0:e.uid)){H.error("Bạn không thể khóa tài khoản của chính mình!");return}i(!0);try{await yr(Le(ue,"users",g),{isActive:!y}),r(b=>b.map(x=>x.id===g?{...x,isActive:!y}:x)),H.success(`Đã ${y?"khóa":"kích hoạt"} tài khoản!`)}catch(b){console.error("Error updating user status:",b),H.error("Có lỗi xảy ra!")}finally{i(!1)}},p=async g=>{if(g===(e==null?void 0:e.uid)){H.error("Bạn không thể xóa tài khoản của chính mình!");return}i(!0);try{await T_(Le(ue,"users",g)),r(y=>y.filter(b=>b.id!==g)),H.success("Đã xóa người dùng!")}catch(y){console.error("Error deleting user:",y),H.error("Có lỗi xảy ra khi xóa người dùng!")}finally{i(!1)}},m=a==="all"?t:t.filter(g=>g.role===a);return(e==null?void 0:e.role)!=="admin"?h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-gray-600",children:"Bạn không có quyền truy cập trang này."})}):n?h.jsx("div",{className:"flex items-center justify-center min-h-96",children:h.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):h.jsxs(rM,{title:"👥 Quản lý người dùng",children:[h.jsx("div",{className:"mb-6",children:h.jsx("div",{className:"flex space-x-4",children:[{key:"all",label:"Tất cả",count:t.length},{key:"admin",label:"Admin",count:t.filter(g=>g.role==="admin").length},{key:"creator",label:"Creator",count:t.filter(g=>g.role==="creator").length},{key:"user",label:"User",count:t.filter(g=>g.role==="user").length}].map(g=>h.jsxs("button",{onClick:()=>o(g.key),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a===g.key?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[g.label," (",g.count,")"]},g.key))})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tổng người dùng"}),h.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.length})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Đang hoạt động"}),h.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.filter(g=>g.isActive!==!1).length})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Creator"}),h.jsx("p",{className:"text-3xl font-bold text-purple-600",children:t.filter(g=>g.role==="creator").length})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Admin"}),h.jsx("p",{className:"text-3xl font-bold text-red-600",children:t.filter(g=>g.role==="admin").length})]})]}),h.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Người dùng"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vai trò"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày tạo"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tác"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(g=>{var y,b,x,w,E;return h.jsxs("tr",{className:g.id===(e==null?void 0:e.uid)?"bg-blue-50":"",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:h.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:h.jsx("span",{className:"text-sm font-medium text-gray-700",children:((y=g.displayName)==null?void 0:y.charAt(0))||((b=g.email)==null?void 0:b.charAt(0))||"U"})})}),h.jsxs("div",{className:"ml-4",children:[h.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[g.displayName||"Chưa có tên",g.id===(e==null?void 0:e.uid)&&h.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"(Bạn)"})]}),h.jsx("div",{className:"text-sm text-gray-500",children:g.email})]})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("select",{value:g.role,onChange:P=>l({open:!0,type:"roleChange",payload:{userId:g.id,newRole:P.target.value},message:`Bạn có chắc chắn muốn đổi quyền cho người dùng này thành ${P.target.value}?`}),disabled:g.id===(e==null?void 0:e.uid),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[h.jsx("option",{value:"user",children:"User"}),h.jsx("option",{value:"creator",children:"Creator"}),h.jsx("option",{value:"admin",children:"Admin"})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${g.isActive!==!1?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:g.isActive!==!1?"Hoạt động":"Bị khóa"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((E=(w=(x=g.createdAt)==null?void 0:x.toDate)==null?void 0:w.call(x))==null?void 0:E.toLocaleDateString())||"N/A"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:h.jsx("div",{className:"flex space-x-2",children:g.id!==(e==null?void 0:e.uid)&&h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>l({open:!0,type:"toggleUserStatus",payload:{userId:g.id,currentStatus:g.isActive!==!1},message:g.isActive!==!1?"Bạn có chắc chắn muốn khóa tài khoản này?":"Bạn có chắc chắn muốn kích hoạt tài khoản này?"}),className:`px-3 py-1 rounded text-xs ${g.isActive!==!1?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"}`,disabled:n,children:g.isActive!==!1?"Khóa":"Kích hoạt"}),h.jsx("button",{onClick:()=>l({open:!0,type:"deleteUser",payload:{userId:g.id},message:"Bạn có chắc chắn muốn xóa người dùng này?"}),className:"px-3 py-1 bg-red-100 text-red-600 rounded text-xs hover:bg-red-200",disabled:n,children:"Xóa"})]})})})]},g.id)})})]})}),h.jsxs(yY,{isOpen:s.open,onClose:()=>l({open:!1,type:null}),title:"Xác nhận thao tác",children:[h.jsx("div",{className:"mb-4",children:s.message}),h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsx("button",{onClick:()=>l({open:!1,type:null}),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",disabled:n,children:"Hủy"}),h.jsx("button",{onClick:async()=>{s.type==="deleteUser"&&await p(s.payload.userId),s.type==="toggleUserStatus"&&await d(s.payload.userId,s.payload.currentStatus),s.type==="roleChange"&&await c(s.payload.userId,s.payload.newRole),l({open:!1,type:null})},className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",disabled:n,children:"Xác nhận"})]})]})]})};var gg={},nM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(nM);var U_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(U_);var B_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(B_);var vg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let a=0,o="",s="",l=!1;for(r.charCodeAt(0)===46&&(n.push(""),a++);a<i;){const u=r[a];s?u==="\\"&&a+1<i?(a++,o+=r[a]):u===s?s="":o+=u:l?u==='"'||u==="'"?s=u:u==="]"?(l=!1,n.push(o),o=""):o+=u:u==="["?(l=!0,o&&(n.push(o),o="")):u==="."?o&&(n.push(o),o=""):o+=u,a++}return o&&n.push(o),n}e.toPath=t})(vg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nM,r=U_,n=B_,i=vg;function a(s,l,u){if(s==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?r.isDeepKey(l)?a(s,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const c=s[l];return c===void 0?u:c}default:{if(Array.isArray(l))return o(s,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?u:c}}}function o(s,l,u){if(l.length===0)return u;let c=s;for(let d=0;d<l.length;d++){if(c==null||t.isUnsafeProperty(l[d]))return u;c=c[l[d]]}return c===void 0?u:c}e.get=a})(gg);var xY=gg.get;const eo=gi(xY);var Kt=e=>e===0?0:e>0?1:-1,en=e=>typeof e=="number"&&e!=+e,Oo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,J=e=>(typeof e=="number"||e instanceof Number)&&!en(e),hi=e=>J(e)||typeof e=="string",wY=0,to=e=>{var t=++wY;return"".concat(e||"").concat(t)},Tr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!J(t)&&typeof t!="string")return n;var a;if(Oo(t)){if(r==null)return n;var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return en(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},iM=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},qr=(e,t)=>J(e)&&J(t)?r=>e+r*(t-e):()=>t;function Is(e,t,r){return J(e)&&J(t)?e+r*(t-e):t}function aM(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):eo(n,t))===r)}var Re=e=>e===null||typeof e>"u",Md=e=>Re(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),bY=["viewBox","children"],_Y=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],sI=["points","pathLength"],Ty={svg:bY,polygon:sI,polyline:sI},q_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],K_=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{q_.includes(i)&&(n[i]=a=>r[i](r,a))}),n},EY=(e,t,r)=>n=>(e(t,r,n),null),Ld=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];q_.includes(i)&&typeof a=="function"&&(n||(n={}),n[i]=EY(a,t,r))}),n},lI=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",uI=null,Ay=null,oM=e=>{if(e===uI&&Array.isArray(Ay))return Ay;var t=[];return v.Children.forEach(e,r=>{Re(r)||(n9.isFragment(r)?t=t.concat(oM(r.props.children)):t.push(r))}),Ay=t,uI=e,t};function $d(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>lI(i)):n=[lI(t)],oM(e).forEach(i=>{var a=eo(i,"type.displayName")||eo(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}var yg=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,TY=(e,t,r,n)=>{var i,a=(i=n&&(Ty==null?void 0:Ty[n]))!==null&&i!==void 0?i:[];return t.startsWith("data-")||typeof e!="function"&&(n&&a.includes(t)||_Y.includes(t))||r&&q_.includes(t)},me=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var o;TY((o=n)===null||o===void 0?void 0:o[a],a,t,r)&&(i[a]=n[a])}),i},AY=["children","width","height","viewBox","className","style","title","desc"];function Ex(){return Ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ex.apply(null,arguments)}function SY(e,t){if(e==null)return{};var r,n,i=PY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var W_=v.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:s,title:l,desc:u}=e,c=SY(e,AY),d=a||{width:n,height:i,x:0,y:0},p=he("recharts-surface",o);return v.createElement("svg",Ex({},me(c,!0,"svg"),{className:p,width:n,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),v.createElement("title",null,l),v.createElement("desc",null,u),r)}),IY=["children","className"];function Tx(){return Tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tx.apply(null,arguments)}function kY(e,t){if(e==null)return{};var r,n,i=CY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function CY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var st=v.forwardRef((e,t)=>{var{children:r,className:n}=e,i=kY(e,IY),a=he("recharts-layer",n);return v.createElement("g",Tx({className:a},me(i,!0),{ref:t}),r)}),sM=v.createContext(null),NY=()=>v.useContext(sM);function Ue(e){return function(){return e}}const lM=Math.cos,yp=Math.sin,Hn=Math.sqrt,xp=Math.PI,xg=2*xp,Ax=Math.PI,Sx=2*Ax,Eo=1e-6,OY=Sx-Eo;function uM(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function jY(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return uM;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class RY{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?uM:jY(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-t,u=i-r,c=o-t,d=s-r,p=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Eo)if(!(Math.abs(d*l-u*c)>Eo)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=i-s,y=l*l+u*u,b=m*m+g*g,x=Math.sqrt(y),w=Math.sqrt(p),E=a*Math.tan((Ax-Math.acos((y+p-b)/(2*x*w)))/2),P=E/w,C=E/x;Math.abs(P-1)>Eo&&this._append`L${t+P*c},${r+P*d}`,this._append`A${a},${a},0,0,${+(d*m>c*g)},${this._x1=t+C*l},${this._y1=r+C*u}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=t+s,c=r+l,d=1^o,p=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Eo||Math.abs(this._y1-c)>Eo)&&this._append`L${u},${c}`,n&&(p<0&&(p=p%Sx+Sx),p>OY?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=c}`:p>Eo&&this._append`A${n},${n},0,${+(p>=Ax)},${d},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function H_(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new RY(t)}function Q_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function cM(e){this._context=e}cM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function wg(e){return new cM(e)}function dM(e){return e[0]}function fM(e){return e[1]}function hM(e,t){var r=Ue(!0),n=null,i=wg,a=null,o=H_(s);e=typeof e=="function"?e:e===void 0?dM:Ue(e),t=typeof t=="function"?t:t===void 0?fM:Ue(t);function s(l){var u,c=(l=Q_(l)).length,d,p=!1,m;for(n==null&&(a=i(m=o())),u=0;u<=c;++u)!(u<c&&r(d=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(d,u,l),+t(d,u,l));if(m)return a=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ue(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ue(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ue(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function zf(e,t,r){var n=null,i=Ue(!0),a=null,o=wg,s=null,l=H_(u);e=typeof e=="function"?e:e===void 0?dM:Ue(+e),t=typeof t=="function"?t:Ue(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?fM:Ue(+r);function u(d){var p,m,g,y=(d=Q_(d)).length,b,x=!1,w,E=new Array(y),P=new Array(y);for(a==null&&(s=o(w=l())),p=0;p<=y;++p){if(!(p<y&&i(b=d[p],p,d))===x)if(x=!x)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=p-1;g>=m;--g)s.point(E[g],P[g]);s.lineEnd(),s.areaEnd()}x&&(E[p]=+e(b,p,d),P[p]=+t(b,p,d),s.point(n?+n(b,p,d):E[p],r?+r(b,p,d):P[p]))}if(w)return s=null,w+""||null}function c(){return hM().defined(i).curve(o).context(a)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ue(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Ue(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ue(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ue(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Ue(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ue(+d),u):r},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(r)},u.lineX1=function(){return c().x(n).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Ue(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),u):o},u.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),u):a},u}class pM{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function DY(e){return new pM(e,!0)}function MY(e){return new pM(e,!1)}const G_={draw(e,t){const r=Hn(t/xp);e.moveTo(r,0),e.arc(0,0,r,0,xg)}},LY={draw(e,t){const r=Hn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},mM=Hn(1/3),$Y=mM*2,zY={draw(e,t){const r=Hn(t/$Y),n=r*mM;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},VY={draw(e,t){const r=Hn(t),n=-r/2;e.rect(n,n,r,r)}},FY=.8908130915292852,gM=yp(xp/10)/yp(7*xp/10),UY=yp(xg/10)*gM,BY=-lM(xg/10)*gM,qY={draw(e,t){const r=Hn(t*FY),n=UY*r,i=BY*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=xg*a/5,s=lM(o),l=yp(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*i,l*n+s*i)}e.closePath()}},Sy=Hn(3),KY={draw(e,t){const r=-Hn(t/(Sy*3));e.moveTo(0,r*2),e.lineTo(-Sy*r,-r),e.lineTo(Sy*r,-r),e.closePath()}},sn=-.5,ln=Hn(3)/2,Px=1/Hn(12),WY=(Px/2+1)*3,HY={draw(e,t){const r=Hn(t/WY),n=r/2,i=r*Px,a=n,o=r*Px+r,s=-a,l=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(sn*n-ln*i,ln*n+sn*i),e.lineTo(sn*a-ln*o,ln*a+sn*o),e.lineTo(sn*s-ln*l,ln*s+sn*l),e.lineTo(sn*n+ln*i,sn*i-ln*n),e.lineTo(sn*a+ln*o,sn*o-ln*a),e.lineTo(sn*s+ln*l,sn*l-ln*s),e.closePath()}};function QY(e,t){let r=null,n=H_(i);e=typeof e=="function"?e:Ue(e||G_),t=typeof t=="function"?t:Ue(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Ue(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Ue(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function wp(){}function bp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function vM(e){this._context=e}vM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function GY(e){return new vM(e)}function yM(e){this._context=e}yM.prototype={areaStart:wp,areaEnd:wp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:bp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YY(e){return new yM(e)}function xM(e){this._context=e}xM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:bp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XY(e){return new xM(e)}function wM(e){this._context=e}wM.prototype={areaStart:wp,areaEnd:wp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function JY(e){return new wM(e)}function cI(e){return e<0?-1:1}function dI(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(cI(a)+cI(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function fI(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Py(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function _p(e){this._context=e}_p.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Py(this,this._t0,fI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Py(this,fI(this,r=dI(this,e,t)),r);break;default:Py(this,this._t0,r=dI(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function bM(e){this._context=new _M(e)}(bM.prototype=Object.create(_p.prototype)).point=function(e,t){_p.prototype.point.call(this,t,e)};function _M(e){this._context=e}_M.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function ZY(e){return new _p(e)}function eX(e){return new bM(e)}function EM(e){this._context=e}EM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=hI(e),i=hI(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function hI(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function tX(e){return new EM(e)}function bg(e,t){this._context=e,this._t=t}bg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function rX(e){return new bg(e,.5)}function nX(e){return new bg(e,0)}function iX(e){return new bg(e,1)}function Ol(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,s=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Ix(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function aX(e,t){return e[t]}function oX(e){const t=[];return t.key=e,t}function sX(){var e=Ue([]),t=Ix,r=Ol,n=aX;function i(a){var o=Array.from(e.apply(this,arguments),oX),s,l=o.length,u=-1,c;for(const d of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(d,o[s].key,u,a)]).data=d;for(s=0,c=Q_(t(o));s<l;++s)o[c[s]].index=s;return r(o,c),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Ue(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ue(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Ix:typeof a=="function"?a:Ue(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Ol,i):r},i}function lX(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}Ol(e,t)}}function uX(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Ol(e,t)}}function cX(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,u=0;s<o;++s){for(var c=e[t[s]],d=c[n][1]||0,p=c[n-1][1]||0,m=(d-p)/2,g=0;g<s;++g){var y=e[t[g]],b=y[n][1]||0,x=y[n-1][1]||0;m+=b-x}l+=d,u+=m*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,Ol(e,t)}}var dX=["type","size","sizeType"];function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kx.apply(null,arguments)}function pI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pI(Object(r),!0).forEach(function(n){fX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fX(e,t,r){return(t=hX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hX(e){var t=pX(e,"string");return typeof t=="symbol"?t:t+""}function pX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mX(e,t){if(e==null)return{};var r,n,i=gX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TM={symbolCircle:G_,symbolCross:LY,symbolDiamond:zY,symbolSquare:VY,symbolStar:qY,symbolTriangle:KY,symbolWye:HY},vX=Math.PI/180,yX=e=>{var t="symbol".concat(Md(e));return TM[t]||G_},xX=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*vX;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},wX=(e,t)=>{TM["symbol".concat(Md(e))]=t},Y_=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=mX(e,dX),a=mI(mI({},i),{},{type:t,size:r,sizeType:n}),o=()=>{var d=yX(t),p=QY().type(d).size(xX(r,n,t));return p()},{className:s,cx:l,cy:u}=a,c=me(a,!0);return l===+l&&u===+u&&r===+r?v.createElement("path",kx({},c,{className:he("recharts-symbols",s),transform:"translate(".concat(l,", ").concat(u,")"),d:o()})):null};Y_.registerSymbol=wX;function Cx(){return Cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cx.apply(null,arguments)}function gI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(r),!0).forEach(function(n){X_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X_(e,t,r){return(t=_X(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _X(e){var t=EX(e,"string");return typeof t=="symbol"?t:t+""}function EX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var un=32;class J_ extends v.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,i=un/2,a=un/6,o=un/3,s=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline")return v.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:un,y2:i,className:"recharts-legend-icon"});if(l==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(un,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return v.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(un/8,"h").concat(un,"v").concat(un*3/4,"h").concat(-un,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var u=bX({},t);return delete u.legendIcon,v.cloneElement(t.legendIcon,u)}return v.createElement(Y_,{fill:s,cx:i,cy:i,size:un,sizeType:"diameter",type:l})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:o}=this.props,s={x:0,y:0,width:un,height:un},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((c,d)=>{var p=c.formatter||i,m=he({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:c.inactive});if(c.type==="none")return null;var g=c.inactive?a:c.color,y=p?p(c.value,c,d):c.value;return v.createElement("li",Cx({className:m,style:l,key:"legend-item-".concat(d)},Ld(this.props,c,d)),v.createElement(W_,{width:r,height:r,viewBox:s,style:u,"aria-label":"".concat(y," legend icon")},this.renderIcon(c,o)),v.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},y))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}X_(J_,"displayName","Legend");X_(J_,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var AM={},SM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],s=n(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}e.uniqBy=t})(SM);var Z_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Z_);var PM={},_g={},IM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(IM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IM;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(_g);var kM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(kM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_g,r=kM;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(PM);var CM={},NM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gg;function r(n){return function(i){return t.get(i,n)}}e.property=r})(NM);var OM={},Iy={},ky={},e1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(e1);var t1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(t1);var Eg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Eg);var vI;function TX(){return vI||(vI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r1(),r=e1,n=t1,i=Eg;function a(d,p,m){return typeof m!="function"?t.isMatch(d,p):o(d,p,function g(y,b,x,w,E,P){const C=m(y,b,x,w,E,P);return C!==void 0?!!C:o(y,b,g,P)},new Map)}function o(d,p,m,g){if(p===d)return!0;switch(typeof p){case"object":return s(d,p,m,g);case"function":return Object.keys(p).length>0?o(d,{...p},m,g):i.eq(d,p);default:return r.isObject(d)?typeof p=="string"?p==="":!0:i.eq(d,p)}}function s(d,p,m,g){if(p==null)return!0;if(Array.isArray(p))return u(d,p,m,g);if(p instanceof Map)return l(d,p,m,g);if(p instanceof Set)return c(d,p,m,g);const y=Object.keys(p);if(d==null)return y.length===0;if(y.length===0)return!0;if(g&&g.has(p))return g.get(p)===d;g&&g.set(p,d);try{for(let b=0;b<y.length;b++){const x=y[b];if(!n.isPrimitive(d)&&!(x in d)||p[x]===void 0&&d[x]!==void 0||p[x]===null&&d[x]!==null||!m(d[x],p[x],x,d,p,g))return!1}return!0}finally{g&&g.delete(p)}}function l(d,p,m,g){if(p.size===0)return!0;if(!(d instanceof Map))return!1;for(const[y,b]of p.entries()){const x=d.get(y);if(m(x,b,y,d,p,g)===!1)return!1}return!0}function u(d,p,m,g){if(p.length===0)return!0;if(!Array.isArray(d))return!1;const y=new Set;for(let b=0;b<p.length;b++){const x=p[b];let w=!1;for(let E=0;E<d.length;E++){if(y.has(E))continue;const P=d[E];let C=!1;if(m(P,x,b,d,p,g)&&(C=!0),C){y.add(E),w=!0;break}}if(!w)return!1}return!0}function c(d,p,m,g){return p.size===0?!0:d instanceof Set?u([...d],[...p],m,g):!1}e.isMatchWith=a,e.isSetMatch=c}(ky)),ky}var yI;function r1(){return yI||(yI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TX();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r}(Iy)),Iy}var jM={},n1={},i1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(i1);var Tg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Tg);var Ag={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",d="[object Function]",p="[object ArrayBuffer]",m="[object Object]",g="[object Error]",y="[object DataView]",b="[object Uint8Array]",x="[object Uint8ClampedArray]",w="[object Uint16Array]",E="[object Uint32Array]",P="[object BigUint64Array]",C="[object Int8Array]",j="[object Int16Array]",A="[object Int32Array]",S="[object BigInt64Array]",I="[object Float32Array]",N="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=p,e.arrayTag=c,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=P,e.booleanTag=i,e.dataViewTag=y,e.dateTag=s,e.errorTag=g,e.float32ArrayTag=I,e.float64ArrayTag=N,e.functionTag=d,e.int16ArrayTag=j,e.int32ArrayTag=A,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=w,e.uint32ArrayTag=E,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=x})(Ag);var RM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(RM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i1,r=Tg,n=Ag,i=t1,a=RM;function o(c,d){return s(c,void 0,c,new Map,d)}function s(c,d,p,m=new Map,g=void 0){const y=g==null?void 0:g(c,d,p,m);if(y!=null)return y;if(i.isPrimitive(c))return c;if(m.has(c))return m.get(c);if(Array.isArray(c)){const b=new Array(c.length);m.set(c,b);for(let x=0;x<c.length;x++)b[x]=s(c[x],x,p,m,g);return Object.hasOwn(c,"index")&&(b.index=c.index),Object.hasOwn(c,"input")&&(b.input=c.input),b}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const b=new RegExp(c.source,c.flags);return b.lastIndex=c.lastIndex,b}if(c instanceof Map){const b=new Map;m.set(c,b);for(const[x,w]of c)b.set(x,s(w,x,p,m,g));return b}if(c instanceof Set){const b=new Set;m.set(c,b);for(const x of c)b.add(s(x,void 0,p,m,g));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const b=new(Object.getPrototypeOf(c)).constructor(c.length);m.set(c,b);for(let x=0;x<c.length;x++)b[x]=s(c[x],x,p,m,g);return b}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const b=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return m.set(c,b),l(b,c,p,m,g),b}if(typeof File<"u"&&c instanceof File){const b=new File([c],c.name,{type:c.type});return m.set(c,b),l(b,c,p,m,g),b}if(c instanceof Blob){const b=new Blob([c],{type:c.type});return m.set(c,b),l(b,c,p,m,g),b}if(c instanceof Error){const b=new c.constructor;return m.set(c,b),b.message=c.message,b.name=c.name,b.stack=c.stack,b.cause=c.cause,l(b,c,p,m,g),b}if(typeof c=="object"&&u(c)){const b=Object.create(Object.getPrototypeOf(c));return m.set(c,b),l(b,c,p,m,g),b}return c}function l(c,d,p=c,m,g){const y=[...Object.keys(d),...t.getSymbols(d)];for(let b=0;b<y.length;b++){const x=y[b],w=Object.getOwnPropertyDescriptor(c,x);(w==null||w.writable)&&(c[x]=s(d[x],x,p,m,g))}}function u(c){switch(r.getTag(c)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(n1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n1;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(jM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r1(),r=jM;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(OM);var DM={},MM={},LM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n1,r=Ag;function n(i,a){return t.cloneDeepWith(i,(o,s,l,u)=>{const c=a==null?void 0:a(o,s,l,u);if(c!=null)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(d,i),d}case r.argumentsTag:{const d={};return t.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}e.cloneDeepWith=n})(LM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LM;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(MM);var $M={},a1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(a1);var zM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tg;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(zM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U_,r=a1,n=zM,i=vg;function a(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let u=o;for(let c=0;c<l.length;c++){const d=l[c];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}e.has=a})($M);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r1(),r=B_,n=MM,i=gg,a=$M;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return l=n.cloneDeep(l),function(u){const c=i.get(u,s);return c===void 0?a.has(u,s):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=o})(DM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z_,r=NM,n=OM,i=DM;function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=a})(CM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SM,r=Z_,n=PM,i=CM;function a(o,s=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(s)):[]}e.uniqBy=a})(AM);var AX=AM.uniqBy;const xI=gi(AX);function VM(e,t,r){return t===!0?xI(e,r):typeof t=="function"?xI(e,t):e}var o1=v.createContext(null),SX=e=>e,rt=()=>{var e=v.useContext(o1);return e?e.store.dispatch:SX},_h=()=>{},PX=()=>_h,IX=(e,t)=>e===t;function ne(e){var t=v.useContext(o1);return bj.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:PX,t?t.store.getState:_h,t?t.store.getState:_h,t?e:_h,IX)}function kX(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function CX(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function NX(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var wI=e=>Array.isArray(e)?e:[e];function OX(e){const t=Array.isArray(e[0])?e[0]:e;return NX(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function jX(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var RX=class{constructor(e){this.value=e}deref(){return this.value}},DX=typeof WeakRef<"u"?WeakRef:RX,MX=0,bI=1;function Vf(){return{s:MX,v:void 0,o:null,p:null}}function FM(e,t={}){let r=Vf();const{resultEqualityCheck:n}=t;let i,a=0;function o(){var d;let s=r;const{length:l}=arguments;for(let p=0,m=l;p<m;p++){const g=arguments[p];if(typeof g=="function"||typeof g=="object"&&g!==null){let y=s.o;y===null&&(s.o=y=new WeakMap);const b=y.get(g);b===void 0?(s=Vf(),y.set(g,s)):s=b}else{let y=s.p;y===null&&(s.p=y=new Map);const b=y.get(g);b===void 0?(s=Vf(),y.set(g,s)):s=b}}const u=s;let c;if(s.s===bI)c=s.v;else if(c=e.apply(null,arguments),a++,n){const p=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;p!=null&&n(p,c)&&(c=p,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new DX(c):c}return u.s=bI,u.v=c,c}return o.clearCache=()=>{r=Vf(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function LX(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,o=0,s,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),kX(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...r,...l},{memoize:d,memoizeOptions:p=[],argsMemoize:m=FM,argsMemoizeOptions:g=[]}=c,y=wI(p),b=wI(g),x=OX(i),w=d(function(){return a++,u.apply(null,arguments)},...y),E=m(function(){o++;const C=jX(x,arguments);return s=w.apply(null,C),s},...b);return Object.assign(E,{resultFunc:u,memoizedResultFunc:w,dependencies:x,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var L=LX(FM),$X=Object.assign((e,t=L)=>{CX(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((o,s,l)=>(o[r[l]]=s,o),{}))},{withTypes:()=>$X}),UM={},BM={},qM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=t(n),s=t(i);if(o===s&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};e.compareValues=r})(qM);var KM={},s1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(s1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s1,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(KM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qM,r=KM,n=vg;function i(a,o,s,l){if(a==null)return[];s=l?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(m=>String(m));const u=(m,g)=>{let y=m;for(let b=0;b<g.length&&y!=null;++b)y=y[g[b]];return y},c=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,d=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:d.map(g=>c(g,m))})).slice().sort((m,g)=>{for(let y=0;y<d.length;y++){const b=t.compareValues(m.criteria[y],g.criteria[y],s[y]);if(b!==0)return b}return 0}).map(m=>m.original)}e.orderBy=i})(BM);var WM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),o=(s,l)=>{for(let u=0;u<s.length;u++){const c=s[u];Array.isArray(c)&&l<a?o(c,l+1):i.push(c)}};return o(r,0),i}e.flatten=t})(WM);var l1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a1,r=_g,n=e1,i=Eg;function a(o,s,l){return n.isObject(l)&&(typeof s=="number"&&r.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.eq(l[s],o):!1}e.isIterateeCall=a})(l1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BM,r=WM,n=l1;function i(a,...o){const s=o.length;return s>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,r.flatten(o),["asc"])}e.sortBy=i})(UM);var zX=UM.sortBy;const Sg=gi(zX);var HM=e=>e.legend.settings,VX=e=>e.legend.size,FX=e=>e.legend.payload,UX=L([FX,HM],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Sg(n,r):n});function BX(){return ne(UX)}var Ff=1;function QM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=v.useState({height:0,left:0,top:0,width:0}),n=v.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>Ff||Math.abs(o.left-t.left)>Ff||Math.abs(o.top-t.top)>Ff||Math.abs(o.width-t.width)>Ff)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}var qX={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},GM=$r({name:"chartLayout",initialState:qX,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:KX,setLayout:WX,setChartSize:HX,setScale:QX}=GM.actions,GX=GM.reducer;function _I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function EI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_I(Object(r),!0).forEach(function(n){YX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_I(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YX(e,t,r){return(t=XX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XX(e){var t=JX(e,"string");return typeof t=="symbol"?t:t+""}function JX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ep=Math.PI/180,ZX=e=>e*180/Math.PI,bt=(e,t,r,n)=>({x:e+Math.cos(-Ep*n)*r,y:t+Math.sin(-Ep*n)*r}),YM=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},eJ=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},tJ=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=eJ({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(r-i)/o,l=Math.acos(s);return n>a&&(l=2*Math.PI-l),{radius:o,angle:ZX(l),angleInRadian:l}},rJ=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},nJ=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return e+o*360},iJ=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:a}=tJ({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s||i===0)return null;var{startAngle:l,endAngle:u}=rJ(t),c=a,d;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=l}return d?EI(EI({},t),{},{radius:i,angle:nJ(c,t)}):null};function TI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TI(Object(r),!0).forEach(function(n){aJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aJ(e,t,r){return(t=oJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oJ(e){var t=sJ(e,"string");return typeof t=="symbol"?t:t+""}function sJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ve(e,t,r){return Re(e)||Re(t)?r:hi(t)?eo(e,t,r):typeof t=="function"?t(e):r}var lJ=(e,t,r,n,i)=>{var a,o=-1,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var u=l>0?r[l-1].coordinate:r[s-1].coordinate,c=r[l].coordinate,d=l>=s-1?r[0].coordinate:r[l+1].coordinate,p=void 0;if(Kt(c-u)!==Kt(d-c)){var m=[];if(Kt(d-c)===Kt(i[1]-i[0])){p=d;var g=c+i[1]-i[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{p=u;var y=d+i[1]-i[0];m[0]=Math.min(c,(y+c)/2),m[1]=Math.max(c,(y+c)/2)}var b=[Math.min(c,(p+c)/2),Math.max(c,(p+c)/2)];if(e>b[0]&&e<=b[1]||e>=m[0]&&e<=m[1]){({index:o}=r[l]);break}}else{var x=Math.min(u,d),w=Math.max(u,d);if(e>(x+c)/2&&e<=(w+c)/2){({index:o}=r[l]);break}}}else if(t){for(var E=0;E<s;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<s-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===s-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:o}=t[E]);break}}return o},uJ=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&J(e[a]))return hn(hn({},e),{},{[a]:e[a]+(n||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&J(e[o]))return hn(hn({},e),{},{[o]:e[o]+(i||0)})}return e},yi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",AI=1e-4,cJ=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-AI,a=Math.max(n[0],n[1])+AI,o=e(t[0]),s=e(t[r-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[r-1]])}},dJ=(e,t)=>{if(!t||t.length!==2||!J(t[0])||!J(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!J(e[0])||e[0]<r)&&(i[0]=r),(!J(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},fJ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,o=0;o<t;++o){var s=en(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=i,e[o][r][1]=i+s,i=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1])}},hJ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var o=en(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=i,e[a][r][1]=i+o,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},pJ={sign:fJ,expand:lX,none:Ol,silhouette:uX,wiggle:cX,positive:hJ},mJ=(e,t,r)=>{var n=pJ[r],i=sX().keys(t).value((a,o)=>+Ve(a,o,0)).order(Ix).offset(n);return i(e)};function u1(e){return e==null?void 0:String(e)}function Tp(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Re(i[t.dataKey])){var s=aM(r,"value",i[t.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=Ve(i,Re(o)?t.dataKey:o);return Re(l)?null:t.scale(l)}var SI=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var s=Ve(a,t.dataKey,t.scale.domain()[o]);return Re(s)?null:t.scale(s)-i/2+n},gJ=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},vJ=e=>{var t=e.flat(2).filter(J);return[Math.min(...t),Math.max(...t)]},yJ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],xJ=(e,t,r)=>{if(e!=null)return yJ(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:o}=a,s=o.reduce((l,u)=>{var c=vJ(u.slice(t,r+1));return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},PI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,II=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,as=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Sg(t,c=>c.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],u=i[o-1];a=Math.min((l.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function kI(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return hn(hn({},t),{},{dataKey:r,payload:n,value:i,name:a})}function uo(e,t){if(e)return String(e);if(typeof t=="string")return t}function wJ(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return n?iJ({x:e,y:t},n):null}var bJ=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:o}=n;return hn(hn(hn({},n),bt(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=n;return hn(hn(hn({},n),bt(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}},_J=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,oa=e=>e.layout.width,sa=e=>e.layout.height,EJ=e=>e.layout.scale,XM=e=>e.layout.margin,c1=L(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),d1=L(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),JM="data-recharts-item-index",ZM="data-recharts-item-data-key",Pg=60;function CI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CI(Object(r),!0).forEach(function(n){TJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TJ(e,t,r){return(t=AJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AJ(e){var t=SJ(e,"string");return typeof t=="symbol"?t:t+""}function SJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PJ=e=>e.brush.height,Pt=L([oa,sa,XM,PJ,c1,d1,HM,VX],(e,t,r,n,i,a,o,s)=>{var l=a.reduce((g,y)=>{var{orientation:b}=y;if(!y.mirror&&!y.hide){var x=typeof y.width=="number"?y.width:Pg;return ga(ga({},g),{},{[b]:g[b]+x})}return g},{left:r.left||0,right:r.right||0}),u=i.reduce((g,y)=>{var{orientation:b}=y;return!y.mirror&&!y.hide?ga(ga({},g),{},{[b]:eo(g,"".concat(b))+y.height}):g},{top:r.top||0,bottom:r.bottom||0}),c=ga(ga({},u),l),d=c.bottom;c.bottom+=n,c=uJ(c,o,s);var p=e-c.left-c.right,m=t-c.top-c.bottom;return ga(ga({brushBottom:d},c),{},{width:Math.max(p,0),height:Math.max(m,0)})}),IJ=L(Pt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),eL=L(oa,sa,(e,t)=>({x:0,y:0,width:e,height:t})),kJ=v.createContext(null),Pr=()=>v.useContext(kJ)!=null,Ig=e=>e.brush,kg=L([Ig,Pt,XM],(e,t,r)=>({height:e.height,x:J(e.x)?e.x:t.left,y:J(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:J(e.width)?e.width:t.width})),f1=()=>{var e,t=Pr(),r=ne(IJ),n=ne(kg),i=(e=ne(Ig))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},CJ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},NJ=()=>{var e;return(e=ne(Pt))!==null&&e!==void 0?e:CJ},tL=()=>ne(oa),rL=()=>ne(sa),OJ={top:0,right:0,bottom:0,left:0},jJ=()=>{var e;return(e=ne(t=>t.layout.margin))!==null&&e!==void 0?e:OJ},Ee=e=>e.layout.layoutType,zd=()=>ne(Ee),nL=Symbol.for("immer-nothing"),NI=Symbol.for("immer-draftable"),tn=Symbol.for("immer-state");function Dn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var jl=Object.getPrototypeOf;function Rl(e){return!!e&&!!e[tn]}function os(e){var t;return e?iL(e)||Array.isArray(e)||!!e[NI]||!!((t=e.constructor)!=null&&t[NI])||Ng(e)||Og(e):!1}var RJ=Object.prototype.constructor.toString();function iL(e){if(!e||typeof e!="object")return!1;const t=jl(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===RJ}function Ap(e,t){Cg(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Cg(e){const t=e[tn];return t?t.type_:Array.isArray(e)?1:Ng(e)?2:Og(e)?3:0}function Nx(e,t){return Cg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function aL(e,t,r){const n=Cg(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function DJ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ng(e){return e instanceof Map}function Og(e){return e instanceof Set}function To(e){return e.copy_||e.base_}function Ox(e,t){if(Ng(e))return new Map(e);if(Og(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=iL(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[tn];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(jl(e),n)}else{const n=jl(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function h1(e,t=!1){return jg(e)||Rl(e)||!os(e)||(Cg(e)>1&&(e.set=e.add=e.clear=e.delete=MJ),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>h1(n,!0))),e}function MJ(){Dn(2)}function jg(e){return Object.isFrozen(e)}var LJ={};function ss(e){const t=LJ[e];return t||Dn(0,e),t}var Jc;function oL(){return Jc}function $J(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function OI(e,t){t&&(ss("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function jx(e){Rx(e),e.drafts_.forEach(zJ),e.drafts_=null}function Rx(e){e===Jc&&(Jc=e.parent_)}function jI(e){return Jc=$J(Jc,e)}function zJ(e){const t=e[tn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function RI(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[tn].modified_&&(jx(t),Dn(4)),os(e)&&(e=Sp(t,e),t.parent_||Pp(t,e)),t.patches_&&ss("Patches").generateReplacementPatches_(r[tn].base_,e,t.patches_,t.inversePatches_)):e=Sp(t,r,[]),jx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==nL?e:void 0}function Sp(e,t,r){if(jg(t))return t;const n=t[tn];if(!n)return Ap(t,(i,a)=>DI(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Pp(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,o=!1;n.type_===3&&(a=new Set(i),i.clear(),o=!0),Ap(a,(s,l)=>DI(e,n,i,s,l,r,o)),Pp(e,i,!1),r&&e.patches_&&ss("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function DI(e,t,r,n,i,a,o){if(Rl(i)){const s=a&&t&&t.type_!==3&&!Nx(t.assigned_,n)?a.concat(n):void 0,l=Sp(e,i,s);if(aL(r,n,l),Rl(l))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(os(i)&&!jg(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Sp(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Pp(e,i)}}function Pp(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&h1(t,r)}function VJ(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:oL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=p1;r&&(i=[n],a=Zc);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}var p1={get(e,t){if(t===tn)return e;const r=To(e);if(!Nx(r,t))return FJ(e,r,t);const n=r[t];return e.finalized_||!os(n)?n:n===Cy(e.base_,t)?(Ny(e),e.copy_[t]=Mx(n,e)):n},has(e,t){return t in To(e)},ownKeys(e){return Reflect.ownKeys(To(e))},set(e,t,r){const n=sL(To(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Cy(To(e),t),a=i==null?void 0:i[tn];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(DJ(r,i)&&(r!==void 0||Nx(e.base_,t)))return!0;Ny(e),Dx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Cy(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ny(e),Dx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=To(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Dn(11)},getPrototypeOf(e){return jl(e.base_)},setPrototypeOf(){Dn(12)}},Zc={};Ap(p1,(e,t)=>{Zc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Zc.deleteProperty=function(e,t){return Zc.set.call(this,e,t,void 0)};Zc.set=function(e,t,r){return p1.set.call(this,e[0],t,r,e[0])};function Cy(e,t){const r=e[tn];return(r?To(r):e)[t]}function FJ(e,t,r){var i;const n=sL(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function sL(e,t){if(!(t in e))return;let r=jl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=jl(r)}}function Dx(e){e.modified_||(e.modified_=!0,e.parent_&&Dx(e.parent_))}function Ny(e){e.copy_||(e.copy_=Ox(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var UJ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const o=this;return function(l=a,...u){return o.produce(l,c=>r.call(this,c,...u))}}typeof r!="function"&&Dn(6),n!==void 0&&typeof n!="function"&&Dn(7);let i;if(os(t)){const a=jI(this),o=Mx(t,void 0);let s=!0;try{i=r(o),s=!1}finally{s?jx(a):Rx(a)}return OI(a,n),RI(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===nL&&(i=void 0),this.autoFreeze_&&h1(i,!0),n){const a=[],o=[];ss("Patches").generateReplacementPatches_(t,i,a,o),n(a,o)}return i}else Dn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,l=>t(l,...s));let n,i;return[this.produce(t,r,(o,s)=>{n=o,i=s}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){os(e)||Dn(8),Rl(e)&&(e=BJ(e));const t=jI(this),r=Mx(e,void 0);return r[tn].isManual_=!0,Rx(t),r}finishDraft(e,t){const r=e&&e[tn];(!r||!r.isManual_)&&Dn(9);const{scope_:n}=r;return OI(n,t),RI(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=ss("Patches").applyPatches_;return Rl(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Mx(e,t){const r=Ng(e)?ss("MapSet").proxyMap_(e,t):Og(e)?ss("MapSet").proxySet_(e,t):VJ(e,t);return(t?t.scope_:oL()).drafts_.push(r),r}function BJ(e){return Rl(e)||Dn(10,e),lL(e)}function lL(e){if(!os(e)||jg(e))return e;const t=e[tn];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ox(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Ox(e,!0);return Ap(r,(n,i)=>{aL(r,n,lL(i))}),t&&(t.finalized_=!1),r}var rn=new UJ;rn.produce;rn.produceWithPatches.bind(rn);rn.setAutoFreeze.bind(rn);rn.setUseStrictShallowCopy.bind(rn);rn.applyPatches.bind(rn);rn.createDraft.bind(rn);rn.finishDraft.bind(rn);var qJ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},uL=$r({name:"legend",initialState:qJ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Mi(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:MI,setLegendSettings:KJ,addLegendPayload:cL,removeLegendPayload:dL}=uL.actions,WJ=uL.reducer,HJ=["contextPayload"];function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lx.apply(null,arguments)}function LI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(r),!0).forEach(function(n){m1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m1(e,t,r){return(t=QJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QJ(e){var t=GJ(e,"string");return typeof t=="symbol"?t:t+""}function GJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YJ(e,t){if(e==null)return{};var r,n,i=XJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function XJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function JJ(e){return e.value}function ZJ(e){var{contextPayload:t}=e,r=YJ(e,HJ),n=VM(t,e.payloadUniqBy,JJ),i=Dl(Dl({},r),{},{payload:n});return v.isValidElement(e.content)?v.cloneElement(e.content,i):typeof e.content=="function"?v.createElement(e.content,i):v.createElement(J_,i)}function eZ(e,t,r,n,i,a){var{layout:o,align:s,verticalAlign:l}=t,u,c;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?u={left:((n||0)-a.width)/2}:u=s==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?c={top:((i||0)-a.height)/2}:c=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Dl(Dl({},u),c)}function tZ(e){var t=rt();return v.useEffect(()=>{t(KJ(e))},[t,e]),null}function rZ(e){var t=rt();return v.useEffect(()=>(t(MI(e)),()=>{t(MI({width:0,height:0}))}),[t,e]),null}function nZ(e){var t=BX(),r=NY(),n=jJ(),{width:i,height:a,wrapperStyle:o,portal:s}=e,[l,u]=QM([t]),c=tL(),d=rL(),p=c-(n.left||0)-(n.right||0),m=cl.getWidthOrHeight(e.layout,a,i,p),g=s?o:Dl(Dl({position:"absolute",width:(m==null?void 0:m.width)||i||"auto",height:(m==null?void 0:m.height)||a||"auto"},eZ(o,e,n,c,d,l)),o),y=s??r;if(y==null)return null;var b=v.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:u},v.createElement(tZ,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),v.createElement(rZ,{width:l.width,height:l.height}),v.createElement(ZJ,Lx({},e,m,{margin:n,chartWidth:c,chartHeight:d,contextPayload:t})));return hm.createPortal(b,y)}class cl extends v.PureComponent{static getWidthOrHeight(t,r,n,i){return t==="vertical"&&J(r)?{height:r}:t==="horizontal"?{width:n||i}:null}render(){return v.createElement(nZ,this.props)}}m1(cl,"displayName","Legend");m1(cl,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$x.apply(null,arguments)}function $I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$I(Object(r),!0).forEach(function(n){iZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$I(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iZ(e,t,r){return(t=aZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aZ(e){var t=oZ(e,"string");return typeof t=="symbol"?t:t+""}function oZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sZ(e){return Array.isArray(e)&&hi(e[0])&&hi(e[1])?e.join(" ~ "):e}var lZ=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:p=!1}=e,m=()=>{if(a&&a.length){var C={padding:0,margin:0},j=(s?Sg(a,s):a).map((A,S)=>{if(A.type==="none")return null;var I=A.formatter||o||sZ,{value:N,name:R}=A,D=N,k=R;if(I){var q=I(N,R,A,S,a);if(Array.isArray(q))[D,k]=q;else if(q!=null)D=q;else return null}var te=Oy({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},n);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:te},hi(k)?v.createElement("span",{className:"recharts-tooltip-item-name"},k):null,hi(k)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},D),v.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:C},j)}return null},g=Oy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=Oy({margin:0},i),b=!Re(c),x=b?c:"",w=he("recharts-default-tooltip",l),E=he("recharts-tooltip-label",u);b&&d&&a!==void 0&&a!==null&&(x=d(c,a));var P=p?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",$x({className:w,style:g},P),v.createElement("p",{className:E,style:y},v.isValidElement(x)?x:"".concat(x)),m())},Du="recharts-tooltip-wrapper",uZ={visibility:"hidden"};function cZ(e){var{coordinate:t,translateX:r,translateY:n}=e;return he(Du,{["".concat(Du,"-right")]:J(r)&&t&&J(t.x)&&r>=t.x,["".concat(Du,"-left")]:J(r)&&t&&J(t.x)&&r<t.x,["".concat(Du,"-bottom")]:J(n)&&t&&J(t.y)&&n>=t.y,["".concat(Du,"-top")]:J(n)&&t&&J(t.y)&&n<t.y})}function zI(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:u}=e;if(a&&J(a[n]))return a[n];var c=r[n]-s-(i>0?i:0),d=r[n]+i;if(t[n])return o[n]?c:d;var p=l[n];if(p==null)return 0;if(o[n]){var m=c,g=p;return m<g?Math.max(d,p):Math.max(c,p)}if(u==null)return 0;var y=d+s,b=p+u;return y>b?Math.max(c,p):Math.max(d,p)}function dZ(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function fZ(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,u,c,d;return o.height>0&&o.width>0&&r?(c=zI({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=zI({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=dZ({translateX:c,translateY:d,useTranslate3d:s})):u=uZ,{cssProperties:u,cssClasses:cZ({translateX:c,translateY:d,coordinate:r})}}function VI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(r),!0).forEach(function(n){zx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zx(e,t,r){return(t=hZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hZ(e){var t=pZ(e,"string");return typeof t=="symbol"?t:t+""}function pZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class mZ extends v.PureComponent{constructor(){super(...arguments),zx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),zx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:u,position:c,reverseDirection:d,useTranslate3d:p,viewBox:m,wrapperStyle:g,lastBoundingBox:y,innerRef:b,hasPortalFromProps:x}=this.props,{cssClasses:w,cssProperties:E}=fZ({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:c,reverseDirection:d,tooltipBox:{height:y.height,width:y.width},useTranslate3d:p,viewBox:m}),P=x?{}:Uf(Uf({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),C=Uf(Uf({},P),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},g);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:C,ref:b},a)}}var gZ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),co={isSsr:gZ()},fL=()=>ne(e=>e.rootProps.accessibilityLayer);function Yt(e){return Number.isFinite(e)}function Ml(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vx.apply(null,arguments)}function FI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function UI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FI(Object(r),!0).forEach(function(n){vZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vZ(e,t,r){return(t=yZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yZ(e){var t=xZ(e,"string");return typeof t=="symbol"?t:t+""}function xZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BI={curveBasisClosed:YY,curveBasisOpen:XY,curveBasis:GY,curveBumpX:DY,curveBumpY:MY,curveLinearClosed:JY,curveLinear:wg,curveMonotoneX:ZY,curveMonotoneY:eX,curveNatural:tX,curveStep:rX,curveStepAfter:iX,curveStepBefore:nX},Bf=e=>Yt(e.x)&&Yt(e.y),Mu=e=>e.x,Lu=e=>e.y,wZ=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Md(e));return(r==="curveMonotone"||r==="curveBump")&&t?BI["".concat(r).concat(t==="vertical"?"Y":"X")]:BI[r]||wg},bZ=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,o=wZ(t,i),s=a?r.filter(Bf):r,l;if(Array.isArray(n)){var u=a?n.filter(d=>Bf(d)):n,c=s.map((d,p)=>UI(UI({},d),{},{base:u[p]}));return i==="vertical"?l=zf().y(Lu).x1(Mu).x0(d=>d.base.x):l=zf().x(Mu).y1(Lu).y0(d=>d.base.y),l.defined(Bf).curve(o),l(c)}return i==="vertical"&&J(n)?l=zf().y(Lu).x1(Mu).x0(n):J(n)?l=zf().x(Mu).y1(Lu).y0(n):l=hM().x(Mu).y(Lu),l.defined(Bf).curve(o),l(s)},dl=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?bZ(e):n;return v.createElement("path",Vx({},me(e,!1),K_(e),{className:he("recharts-curve",t),d:a===null?void 0:a,ref:i}))},_Z=["x","y","top","left","width","height","className"];function Fx(){return Fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fx.apply(null,arguments)}function qI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function EZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qI(Object(r),!0).forEach(function(n){TZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TZ(e,t,r){return(t=AZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AZ(e){var t=SZ(e,"string");return typeof t=="symbol"?t:t+""}function SZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PZ(e,t){if(e==null)return{};var r,n,i=IZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function IZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kZ=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),CZ=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:s}=e,l=PZ(e,_Z),u=EZ({x:t,y:r,top:n,left:i,width:a,height:o},l);return!J(t)||!J(r)||!J(a)||!J(o)||!J(n)||!J(i)?null:v.createElement("path",Fx({},me(u,!0),{className:he("recharts-cross",s),d:kZ(t,r,a,o,n,i)}))};function NZ(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function KI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function OZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KI(Object(r),!0).forEach(function(n){jZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jZ(e,t,r){return(t=RZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RZ(e){var t=DZ(e,"string");return typeof t=="symbol"?t:t+""}function DZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tn(e,t){var r=OZ({},e),n=t,i=Object.keys(t),a=i.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return a}var hL={},pL={},mL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(mL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mL,r=i1,n=Tg,i=Ag,a=Eg;function o(u,c,d){return s(u,c,void 0,void 0,void 0,void 0,d)}function s(u,c,d,p,m,g,y){const b=y(u,c,d,p,m,g);if(b!==void 0)return b;if(typeof u==typeof c)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===c;case"number":return u===c||Object.is(u,c);case"function":return u===c;case"object":return l(u,c,g,y)}return l(u,c,g,y)}function l(u,c,d,p){if(Object.is(u,c))return!0;let m=n.getTag(u),g=n.getTag(c);if(m===i.argumentsTag&&(m=i.objectTag),g===i.argumentsTag&&(g=i.objectTag),m!==g)return!1;switch(m){case i.stringTag:return u.toString()===c.toString();case i.numberTag:{const x=u.valueOf(),w=c.valueOf();return a.eq(x,w)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(u.valueOf(),c.valueOf());case i.regexpTag:return u.source===c.source&&u.flags===c.flags;case i.functionTag:return u===c}d=d??new Map;const y=d.get(u),b=d.get(c);if(y!=null&&b!=null)return y===c;d.set(u,c),d.set(c,u);try{switch(m){case i.mapTag:{if(u.size!==c.size)return!1;for(const[x,w]of u.entries())if(!c.has(x)||!s(w,c.get(x),x,u,c,d,p))return!1;return!0}case i.setTag:{if(u.size!==c.size)return!1;const x=Array.from(u.values()),w=Array.from(c.values());for(let E=0;E<x.length;E++){const P=x[E],C=w.findIndex(j=>s(P,j,void 0,u,c,d,p));if(C===-1)return!1;w.splice(C,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(c)||u.length!==c.length)return!1;for(let x=0;x<u.length;x++)if(!s(u[x],c[x],x,u,c,d,p))return!1;return!0}case i.arrayBufferTag:return u.byteLength!==c.byteLength?!1:l(new Uint8Array(u),new Uint8Array(c),d,p);case i.dataViewTag:return u.byteLength!==c.byteLength||u.byteOffset!==c.byteOffset?!1:l(new Uint8Array(u),new Uint8Array(c),d,p);case i.errorTag:return u.name===c.name&&u.message===c.message;case i.objectTag:{if(!(l(u.constructor,c.constructor,d,p)||t.isPlainObject(u)&&t.isPlainObject(c)))return!1;const w=[...Object.keys(u),...r.getSymbols(u)],E=[...Object.keys(c),...r.getSymbols(c)];if(w.length!==E.length)return!1;for(let P=0;P<w.length;P++){const C=w[P],j=u[C];if(!Object.hasOwn(c,C))return!1;const A=c[C];if(!s(j,A,C,u,c,d,p))return!1}return!0}default:return!1}}finally{d.delete(u),d.delete(c)}}e.isEqualWith=o})(pL);var gL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(gL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pL,r=gL;function n(i,a){return t.isEqualWith(i,a,r.noop)}e.isEqual=n})(hL);var MZ=hL.isEqual;const LZ=gi(MZ);function $Z(e){var t={},r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...u]=s;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}var Ip=1e-4,vL=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],yL=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),WI=(e,t)=>r=>{var n=vL(e,t);return yL(n,r)},zZ=(e,t)=>r=>{var n=vL(e,t),i=[...n.map((a,o)=>a*o).slice(1),0];return yL(i,r)},HI=function(){for(var t,r,n,i,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(o.length===1)switch(o[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var l=o[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([t,n,r,i]=l[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else o.length===4&&([t,n,r,i]=o);var u=WI(t,r),c=WI(n,i),d=zZ(t,r),p=g=>g>1?1:g<0?0:g,m=g=>{for(var y=g>1?1:g,b=y,x=0;x<8;++x){var w=u(b)-y,E=d(b);if(Math.abs(w-y)<Ip||E<Ip)return c(b);b=p(b-w/E)}return c(b)};return m.isStepper=!1,m},VZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(o,s,l)=>{var u=-(o-s)*r,c=l*n,d=l+(u-c)*i/1e3,p=l*i/1e3+o;return Math.abs(p-s)<Ip&&Math.abs(d)<Ip?[s,0]:[p,d]};return a.isStepper=!0,a.dt=i,a},FZ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return HI(e);case"spring":return VZ();default:if(e.split("(")[0]==="cubic-bezier")return HI(e)}return typeof e=="function"?e:null};function QI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QI(Object(r),!0).forEach(function(n){UZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UZ(e,t,r){return(t=BZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BZ(e){var t=qZ(e,"string");return typeof t=="symbol"?t:t+""}function qZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KZ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),WZ=(e,t,r)=>e.map(n=>"".concat(KZ(n)," ").concat(t,"ms ").concat(r)).join(","),HZ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),ed=(e,t)=>Object.keys(t).reduce((r,n)=>GI(GI({},r),{},{[n]:e(n,t[n])}),{});function YI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YI(Object(r),!0).forEach(function(n){QZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QZ(e,t,r){return(t=GZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GZ(e){var t=YZ(e,"string");return typeof t=="symbol"?t:t+""}function YZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kp=(e,t,r)=>e+(t-e)*r,Ux=e=>{var{from:t,to:r}=e;return t!==r},xL=(e,t,r)=>{var n=ed((i,a)=>{if(Ux(a)){var[o,s]=e(a.from,a.to,a.velocity);return Bt(Bt({},a),{},{from:o,velocity:s})}return a},t);return r<1?ed((i,a)=>Ux(a)?Bt(Bt({},a),{},{velocity:kp(a.velocity,n[i].velocity,r),from:kp(a.from,n[i].from,r)}):a,t):xL(e,n,r-1)};function XZ(e,t,r,n,i,a){var o,s=n.reduce((p,m)=>Bt(Bt({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>ed((p,m)=>m.from,s),u=()=>!Object.values(s).filter(Ux).length,c=null,d=p=>{o||(o=p);var m=p-o,g=m/r.dt;s=xL(r,s,g),i(Bt(Bt(Bt({},e),t),l())),o=p,u()||(c=a.setTimeout(d))};return()=>(c=a.setTimeout(d),()=>{c()})}function JZ(e,t,r,n,i,a,o){var s=null,l=i.reduce((d,p)=>Bt(Bt({},d),{},{[p]:[e[p],t[p]]}),{}),u,c=d=>{u||(u=d);var p=(d-u)/n,m=ed((y,b)=>kp(...b,r(p)),l);if(a(Bt(Bt(Bt({},e),t),m)),p<1)s=o.setTimeout(c);else{var g=ed((y,b)=>kp(...b,r(1)),l);a(Bt(Bt(Bt({},e),t),g))}};return()=>(s=o.setTimeout(c),()=>{s()})}const ZZ=(e,t,r,n,i,a)=>{var o=HZ(e,t);return r.isStepper===!0?XZ(e,t,r,o,i,a):JZ(e,t,r,n,o,i,a)};class eee{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}var tee=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Bx(){return Bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bx.apply(null,arguments)}function ree(e,t){if(e==null)return{};var r,n,i=nee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function XI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function va(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XI(Object(r),!0).forEach(function(n){jo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jo(e,t,r){return(t=iee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iee(e){var t=aee(e,"string");return typeof t=="symbol"?t:t+""}function aee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oee(){return $Z(new eee)}class g1 extends v.PureComponent{constructor(t,r){super(t,r),jo(this,"mounted",!1),jo(this,"manager",null),jo(this,"stopJSAnimation",null),jo(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:a,to:o,children:s,duration:l,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||l<=0){this.state={style:{}},typeof s=="function"&&(this.state={style:o});return}if(a){if(typeof s=="function"){this.state={style:a};return}this.state={style:i?{[i]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:a,to:o,from:s}=this.props,{style:l}=this.state;if(n){if(!r){var u={style:i?{[i]:o}:o};this.state&&l&&(i&&l[i]!==o||!i&&l!==o)&&this.setState(u);return}if(!(LZ(t.to,o)&&t.canBegin&&t.isActive)){var c=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=c||a?s:t.to;if(this.state&&l){var p={style:i?{[i]:d}:d};(i&&l[i]!==d||!i&&l!==d)&&this.setState(p)}this.runAnimation(va(va({},this.props),{},{from:d,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:l}=t,u=ZZ(r,n,FZ(a),i,this.changeStyle,this.manager.getTimeoutController()),c=()=>{this.stopJSAnimation=u()};this.manager.start([l,o,c,i,s])}runAnimation(t){var{begin:r,duration:n,attributeName:i,to:a,easing:o,onAnimationStart:s,onAnimationEnd:l,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof u=="function"||o==="spring"){this.runJSAnimation(t);return}var c=i?{[i]:a}:a,d=WZ(Object.keys(c),n,o);this.manager.start([s,r,va(va({},c),{},{transition:d}),n,l])}render(){var t=this.props,{children:r,begin:n,duration:i,attributeName:a,easing:o,isActive:s,from:l,to:u,canBegin:c,onAnimationEnd:d,shouldReAnimate:p,onAnimationReStart:m,animationManager:g}=t,y=ree(t,tee),b=v.Children.count(r),x=this.state.style;if(typeof r=="function")return r(x);if(!s||b===0||i<=0)return r;var w=E=>{var{style:P={},className:C}=E.props,j=v.cloneElement(E,va(va({},y),{},{style:va(va({},P),x),className:C}));return j};return b===1?w(v.Children.only(r)):v.createElement("div",null,v.Children.map(r,E=>w(E)))}}jo(g1,"displayName","Animate");jo(g1,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var see=v.createContext(null);function Zi(e){var t,r,n=v.useContext(see);return v.createElement(g1,Bx({},e,{animationManager:(t=(r=e.animationManager)!==null&&r!==void 0?r:n)!==null&&t!==void 0?t:oee()}))}function Cp(){return Cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cp.apply(null,arguments)}var JI=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,s=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var c=[0,0,0,0],d=0,p=4;d<p;d++)c[d]=i[d]>a?a:i[d];u="M".concat(e,",").concat(t+o*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(l,",").concat(e+s*c[0],",").concat(t)),u+="L ".concat(e+r-s*c[1],",").concat(t),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+o*c[1])),u+="L ".concat(e+r,",").concat(t+n-o*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(l,`,
        `).concat(e+r-s*c[2],",").concat(t+n)),u+="L ".concat(e+s*c[3],",").concat(t+n),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-o*c[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);u="M ".concat(e,",").concat(t+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+s*m,",").concat(t,`
            L `).concat(e+r-s*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r,",").concat(t+o*m,`
            L `).concat(e+r,",").concat(t+n-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r-s*m,",").concat(t+n,`
            L `).concat(e+s*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e,",").concat(t+n-o*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},lee={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wL=e=>{var t=Tn(e,lee),r=v.useRef(null),[n,i]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&i(x)}catch{}},[]);var{x:a,y:o,width:s,height:l,radius:u,className:c}=t,{animationEasing:d,animationDuration:p,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:y}=t;if(a!==+a||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var b=he("recharts-rectangle",c);return y?v.createElement(Zi,{canBegin:n>0,from:{width:s,height:l,x:a,y:o},to:{width:s,height:l,x:a,y:o},duration:p,animationEasing:d,isActive:y},x=>{var{width:w,height:E,x:P,y:C}=x;return v.createElement(Zi,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:g,easing:d},v.createElement("path",Cp({},me(t,!0),{className:b,d:JI(P,C,w,E,u),ref:r})))}):v.createElement("path",Cp({},me(t,!0),{className:b,d:JI(a,o,s,l,u)}))};function bL(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,o=bt(t,r,n,i),s=bt(t,r,n,a);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qx.apply(null,arguments)}var uee=(e,t)=>{var r=Kt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},qf=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,u=s*(o?1:-1)+n,c=Math.asin(s/u)/Ep,d=l?i:i+a*c,p=bt(t,r,u,d),m=bt(t,r,n,d),g=l?i-a*c:i,y=bt(t,r,u*Math.cos(c*Ep),g);return{center:p,circleTangency:m,lineTangency:y,theta:c}},_L=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,s=uee(a,o),l=a+s,u=bt(t,r,i,a),c=bt(t,r,i,l),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(a>l),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(n>0){var p=bt(t,r,n,a),m=bt(t,r,n,l);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(a<=l),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},cee=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:u}=e,c=Kt(u-l),{circleTangency:d,lineTangency:p,theta:m}=qf({cx:t,cy:r,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:s}),{circleTangency:g,lineTangency:y,theta:b}=qf({cx:t,cy:r,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:s}),x=s?Math.abs(l-u):Math.abs(l-u)-m-b;if(x<0)return o?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):_L({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var w="M ".concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(x>180),",").concat(+(c<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:E,lineTangency:P,theta:C}=qf({cx:t,cy:r,radius:n,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:j,lineTangency:A,theta:S}=qf({cx:t,cy:r,radius:n,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),I=s?Math.abs(l-u):Math.abs(l-u)-C-S;if(I<0&&a===0)return"".concat(w,"L").concat(t,",").concat(r,"Z");w+="L".concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(I>180),",").concat(+(c>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(P.x,",").concat(P.y,"Z")}else w+="L".concat(t,",").concat(r,"Z");return w},dee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},EL=e=>{var t=Tn(e,dee),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=t;if(a<i||u===c)return null;var p=he("recharts-sector",d),m=a-i,g=Tr(o,m,0,!0),y;return g>0&&Math.abs(u-c)<360?y=cee({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}):y=_L({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),v.createElement("path",qx({},me(t,!0),{className:p,d:y}))};function fee(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:s,cy:l,innerRadius:u,outerRadius:c,angle:d}=t,p=bt(s,l,u,d),m=bt(s,l,c,d);n=p.x,i=p.y,a=m.x,o=m.y}else return bL(t);return[{x:n,y:i},{x:a,y:o}]}var TL={},AL={},SL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s1;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(SL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SL;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(AL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l1,r=AL;function n(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),l=new Array(s);for(let u=0;u<s;u++)l[u]=i,i+=o;return l}e.range=n})(TL);var hee=TL.range;const PL=gi(hee);function Ka(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pee(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function v1(e){let t,r,n;e.length!==2?(t=Ka,r=(s,l)=>Ka(e(s),l),n=(s,l)=>e(s)-l):(t=e===Ka||e===pee?e:mee,r=e,n=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function mee(){return 0}function IL(e){return e===null?NaN:+e}function*gee(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const vee=v1(Ka),Vd=vee.right;v1(IL).center;class ZI extends Map{constructor(t,r=wee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(ek(this,t))}has(t){return super.has(ek(this,t))}set(t,r){return super.set(yee(this,t),r)}delete(t){return super.delete(xee(this,t))}}function ek({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function yee({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function xee({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function wee(e){return e!==null&&typeof e=="object"?e.valueOf():e}function bee(e=Ka){if(e===Ka)return kL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function kL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const _ee=Math.sqrt(50),Eee=Math.sqrt(10),Tee=Math.sqrt(2);function Np(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=_ee?10:a>=Eee?5:a>=Tee?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=r&&r<2?Np(e,t,r*2):[s,l,u]}function Kx(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?Np(t,e,r):Np(e,t,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function Wx(e,t,r){return t=+t,e=+e,r=+r,Np(e,t,r)[2]}function Hx(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Wx(t,e,r):Wx(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function tk(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function rk(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function CL(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?kL:bee(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,c=Math.log(l),d=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),m=Math.max(r,Math.floor(t-u*d/l+p)),g=Math.min(n,Math.floor(t+(l-u)*d/l+p));CL(e,t,m,g,i)}const a=e[t];let o=r,s=n;for($u(e,r,t),i(e[n],a)>0&&$u(e,r,n);o<s;){for($u(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[r],a)===0?$u(e,r,s):(++s,$u(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function $u(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Aee(e,t,r){if(e=Float64Array.from(gee(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return rk(e);if(t>=1)return tk(e);var n,i=(n-1)*t,a=Math.floor(i),o=tk(CL(e,a).subarray(0,a+1)),s=rk(e.subarray(a+1));return o+(s-o)*(i-a)}}function See(e,t,r=IL){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function Pee(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function An(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function la(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Qx=Symbol("implicit");function y1(){var e=new ZI,t=[],r=[],n=Qx;function i(a){let o=e.get(a);if(o===void 0){if(n!==Qx)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new ZI;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return y1(t,r).unknown(n)},An.apply(i,arguments),i}function x1(){var e=y1().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var p=t().length,m=i<n,g=m?i:n,y=m?n:i;a=(y-g)/Math.max(1,p-l+u*2),s&&(a=Math.floor(a)),g+=(y-g-a*(p-l))*c,o=a*(1-l),s&&(g=Math.round(g),o=Math.round(o));var b=Pee(p).map(function(x){return g+a*x});return r(m?b.reverse():b)}return e.domain=function(p){return arguments.length?(t(p),d()):t()},e.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(p){return arguments.length?(s=!!p,d()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),d()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},e.paddingOuter=function(p){return arguments.length?(u=+p,d()):u},e.align=function(p){return arguments.length?(c=Math.max(0,Math.min(1,p)),d()):c},e.copy=function(){return x1(t(),[n,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},An.apply(d(),arguments)}function NL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return NL(t())},e}function Iee(){return NL(x1.apply(null,arguments).paddingInner(1))}function w1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function OL(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Fd(){}var td=.7,Op=1/td,fl="\\s*([+-]?\\d+)\\s*",rd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kee=/^#([0-9a-f]{3,8})$/,Cee=new RegExp(`^rgb\\(${fl},${fl},${fl}\\)$`),Nee=new RegExp(`^rgb\\(${li},${li},${li}\\)$`),Oee=new RegExp(`^rgba\\(${fl},${fl},${fl},${rd}\\)$`),jee=new RegExp(`^rgba\\(${li},${li},${li},${rd}\\)$`),Ree=new RegExp(`^hsl\\(${rd},${li},${li}\\)$`),Dee=new RegExp(`^hsla\\(${rd},${li},${li},${rd}\\)$`),nk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};w1(Fd,nd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ik,formatHex:ik,formatHex8:Mee,formatHsl:Lee,formatRgb:ak,toString:ak});function ik(){return this.rgb().formatHex()}function Mee(){return this.rgb().formatHex8()}function Lee(){return jL(this).formatHsl()}function ak(){return this.rgb().formatRgb()}function nd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=kee.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ok(t):r===3?new Or(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Kf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Kf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Cee.exec(e))?new Or(t[1],t[2],t[3],1):(t=Nee.exec(e))?new Or(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Oee.exec(e))?Kf(t[1],t[2],t[3],t[4]):(t=jee.exec(e))?Kf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ree.exec(e))?uk(t[1],t[2]/100,t[3]/100,1):(t=Dee.exec(e))?uk(t[1],t[2]/100,t[3]/100,t[4]):nk.hasOwnProperty(e)?ok(nk[e]):e==="transparent"?new Or(NaN,NaN,NaN,0):null}function ok(e){return new Or(e>>16&255,e>>8&255,e&255,1)}function Kf(e,t,r,n){return n<=0&&(e=t=r=NaN),new Or(e,t,r,n)}function $ee(e){return e instanceof Fd||(e=nd(e)),e?(e=e.rgb(),new Or(e.r,e.g,e.b,e.opacity)):new Or}function Gx(e,t,r,n){return arguments.length===1?$ee(e):new Or(e,t,r,n??1)}function Or(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}w1(Or,Gx,OL(Fd,{brighter(e){return e=e==null?Op:Math.pow(Op,e),new Or(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?td:Math.pow(td,e),new Or(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Or(Vo(this.r),Vo(this.g),Vo(this.b),jp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sk,formatHex:sk,formatHex8:zee,formatRgb:lk,toString:lk}));function sk(){return`#${Ro(this.r)}${Ro(this.g)}${Ro(this.b)}`}function zee(){return`#${Ro(this.r)}${Ro(this.g)}${Ro(this.b)}${Ro((isNaN(this.opacity)?1:this.opacity)*255)}`}function lk(){const e=jp(this.opacity);return`${e===1?"rgb(":"rgba("}${Vo(this.r)}, ${Vo(this.g)}, ${Vo(this.b)}${e===1?")":`, ${e})`}`}function jp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ro(e){return e=Vo(e),(e<16?"0":"")+e.toString(16)}function uk(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Mn(e,t,r,n)}function jL(e){if(e instanceof Mn)return new Mn(e.h,e.s,e.l,e.opacity);if(e instanceof Fd||(e=nd(e)),!e)return new Mn;if(e instanceof Mn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Mn(o,s,l,e.opacity)}function Vee(e,t,r,n){return arguments.length===1?jL(e):new Mn(e,t,r,n??1)}function Mn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}w1(Mn,Vee,OL(Fd,{brighter(e){return e=e==null?Op:Math.pow(Op,e),new Mn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?td:Math.pow(td,e),new Mn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Or(jy(e>=240?e-240:e+120,i,n),jy(e,i,n),jy(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Mn(ck(this.h),Wf(this.s),Wf(this.l),jp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=jp(this.opacity);return`${e===1?"hsl(":"hsla("}${ck(this.h)}, ${Wf(this.s)*100}%, ${Wf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ck(e){return e=(e||0)%360,e<0?e+360:e}function Wf(e){return Math.max(0,Math.min(1,e||0))}function jy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const b1=e=>()=>e;function Fee(e,t){return function(r){return e+r*t}}function Uee(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Bee(e){return(e=+e)==1?RL:function(t,r){return r-t?Uee(t,r,e):b1(isNaN(t)?r:t)}}function RL(e,t){var r=t-e;return r?Fee(e,r):b1(isNaN(e)?t:e)}const dk=function e(t){var r=Bee(t);function n(i,a){var o=r((i=Gx(i)).r,(a=Gx(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=RL(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=e,n}(1);function qee(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function Kee(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Wee(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=nu(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function Hee(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Rp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Qee(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=nu(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Yx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ry=new RegExp(Yx.source,"g");function Gee(e){return function(){return e}}function Yee(e){return function(t){return e(t)+""}}function Xee(e,t){var r=Yx.lastIndex=Ry.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=Yx.exec(e))&&(i=Ry.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Rp(n,i)})),r=Ry.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Yee(l[0].x):Gee(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function nu(e,t){var r=typeof t,n;return t==null||r==="boolean"?b1(t):(r==="number"?Rp:r==="string"?(n=nd(t))?(t=n,dk):Xee:t instanceof nd?dk:t instanceof Date?Hee:Kee(t)?qee:Array.isArray(t)?Wee:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Qee:Rp)(e,t)}function _1(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Jee(e,t){t===void 0&&(t=e,e=nu);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function Zee(e){return function(){return e}}function Dp(e){return+e}var fk=[0,1];function br(e){return e}function Xx(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Zee(isNaN(t)?NaN:.5)}function ete(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function tte(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=Xx(i,n),a=r(o,a)):(n=Xx(n,i),a=r(a,o)),function(s){return a(n(s))}}function rte(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=Xx(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var l=Vd(e,s,1,n)-1;return a[l](i[l](s))}}function Ud(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Rg(){var e=fk,t=fk,r=nu,n,i,a,o=br,s,l,u;function c(){var p=Math.min(e.length,t.length);return o!==br&&(o=ete(e[0],e[p-1])),s=p>2?rte:tte,l=u=null,d}function d(p){return p==null||isNaN(p=+p)?a:(l||(l=s(e.map(n),t,r)))(n(o(p)))}return d.invert=function(p){return o(i((u||(u=s(t,e.map(n),Rp)))(p)))},d.domain=function(p){return arguments.length?(e=Array.from(p,Dp),c()):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),c()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),r=_1,c()},d.clamp=function(p){return arguments.length?(o=p?!0:br,c()):o!==br},d.interpolate=function(p){return arguments.length?(r=p,c()):r},d.unknown=function(p){return arguments.length?(a=p,d):a},function(p,m){return n=p,i=m,c()}}function E1(){return Rg()(br,br)}function nte(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Mp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ll(e){return e=Mp(Math.abs(e)),e?e[1]:NaN}function ite(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function ate(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var ote=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function id(e){if(!(t=ote.exec(e)))throw new Error("invalid format: "+e);var t;return new T1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}id.prototype=T1.prototype;function T1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}T1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ste(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var DL;function lte(e,t){var r=Mp(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(DL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Mp(e,Math.max(0,t+a-1))[0]}function hk(e,t){var r=Mp(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const pk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:nte,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>hk(e*100,t),r:hk,s:lte,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function mk(e){return e}var gk=Array.prototype.map,vk=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ute(e){var t=e.grouping===void 0||e.thousands===void 0?mk:ite(gk.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?mk:ate(gk.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=id(d);var p=d.fill,m=d.align,g=d.sign,y=d.symbol,b=d.zero,x=d.width,w=d.comma,E=d.precision,P=d.trim,C=d.type;C==="n"?(w=!0,C="g"):pk[C]||(E===void 0&&(E=12),P=!0,C="g"),(b||p==="0"&&m==="=")&&(b=!0,p="0",m="=");var j=y==="$"?r:y==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",A=y==="$"?n:/[%p]/.test(C)?o:"",S=pk[C],I=/[defgprs%]/.test(C);E=E===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function N(R){var D=j,k=A,q,te,ie;if(C==="c")k=S(R)+k,R="";else{R=+R;var Q=R<0||1/R<0;if(R=isNaN(R)?l:S(Math.abs(R),E),P&&(R=ste(R)),Q&&+R==0&&g!=="+"&&(Q=!1),D=(Q?g==="("?g:s:g==="-"||g==="("?"":g)+D,k=(C==="s"?vk[8+DL/3]:"")+k+(Q&&g==="("?")":""),I){for(q=-1,te=R.length;++q<te;)if(ie=R.charCodeAt(q),48>ie||ie>57){k=(ie===46?i+R.slice(q+1):R.slice(q))+k,R=R.slice(0,q);break}}}w&&!b&&(R=t(R,1/0));var F=D.length+R.length+k.length,Y=F<x?new Array(x-F+1).join(p):"";switch(w&&b&&(R=t(Y+R,Y.length?x-k.length:1/0),Y=""),m){case"<":R=D+R+k+Y;break;case"=":R=D+Y+R+k;break;case"^":R=Y.slice(0,F=Y.length>>1)+D+R+k+Y.slice(F);break;default:R=Y+D+R+k;break}return a(R)}return N.toString=function(){return d+""},N}function c(d,p){var m=u((d=id(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Ll(p)/3)))*3,y=Math.pow(10,-g),b=vk[8+g/3];return function(x){return m(y*x)+b}}return{format:u,formatPrefix:c}}var Hf,A1,ML;cte({thousands:",",grouping:[3],currency:["$",""]});function cte(e){return Hf=ute(e),A1=Hf.format,ML=Hf.formatPrefix,Hf}function dte(e){return Math.max(0,-Ll(Math.abs(e)))}function fte(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ll(t)/3)))*3-Ll(Math.abs(e)))}function hte(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ll(t)-Ll(e))+1}function LL(e,t,r,n){var i=Hx(e,t,r),a;switch(n=id(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=fte(i,o))&&(n.precision=a),ML(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=hte(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=dte(i))&&(n.precision=a-(n.type==="%")*2);break}}return A1(n)}function fo(e){var t=e.domain;return e.ticks=function(r){var n=t();return Kx(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return LL(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=Wx(o,s,r),u===l)return n[i]=o,n[a]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function $L(){var e=E1();return e.copy=function(){return Ud(e,$L())},An.apply(e,arguments),fo(e)}function zL(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Dp),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return zL(e).unknown(t)},e=arguments.length?Array.from(e,Dp):[0,1],fo(r)}function VL(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function yk(e){return Math.log(e)}function xk(e){return Math.exp(e)}function pte(e){return-Math.log(-e)}function mte(e){return-Math.exp(-e)}function gte(e){return isFinite(e)?+("1e"+e):e<0?0:e}function vte(e){return e===10?gte:e===Math.E?Math.exp:t=>Math.pow(e,t)}function yte(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function wk(e){return(t,r)=>-e(-t,r)}function S1(e){const t=e(yk,xk),r=t.domain;let n=10,i,a;function o(){return i=yte(n),a=vte(n),r()[0]<0?(i=wk(i),a=wk(a),e(pte,mte)):e(yk,xk),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let p=i(u),m=i(c),g,y;const b=s==null?10:+s;let x=[];if(!(n%1)&&m-p<b){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(g=1;g<n;++g)if(y=p<0?g/a(-p):g*a(p),!(y<u)){if(y>c)break;x.push(y)}}else for(;p<=m;++p)for(g=n-1;g>=1;--g)if(y=p>0?g/a(-p):g*a(p),!(y<u)){if(y>c)break;x.push(y)}x.length*2<b&&(x=Kx(u,c,b))}else x=Kx(p,m,Math.min(m-p,b)).map(a);return d?x.reverse():x},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=id(l)).precision==null&&(l.trim=!0),l=A1(l)),s===1/0)return l;const u=Math.max(1,n*s/t.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*n<n-.5&&(d*=n),d<=u?l(c):""}},t.nice=()=>r(VL(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function FL(){const e=S1(Rg()).domain([1,10]);return e.copy=()=>Ud(e,FL()).base(e.base()),An.apply(e,arguments),e}function bk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _k(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function P1(e){var t=1,r=e(bk(t),_k(t));return r.constant=function(n){return arguments.length?e(bk(t=+n),_k(t)):t},fo(r)}function UL(){var e=P1(Rg());return e.copy=function(){return Ud(e,UL()).constant(e.constant())},An.apply(e,arguments)}function Ek(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xte(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function wte(e){return e<0?-e*e:e*e}function I1(e){var t=e(br,br),r=1;function n(){return r===1?e(br,br):r===.5?e(xte,wte):e(Ek(r),Ek(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},fo(t)}function k1(){var e=I1(Rg());return e.copy=function(){return Ud(e,k1()).exponent(e.exponent())},An.apply(e,arguments),e}function bte(){return k1.apply(null,arguments).exponent(.5)}function Tk(e){return Math.sign(e)*e*e}function _te(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function BL(){var e=E1(),t=[0,1],r=!1,n;function i(a){var o=_te(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(Tk(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Dp)).map(Tk)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return BL(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},An.apply(i,arguments),fo(i)}function qL(){var e=[],t=[],r=[],n;function i(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=See(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:t[Vd(r,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ka),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return qL().domain(e).range(t).unknown(n)},An.apply(a,arguments)}function KL(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Vd(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return KL().domain([e,t]).range(i).unknown(a)},An.apply(fo(o),arguments)}function WL(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Vd(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return WL().domain(e).range(t).unknown(r)},An.apply(i,arguments)}const Dy=new Date,My=new Date;function It(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<o);return l},i.filter=a=>It(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(Dy.setTime(+a),My.setTime(+o),e(Dy),e(My),Math.floor(r(Dy,My))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Lp=It(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Lp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?It(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Lp);Lp.range;const Oi=1e3,mn=Oi*60,ji=mn*60,ea=ji*24,C1=ea*7,Ak=ea*30,Ly=ea*365,Do=It(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Oi)},(e,t)=>(t-e)/Oi,e=>e.getUTCSeconds());Do.range;const N1=It(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Oi)},(e,t)=>{e.setTime(+e+t*mn)},(e,t)=>(t-e)/mn,e=>e.getMinutes());N1.range;const O1=It(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*mn)},(e,t)=>(t-e)/mn,e=>e.getUTCMinutes());O1.range;const j1=It(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Oi-e.getMinutes()*mn)},(e,t)=>{e.setTime(+e+t*ji)},(e,t)=>(t-e)/ji,e=>e.getHours());j1.range;const R1=It(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ji)},(e,t)=>(t-e)/ji,e=>e.getUTCHours());R1.range;const Bd=It(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*mn)/ea,e=>e.getDate()-1);Bd.range;const Dg=It(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ea,e=>e.getUTCDate()-1);Dg.range;const HL=It(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ea,e=>Math.floor(e/ea));HL.range;function ys(e){return It(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*mn)/C1)}const Mg=ys(0),$p=ys(1),Ete=ys(2),Tte=ys(3),$l=ys(4),Ate=ys(5),Ste=ys(6);Mg.range;$p.range;Ete.range;Tte.range;$l.range;Ate.range;Ste.range;function xs(e){return It(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/C1)}const Lg=xs(0),zp=xs(1),Pte=xs(2),Ite=xs(3),zl=xs(4),kte=xs(5),Cte=xs(6);Lg.range;zp.range;Pte.range;Ite.range;zl.range;kte.range;Cte.range;const D1=It(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());D1.range;const M1=It(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());M1.range;const ta=It(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ta.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:It(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ta.range;const ra=It(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ra.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:It(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ra.range;function QL(e,t,r,n,i,a){const o=[[Do,1,Oi],[Do,5,5*Oi],[Do,15,15*Oi],[Do,30,30*Oi],[a,1,mn],[a,5,5*mn],[a,15,15*mn],[a,30,30*mn],[i,1,ji],[i,3,3*ji],[i,6,6*ji],[i,12,12*ji],[n,1,ea],[n,2,2*ea],[r,1,C1],[t,1,Ak],[t,3,3*Ak],[e,1,Ly]];function s(u,c,d){const p=c<u;p&&([u,c]=[c,u]);const m=d&&typeof d.range=="function"?d:l(u,c,d),g=m?m.range(u,+c+1):[];return p?g.reverse():g}function l(u,c,d){const p=Math.abs(c-u)/d,m=v1(([,,b])=>b).right(o,p);if(m===o.length)return e.every(Hx(u/Ly,c/Ly,d));if(m===0)return Lp.every(Math.max(Hx(u,c,d),1));const[g,y]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return g.every(y)}return[s,l]}const[Nte,Ote]=QL(ra,M1,Lg,HL,R1,O1),[jte,Rte]=QL(ta,D1,Mg,Bd,j1,N1);function $y(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function zy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Dte(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=Vu(i),c=Fu(i),d=Vu(a),p=Fu(a),m=Vu(o),g=Fu(o),y=Vu(s),b=Fu(s),x=Vu(l),w=Fu(l),E={a:Q,A:F,b:Y,B:ae,c:null,d:Nk,e:Nk,f:ire,g:pre,G:gre,H:tre,I:rre,j:nre,L:GL,m:are,M:ore,p:xe,q:W,Q:Rk,s:Dk,S:sre,u:lre,U:ure,V:cre,w:dre,W:fre,x:null,X:null,y:hre,Y:mre,Z:vre,"%":jk},P={a:ge,A:Lt,b:lt,B:Sn,c:null,d:Ok,e:Ok,f:bre,g:Nre,G:jre,H:yre,I:xre,j:wre,L:XL,m:_re,M:Ere,p:Pn,q:ov,Q:Rk,s:Dk,S:Tre,u:Are,U:Sre,V:Pre,w:Ire,W:kre,x:null,X:null,y:Cre,Y:Ore,Z:Rre,"%":jk},C={a:N,A:R,b:D,B:k,c:q,d:kk,e:kk,f:Xte,g:Ik,G:Pk,H:Ck,I:Ck,j:Hte,L:Yte,m:Wte,M:Qte,p:I,q:Kte,Q:Zte,s:ere,S:Gte,u:Vte,U:Fte,V:Ute,w:zte,W:Bte,x:te,X:ie,y:Ik,Y:Pk,Z:qte,"%":Jte};E.x=j(r,E),E.X=j(n,E),E.c=j(t,E),P.x=j(r,P),P.X=j(n,P),P.c=j(t,P);function j(ee,fe){return function(ve){var U=[],kt=-1,Ce=0,$t=ee.length,Jt,xi,Jd;for(ve instanceof Date||(ve=new Date(+ve));++kt<$t;)ee.charCodeAt(kt)===37&&(U.push(ee.slice(Ce,kt)),(xi=Sk[Jt=ee.charAt(++kt)])!=null?Jt=ee.charAt(++kt):xi=Jt==="e"?" ":"0",(Jd=fe[Jt])&&(Jt=Jd(ve,xi)),U.push(Jt),Ce=kt+1);return U.push(ee.slice(Ce,kt)),U.join("")}}function A(ee,fe){return function(ve){var U=zu(1900,void 0,1),kt=S(U,ee,ve+="",0),Ce,$t;if(kt!=ve.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(U.s*1e3+("L"in U?U.L:0));if(fe&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+U.p*12),U.m===void 0&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(Ce=zy(zu(U.y,0,1)),$t=Ce.getUTCDay(),Ce=$t>4||$t===0?zp.ceil(Ce):zp(Ce),Ce=Dg.offset(Ce,(U.V-1)*7),U.y=Ce.getUTCFullYear(),U.m=Ce.getUTCMonth(),U.d=Ce.getUTCDate()+(U.w+6)%7):(Ce=$y(zu(U.y,0,1)),$t=Ce.getDay(),Ce=$t>4||$t===0?$p.ceil(Ce):$p(Ce),Ce=Bd.offset(Ce,(U.V-1)*7),U.y=Ce.getFullYear(),U.m=Ce.getMonth(),U.d=Ce.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),$t="Z"in U?zy(zu(U.y,0,1)).getUTCDay():$y(zu(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+U.W*7-($t+5)%7:U.w+U.U*7-($t+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,zy(U)):$y(U)}}function S(ee,fe,ve,U){for(var kt=0,Ce=fe.length,$t=ve.length,Jt,xi;kt<Ce;){if(U>=$t)return-1;if(Jt=fe.charCodeAt(kt++),Jt===37){if(Jt=fe.charAt(kt++),xi=C[Jt in Sk?fe.charAt(kt++):Jt],!xi||(U=xi(ee,ve,U))<0)return-1}else if(Jt!=ve.charCodeAt(U++))return-1}return U}function I(ee,fe,ve){var U=u.exec(fe.slice(ve));return U?(ee.p=c.get(U[0].toLowerCase()),ve+U[0].length):-1}function N(ee,fe,ve){var U=m.exec(fe.slice(ve));return U?(ee.w=g.get(U[0].toLowerCase()),ve+U[0].length):-1}function R(ee,fe,ve){var U=d.exec(fe.slice(ve));return U?(ee.w=p.get(U[0].toLowerCase()),ve+U[0].length):-1}function D(ee,fe,ve){var U=x.exec(fe.slice(ve));return U?(ee.m=w.get(U[0].toLowerCase()),ve+U[0].length):-1}function k(ee,fe,ve){var U=y.exec(fe.slice(ve));return U?(ee.m=b.get(U[0].toLowerCase()),ve+U[0].length):-1}function q(ee,fe,ve){return S(ee,t,fe,ve)}function te(ee,fe,ve){return S(ee,r,fe,ve)}function ie(ee,fe,ve){return S(ee,n,fe,ve)}function Q(ee){return o[ee.getDay()]}function F(ee){return a[ee.getDay()]}function Y(ee){return l[ee.getMonth()]}function ae(ee){return s[ee.getMonth()]}function xe(ee){return i[+(ee.getHours()>=12)]}function W(ee){return 1+~~(ee.getMonth()/3)}function ge(ee){return o[ee.getUTCDay()]}function Lt(ee){return a[ee.getUTCDay()]}function lt(ee){return l[ee.getUTCMonth()]}function Sn(ee){return s[ee.getUTCMonth()]}function Pn(ee){return i[+(ee.getUTCHours()>=12)]}function ov(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var fe=j(ee+="",E);return fe.toString=function(){return ee},fe},parse:function(ee){var fe=A(ee+="",!1);return fe.toString=function(){return ee},fe},utcFormat:function(ee){var fe=j(ee+="",P);return fe.toString=function(){return ee},fe},utcParse:function(ee){var fe=A(ee+="",!0);return fe.toString=function(){return ee},fe}}}var Sk={"-":"",_:" ",0:"0"},Dt=/^\s*\d+/,Mte=/^%/,Lte=/[\\^$*+?|[\]().{}]/g;function ke(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function $te(e){return e.replace(Lte,"\\$&")}function Vu(e){return new RegExp("^(?:"+e.map($te).join("|")+")","i")}function Fu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function zte(e,t,r){var n=Dt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Vte(e,t,r){var n=Dt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Fte(e,t,r){var n=Dt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Ute(e,t,r){var n=Dt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Bte(e,t,r){var n=Dt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Pk(e,t,r){var n=Dt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Ik(e,t,r){var n=Dt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function qte(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Kte(e,t,r){var n=Dt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Wte(e,t,r){var n=Dt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function kk(e,t,r){var n=Dt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Hte(e,t,r){var n=Dt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Ck(e,t,r){var n=Dt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Qte(e,t,r){var n=Dt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Gte(e,t,r){var n=Dt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Yte(e,t,r){var n=Dt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Xte(e,t,r){var n=Dt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Jte(e,t,r){var n=Mte.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Zte(e,t,r){var n=Dt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function ere(e,t,r){var n=Dt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Nk(e,t){return ke(e.getDate(),t,2)}function tre(e,t){return ke(e.getHours(),t,2)}function rre(e,t){return ke(e.getHours()%12||12,t,2)}function nre(e,t){return ke(1+Bd.count(ta(e),e),t,3)}function GL(e,t){return ke(e.getMilliseconds(),t,3)}function ire(e,t){return GL(e,t)+"000"}function are(e,t){return ke(e.getMonth()+1,t,2)}function ore(e,t){return ke(e.getMinutes(),t,2)}function sre(e,t){return ke(e.getSeconds(),t,2)}function lre(e){var t=e.getDay();return t===0?7:t}function ure(e,t){return ke(Mg.count(ta(e)-1,e),t,2)}function YL(e){var t=e.getDay();return t>=4||t===0?$l(e):$l.ceil(e)}function cre(e,t){return e=YL(e),ke($l.count(ta(e),e)+(ta(e).getDay()===4),t,2)}function dre(e){return e.getDay()}function fre(e,t){return ke($p.count(ta(e)-1,e),t,2)}function hre(e,t){return ke(e.getFullYear()%100,t,2)}function pre(e,t){return e=YL(e),ke(e.getFullYear()%100,t,2)}function mre(e,t){return ke(e.getFullYear()%1e4,t,4)}function gre(e,t){var r=e.getDay();return e=r>=4||r===0?$l(e):$l.ceil(e),ke(e.getFullYear()%1e4,t,4)}function vre(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ke(t/60|0,"0",2)+ke(t%60,"0",2)}function Ok(e,t){return ke(e.getUTCDate(),t,2)}function yre(e,t){return ke(e.getUTCHours(),t,2)}function xre(e,t){return ke(e.getUTCHours()%12||12,t,2)}function wre(e,t){return ke(1+Dg.count(ra(e),e),t,3)}function XL(e,t){return ke(e.getUTCMilliseconds(),t,3)}function bre(e,t){return XL(e,t)+"000"}function _re(e,t){return ke(e.getUTCMonth()+1,t,2)}function Ere(e,t){return ke(e.getUTCMinutes(),t,2)}function Tre(e,t){return ke(e.getUTCSeconds(),t,2)}function Are(e){var t=e.getUTCDay();return t===0?7:t}function Sre(e,t){return ke(Lg.count(ra(e)-1,e),t,2)}function JL(e){var t=e.getUTCDay();return t>=4||t===0?zl(e):zl.ceil(e)}function Pre(e,t){return e=JL(e),ke(zl.count(ra(e),e)+(ra(e).getUTCDay()===4),t,2)}function Ire(e){return e.getUTCDay()}function kre(e,t){return ke(zp.count(ra(e)-1,e),t,2)}function Cre(e,t){return ke(e.getUTCFullYear()%100,t,2)}function Nre(e,t){return e=JL(e),ke(e.getUTCFullYear()%100,t,2)}function Ore(e,t){return ke(e.getUTCFullYear()%1e4,t,4)}function jre(e,t){var r=e.getUTCDay();return e=r>=4||r===0?zl(e):zl.ceil(e),ke(e.getUTCFullYear()%1e4,t,4)}function Rre(){return"+0000"}function jk(){return"%"}function Rk(e){return+e}function Dk(e){return Math.floor(+e/1e3)}var ks,ZL,e4;Dre({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Dre(e){return ks=Dte(e),ZL=ks.format,ks.parse,e4=ks.utcFormat,ks.utcParse,ks}function Mre(e){return new Date(e)}function Lre(e){return e instanceof Date?+e:+new Date(+e)}function L1(e,t,r,n,i,a,o,s,l,u){var c=E1(),d=c.invert,p=c.domain,m=u(".%L"),g=u(":%S"),y=u("%I:%M"),b=u("%I %p"),x=u("%a %d"),w=u("%b %d"),E=u("%B"),P=u("%Y");function C(j){return(l(j)<j?m:s(j)<j?g:o(j)<j?y:a(j)<j?b:n(j)<j?i(j)<j?x:w:r(j)<j?E:P)(j)}return c.invert=function(j){return new Date(d(j))},c.domain=function(j){return arguments.length?p(Array.from(j,Lre)):p().map(Mre)},c.ticks=function(j){var A=p();return e(A[0],A[A.length-1],j??10)},c.tickFormat=function(j,A){return A==null?C:u(A)},c.nice=function(j){var A=p();return(!j||typeof j.range!="function")&&(j=t(A[0],A[A.length-1],j??10)),j?p(VL(A,j)):c},c.copy=function(){return Ud(c,L1(e,t,r,n,i,a,o,s,l,u))},c}function $re(){return An.apply(L1(jte,Rte,ta,D1,Mg,Bd,j1,N1,Do,ZL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zre(){return An.apply(L1(Nte,Ote,ra,M1,Lg,Dg,R1,O1,Do,e4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $g(){var e=0,t=1,r,n,i,a,o=br,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(o=d,u):o};function c(d){return function(p){var m,g;return arguments.length?([m,g]=p,o=d(m,g),u):[o(0),o(1)]}}return u.range=c(nu),u.rangeRound=c(_1),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),u}}function ho(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function t4(){var e=fo($g()(br));return e.copy=function(){return ho(e,t4())},la.apply(e,arguments)}function r4(){var e=S1($g()).domain([1,10]);return e.copy=function(){return ho(e,r4()).base(e.base())},la.apply(e,arguments)}function n4(){var e=P1($g());return e.copy=function(){return ho(e,n4()).constant(e.constant())},la.apply(e,arguments)}function $1(){var e=I1($g());return e.copy=function(){return ho(e,$1()).exponent(e.exponent())},la.apply(e,arguments)}function Vre(){return $1.apply(null,arguments).exponent(.5)}function i4(){var e=[],t=br;function r(n){if(n!=null&&!isNaN(n=+n))return t((Vd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ka),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Aee(e,a/n))},r.copy=function(){return i4(t).domain(e)},la.apply(r,arguments)}function zg(){var e=0,t=.5,r=1,n=1,i,a,o,s,l,u=br,c,d=!1,p;function m(y){return isNaN(y=+y)?p:(y=.5+((y=+c(y))-a)*(n*y<n*a?s:l),u(d?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,r]=y,i=c(e=+e),a=c(t=+t),o=c(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(y){return arguments.length?(d=!!y,m):d},m.interpolator=function(y){return arguments.length?(u=y,m):u};function g(y){return function(b){var x,w,E;return arguments.length?([x,w,E]=b,u=Jee(y,[x,w,E]),m):[u(0),u(.5),u(1)]}}return m.range=g(nu),m.rangeRound=g(_1),m.unknown=function(y){return arguments.length?(p=y,m):p},function(y){return c=y,i=y(e),a=y(t),o=y(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,m}}function a4(){var e=fo(zg()(br));return e.copy=function(){return ho(e,a4())},la.apply(e,arguments)}function o4(){var e=S1(zg()).domain([.1,1,10]);return e.copy=function(){return ho(e,o4()).base(e.base())},la.apply(e,arguments)}function s4(){var e=P1(zg());return e.copy=function(){return ho(e,s4()).constant(e.constant())},la.apply(e,arguments)}function z1(){var e=I1(zg());return e.copy=function(){return ho(e,z1()).exponent(e.exponent())},la.apply(e,arguments)}function Fre(){return z1.apply(null,arguments).exponent(.5)}const ec=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:x1,scaleDiverging:a4,scaleDivergingLog:o4,scaleDivergingPow:z1,scaleDivergingSqrt:Fre,scaleDivergingSymlog:s4,scaleIdentity:zL,scaleImplicit:Qx,scaleLinear:$L,scaleLog:FL,scaleOrdinal:y1,scalePoint:Iee,scalePow:k1,scaleQuantile:qL,scaleQuantize:KL,scaleRadial:BL,scaleSequential:t4,scaleSequentialLog:r4,scaleSequentialPow:$1,scaleSequentialQuantile:i4,scaleSequentialSqrt:Vre,scaleSequentialSymlog:n4,scaleSqrt:bte,scaleSymlog:UL,scaleThreshold:WL,scaleTime:$re,scaleUtc:zre,tickFormat:LL},Symbol.toStringTag,{value:"Module"}));var ws=e=>e.chartData,V1=L([ws],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Vg=(e,t,r,n)=>n?V1(e):ws(e);function Vl(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Yt(t)&&Yt(r))return!0}return!1}function Mk(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Ure(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(Yt(r))i=r;else if(typeof r=="function")return;if(Yt(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(Vl(o))return o}}function Bre(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Vl(n))return Mk(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,s;if(i==="auto")t!=null&&(o=Math.min(...t));else if(J(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&PI.test(i)){var l=PI.exec(i);if(l==null||t==null)o=void 0;else{var u=+l[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(s=Math.max(...t));else if(J(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&II.test(a)){var c=II.exec(a);if(c==null||t==null)s=void 0;else{var d=+c[1];s=t[1]+d}}else s=t==null?void 0:t[1];var p=[o,s];if(Vl(p))return t==null?p:Mk(p,t,r)}}}var iu=1e9,qre={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},U1,Je=!0,bn="[DecimalError] ",Fo=bn+"Invalid argument: ",F1=bn+"Exponent out of range: ",au=Math.floor,Ao=Math.pow,Kre=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Wr,Nt=1e7,He=7,l4=9007199254740991,Vp=au(l4/He),Z={};Z.absoluteValue=Z.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Z.comparedTo=Z.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Z.decimalPlaces=Z.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*He;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Z.dividedBy=Z.div=function(e){return zi(this,new this.constructor(e))};Z.dividedToIntegerBy=Z.idiv=function(e){var t=this,r=t.constructor;return Fe(zi(t,new r(e),0,1),r.precision)};Z.equals=Z.eq=function(e){return!this.cmp(e)};Z.exponent=function(){return _t(this)};Z.greaterThan=Z.gt=function(e){return this.cmp(e)>0};Z.greaterThanOrEqualTo=Z.gte=function(e){return this.cmp(e)>=0};Z.isInteger=Z.isint=function(){return this.e>this.d.length-2};Z.isNegative=Z.isneg=function(){return this.s<0};Z.isPositive=Z.ispos=function(){return this.s>0};Z.isZero=function(){return this.s===0};Z.lessThan=Z.lt=function(e){return this.cmp(e)<0};Z.lessThanOrEqualTo=Z.lte=function(e){return this.cmp(e)<1};Z.logarithm=Z.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Wr))throw Error(bn+"NaN");if(r.s<1)throw Error(bn+(r.s?"NaN":"-Infinity"));return r.eq(Wr)?new n(0):(Je=!1,t=zi(ad(r,a),ad(e,a),a),Je=!0,Fe(t,i))};Z.minus=Z.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?d4(t,e):u4(t,(e.s=-e.s,e))};Z.modulo=Z.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(bn+"NaN");return r.s?(Je=!1,t=zi(r,e,0,1).times(e),Je=!0,r.minus(t)):Fe(new n(r),i)};Z.naturalExponential=Z.exp=function(){return c4(this)};Z.naturalLogarithm=Z.ln=function(){return ad(this)};Z.negated=Z.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Z.plus=Z.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?u4(t,e):d4(t,(e.s=-e.s,e))};Z.precision=Z.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Fo+e);if(t=_t(i)+1,n=i.d.length-1,r=n*He+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Z.squareRoot=Z.sqrt=function(){var e,t,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(bn+"NaN")}for(e=_t(s),Je=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=ei(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=au((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(zi(s,a,o+2)).times(.5),ei(a.d).slice(0,o)===(t=ei(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Fe(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;o+=4}return Je=!0,Fe(n,r)};Z.times=Z.mul=function(e){var t,r,n,i,a,o,s,l,u,c=this,d=c.constructor,p=c.d,m=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,r=c.e+e.e,l=p.length,u=m.length,l<u&&(a=p,p=m,m=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)s=a[i]+m[n]*p[i-n-1]+t,a[i--]=s%Nt|0,t=s/Nt|0;a[i]=(a[i]+t)%Nt|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Je?Fe(e,d.precision):e};Z.toDecimalPlaces=Z.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(pi(e,0,iu),t===void 0?t=n.rounding:pi(t,0,8),Fe(r,e+_t(r)+1,t))};Z.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=ls(n,!0):(pi(e,0,iu),t===void 0?t=i.rounding:pi(t,0,8),n=Fe(new i(n),e+1,t),r=ls(n,!0,e+1)),r};Z.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?ls(i):(pi(e,0,iu),t===void 0?t=a.rounding:pi(t,0,8),n=Fe(new a(i),e+_t(i)+1,t),r=ls(n.abs(),!1,e+_t(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Z.toInteger=Z.toint=function(){var e=this,t=e.constructor;return Fe(new t(e),_t(e)+1,t.rounding)};Z.toNumber=function(){return+this};Z.toPower=Z.pow=function(e){var t,r,n,i,a,o,s=this,l=s.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(Wr);if(s=new l(s),!s.s){if(e.s<1)throw Error(bn+"Infinity");return s}if(s.eq(Wr))return s;if(n=l.precision,e.eq(Wr))return Fe(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=s.s,o){if((r=c<0?-c:c)<=l4){for(i=new l(Wr),t=Math.ceil(n/He+4),Je=!1;r%2&&(i=i.times(s),$k(i.d,t)),r=au(r/2),r!==0;)s=s.times(s),$k(s.d,t);return Je=!0,e.s<0?new l(Wr).div(i):Fe(i,n)}}else if(a<0)throw Error(bn+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Je=!1,i=e.times(ad(s,n+u)),Je=!0,i=c4(i),i.s=a,i};Z.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=_t(i),n=ls(i,r<=a.toExpNeg||r>=a.toExpPos)):(pi(e,1,iu),t===void 0?t=a.rounding:pi(t,0,8),i=Fe(new a(i),e,t),r=_t(i),n=ls(i,e<=r||r<=a.toExpNeg,e)),n};Z.toSignificantDigits=Z.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(pi(e,1,iu),t===void 0?t=n.rounding:pi(t,0,8)),Fe(new n(r),e,t)};Z.toString=Z.valueOf=Z.val=Z.toJSON=Z[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=_t(e),r=e.constructor;return ls(e,t<=r.toExpNeg||t>=r.toExpPos)};function u4(e,t){var r,n,i,a,o,s,l,u,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Je?Fe(t,d):t;if(l=e.d,u=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=u.length):(n=u,i=o,s=l.length),o=Math.ceil(d/He),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/Nt|0,l[a]%=Nt;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,Je?Fe(t,d):t}function pi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Fo+e)}function ei(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=He-n.length,r&&(a+=wa(r)),a+=n;o=e[t],n=o+"",r=He-n.length,r&&(a+=wa(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var zi=function(){function e(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%Nt|0,o=a/Nt|0;return o&&n.unshift(o),n}function t(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Nt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,u,c,d,p,m,g,y,b,x,w,E,P,C,j,A,S,I=n.constructor,N=n.s==i.s?1:-1,R=n.d,D=i.d;if(!n.s)return new I(n);if(!i.s)throw Error(bn+"Division by zero");for(l=n.e-i.e,A=D.length,C=R.length,m=new I(N),g=m.d=[],u=0;D[u]==(R[u]||0);)++u;if(D[u]>(R[u]||0)&&--l,a==null?w=a=I.precision:o?w=a+(_t(n)-_t(i))+1:w=a,w<0)return new I(0);if(w=w/He+2|0,u=0,A==1)for(c=0,D=D[0],w++;(u<C||c)&&w--;u++)E=c*Nt+(R[u]||0),g[u]=E/D|0,c=E%D|0;else{for(c=Nt/(D[0]+1)|0,c>1&&(D=e(D,c),R=e(R,c),A=D.length,C=R.length),P=A,y=R.slice(0,A),b=y.length;b<A;)y[b++]=0;S=D.slice(),S.unshift(0),j=D[0],D[1]>=Nt/2&&++j;do c=0,s=t(D,y,A,b),s<0?(x=y[0],A!=b&&(x=x*Nt+(y[1]||0)),c=x/j|0,c>1?(c>=Nt&&(c=Nt-1),d=e(D,c),p=d.length,b=y.length,s=t(d,y,p,b),s==1&&(c--,r(d,A<p?S:D,p))):(c==0&&(s=c=1),d=D.slice()),p=d.length,p<b&&d.unshift(0),r(y,d,b),s==-1&&(b=y.length,s=t(D,y,A,b),s<1&&(c++,r(y,A<b?S:D,b))),b=y.length):s===0&&(c++,y=[0]),g[u++]=c,s&&y[0]?y[b++]=R[P]||0:(y=[R[P]],b=1);while((P++<C||y[0]!==void 0)&&w--)}return g[0]||g.shift(),m.e=l,Fe(m,o?a+_t(m)+1:a)}}();function c4(e,t){var r,n,i,a,o,s,l=0,u=0,c=e.constructor,d=c.precision;if(_t(e)>16)throw Error(F1+_t(e));if(!e.s)return new c(Wr);for(Je=!1,s=d,o=new c(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Ao(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new c(Wr),c.precision=s;;){if(i=Fe(i.times(e),s),r=r.times(++l),o=a.plus(zi(i,r,s)),ei(o.d).slice(0,s)===ei(a.d).slice(0,s)){for(;u--;)a=Fe(a.times(a),s);return c.precision=d,t==null?(Je=!0,Fe(a,d)):a}a=o}}function _t(e){for(var t=e.e*He,r=e.d[0];r>=10;r/=10)t++;return t}function Vy(e,t,r){if(t>e.LN10.sd())throw Je=!0,r&&(e.precision=r),Error(bn+"LN10 precision limit exceeded");return Fe(new e(e.LN10),t)}function wa(e){for(var t="";e--;)t+="0";return t}function ad(e,t){var r,n,i,a,o,s,l,u,c,d=1,p=10,m=e,g=m.d,y=m.constructor,b=y.precision;if(m.s<1)throw Error(bn+(m.s?"NaN":"-Infinity"));if(m.eq(Wr))return new y(0);if(t==null?(Je=!1,u=b):u=t,m.eq(10))return t==null&&(Je=!0),Vy(y,u);if(u+=p,y.precision=u,r=ei(g),n=r.charAt(0),a=_t(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=ei(m.d),n=r.charAt(0),d++;a=_t(m),n>1?(m=new y("0."+r),a++):m=new y(n+"."+r.slice(1))}else return l=Vy(y,u+2,b).times(a+""),m=ad(new y(n+"."+r.slice(1)),u-p).plus(l),y.precision=b,t==null?(Je=!0,Fe(m,b)):m;for(s=o=m=zi(m.minus(Wr),m.plus(Wr),u),c=Fe(m.times(m),u),i=3;;){if(o=Fe(o.times(c),u),l=s.plus(zi(o,new y(i),u)),ei(l.d).slice(0,u)===ei(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(Vy(y,u+2,b).times(a+""))),s=zi(s,new y(d),u),y.precision=b,t==null?(Je=!0,Fe(s,b)):s;s=l,i+=2}}function Lk(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=au(r/He),e.d=[],n=(r+1)%He,r<0&&(n+=He),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=He;n<i;)e.d.push(+t.slice(n,n+=He));t=t.slice(n),n=He-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Je&&(e.e>Vp||e.e<-Vp))throw Error(F1+r)}else e.s=0,e.e=0,e.d=[0];return e}function Fe(e,t,r){var n,i,a,o,s,l,u,c,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=He,i=t,u=d[c=0];else{if(c=Math.ceil((n+1)/He),a=d.length,c>=a)return e;for(u=a=d[c],o=1;a>=10;a/=10)o++;n%=He,i=n-He+o}if(r!==void 0&&(a=Ao(10,o-i-1),s=u/a%10|0,l=t<0||d[c+1]!==void 0||u%a,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?u/Ao(10,o-i):0:d[c-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(a=_t(e),d.length=1,t=t-a-1,d[0]=Ao(10,(He-t%He)%He),e.e=au(-t/He)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=c,a=1,c--):(d.length=c+1,a=Ao(10,He-n),d[c]=i>0?(u/Ao(10,o-i)%Ao(10,i)|0)*a:0),l)for(;;)if(c==0){(d[0]+=a)==Nt&&(d[0]=1,++e.e);break}else{if(d[c]+=a,d[c]!=Nt)break;d[c--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(Je&&(e.e>Vp||e.e<-Vp))throw Error(F1+_t(e));return e}function d4(e,t){var r,n,i,a,o,s,l,u,c,d,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Je?Fe(t,m):t;if(l=e.d,d=t.d,n=t.e,u=e.e,l=l.slice(),o=u-n,o){for(c=o<0,c?(r=l,o=-o,s=d.length):(r=d,n=u,s=l.length),i=Math.max(Math.ceil(m/He),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}o=0}for(c&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=Nt-1;--l[a],l[i]+=Nt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Je?Fe(t,m):t):new p(0)}function ls(e,t,r){var n,i=_t(e),a=ei(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+wa(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+wa(-i-1)+a,r&&(n=r-o)>0&&(a+=wa(n))):i>=o?(a+=wa(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+wa(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=wa(n))),e.s<0?"-"+a:a}function $k(e,t){if(e.length>t)return e.length=t,!0}function f4(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Fo+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Lk(o,a.toString())}else if(typeof a!="string")throw Error(Fo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Kre.test(a))Lk(o,a);else throw Error(Fo+a)}if(i.prototype=Z,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=f4,i.config=i.set=Wre,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function Wre(e){if(!e||typeof e!="object")throw Error(bn+"Object expected");var t,r,n,i=["precision",1,iu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(au(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Fo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Fo+r+": "+n);return this}var U1=f4(qre);Wr=new U1(1);const Ne=U1;var Hre=e=>e,h4={},p4=e=>e===h4,zk=e=>function t(){return arguments.length===0||arguments.length===1&&p4(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},m4=(e,t)=>e===1?t:zk(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(o=>o!==h4).length;return a>=e?t(...n):m4(e-a,zk(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var u=n.map(c=>p4(c)?s.shift():c);return t(...u,...s)}))}),Fg=e=>m4(e.length,e),Jx=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Qre=Fg((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Gre=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Hre;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,l)=>l(s),a(...arguments))}},Zx=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),g4=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((o,s)=>{var l;return o===((l=t)===null||l===void 0?void 0:l[s])})||(t=i,r=e(...i)),r}};function v4(e){var t;return e===0?t=1:t=Math.floor(new Ne(e).abs().log(10).toNumber())+1,t}function y4(e,t,r){for(var n=new Ne(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}Fg((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});Fg((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Fg((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var x4=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},w4=(e,t,r)=>{if(e.lte(0))return new Ne(0);var n=v4(e.toNumber()),i=new Ne(10).pow(n),a=e.div(i),o=n!==1?.05:.1,s=new Ne(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return t?new Ne(l.toNumber()):new Ne(Math.ceil(l.toNumber()))},Yre=(e,t,r)=>{var n=new Ne(1),i=new Ne(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Ne(10).pow(v4(e)-1),i=new Ne(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Ne(Math.floor(e)))}else e===0?i=new Ne(Math.floor((t-1)/2)):r||(i=new Ne(Math.floor(e)));var o=Math.floor((t-1)/2),s=Gre(Qre(l=>i.add(new Ne(l-o).mul(n)).toNumber()),Jx);return s(0,t)},b4=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ne(0),tickMin:new Ne(0),tickMax:new Ne(0)};var o=w4(new Ne(r).sub(t).div(n-1),i,a),s;t<=0&&r>=0?s=new Ne(0):(s=new Ne(t).add(r).div(2),s=s.sub(new Ne(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),u=Math.ceil(new Ne(r).sub(s).div(o).toNumber()),c=l+u+1;return c>n?b4(t,r,n,i,a+1):(c<n&&(u=r>0?u+(n-c):u,l=r>0?l:l+(n-c)),{step:o,tickMin:s.sub(new Ne(l).mul(o)),tickMax:s.add(new Ne(u).mul(o))})};function Xre(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[o,s]=x4([t,r]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...Jx(0,n-1).map(()=>1/0)]:[...Jx(0,n-1).map(()=>-1/0),s];return t>r?Zx(l):l}if(o===s)return Yre(o,n,i);var{step:u,tickMin:c,tickMax:d}=b4(o,s,a,i,0),p=y4(c,d.add(new Ne(.1).mul(u)),u);return t>r?Zx(p):p}function Jre(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=x4([r,n]);if(a===-1/0||o===1/0)return[r,n];if(a===o)return[a];var s=Math.max(t,2),l=w4(new Ne(o).sub(a).div(s-1),i,0),u=[...y4(new Ne(a),new Ne(o),l),o];return i===!1&&(u=u.map(c=>Math.round(c))),r>n?Zx(u):u}var Zre=g4(Xre),ene=g4(Jre),_4=e=>e.rootProps.maxBarSize,tne=e=>e.rootProps.barGap,E4=e=>e.rootProps.barCategoryGap,rne=e=>e.rootProps.barSize,qd=e=>e.rootProps.stackOffset,B1=e=>e.options.chartName,q1=e=>e.rootProps.syncId,T4=e=>e.rootProps.syncMethod,K1=e=>e.options.eventEmitter,Ai={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Br={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ug=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},nne={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ai.angleAxisId,includeHidden:!1,name:void 0,reversed:Ai.reversed,scale:Ai.scale,tick:Ai.tick,tickCount:void 0,ticks:void 0,type:Ai.type,unit:void 0},ine={allowDataOverflow:Br.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Br.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Br.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Br.scale,tick:Br.tick,tickCount:Br.tickCount,ticks:void 0,type:Br.type,unit:void 0},ane={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ai.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ai.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ai.scale,tick:Ai.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},one={allowDataOverflow:Br.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Br.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Br.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Br.scale,tick:Br.tick,tickCount:Br.tickCount,ticks:void 0,type:"category",unit:void 0},W1=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?ane:nne,H1=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?one:ine,Bg=e=>e.polarOptions,Q1=L([oa,sa,Pt],YM),A4=L([Bg,Q1],(e,t)=>{if(e!=null)return Tr(e.innerRadius,t,0)}),S4=L([Bg,Q1],(e,t)=>{if(e!=null)return Tr(e.outerRadius,t,t*.8)}),sne=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},P4=L([Bg],sne);L([W1,P4],Ug);var I4=L([Q1,A4,S4],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});L([H1,I4],Ug);var lne=L([Ee,Bg,A4,S4,oa,sa],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:s,startAngle:l,endAngle:u}=t;return{cx:Tr(o,i,i/2),cy:Tr(s,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),mt=(e,t)=>t,Kd=(e,t,r)=>r;function Vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vk(Object(r),!0).forEach(function(n){une(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function une(e,t,r){return(t=cne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cne(e){var t=dne(e,"string");return typeof t=="symbol"?t:t+""}function dne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ew=[0,"auto"],Vr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ua=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??Vr},Fr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ew,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Pg},po=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??Fr},fne={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},G1=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??fne},gt=(e,t,r)=>{switch(t){case"xAxis":return ua(e,r);case"yAxis":return po(e,r);case"zAxis":return G1(e,r);case"angleAxis":return W1(e,r);case"radiusAxis":return H1(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},hne=(e,t,r)=>{switch(t){case"xAxis":return ua(e,r);case"yAxis":return po(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Wd=(e,t,r)=>{switch(t){case"xAxis":return ua(e,r);case"yAxis":return po(e,r);case"angleAxis":return W1(e,r);case"radiusAxis":return H1(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},k4=e=>e.graphicalItems.countOfBars>0;function Y1(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Hd=e=>e.graphicalItems.cartesianItems,pne=L([mt,Kd],Y1),X1=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Qd=L([Hd,gt,pne],X1),C4=e=>e.filter(t=>t.stackId===void 0),mne=L([Qd],C4),J1=e=>e.map(t=>t.data).filter(Boolean).flat(1),gne=L([Qd],J1),Z1=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},qg=L([gne,Vg],Z1),eE=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ve(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Ve(i,n)}))):e.map(n=>({value:n})),Kg=L([qg,gt,Qd],eE);function N4(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function bs(e){return e.filter(t=>hi(t)||t instanceof Date).map(Number).filter(t=>en(t)===!1)}function vne(e,t,r){return!r||typeof t!="number"||en(t)?[]:r.length?bs(r.flatMap(n=>{var i=Ve(e,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!Yt(a)||!Yt(o)))return[t-a,t+o]})):[]}var O4=(e,t,r)=>{var n={},i=t.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[o,s]=a,l=s.map(u=>u.dataKey);return[o,{stackedData:mJ(e,l,r),graphicalItems:s}]}))},od=L([qg,Qd,qd],O4),j4=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var a=xJ(e,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},yne=L([od,ws,mt],j4),R4=(e,t,r,n)=>r.length>0?e.flatMap(i=>r.flatMap(a=>{var o,s,l=(o=a.errorBars)===null||o===void 0?void 0:o.filter(c=>N4(n,c)),u=Ve(i,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:u,errorDomain:vne(i,u,l)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:Ve(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),xne=L(qg,gt,mne,mt,R4);function wne(e){var{value:t}=e;if(hi(t)||t instanceof Date)return t}var bne=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=bs(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},_ne=(e,t,r)=>{var n=e.map(wne).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&iM(n))?PL(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},tE=e=>{var t;if(e==null||!("domain"in e))return ew;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=bs(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:ew},rE=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},D4=e=>e.referenceElements.dots,ou=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Ene=L([D4,mt,Kd],ou),M4=e=>e.referenceElements.areas,Tne=L([M4,mt,Kd],ou),L4=e=>e.referenceElements.lines,Ane=L([L4,mt,Kd],ou),$4=(e,t)=>{var r=bs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Sne=L(Ene,mt,$4),z4=(e,t)=>{var r=bs(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Pne=L([Tne,mt],z4),V4=(e,t)=>{var r=bs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Ine=L(Ane,mt,V4),kne=L(Sne,Ine,Pne,(e,t,r)=>rE(e,r,t)),F4=L([gt],tE),nE=(e,t,r,n,i)=>{var a=Ure(t,e.allowDataOverflow);return a??Bre(t,rE(r,i,bne(n)),e.allowDataOverflow)},Cne=L([gt,F4,yne,xne,kne],nE),Nne=[0,1],iE=(e,t,r,n,i,a,o)=>{if(!(e==null||r==null||r.length===0)){var{dataKey:s,type:l}=e,u=yi(t,a);return u&&s==null?PL(0,r.length):l==="category"?_ne(n,e,u):i==="expand"?Nne:o}},aE=L([gt,Ee,qg,Kg,qd,mt,Cne],iE),U4=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(Md(a));return s in ec?s:"point"}}},su=L([gt,Ee,k4,B1,mt],U4);function One(e){if(e!=null){if(e in ec)return ec[e]();var t="scale".concat(Md(e));if(t in ec)return ec[t]()}}function oE(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=One(t);if(i!=null){var a=i.domain(r).range(n);return cJ(a),a}}}var sE=(e,t,r)=>{var n=tE(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Vl(e))return Zre(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Vl(e))return ene(e,t.tickCount,t.allowDecimals)}},lE=L([aE,Wd,su],sE),uE=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Vl(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],o=t[1],s=r[r.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},jne=L([gt,aE,lE,mt],uE),Rne=L(Kg,gt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(bs(e.map(s=>s.value))).sort((s,l)=>s-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var o=n[a+1]-n[a];r=Math.min(r,o)}return r/i}}),B4=L(Rne,Ee,E4,Pt,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Yt(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Tr(r,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),Dne=(e,t)=>{var r=ua(e,t);return r==null||typeof r.padding!="string"?0:B4(e,"xAxis",t,r.padding)},Mne=(e,t)=>{var r=po(e,t);return r==null||typeof r.padding!="string"?0:B4(e,"yAxis",t,r.padding)},Lne=L(ua,Dne,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),$ne=L(po,Mne,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),zne=L([Pt,Lne,kg,Ig,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Vne=L([Pt,Ee,$ne,kg,Ig,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Gd=(e,t,r,n)=>{var i;switch(t){case"xAxis":return zne(e,r,n);case"yAxis":return Vne(e,r,n);case"zAxis":return(i=G1(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return P4(e);case"radiusAxis":return I4(e,r);default:return}},q4=L([gt,Gd],Ug),lu=L([gt,su,jne,q4],oE);L(Qd,mt,(e,t)=>e.flatMap(r=>{var n;return(n=r.errorBars)!==null&&n!==void 0?n:[]}).filter(r=>N4(t,r)));function K4(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Wg=(e,t)=>t,Hg=(e,t,r)=>r,Fne=L(c1,Wg,Hg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(K4)),Une=L(d1,Wg,Hg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(K4)),W4=(e,t)=>({width:e.width,height:t.height}),Bne=(e,t)=>{var r=typeof t.width=="number"?t.width:Pg;return{width:r,height:e.height}},H4=L(Pt,ua,W4),qne=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Kne=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Wne=L(sa,Pt,Fne,Wg,Hg,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=W4(t,s);o==null&&(o=qne(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[s.id]=o-Number(u)*l.height,o+=(u?-1:1)*l.height}),a}),Hne=L(oa,Pt,Une,Wg,Hg,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=Bne(t,s);o==null&&(o=Kne(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[s.id]=o-Number(u)*l.width,o+=(u?-1:1)*l.width}),a}),Qne=(e,t)=>{var r=Pt(e),n=ua(e,t);if(n!=null){var i=Wne(e,n.orientation,n.mirror),a=i[t];return a==null?{x:r.left,y:0}:{x:r.left,y:a}}},Gne=(e,t)=>{var r=Pt(e),n=po(e,t);if(n!=null){var i=Hne(e,n.orientation,n.mirror),a=i[t];return a==null?{x:0,y:r.top}:{x:a,y:r.top}}},Q4=L(Pt,po,(e,t)=>{var r=typeof t.width=="number"?t.width:Pg;return{width:r,height:e.height}}),Fk=(e,t,r)=>{switch(t){case"xAxis":return H4(e,r).width;case"yAxis":return Q4(e,r).height;default:return}},G4=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,s=yi(e,n),l=t.map(u=>u.value);if(o&&s&&a==="category"&&i&&iM(l))return l}},cE=L([Ee,Kg,gt,mt],G4),Y4=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=yi(e,n);if(o&&(i==="number"||a!=="auto"))return t.map(s=>s.value)}},dE=L([Ee,Kg,Wd,mt],Y4);L([Ee,hne,su,lu,cE,dE,Gd,lE,mt],(e,t,r,n,i,a,o,s,l)=>{if(t==null)return null;var u=yi(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:s,range:o,realScaleType:r,scale:n}});var Yne=(e,t,r,n,i,a,o,s,l)=>{if(!(t==null||n==null)){var u=yi(e,l),{type:c,ticks:d,tickCount:p}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=c==="category"&&n.bandwidth?n.bandwidth()/m:0;g=l==="angleAxis"&&a!=null&&a.length>=2?Kt(a[0]-a[1])*2*g:g;var y=d||i;if(y){var b=y.map((x,w)=>{var E=o?o.indexOf(x):x;return{index:w,coordinate:n(E)+g,value:x,offset:g}});return b.filter(x=>!en(x.coordinate))}return u&&s?s.map((x,w)=>({coordinate:n(x)+g,value:x,index:w,offset:g})):n.ticks?n.ticks(p).map(x=>({coordinate:n(x)+g,value:x,offset:g})):n.domain().map((x,w)=>({coordinate:n(x)+g,value:o?o[x]:x,index:w,offset:g}))}},X4=L([Ee,Wd,su,lu,lE,Gd,cE,dE,mt],Yne),Xne=(e,t,r,n,i,a,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=yi(e,o),{tickCount:l}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Kt(n[0]-n[1])*2*u:u,s&&a?a.map((c,d)=>({coordinate:r(c)+u,value:c,index:d,offset:u})):r.ticks?r.ticks(l).map(c=>({coordinate:r(c)+u,value:c,offset:u})):r.domain().map((c,d)=>({coordinate:r(c)+u,value:i?i[c]:c,index:d,offset:u}))}},mi=L([Ee,Wd,lu,Gd,cE,dE,mt],Xne),_n=L(gt,lu,(e,t)=>{if(!(e==null||t==null))return Fp(Fp({},e),{},{scale:t})}),Jne=L([gt,su,aE,q4],oE);L((e,t,r)=>G1(e,r),Jne,(e,t)=>{if(!(e==null||t==null))return Fp(Fp({},e),{},{scale:t})});var Zne=L([Ee,c1,d1],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),J4=e=>e.options.defaultTooltipEventType,Z4=e=>e.options.validateTooltipEventTypes;function e6(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function fE(e,t){var r=J4(e),n=Z4(e);return e6(t,r,n)}function eie(e){return ne(t=>fE(t,e))}var t6=(e,t)=>{var r,n=Number(t);if(!(en(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},tie=e=>e.tooltip.settings,ka={active:!1,index:null,dataKey:void 0,coordinate:void 0},rie={itemInteraction:{click:ka,hover:ka},axisInteraction:{click:ka,hover:ka},keyboardInteraction:ka,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},r6=$r({name:"tooltip",initialState:rie,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Mi(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:nie,removeTooltipEntrySettings:iie,setTooltipSettingsState:aie,setActiveMouseOverItemIndex:n6,mouseLeaveItem:oie,mouseLeaveChart:i6,setActiveClickItemIndex:sie,setMouseOverAxisIndex:a6,setMouseClickAxisIndex:lie,setSyncInteraction:tw,setKeyboardInteraction:rw}=r6.actions,uie=r6.reducer;function Uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uk(Object(r),!0).forEach(function(n){cie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cie(e,t,r){return(t=die(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function die(e){var t=fie(e,"string");return typeof t=="symbol"?t:t+""}function fie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hie(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function pie(e){return e.index!=null}var o6=(e,t,r,n)=>{if(t==null)return ka;var i=hie(e,t,r);if(i==null)return ka;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(pie(i)){if(a)return Qf(Qf({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Qf(Qf({},ka),{},{coordinate:i.coordinate})},hE=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Yt(n))return r;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(n,a)))},s6=(e,t,r,n,i,a,o,s)=>{if(!(a==null||s==null)){var l=o[0],u=l==null?void 0:s(l.positions,a);if(u!=null)return u;var c=i==null?void 0:i[Number(a)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:c.coordinate}}}},l6=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},Yd=e=>e.options.tooltipPayloadSearcher,uu=e=>e.tooltip;function Bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bk(Object(r),!0).forEach(function(n){mie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mie(e,t,r){return(t=gie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gie(e){var t=vie(e,"string");return typeof t=="symbol"?t:t+""}function vie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yie(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function xie(e,t){return e??t}var u6=(e,t,r,n,i,a,o)=>{if(!(t==null||a==null)){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:c}=r,d=[];return e.reduce((p,m)=>{var g,{dataDefinedOnItem:y,settings:b}=m,x=xie(y,s),w=yie(x,u,c),E=(g=b==null?void 0:b.dataKey)!==null&&g!==void 0?g:n==null?void 0:n.dataKey,P=b==null?void 0:b.nameKey,C;if(n!=null&&n.dataKey&&Array.isArray(w)&&!Array.isArray(w[0])&&o==="axis"?C=aM(w,n.dataKey,i):C=a(w,t,l,P),Array.isArray(C))C.forEach(A=>{var S=qk(qk({},b),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});p.push(kI({tooltipEntrySettings:S,dataKey:A.dataKey,payload:A.payload,value:Ve(A.payload,A.dataKey),name:A.name}))});else{var j;p.push(kI({tooltipEntrySettings:b,dataKey:E,payload:C,value:Ve(C,E),name:(j=Ve(C,P))!==null&&j!==void 0?j:b==null?void 0:b.name}))}return p},d)}},Mt=e=>{var t=Ee(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},cu=e=>e.tooltip.settings.axisId,Xt=e=>{var t=Mt(e),r=cu(e);return Wd(e,t,r)},pE=L([Xt,Ee,k4,B1,Mt],U4),wie=L([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),bie=L([Mt,cu],Y1),Qg=L([wie,Xt,bie],X1),_ie=L([Qg],J1),_s=L([_ie,ws],Z1),mE=L([_s,Xt,Qg],eE),Eie=L([Xt],tE),Tie=L([_s,Qg,qd],O4),Aie=L([Tie,ws,Mt],j4),Sie=L([Qg],C4),Pie=L([_s,Xt,Sie,Mt],R4),Iie=L([D4,Mt,cu],ou),kie=L([Iie,Mt],$4),Cie=L([M4,Mt,cu],ou),Nie=L([Cie,Mt],z4),Oie=L([L4,Mt,cu],ou),jie=L([Oie,Mt],V4),Rie=L([kie,jie,Nie],rE),Die=L([Xt,Eie,Aie,Pie,Rie],nE),c6=L([Xt,Ee,_s,mE,qd,Mt,Die],iE),Mie=L([c6,Xt,pE],sE),Lie=L([Xt,c6,Mie,Mt],uE),d6=e=>{var t=Mt(e),r=cu(e),n=!1;return Gd(e,t,r,n)},f6=L([Xt,d6],Ug),h6=L([Xt,pE,Lie,f6],oE),$ie=L([Ee,mE,Xt,Mt],G4),zie=L([Ee,mE,Xt,Mt],Y4),Vie=(e,t,r,n,i,a,o,s)=>{if(t){var{type:l}=t,u=yi(e,s);if(n){var c=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=l==="category"&&n.bandwidth?n.bandwidth()/c:0;return d=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Kt(i[0]-i[1])*2*d:d,u&&o?o.map((p,m)=>({coordinate:n(p)+d,value:p,index:m,offset:d})):n.domain().map((p,m)=>({coordinate:n(p)+d,value:a?a[p]:p,index:m,offset:d}))}}},ca=L([Ee,Xt,pE,h6,d6,$ie,zie,Mt],Vie),gE=L([J4,Z4,tie],(e,t,r)=>e6(r.shared,e,t)),p6=e=>e.tooltip.settings.trigger,vE=e=>e.tooltip.settings.defaultIndex,Gg=L([uu,gE,p6,vE],o6),ro=L([Gg,_s],hE),m6=L([ca,ro],t6),g6=L([Gg],e=>{if(e)return e.dataKey}),v6=L([uu,gE,p6,vE],l6),Fie=L([oa,sa,Ee,Pt,ca,vE,v6,Yd],s6),Uie=L([Gg,Fie],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Bie=L([Gg],e=>e.active),qie=L([v6,ro,ws,Xt,m6,Yd,gE],u6),Kie=L([qie],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kk(Object(r),!0).forEach(function(n){Wie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wie(e,t,r){return(t=Hie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hie(e){var t=Qie(e,"string");return typeof t=="symbol"?t:t+""}function Qie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gie=()=>ne(Xt),Yie=()=>{var e=Gie(),t=ne(ca),r=ne(h6);return as(Wk(Wk({},e),{},{scale:r}),t)},y6=()=>ne(B1),yE=(e,t)=>t,x6=(e,t,r)=>r,xE=(e,t,r,n)=>n,Xie=L(ca,e=>Sg(e,t=>t.coordinate)),wE=L([uu,yE,x6,xE],o6),w6=L([wE,_s],hE),Jie=(e,t,r)=>{if(t!=null){var n=uu(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},b6=L([uu,yE,x6,xE],l6),Up=L([oa,sa,Ee,Pt,ca,xE,b6,Yd],s6),Zie=L([wE,Up],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),_6=L(ca,w6,t6),eae=L([b6,w6,ws,Xt,_6,Yd,yE],u6),tae=L([wE],e=>({isActive:e.active,activeIndex:e.index})),rae=(e,t,r,n,i,a,o,s)=>{if(!(!e||!t||!n||!i||!a)){var l=wJ(e.chartX,e.chartY,t,r,s);if(l){var u=_J(l,t),c=lJ(u,o,a,n,i),d=bJ(t,a,c,l);return{activeIndex:String(c),activeCoordinate:d}}}};function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nw.apply(null,arguments)}function Hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hk(Object(r),!0).forEach(function(n){nae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nae(e,t,r){return(t=iae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iae(e){var t=aae(e,"string");return typeof t=="symbol"?t:t+""}function aae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oae(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:o,cursor:s,tooltipEventType:l,chartName:u}=e,c=t,d=r,p=n;if(!s||!c||u!=="ScatterChart"&&l!=="axis")return null;var m,g;if(u==="ScatterChart")m=c,g=CZ;else if(u==="BarChart")m=NZ(o,c,i,a),g=wL;else if(o==="radial"){var{cx:y,cy:b,radius:x,startAngle:w,endAngle:E}=bL(c);m={cx:y,cy:b,startAngle:w,endAngle:E,innerRadius:x,outerRadius:x},g=EL}else m={points:fee(o,c,i)},g=dl;var P=typeof s=="object"&&"className"in s?s.className:void 0,C=Gf(Gf(Gf(Gf({stroke:"#ccc",pointerEvents:"none"},i),m),me(s,!1)),{},{payload:d,payloadIndex:p,className:he("recharts-tooltip-cursor",P)});return v.isValidElement(s)?v.cloneElement(s,C):v.createElement(g,C)}function sae(e){var t=Yie(),r=NJ(),n=zd(),i=y6();return v.createElement(oae,nw({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var E6=v.createContext(null),lae=()=>v.useContext(E6),T6={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,d||l,p),g=r?r+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)t.call(c,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=r?r+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,m=d.length,g=new Array(m);p<m;p++)g[p]=d[p].fn;return g},s.prototype.listenerCount=function(u){var c=r?r+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,p,m,g){var y=r?r+u:u;if(!this._events[y])return!1;var b=this._events[y],x=arguments.length,w,E;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,d),!0;case 4:return b.fn.call(b.context,c,d,p),!0;case 5:return b.fn.call(b.context,c,d,p,m),!0;case 6:return b.fn.call(b.context,c,d,p,m,g),!0}for(E=1,w=new Array(x-1);E<x;E++)w[E-1]=arguments[E];b.fn.apply(b.context,w)}else{var P=b.length,C;for(E=0;E<P;E++)switch(b[E].once&&this.removeListener(u,b[E].fn,void 0,!0),x){case 1:b[E].fn.call(b[E].context);break;case 2:b[E].fn.call(b[E].context,c);break;case 3:b[E].fn.call(b[E].context,c,d);break;case 4:b[E].fn.call(b[E].context,c,d,p);break;default:if(!w)for(C=1,w=new Array(x-1);C<x;C++)w[C-1]=arguments[C];b[E].fn.apply(b[E].context,w)}}return!0},s.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,p){var m=r?r+u:u;if(!this._events[m])return this;if(!c)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!p||g.once)&&(!d||g.context===d)&&o(this,m);else{for(var y=0,b=[],x=g.length;y<x;y++)(g[y].fn!==c||p&&!g[y].once||d&&g[y].context!==d)&&b.push(g[y]);b.length?this._events[m]=b.length===1?b[0]:b:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(T6);var uae=T6.exports;const cae=gi(uae);var sd=new cae,iw="recharts.syncEvent.tooltip",Qk="recharts.syncEvent.brush";function Yg(e,t){if(t){var r=Number.parseInt(t,10);if(!en(r))return e==null?void 0:e[r]}}var dae={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},A6=$r({name:"options",initialState:dae,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),fae=A6.reducer,{createEventEmitter:hae}=A6.actions;function pae(e){return e.tooltip.syncInteraction}var mae={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},S6=$r({name:"chartData",initialState:mae,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Gk,setDataStartEndIndexes:gae}=S6.actions,vae=S6.reducer,P6=()=>{};function yae(){var e=ne(q1),t=ne(K1),r=rt(),n=ne(T4),i=ne(ca),a=zd(),o=f1(),s=ne(l=>l.rootProps.className);v.useEffect(()=>{if(e==null)return P6;var l=(u,c,d)=>{if(t!==d&&e===u){if(n==="index"){r(c);return}if(i!=null){var p;if(typeof n=="function"){var m={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},g=n(i,m);p=i[g]}else n==="value"&&(p=i.find(j=>String(j.value)===c.payload.label));var{coordinate:y}=c.payload;if(p==null||c.payload.active===!1||y==null||o==null){r(tw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:b,y:x}=y,w=Math.min(b,o.x+o.width),E=Math.min(x,o.y+o.height),P={x:a==="horizontal"?p.coordinate:w,y:a==="horizontal"?E:p.coordinate},C=tw({active:c.payload.active,coordinate:P,dataKey:c.payload.dataKey,index:String(p.index),label:c.payload.label});r(C)}}};return sd.on(iw,l),()=>{sd.off(iw,l)}},[s,r,t,e,n,i,a,o])}function xae(){var e=ne(q1),t=ne(K1),r=rt();v.useEffect(()=>{if(e==null)return P6;var n=(i,a,o)=>{t!==o&&e===i&&r(gae(a))};return sd.on(Qk,n),()=>{sd.off(Qk,n)}},[r,t,e])}function wae(){var e=rt();v.useEffect(()=>{e(hae())},[e]),yae(),xae()}function bae(e,t,r,n,i,a){var o=ne(p=>Jie(p,e,t)),s=ne(K1),l=ne(q1),u=ne(T4),c=ne(pae),d=c==null?void 0:c.active;v.useEffect(()=>{if(!d&&l!=null&&s!=null){var p=tw({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n});sd.emit(iw,l,p,s)}},[d,r,o,i,n,s,l,u,a])}function Yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yk(Object(r),!0).forEach(function(n){_ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ae(e,t,r){return(t=Eae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eae(e){var t=Tae(e,"string");return typeof t=="symbol"?t:t+""}function Tae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aae(e){return e.dataKey}function Sae(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(lZ,t)}var Jk=[],Pae={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!co.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Yf(e){var t=Tn(e,Pae),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:o,filterNull:s,isAnimationActive:l,offset:u,payloadUniqBy:c,position:d,reverseDirection:p,useTranslate3d:m,wrapperStyle:g,cursor:y,shared:b,trigger:x,defaultIndex:w,portal:E,axisId:P}=t,C=rt(),j=typeof w=="number"?String(w):w;v.useEffect(()=>{C(aie({shared:b,trigger:x,axisId:P,active:r,defaultIndex:j}))},[C,b,x,P,r,j]);var A=f1(),S=fL(),I=eie(b),{activeIndex:N,isActive:R}=ne(lt=>tae(lt,I,x,j)),D=ne(lt=>eae(lt,I,x,j)),k=ne(lt=>_6(lt,I,x,j)),q=ne(lt=>Zie(lt,I,x,j)),te=D,ie=lae(),Q=r??R,[F,Y]=QM([te,Q]),ae=I==="axis"?k:void 0;bae(I,x,q,ae,N,Q);var xe=E??ie;if(xe==null)return null;var W=te??Jk;Q||(W=Jk),s&&W.length&&(W=VM(te.filter(lt=>lt.value!=null&&(lt.hide!==!0||t.includeHidden)),c,Aae));var ge=W.length>0,Lt=v.createElement(mZ,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:l,active:Q,coordinate:q,hasPayload:ge,offset:u,position:d,reverseDirection:p,useTranslate3d:m,viewBox:A,wrapperStyle:g,lastBoundingBox:F,innerRef:Y,hasPortalFromProps:!!E},Sae(o,Xk(Xk({},t),{},{payload:W,label:ae,active:Q,coordinate:q,accessibilityLayer:S})));return v.createElement(v.Fragment,null,hm.createPortal(Lt,xe),Q&&v.createElement(sae,{cursor:y,tooltipEventType:I,coordinate:q,payload:te,index:N}))}var I6={},k6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=0,i={}){typeof i!="object"&&(i={});let a=null,o=null,s=null,l=0,u=null,c;const{leading:d=!1,trailing:p=!0,maxWait:m}=i,g="maxWait"in i,y=g?Math.max(Number(m)||0,n):0,b=A=>(a!==null&&(c=r.apply(o,a)),a=o=null,l=A,c),x=A=>(l=A,u=setTimeout(C,n),d&&a!==null?b(A):c),w=A=>(u=null,p&&a!==null?b(A):c),E=A=>{if(s===null)return!0;const S=A-s,I=S>=n||S<0,N=g&&A-l>=y;return I||N},P=A=>{const S=s===null?0:A-s,I=n-S,N=y-(A-l);return g?Math.min(I,N):I},C=()=>{const A=Date.now();if(E(A))return w(A);u=setTimeout(C,P(A))},j=function(...A){const S=Date.now(),I=E(S);if(a=A,o=this,s=S,I){if(u===null)return x(S);if(g)return clearTimeout(u),u=setTimeout(C,n),b(S)}return u===null&&(u=setTimeout(C,n)),c};return j.cancel=()=>{u!==null&&clearTimeout(u),l=0,s=a=o=u=null},j.flush=()=>u===null?c:w(Date.now()),j}e.debounce=t})(k6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k6;function r(n,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return t.debounce(n,i,{leading:o,maxWait:i,trailing:s})}e.throttle=r})(I6);var Iae=I6.throttle;const kae=gi(Iae);var Fy=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function Zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zk(Object(r),!0).forEach(function(n){Cae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cae(e,t,r){return(t=Nae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nae(e){var t=Oae(e,"string");return typeof t=="symbol"?t:t+""}function Oae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xf=v.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:s,maxHeight:l,children:u,debounce:c=0,id:d,className:p,onResize:m,style:g={}}=e,y=v.useRef(null),b=v.useRef();b.current=m,v.useImperativeHandle(t,()=>y.current);var[x,w]=v.useState({containerWidth:n.width,containerHeight:n.height}),E=v.useCallback((C,j)=>{w(A=>{var S=Math.round(C),I=Math.round(j);return A.containerWidth===S&&A.containerHeight===I?A:{containerWidth:S,containerHeight:I}})},[]);v.useEffect(()=>{var C=I=>{var N,{width:R,height:D}=I[0].contentRect;E(R,D),(N=b.current)===null||N===void 0||N.call(b,R,D)};c>0&&(C=kae(C,c,{trailing:!0,leading:!1}));var j=new ResizeObserver(C),{width:A,height:S}=y.current.getBoundingClientRect();return E(A,S),j.observe(y.current),()=>{j.disconnect()}},[E,c]);var P=v.useMemo(()=>{var{containerWidth:C,containerHeight:j}=x;if(C<0||j<0)return null;Fy(Oo(i)||Oo(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Fy(!r||r>0,"The aspect(%s) must be greater than zero.",r);var A=Oo(i)?C:i,S=Oo(a)?j:a;return r&&r>0&&(A?S=A/r:S&&(A=S*r),l&&S>l&&(S=l)),Fy(A>0||S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,A,S,i,a,o,s,r),v.Children.map(u,I=>v.cloneElement(I,{width:A,height:S,style:Uy({width:A,height:S},I.props.style)}))},[r,u,a,l,s,o,x,i]);return v.createElement("div",{id:d?"".concat(d):void 0,className:he("recharts-responsive-container",p),style:Uy(Uy({},g),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:l}),ref:y},v.createElement("div",{style:{width:0,height:0,overflow:"visible"}},P))}),Xd=e=>null;Xd.displayName="Cell";function eC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eC(Object(r),!0).forEach(function(n){jae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jae(e,t,r){return(t=Rae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rae(e){var t=Dae(e,"string");return typeof t=="symbol"?t:t+""}function Dae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cs={widthCache:{},cacheCount:0},Mae=2e3,Lae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tC="recharts_measurement_span";function $ae(e){var t=aw({},e);return Object.keys(t).forEach(r=>{t[r]||delete t[r]}),t}var vc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||co.isSsr)return{width:0,height:0};var n=$ae(r),i=JSON.stringify({text:t,copyStyle:n});if(Cs.widthCache[i])return Cs.widthCache[i];try{var a=document.getElementById(tC);a||(a=document.createElement("span"),a.setAttribute("id",tC),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=aw(aw({},Lae),n);Object.assign(a.style,o),a.textContent="".concat(t);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Cs.widthCache[i]=l,++Cs.cacheCount>Mae&&(Cs.cacheCount=0,Cs.widthCache={}),l}catch{return{width:0,height:0}}},rC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Vae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,C6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Fae=Object.keys(C6),Qs="NaN";function Uae(e,t){return e*C6[t]}class Ir{static parse(t){var r,[,n,i]=(r=Vae.exec(t))!==null&&r!==void 0?r:[];return new Ir(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,en(t)&&(this.unit=""),r!==""&&!zae.test(r)&&(this.num=NaN,this.unit=""),Fae.includes(r)&&(this.num=Uae(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ir(NaN,""):new Ir(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ir(NaN,""):new Ir(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ir(NaN,""):new Ir(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ir(NaN,""):new Ir(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return en(this.num)}}function N6(e){if(e.includes(Qs))return Qs;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=rC.exec(t))!==null&&r!==void 0?r:[],o=Ir.parse(n??""),s=Ir.parse(a??""),l=i==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return Qs;t=t.replace(rC,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,d,p]=(u=nC.exec(t))!==null&&u!==void 0?u:[],m=Ir.parse(c??""),g=Ir.parse(p??""),y=d==="+"?m.add(g):m.subtract(g);if(y.isNaN())return Qs;t=t.replace(nC,y.toString())}return t}var iC=/\(([^()]*)\)/;function Bae(e){for(var t=e,r;(r=iC.exec(t))!=null;){var[,n]=r;t=t.replace(iC,N6(n))}return t}function qae(e){var t=e.replace(/\s+/g,"");return t=Bae(t),t=N6(t),t}function Kae(e){try{return qae(e)}catch{return Qs}}function By(e){var t=Kae(e.slice(5,-1));return t===Qs?"":t}var Wae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Hae=["dx","dy","angle","className","breakAll"];function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ow.apply(null,arguments)}function aC(e,t){if(e==null)return{};var r,n,i=Qae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Qae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var O6=/[ \f\n\r\t\v\u2028\u2029]+/,j6=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Re(t)||(r?i=t.toString().split(""):i=t.toString().split(O6));var a=i.map(s=>({word:s,width:vc(s,n).width})),o=r?0:vc(" ",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},Gae=(e,t,r,n,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,u=J(a),c=o,d=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce((D,k)=>{var{word:q,width:te}=k,ie=D[D.length-1];if(ie&&(n==null||i||ie.width+te+r<Number(n)))ie.words.push(q),ie.width+=te+r;else{var Q={words:[q],width:te};D.push(Q)}return D},[])},p=d(t),m=N=>N.reduce((R,D)=>R.width>D.width?R:D);if(!u||i)return p;var g=p.length>a||m(p).width>Number(n);if(!g)return p;for(var y="…",b=N=>{var R=c.slice(0,N),D=j6({breakAll:l,style:s,children:R+y}).wordsWithComputedWidth,k=d(D),q=k.length>a||m(k).width>Number(n);return[q,k]},x=0,w=c.length-1,E=0,P;x<=w&&E<=c.length-1;){var C=Math.floor((x+w)/2),j=C-1,[A,S]=b(j),[I]=b(C);if(!A&&!I&&(x=C+1),A&&I&&(w=C-1),!A&&I){P=S;break}E++}return P||p},oC=e=>{var t=Re(e)?[]:e.toString().split(O6);return[{words:t}]},Yae=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!co.isSsr){var s,l,u=j6({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:d}=u;s=c,l=d}else return oC(n);return Gae({breakAll:a,children:n,maxLines:o,style:i},s,l,t,r)}return oC(n)},sC="#808080",Xg=v.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:s="start",verticalAnchor:l="end",fill:u=sC}=e,c=aC(e,Wae),d=v.useMemo(()=>Yae({breakAll:c.breakAll,children:c.children,maxLines:c.maxLines,scaleToFit:o,style:c.style,width:c.width}),[c.breakAll,c.children,c.maxLines,o,c.style,c.width]),{dx:p,dy:m,angle:g,className:y,breakAll:b}=c,x=aC(c,Hae);if(!hi(r)||!hi(n))return null;var w=r+(J(p)?p:0),E=n+(J(m)?m:0),P;switch(l){case"start":P=By("calc(".concat(a,")"));break;case"middle":P=By("calc(".concat((d.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:P=By("calc(".concat(d.length-1," * -").concat(i,")"));break}var C=[];if(o){var j=d[0].width,{width:A}=c;C.push("scale(".concat(J(A)?A/j:1,")"))}return g&&C.push("rotate(".concat(g,", ").concat(w,", ").concat(E,")")),C.length&&(x.transform=C.join(" ")),v.createElement("text",ow({},me(x,!0),{ref:t,x:w,y:E,className:he("recharts-text",y),textAnchor:s,fill:u.includes("url")?sC:u}),d.map((S,I)=>{var N=S.words.join(b?"":" ");return v.createElement("tspan",{x:w,dy:I===0?P:i,key:"".concat(N,"-").concat(I)},N)}))});Xg.displayName="Text";var Xae=["offset"],Jae=["labelRef"];function lC(e,t){if(e==null)return{};var r,n,i=Zae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Zae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uC(Object(r),!0).forEach(function(n){eoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eoe(e,t,r){return(t=toe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function toe(e){var t=roe(e,"string");return typeof t=="symbol"?t:t+""}function roe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Si.apply(null,arguments)}var noe=e=>{var{value:t,formatter:r}=e,n=Re(e.children)?t:e.children;return typeof r=="function"?r(n):n},bE=e=>e!=null&&typeof e=="function",ioe=(e,t)=>{var r=Kt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},aoe=(e,t,r)=>{var{position:n,viewBox:i,offset:a,className:o}=e,{cx:s,cy:l,innerRadius:u,outerRadius:c,startAngle:d,endAngle:p,clockWise:m}=i,g=(u+c)/2,y=ioe(d,p),b=y>=0?1:-1,x,w;n==="insideStart"?(x=d+b*a,w=m):n==="insideEnd"?(x=p-b*a,w=!m):n==="end"&&(x=p+b*a,w=m),w=y<=0?w:!w;var E=bt(s,l,g,x),P=bt(s,l,g,x+(w?1:-1)*359),C="M".concat(E.x,",").concat(E.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(w?0:1,`,
    `).concat(P.x,",").concat(P.y),j=Re(e.id)?to("recharts-radial-line-"):e.id;return v.createElement("text",Si({},r,{dominantBaseline:"central",className:he("recharts-radial-bar-label",o)}),v.createElement("defs",null,v.createElement("path",{id:j,d:C})),v.createElement("textPath",{xlinkHref:"#".concat(j)},t))},ooe=e=>{var{viewBox:t,offset:r,position:n}=e,{cx:i,cy:a,innerRadius:o,outerRadius:s,startAngle:l,endAngle:u}=t,c=(l+u)/2;if(n==="outside"){var{x:d,y:p}=bt(i,a,s+r,c);return{x:d,y:p,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"end"};var m=(o+s)/2,{x:g,y}=bt(i,a,m,c);return{x:g,y,textAnchor:"middle",verticalAnchor:"middle"}},soe=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,{x:a,y:o,width:s,height:l}=t,u=l>=0?1:-1,c=u*n,d=u>0?"end":"start",p=u>0?"start":"end",m=s>=0?1:-1,g=m*n,y=m>0?"end":"start",b=m>0?"start":"end";if(i==="top"){var x={x:a+s/2,y:o-u*n,textAnchor:"middle",verticalAnchor:d};return vt(vt({},x),r?{height:Math.max(o-r.y,0),width:s}:{})}if(i==="bottom"){var w={x:a+s/2,y:o+l+c,textAnchor:"middle",verticalAnchor:p};return vt(vt({},w),r?{height:Math.max(r.y+r.height-(o+l),0),width:s}:{})}if(i==="left"){var E={x:a-g,y:o+l/2,textAnchor:y,verticalAnchor:"middle"};return vt(vt({},E),r?{width:Math.max(E.x-r.x,0),height:l}:{})}if(i==="right"){var P={x:a+s+g,y:o+l/2,textAnchor:b,verticalAnchor:"middle"};return vt(vt({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:l}:{})}var C=r?{width:s,height:l}:{};return i==="insideLeft"?vt({x:a+g,y:o+l/2,textAnchor:b,verticalAnchor:"middle"},C):i==="insideRight"?vt({x:a+s-g,y:o+l/2,textAnchor:y,verticalAnchor:"middle"},C):i==="insideTop"?vt({x:a+s/2,y:o+c,textAnchor:"middle",verticalAnchor:p},C):i==="insideBottom"?vt({x:a+s/2,y:o+l-c,textAnchor:"middle",verticalAnchor:d},C):i==="insideTopLeft"?vt({x:a+g,y:o+c,textAnchor:b,verticalAnchor:p},C):i==="insideTopRight"?vt({x:a+s-g,y:o+c,textAnchor:y,verticalAnchor:p},C):i==="insideBottomLeft"?vt({x:a+g,y:o+l-c,textAnchor:b,verticalAnchor:d},C):i==="insideBottomRight"?vt({x:a+s-g,y:o+l-c,textAnchor:y,verticalAnchor:d},C):i&&typeof i=="object"&&(J(i.x)||Oo(i.x))&&(J(i.y)||Oo(i.y))?vt({x:a+Tr(i.x,s),y:o+Tr(i.y,l),textAnchor:"end",verticalAnchor:"end"},C):vt({x:a+s/2,y:o+l/2,textAnchor:"middle",verticalAnchor:"middle"},C)},loe=e=>"cx"in e&&J(e.cx);function Kr(e){var{offset:t=5}=e,r=lC(e,Xae),n=vt({offset:t},r),{viewBox:i,position:a,value:o,children:s,content:l,className:u="",textBreakAll:c,labelRef:d}=n,p=f1(),m=i||p;if(!m||Re(o)&&Re(s)&&!v.isValidElement(l)&&typeof l!="function")return null;if(v.isValidElement(l)){var{labelRef:g}=n,y=lC(n,Jae);return v.cloneElement(l,y)}var b;if(typeof l=="function"){if(b=v.createElement(l,n),v.isValidElement(b))return b}else b=noe(n);var x=loe(m),w=me(n,!0);if(x&&(a==="insideStart"||a==="insideEnd"||a==="end"))return aoe(n,b,w);var E=x?ooe(n):soe(n,m);return v.createElement(Xg,Si({ref:d,className:he("recharts-label",u)},w,E,{breakAll:c}),b)}Kr.displayName="Label";var R6=e=>{var{cx:t,cy:r,angle:n,startAngle:i,endAngle:a,r:o,radius:s,innerRadius:l,outerRadius:u,x:c,y:d,top:p,left:m,width:g,height:y,clockWise:b,labelViewBox:x}=e;if(x)return x;if(J(g)&&J(y)){if(J(c)&&J(d))return{x:c,y:d,width:g,height:y};if(J(p)&&J(m))return{x:p,y:m,width:g,height:y}}if(J(c)&&J(d))return{x:c,y:d,width:0,height:0};if(J(t)&&J(r))return{cx:t,cy:r,startAngle:i||n||0,endAngle:a||n||0,innerRadius:l||0,outerRadius:u||s||o||0,clockWise:b};if(e.viewBox)return e.viewBox},uoe=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?v.createElement(Kr,Si({key:"label-implicit"},n)):hi(e)?v.createElement(Kr,Si({key:"label-implicit",value:e},n)):v.isValidElement(e)?e.type===Kr?v.cloneElement(e,vt({key:"label-implicit"},n)):v.createElement(Kr,Si({key:"label-implicit",content:e},n)):bE(e)?v.createElement(Kr,Si({key:"label-implicit",content:e},n)):e&&typeof e=="object"?v.createElement(Kr,Si({},e,{key:"label-implicit"},n)):null},coe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:i,labelRef:a}=t,o=R6(t),s=$d(i,Kr).map((u,c)=>v.cloneElement(u,{viewBox:r||o,key:"label-".concat(c)}));if(!n)return s;var l=uoe(t.label,r||o,a);return[l,...s]};Kr.parseViewBox=R6;Kr.renderCallByParent=coe;var D6={},M6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(M6);var L6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(L6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M6,r=L6,n=_g;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(D6);var doe=D6.last;const foe=gi(doe);var hoe=["valueAccessor"],poe=["data","dataKey","clockWise","id","textBreakAll"];function Bp(){return Bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bp.apply(null,arguments)}function cC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(r),!0).forEach(function(n){moe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function moe(e,t,r){return(t=goe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function goe(e){var t=voe(e,"string");return typeof t=="symbol"?t:t+""}function voe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fC(e,t){if(e==null)return{};var r,n,i=yoe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xoe=e=>Array.isArray(e.value)?foe(e.value):e.value;function Vi(e){var{valueAccessor:t=xoe}=e,r=fC(e,hoe),{data:n,dataKey:i,clockWise:a,id:o,textBreakAll:s}=r,l=fC(r,poe);return!n||!n.length?null:v.createElement(st,{className:"recharts-label-list"},n.map((u,c)=>{var d=Re(i)?t(u,c):Ve(u&&u.payload,i),p=Re(o)?{}:{id:"".concat(o,"-").concat(c)};return v.createElement(Kr,Bp({},me(u,!0),l,p,{parentViewBox:u.parentViewBox,value:d,textBreakAll:s,viewBox:Kr.parseViewBox(Re(a)?u:dC(dC({},u),{},{clockWise:a})),key:"label-".concat(c),index:c}))}))}Vi.displayName="LabelList";function woe(e,t){return e?e===!0?v.createElement(Vi,{key:"labelList-implicit",data:t}):v.isValidElement(e)||bE(e)?v.createElement(Vi,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?v.createElement(Vi,Bp({data:t},e,{key:"labelList-implicit"})):null:null}function boe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,i=$d(n,Vi).map((o,s)=>v.cloneElement(o,{data:t,key:"labelList-".concat(s)}));if(!r)return i;var a=woe(e.label,t);return[a,...i]}Vi.renderCallByParent=boe;function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sw.apply(null,arguments)}var _E=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=he("recharts-dot",i);return t===+t&&r===+r&&n===+n?v.createElement("circle",sw({},me(e,!1),K_(e),{className:a,cx:t,cy:r,r:n})):null},$6=e=>e.graphicalItems.polarItems,_oe=L([mt,Kd],Y1),EE=L([$6,gt,_oe],X1),Eoe=L([EE],J1),TE=L([Eoe,V1],Z1),Toe=L([TE,gt,EE],eE),Aoe=L([TE,gt,EE],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,o=Ve(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ve(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),hC=()=>{},Soe=L([gt,F4,hC,Aoe,hC],nE),z6=L([gt,Ee,TE,Toe,qd,mt,Soe],iE),Poe=L([z6,gt,su],sE);L([gt,z6,Poe,mt],uE);var Ioe={radiusAxis:{},angleAxis:{}},koe=$r({name:"polarAxis",initialState:Ioe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),Coe=koe.reducer;function pC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(r),!0).forEach(function(n){Noe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Noe(e,t,r){return(t=Ooe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ooe(e){var t=joe(e,"string");return typeof t=="symbol"?t:t+""}function joe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AE=(e,t)=>t,Roe=[],SE=(e,t,r)=>(r==null?void 0:r.length)===0?Roe:r,V6=L([V1,AE,SE],(e,t,r)=>{var{chartData:n}=e,i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>mC(mC({},t.presentationProps),a.props))),i!=null)return i}),Doe=L([V6,AE,SE],(e,t,r)=>{if(e!=null)return e.map((n,i)=>{var a,o=Ve(n,t.nameKey,t.name),s;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?s=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?s=n.fill:s=t.fill,{value:uo(o,t.dataKey),color:s,payload:n,type:t.legendType}})}),Moe=L([$6,AE],(e,t)=>{if(e.some(r=>r.type==="pie"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),Loe=L([V6,Moe,SE,Pt],(e,t,r,n)=>{if(!(t==null||e==null))return Sse({offset:n,pieSettings:t,displayedData:e,cells:r})}),$oe={countOfBars:0,cartesianItems:[],polarItems:[]},F6=$r({name:"graphicalItems",initialState:$oe,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=Mi(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=Mi(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Mi(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addBar:zoe,removeBar:Voe,addCartesianGraphicalItem:Foe,replaceCartesianGraphicalItem:Uoe,removeCartesianGraphicalItem:Boe,addPolarGraphicalItem:qoe,removePolarGraphicalItem:Koe}=F6.actions,Woe=F6.reducer;function gC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gC(Object(r),!0).forEach(function(n){Hoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hoe(e,t,r){return(t=Qoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qoe(e){var t=Goe(e,"string");return typeof t=="symbol"?t:t+""}function Goe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yoe(e){var t=rt(),r=v.useRef(null);return v.useEffect(()=>{var n=vC(vC({},e),{},{stackId:u1(e.stackId)});r.current===null?t(Foe(n)):r.current!==n&&t(Uoe({prev:r.current,next:n})),r.current=n},[t,e]),v.useEffect(()=>()=>{r.current&&(t(Boe(r.current)),r.current=null)},[t]),null}function Xoe(e){var t=rt();return v.useEffect(()=>(t(qoe(e)),()=>{t(Koe(e))}),[t,e]),null}var U6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(U6);var Joe=U6.isPlainObject;const Zoe=gi(Joe);function qp(){return qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qp.apply(null,arguments)}var yC=(e,t,r,n,i)=>{var a=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-a/2,",").concat(t+i),o+="L ".concat(e+r-a/2-n,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},ese={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tse=e=>{var t=Tn(e,ese),r=v.useRef(),[n,i]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&i(b)}catch{}},[]);var{x:a,y:o,upperWidth:s,lowerWidth:l,height:u,className:c}=t,{animationEasing:d,animationDuration:p,animationBegin:m,isUpdateAnimationActive:g}=t;if(a!==+a||o!==+o||s!==+s||l!==+l||u!==+u||s===0&&l===0||u===0)return null;var y=he("recharts-trapezoid",c);return g?v.createElement(Zi,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:u,x:a,y:o},to:{upperWidth:s,lowerWidth:l,height:u,x:a,y:o},duration:p,animationEasing:d,isActive:g},b=>{var{upperWidth:x,lowerWidth:w,height:E,x:P,y:C}=b;return v.createElement(Zi,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:d},v.createElement("path",qp({},me(t,!0),{className:y,d:yC(P,C,x,w,E),ref:r})))}):v.createElement("g",null,v.createElement("path",qp({},me(t,!0),{className:y,d:yC(a,o,s,l,u)})))},rse=["option","shapeType","propTransformer","activeClassName","isActive"];function nse(e,t){if(e==null)return{};var r,n,i=ise(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ise(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xC(Object(r),!0).forEach(function(n){ase(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ase(e,t,r){return(t=ose(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ose(e){var t=sse(e,"string");return typeof t=="symbol"?t:t+""}function sse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lse(e,t){return Kp(Kp({},t),e)}function use(e,t){return e==="symbols"}function wC(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return v.createElement(wL,r);case"trapezoid":return v.createElement(tse,r);case"sector":return v.createElement(EL,r);case"symbols":if(use(t))return v.createElement(Y_,r);break;default:return null}}function cse(e){return v.isValidElement(e)?e.props:e}function B6(e){var{option:t,shapeType:r,propTransformer:n=lse,activeClassName:i="recharts-active-shape",isActive:a}=e,o=nse(e,rse),s;if(v.isValidElement(t))s=v.cloneElement(t,Kp(Kp({},o),cse(t)));else if(typeof t=="function")s=t(o);else if(Zoe(t)&&typeof t!="boolean"){var l=n(t,o);s=v.createElement(wC,{shapeType:r,elementProps:l})}else{var u=o;s=v.createElement(wC,{shapeType:r,elementProps:u})}return a?v.createElement(st,{className:i},s):s}var PE=(e,t)=>{var r=rt();return(n,i)=>a=>{e==null||e(n,i,a),r(n6({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},IE=e=>{var t=rt();return(r,n)=>i=>{e==null||e(r,n,i),t(oie())}},kE=(e,t)=>{var r=rt();return(n,i)=>a=>{e==null||e(n,i,a),r(sie({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Jg(e){var{fn:t,args:r}=e,n=rt(),i=Pr();return v.useEffect(()=>{if(!i){var a=t(r);return n(nie(a)),()=>{n(iie(a))}}},[t,r,n,i]),null}var q6=()=>{};function CE(e){var{legendPayload:t}=e,r=rt(),n=Pr();return v.useEffect(()=>n?q6:(r(cL(t)),()=>{r(dL(t))}),[r,n,t]),null}function dse(e){var{legendPayload:t}=e,r=rt(),n=ne(Ee);return v.useEffect(()=>n!=="centric"&&n!=="radial"?q6:(r(cL(t)),()=>{r(dL(t))}),[r,n,t]),null}function Zg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=v.useRef(to(t)),n=v.useRef(e);return n.current!==e&&(r.current=to(t),n.current=e),r.current}var fse=["onMouseEnter","onClick","onMouseLeave"];function hse(e,t){if(e==null)return{};var r,n,i=pse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(r),!0).forEach(function(n){ev(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ev(e,t,r){return(t=mse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mse(e){var t=gse(e,"string");return typeof t=="symbol"?t:t+""}function gse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function us(){return us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},us.apply(null,arguments)}function vse(e){var t=v.useMemo(()=>me(e,!1),[e]),r=v.useMemo(()=>$d(e.children,Xd),[e.children]),n=v.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),i=ne(a=>Doe(a,n,r));return v.createElement(dse,{legendPayload:i})}function yse(e){var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:o,name:s,hide:l,tooltipType:u}=e;return{dataDefinedOnItem:n==null?void 0:n.map(c=>c.tooltipPayload),positions:n==null?void 0:n.map(c=>c.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:t,nameKey:r,name:uo(s,t),hide:l,type:u,color:o,unit:""}}}var xse=(e,t)=>e>t?"start":e<t?"end":"middle",wse=(e,t,r)=>typeof t=="function"?t(e):Tr(t,r,r*.8),bse=(e,t,r)=>{var{top:n,left:i,width:a,height:o}=t,s=YM(a,o),l=i+Tr(e.cx,a,a/2),u=n+Tr(e.cy,o,o/2),c=Tr(e.innerRadius,s,0),d=wse(r,e.outerRadius,s),p=e.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:d,maxRadius:p}},_se=(e,t)=>{var r=Kt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Ese=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var r=he("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return v.createElement(dl,us({},t,{type:"linear",className:r}))},Tse=(e,t,r)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),v.isValidElement(n)))return n;var i=he("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return v.createElement(Xg,us({},t,{alignmentBaseline:"middle",className:i}),n)};function Ase(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:o}=r;if(!n||!i||!t)return null;var s=me(r,!1),l=me(i,!1),u=me(a,!1),c=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,d=t.map((p,m)=>{var g=(p.startAngle+p.endAngle)/2,y=bt(p.cx,p.cy,p.outerRadius+c,g),b=dt(dt(dt(dt({},s),p),{},{stroke:"none"},l),{},{index:m,textAnchor:xse(y.x,p.cx)},y),x=dt(dt(dt(dt({},s),p),{},{fill:"none",stroke:p.fill},u),{},{index:m,points:[bt(p.cx,p.cy,p.outerRadius,g),y],key:"line"});return v.createElement(st,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},a&&Ese(a,x),Tse(i,b,Ve(p,o)))});return v.createElement(st,{className:"recharts-pie-labels"},d)}function K6(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:a}=e,o=ne(ro),{onMouseEnter:s,onClick:l,onMouseLeave:u}=i,c=hse(i,fse),d=PE(s,i.dataKey),p=IE(u),m=kE(l,i.dataKey);return t==null?null:v.createElement(v.Fragment,null,t.map((g,y)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&t.length!==1)return null;var b=r&&String(y)===o,x=o?n:null,w=b?r:x,E=dt(dt({},g),{},{stroke:g.stroke,tabIndex:-1,[JM]:y,[ZM]:i.dataKey});return v.createElement(st,us({tabIndex:-1,className:"recharts-pie-sector"},Ld(c,g,y),{onMouseEnter:d(g,y),onMouseLeave:p(g,y),onClick:m(g,y),key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(y)}),v.createElement(B6,us({option:w,isActive:b,shapeType:"sector"},E)))}),v.createElement(Ase,{sectors:t,props:i,showLabels:a}))}function Sse(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:o,startAngle:s,endAngle:l,dataKey:u,nameKey:c,tooltipType:d}=r,p=Math.abs(r.minAngle),m=_se(s,l),g=Math.abs(m),y=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,b=n.filter(j=>Ve(j,u,0)!==0).length,x=(g>=360?b:b-1)*y,w=g-b*p-x,E=n.reduce((j,A)=>{var S=Ve(A,u,0);return j+(J(S)?S:0)},0),P;if(E>0){var C;P=n.map((j,A)=>{var S=Ve(j,u,0),I=Ve(j,c,A),N=bse(r,a,j),R=(J(S)?S:0)/E,D,k=dt(dt({},j),i&&i[A]&&i[A].props);A?D=C.endAngle+Kt(m)*y*(S!==0?1:0):D=s;var q=D+Kt(m)*((S!==0?p:0)+R*w),te=(D+q)/2,ie=(N.innerRadius+N.outerRadius)/2,Q=[{name:I,value:S,payload:k,dataKey:u,type:d}],F=bt(N.cx,N.cy,ie,te);return C=dt(dt(dt(dt({},r.presentationProps),{},{percent:R,cornerRadius:o,name:I,tooltipPayload:Q,midAngle:te,middleRadius:ie,tooltipPosition:F},k),N),{},{value:Ve(j,u),startAngle:D,endAngle:q,payload:k,paddingAngle:Kt(m)*y}),C})}return P}function Pse(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:s,activeShape:l,inactiveShape:u,onAnimationStart:c,onAnimationEnd:d}=t,p=Zg(t,"recharts-pie-"),m=r.current,[g,y]=v.useState(!0),b=v.useCallback(()=>{typeof d=="function"&&d(),y(!1)},[d]),x=v.useCallback(()=>{typeof c=="function"&&c(),y(!0)},[c]);return v.createElement(Zi,{begin:a,duration:o,isActive:i,easing:s,from:{t:0},to:{t:1},onAnimationStart:x,onAnimationEnd:b,key:p},w=>{var{t:E}=w,P=[],C=n&&n[0],j=C.startAngle;return n.forEach((A,S)=>{var I=m&&m[S],N=S>0?eo(A,"paddingAngle",0):0;if(I){var R=qr(I.endAngle-I.startAngle,A.endAngle-A.startAngle),D=dt(dt({},A),{},{startAngle:j+N,endAngle:j+R(E)+N});P.push(D),j=D.endAngle}else{var{endAngle:k,startAngle:q}=A,te=qr(0,k-q),ie=te(E),Q=dt(dt({},A),{},{startAngle:j+N,endAngle:j+ie+N});P.push(Q),j=Q.endAngle}}),r.current=P,v.createElement(st,null,v.createElement(K6,{sectors:P,activeShape:l,inactiveShape:u,allOtherPieProps:t,showLabels:!g}))})}function Ise(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:i}=e,a=v.useRef(null),o=a.current;return r&&t&&t.length&&(!o||o!==t)?v.createElement(Pse,{props:e,previousSectorsRef:a}):v.createElement(K6,{sectors:t,activeShape:n,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function kse(e){var{hide:t,className:r,rootTabIndex:n}=e,i=he("recharts-pie",r);return t?null:v.createElement(st,{tabIndex:n,className:i},v.createElement(Ise,e))}var W6={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!co.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Cse(e){var t=Tn(e,W6),r=v.useMemo(()=>$d(e.children,Xd),[e.children]),n=me(t,!1),i=v.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:n}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,n]),a=ne(o=>Loe(o,i,r));return v.createElement(v.Fragment,null,v.createElement(Jg,{fn:yse,args:dt(dt({},t),{},{sectors:a})}),v.createElement(kse,us({},t,{sectors:a})))}class NE extends v.PureComponent{constructor(){super(...arguments),ev(this,"id",to("recharts-pie-"))}render(){return v.createElement(v.Fragment,null,v.createElement(Xoe,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),v.createElement(vse,this.props),v.createElement(Cse,this.props),this.props.children)}}ev(NE,"displayName","Pie");ev(NE,"defaultProps",W6);var Nse=L([Pt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Ose=L([Nse,oa,sa],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),jse=e=>{var t=Pr();return ne(r=>_n(r,"xAxis",e,t))},Rse=e=>{var t=Pr();return ne(r=>_n(r,"yAxis",e,t))},tv=()=>ne(Ose),Dse=()=>ne(Kie);function _C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function EC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_C(Object(r),!0).forEach(function(n){Mse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mse(e,t,r){return(t=Lse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lse(e){var t=$se(e,"string");return typeof t=="symbol"?t:t+""}function $se(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zse=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a}=e;if(i===!1||t.x==null||t.y==null)return null;var o=EC(EC({index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},me(i,!1)),K_(i)),s;return v.isValidElement(i)?s=v.cloneElement(i,o):typeof i=="function"?s=i(o):s=v.createElement(_E,o),v.createElement(st,{className:"recharts-active-dot"},s)};function lw(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i}=e,a=ne(ro),o=Dse();if(t==null||o==null)return null;var s=t.find(l=>o.includes(l.payload));return Re(s)?null:zse({point:s,childIndex:Number(a),mainColor:r,dataKey:i,activeDot:n})}var Vse=()=>{var e=rt();return v.useEffect(()=>(e(zoe()),()=>{e(Voe())})),null},Fse=["children"];function Use(e,t){if(e==null)return{};var r,n,i=Bse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Bse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TC=()=>{},H6=v.createContext({addErrorBar:TC,removeErrorBar:TC}),qse={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Q6=v.createContext(qse);function G6(e){var{children:t}=e,r=Use(e,Fse);return v.createElement(Q6.Provider,{value:r},t)}var Kse=()=>v.useContext(Q6),OE=e=>{var{children:t,xAxisId:r,yAxisId:n,zAxisId:i,dataKey:a,data:o,stackId:s,hide:l,type:u,barSize:c}=e,[d,p]=v.useState([]),m=v.useCallback(b=>{p(x=>[...x,b])},[p]),g=v.useCallback(b=>{p(x=>x.filter(w=>w!==b))},[p]),y=Pr();return v.createElement(H6.Provider,{value:{addErrorBar:m,removeErrorBar:g}},v.createElement(Yoe,{type:u,data:o,xAxisId:r,yAxisId:n,zAxisId:i,dataKey:a,errorBars:d,stackId:s,hide:l,barSize:c,isPanorama:y}),t)};function Wse(e){var{addErrorBar:t,removeErrorBar:r}=v.useContext(H6);return v.useEffect(()=>(t(e),()=>{r(e)}),[t,r,e]),null}var Hse=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function Y6(e,t,r){return(t=Qse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qse(e){var t=Gse(e,"string");return typeof t=="symbol"?t:t+""}function Gse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ld(){return ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ld.apply(null,arguments)}function Yse(e,t){if(e==null)return{};var r,n,i=Xse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Xse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Jse(e){var{direction:t,width:r,dataKey:n,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:s}=e,l=Yse(e,Hse),u=me(l,!1),{data:c,dataPointFormatter:d,xAxisId:p,yAxisId:m,errorBarOffset:g}=Kse(),y=jse(p),b=Rse(m);if((y==null?void 0:y.scale)==null||(b==null?void 0:b.scale)==null||c==null||t==="x"&&y.type!=="number")return null;var x=c.map(w=>{var{x:E,y:P,value:C,errorVal:j}=d(w,n,t);if(!j)return null;var A=[],S,I;if(Array.isArray(j)?[S,I]=j:S=I=j,t==="x"){var{scale:N}=y,R=P+g,D=R+r,k=R-r,q=N(C-S),te=N(C+I);A.push({x1:te,y1:D,x2:te,y2:k}),A.push({x1:q,y1:R,x2:te,y2:R}),A.push({x1:q,y1:D,x2:q,y2:k})}else if(t==="y"){var{scale:ie}=b,Q=E+g,F=Q-r,Y=Q+r,ae=ie(C-S),xe=ie(C+I);A.push({x1:F,y1:xe,x2:Y,y2:xe}),A.push({x1:Q,y1:ae,x2:Q,y2:xe}),A.push({x1:F,y1:ae,x2:Y,y2:ae})}var W="".concat(E+g,"px ").concat(P+g,"px");return v.createElement(st,ld({className:"recharts-errorBar",key:"bar-".concat(A.map(ge=>"".concat(ge.x1,"-").concat(ge.x2,"-").concat(ge.y1,"-").concat(ge.y2)))},u),A.map(ge=>{var Lt=i?{transformOrigin:"".concat(ge.x1-5,"px")}:void 0;return v.createElement(Zi,{from:{transform:"scaleY(0)",transformOrigin:W},to:{transform:"scaleY(1)",transformOrigin:W},begin:a,easing:s,isActive:i,duration:o,key:"line-".concat(ge.x1,"-").concat(ge.x2,"-").concat(ge.y1,"-").concat(ge.y2),style:{transformOrigin:W}},v.createElement("line",ld({},ge,{style:Lt})))}))});return v.createElement(st,{className:"recharts-errorBars"},x)}var X6=v.createContext(void 0);function Zse(e){var t=v.useContext(X6);return e??t??"x"}function J6(e){var{direction:t,children:r}=e;return v.createElement(X6.Provider,{value:t},r)}var Z6={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function ele(e){var t=Zse(e.direction),{width:r,isAnimationActive:n,animationBegin:i,animationDuration:a,animationEasing:o}=Tn(e,Z6);return v.createElement(v.Fragment,null,v.createElement(Wse,{dataKey:e.dataKey,direction:t}),v.createElement(Jse,ld({},e,{direction:t,width:r,isAnimationActive:n,animationBegin:i,animationDuration:a,animationEasing:o})))}class e$ extends v.Component{render(){return v.createElement(ele,this.props)}}Y6(e$,"defaultProps",Z6);Y6(e$,"displayName","ErrorBar");var tle="Invariant failed";function rle(e,t){throw new Error(tle)}var nle=["x","y"];function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uw.apply(null,arguments)}function AC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(r),!0).forEach(function(n){ile(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ile(e,t,r){return(t=ale(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ale(e){var t=ole(e,"string");return typeof t=="symbol"?t:t+""}function ole(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sle(e,t){if(e==null)return{};var r,n,i=lle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ule(e,t){var{x:r,y:n}=e,i=sle(e,nle),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),u="".concat(t.height||i.height),c=parseInt(u,10),d="".concat(t.width||i.width),p=parseInt(d,10);return Uu(Uu(Uu(Uu(Uu({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:p,name:t.name,radius:t.radius})}function t$(e){return v.createElement(B6,uw({shapeType:"rectangle",propTransformer:ule,activeClassName:"recharts-active-bar"},e))}var cle=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(J(t))return t;var a=J(n)||Re(n);return a?t(n,i):(a||rle(),r)}};function rv(e,t){var r,n,i=ne(u=>ua(u,e)),a=ne(u=>po(u,t)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Vr.allowDataOverflow,s=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Fr.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function jE(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=tv(),{needClipX:a,needClipY:o,needClip:s}=rv(t,r);if(!s)return null;var{x:l,y:u,width:c,height:d}=i;return v.createElement("clipPath",{id:"clipPath-".concat(n)},v.createElement("rect",{x:a?l:l-c/2,y:o?u:u-d/2,width:a?c:c*2,height:o?d:d*2}))}var dle=["onMouseEnter","onMouseLeave","onClick"],fle=["value","background","tooltipPosition"],hle=["onMouseEnter","onClick","onMouseLeave"];function ud(){return ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ud.apply(null,arguments)}function SC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(r),!0).forEach(function(n){nv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nv(e,t,r){return(t=ple(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ple(e){var t=mle(e,"string");return typeof t=="symbol"?t:t+""}function mle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cw(e,t){if(e==null)return{};var r,n,i=gle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vle=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:uo(r,t),payload:e}]};function yle(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:uo(a,t),hide:o,type:e.tooltipType,color:e.fill,unit:s}}}function xle(e){var t=ne(ro),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:s,onClick:l}=a,u=cw(a,dle),c=PE(o,n),d=IE(s),p=kE(l,n);if(!i||r==null)return null;var m=me(i,!1);return v.createElement(v.Fragment,null,r.map((g,y)=>{var{value:b,background:x,tooltipPosition:w}=g,E=cw(g,fle);if(!x)return null;var P=c(g,y),C=d(g,y),j=p(g,y),A=cr(cr(cr(cr(cr({option:i,isActive:String(y)===t},E),{},{fill:"#eee"},x),m),Ld(u,g,y)),{},{onMouseEnter:P,onMouseLeave:C,onClick:j,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return v.createElement(t$,ud({key:"background-bar-".concat(y)},A))}))}function r$(e){var{data:t,props:r,showLabels:n}=e,i=me(r,!1),{shape:a,dataKey:o,activeBar:s}=r,l=ne(ro),u=ne(g6),{onMouseEnter:c,onClick:d,onMouseLeave:p}=r,m=cw(r,hle),g=PE(c,o),y=IE(p),b=kE(d,o);return t?v.createElement(v.Fragment,null,t.map((x,w)=>{var E=s&&String(w)===l&&(u==null||o===u),P=E?s:a,C=cr(cr(cr({},i),x),{},{isActive:E,option:P,index:w,dataKey:o});return v.createElement(st,ud({className:"recharts-bar-rectangle"},Ld(m,x,w),{onMouseEnter:g(x,w),onMouseLeave:y(x,w),onClick:b(x,w),key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(w)}),v.createElement(t$,C))}),n&&Vi.renderCallByParent(r,t)):null}function wle(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=t,d=r.current,p=Zg(t,"recharts-bar-"),[m,g]=v.useState(!1),y=v.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),b=v.useCallback(()=>{typeof c=="function"&&c(),g(!0)},[c]);return v.createElement(Zi,{begin:o,duration:s,isActive:a,easing:l,from:{t:0},to:{t:1},onAnimationEnd:y,onAnimationStart:b,key:p},x=>{var{t:w}=x,E=w===1?n:n.map((P,C)=>{var j=d&&d[C];if(j){var A=qr(j.x,P.x),S=qr(j.y,P.y),I=qr(j.width,P.width),N=qr(j.height,P.height);return cr(cr({},P),{},{x:A(w),y:S(w),width:I(w),height:N(w)})}if(i==="horizontal"){var R=qr(0,P.height),D=R(w);return cr(cr({},P),{},{y:P.y+P.height-D,height:D})}var k=qr(0,P.width),q=k(w);return cr(cr({},P),{},{width:q})});return w>0&&(r.current=E),v.createElement(st,null,v.createElement(r$,{props:t,data:E,showLabels:!m}))})}function ble(e){var{data:t,isAnimationActive:r}=e,n=v.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?v.createElement(wle,{previousRectanglesRef:n,props:e}):v.createElement(r$,{props:e,data:t,showLabels:!0})}var n$=0,_le=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ve(e,t)}};class Ele extends v.PureComponent{constructor(){super(...arguments),nv(this,"id",to("recharts-bar-"))}render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:s,background:l,id:u,layout:c}=this.props;if(t)return null;var d=he("recharts-bar",i),p=Re(u)?this.id:u;return v.createElement(st,{className:d},s&&v.createElement("defs",null,v.createElement(jE,{clipPathId:p,xAxisId:a,yAxisId:o})),v.createElement(st,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(p,")"):null},v.createElement(xle,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),v.createElement(ble,this.props)),v.createElement(J6,{direction:c==="horizontal"?"y":"x"},this.props.children))}}var i$={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!co.isSsr,legendType:"rect",minPointSize:n$,xAxisId:0,yAxisId:0};function Tle(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c}=Tn(e,i$),{needClip:d}=rv(t,r),p=zd(),m=Pr(),g=v.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:a,stackId:u1(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,a,e.stackId]),y=$d(e.children,Xd),b=ne(E=>Jle(E,t,r,m,g,y));if(p!=="vertical"&&p!=="horizontal")return null;var x,w=b==null?void 0:b[0];return w==null||w.height==null||w.width==null?x=0:x=p==="vertical"?w.height/2:w.width/2,v.createElement(G6,{xAxisId:t,yAxisId:r,data:b,dataPointFormatter:_le,errorBarOffset:x},v.createElement(Ele,ud({},e,{layout:p,needClip:d,data:b,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function Ale(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:d,offset:p,cells:m}=e,g=t==="horizontal"?s:o,y=c?g.scale.domain():null,b=gJ({numericAxis:g});return d.map((x,w)=>{var E,P,C,j,A,S;c?E=dJ(c[w],y):(E=Ve(x,r),Array.isArray(E)||(E=[b,E]));var I=cle(n,n$)(E[1],w);if(t==="horizontal"){var N,[R,D]=[s.scale(E[0]),s.scale(E[1])];P=SI({axis:o,ticks:l,bandSize:a,offset:i.offset,entry:x,index:w}),C=(N=D??R)!==null&&N!==void 0?N:void 0,j=i.size;var k=R-D;if(A=en(k)?0:k,S={x:P,y:p.top,width:j,height:p.height},Math.abs(I)>0&&Math.abs(A)<Math.abs(I)){var q=Kt(A||I)*(Math.abs(I)-Math.abs(A));C-=q,A+=q}}else{var[te,ie]=[o.scale(E[0]),o.scale(E[1])];if(P=te,C=SI({axis:s,ticks:u,bandSize:a,offset:i.offset,entry:x,index:w}),j=ie-te,A=i.size,S={x:p.left,y:C,width:p.width,height:A},Math.abs(I)>0&&Math.abs(j)<Math.abs(I)){var Q=Kt(j||I)*(Math.abs(I)-Math.abs(j));j+=Q}}var F=cr(cr({},x),{},{x:P,y:C,width:j,height:A,value:c?E:E[1],payload:x,background:S,tooltipPosition:{x:P+j/2,y:C+A/2}},m&&m[w]&&m[w].props);return F})}class Wp extends v.PureComponent{render(){return v.createElement(OE,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},v.createElement(Vse,null),v.createElement(CE,{legendPayload:vle(this.props)}),v.createElement(Jg,{fn:yle,args:this.props}),v.createElement(Tle,this.props))}}nv(Wp,"displayName","Bar");nv(Wp,"defaultProps",i$);function PC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PC(Object(r),!0).forEach(function(n){Sle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sle(e,t,r){return(t=Ple(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ple(e){var t=Ile(e,"string");return typeof t=="symbol"?t:t+""}function Ile(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kle=(e,t)=>t,Cle=(e,t,r)=>r,Nle=(e,t,r,n)=>n,RE=(e,t,r,n,i)=>i,Ole=(e,t,r,n,i)=>i.maxBarSize,jle=(e,t,r,n,i,a)=>a,IC=(e,t,r)=>{var n=r??e;if(!Re(n))return Tr(n,t,0)},Rle=L([Ee,Hd,kle,Cle,Nle],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Dle=(e,t,r,n)=>{var i=Ee(e);return i==="horizontal"?od(e,"yAxis",r,n):od(e,"xAxis",t,n)},Mle=(e,t,r)=>{var n=Ee(e);return n==="horizontal"?Fk(e,"xAxis",t):Fk(e,"yAxis",r)};function Lle(e){return e.stackId!=null&&e.dataKey!=null}var $le=(e,t,r)=>{var n={},i=e.filter(Lle),a=e.filter(u=>u.stackId==null),o=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),n),s=Object.entries(o).map(u=>{var[c,d]=u,p=d.map(g=>g.dataKey),m=IC(t,r,d[0].barSize);return{stackId:c,dataKeys:p,barSize:m}}),l=a.map(u=>{var c=[u.dataKey].filter(p=>p!=null),d=IC(t,r,u.barSize);return{stackId:void 0,dataKeys:c,barSize:d}});return[...s,...l]},zle=L([Rle,rne,Mle],$le),Vle=(e,t,r,n,i)=>{var a,o,s=Ee(e),l=_4(e),{maxBarSize:u}=i,c=Re(u)?l:u,d,p;return s==="horizontal"?(d=_n(e,"xAxis",t,n),p=mi(e,"xAxis",t,n)):(d=_n(e,"yAxis",r,n),p=mi(e,"yAxis",r,n)),(a=(o=as(d,p,!0))!==null&&o!==void 0?o:c)!==null&&a!==void 0?a:0},a$=(e,t,r,n)=>{var i=Ee(e),a,o;return i==="horizontal"?(a=_n(e,"xAxis",t,n),o=mi(e,"xAxis",t,n)):(a=_n(e,"yAxis",r,n),o=mi(e,"yAxis",r,n)),as(a,o)};function Fle(e,t,r,n,i){var a=n.length;if(!(a<1)){var o=Tr(e,r,0,!0),s,l=[];if(Yt(n[0].barSize)){var u=!1,c=r/a,d=n.reduce((x,w)=>x+(w.barSize||0),0);d+=(a-1)*o,d>=r&&(d-=(a-1)*o,o=0),d>=r&&c>0&&(u=!0,c*=.9,d=a*c);var p=(r-d)/2>>0,m={offset:p-o,size:0};s=n.reduce((x,w)=>{var E,P={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:m.offset+m.size+o,size:u?c:(E=w.barSize)!==null&&E!==void 0?E:0}},C=[...x,P];return m=C[C.length-1].position,C},l)}else{var g=Tr(t,r,0,!0);r-2*g-(a-1)*o<=0&&(o=0);var y=(r-2*g-(a-1)*o)/a;y>1&&(y>>=0);var b=Yt(i)?Math.min(y,i):y;s=n.reduce((x,w,E)=>[...x,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:g+(y+o)*E+(y-b)/2,size:b}}],l)}return s}}var Ule=(e,t,r,n,i,a,o)=>{var s=Re(o)?t:o,l=Fle(r,n,i!==a?i:a,e,s);return i!==a&&l!=null&&(l=l.map(u=>Jf(Jf({},u),{},{position:Jf(Jf({},u.position),{},{offset:u.position.offset-i/2})}))),l},Ble=L([zle,_4,tne,E4,Vle,a$,Ole],Ule),qle=(e,t,r,n)=>_n(e,"xAxis",t,n),Kle=(e,t,r,n)=>_n(e,"yAxis",r,n),Wle=(e,t,r,n)=>mi(e,"xAxis",t,n),Hle=(e,t,r,n)=>mi(e,"yAxis",r,n),Qle=L([Ble,RE],(e,t)=>{if(e!=null){var r=e.find(n=>n.stackId===t.stackId&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Gle=(e,t)=>{if(!(!e||(t==null?void 0:t.dataKey)==null)){var{stackId:r}=t;if(r!=null){var n=e[r];if(n){var{stackedData:i}=n;if(i){var a=i.find(o=>o.key===t.dataKey);return a}}}}},Yle=L([Hd,RE],(e,t)=>{if(e.some(r=>r.type==="bar"&&t.dataKey===r.dataKey&&t.stackId===r.stackId&&t.stackId===r.stackId))return t}),Xle=L([Dle,RE],Gle),Jle=L([Pt,qle,Kle,Wle,Hle,Qle,Ee,Vg,a$,Xle,Yle,jle],(e,t,r,n,i,a,o,s,l,u,c,d)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:g}=s;if(!(c==null||a==null||o!=="horizontal"&&o!=="vertical"||t==null||r==null||n==null||i==null||l==null)){var{data:y}=c,b;if(y!=null&&y.length>0?b=y:b=p==null?void 0:p.slice(m,g+1),b!=null)return Ale({layout:o,barSettings:c,pos:a,bandSize:l,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:u,displayedData:b,offset:e,cells:d})}}),o$=e=>{var{chartData:t}=e,r=rt(),n=Pr();return v.useEffect(()=>n?()=>{}:(r(Gk(t)),()=>{r(Gk(void 0))}),[t,r,n]),null},kC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Zle=$r({name:"brush",initialState:kC,reducers:{setBrushSettings(e,t){return t.payload==null?kC:t.payload}}}),eue=Zle.reducer;function tue(e,t,r){return(t=rue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rue(e){var t=nue(e,"string");return typeof t=="symbol"?t:t+""}function nue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class DE{static create(t){return new DE(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}tue(DE,"EPS",1e-4);function iue(e){return(e%180+180)%180}var aue=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=iue(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},oue={dots:[],areas:[],lines:[]},sue=$r({name:"referenceElements",initialState:oue,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Mi(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Mi(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Mi(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),lue=sue.reducer,uue=v.createContext(void 0),cue=e=>{var{children:t}=e,[r]=v.useState("".concat(to("recharts"),"-clip")),n=tv();if(n==null)return null;var{x:i,y:a,width:o,height:s}=n;return v.createElement(uue.Provider,{value:r},v.createElement("defs",null,v.createElement("clipPath",{id:r},v.createElement("rect",{x:i,y:a,height:s,width:o}))),t)};function qy(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function s$(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function due(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return aue(n,r)}function fue(e,t,r){var n=r==="width",{x:i,y:a,width:o,height:s}=e;return t===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function Hp(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function hue(e,t){return s$(e,t+1)}function pue(e,t,r,n,i){for(var a=(n||[]).slice(),{start:o,end:s}=t,l=0,u=1,c=o,d=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:s$(n,u)};var y=l,b,x=()=>(b===void 0&&(b=r(g,y)),b),w=g.coordinate,E=l===0||Hp(e,w,x,c,s);E||(l=0,c=o,u+=1),E&&(c=w+e*(x()/2+i),l+=u)},p;u<=a.length;)if(p=d(),p)return p.v;return[]}function CC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(r),!0).forEach(function(n){mue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mue(e,t,r){return(t=gue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gue(e){var t=vue(e,"string");return typeof t=="symbol"?t:t+""}function vue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yue(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,u=function(p){var m=a[p],g,y=()=>(g===void 0&&(g=r(m,p)),g);if(p===o-1){var b=e*(m.coordinate+e*y()/2-l);a[p]=m=or(or({},m),{},{tickCoord:b>0?m.coordinate-b*e:m.coordinate})}else a[p]=m=or(or({},m),{},{tickCoord:m.coordinate});var x=Hp(e,m.tickCoord,y,s,l);x&&(l=m.tickCoord-e*(y()/2+i),a[p]=or(or({},m),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function xue(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,{start:l,end:u}=t;if(a){var c=n[s-1],d=r(c,s-1),p=e*(c.coordinate+e*d/2-u);o[s-1]=c=or(or({},c),{},{tickCoord:p>0?c.coordinate-p*e:c.coordinate});var m=Hp(e,c.tickCoord,()=>d,l,u);m&&(u=c.tickCoord-e*(d/2+i),o[s-1]=or(or({},c),{},{isShow:!0}))}for(var g=a?s-1:s,y=function(w){var E=o[w],P,C=()=>(P===void 0&&(P=r(E,w)),P);if(w===0){var j=e*(E.coordinate-e*C()/2-l);o[w]=E=or(or({},E),{},{tickCoord:j<0?E.coordinate-j*e:E.coordinate})}else o[w]=E=or(or({},E),{},{tickCoord:E.coordinate});var A=Hp(e,E.tickCoord,C,l,u);A&&(l=E.tickCoord+e*(C()/2+i),o[w]=or(or({},E),{},{isShow:!0}))},b=0;b<g;b++)y(b);return o}function wue(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:l,tickFormatter:u,unit:c,angle:d}=e;if(!i||!i.length||!n)return[];if(J(l)||co.isSsr){var p;return(p=hue(i,J(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],g=s==="top"||s==="bottom"?"width":"height",y=c&&g==="width"?vc(c,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=(E,P)=>{var C=typeof u=="function"?u(E.value,P):E.value;return g==="width"?due(vc(C,{fontSize:t,letterSpacing:r}),y,d):vc(C,{fontSize:t,letterSpacing:r})[g]},x=i.length>=2?Kt(i[1].coordinate-i[0].coordinate):1,w=fue(a,x,g);return l==="equidistantPreserveStart"?pue(x,w,b,i,o):(l==="preserveStart"||l==="preserveStartEnd"?m=xue(x,w,b,i,o,l==="preserveStartEnd"):m=yue(x,w,b,i,o),m.filter(E=>E.isShow))}var bue=["viewBox"],_ue=["viewBox"];function Gs(){return Gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gs.apply(null,arguments)}function NC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NC(Object(r),!0).forEach(function(n){ME(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OC(e,t){if(e==null)return{};var r,n,i=Eue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Eue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ME(e,t,r){return(t=Tue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tue(e){var t=Aue(e,"string");return typeof t=="symbol"?t:t+""}function Aue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class du extends v.Component{constructor(t){super(t),this.tickRefs=v.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,i=OC(t,bue),a=this.props,{viewBox:o}=a,s=OC(a,_ue);return!qy(n,o)||!qy(i,s)||!qy(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:i,height:a,orientation:o,tickSize:s,mirror:l,tickMargin:u}=this.props,c,d,p,m,g,y,b=l?-1:1,x=t.tickSize||s,w=J(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":c=d=t.coordinate,m=n+ +!l*a,p=m-b*x,y=p-b*u,g=w;break;case"left":p=m=t.coordinate,d=r+ +!l*i,c=d-b*x,g=c-b*u,y=w;break;case"right":p=m=t.coordinate,d=r+ +l*i,c=d+b*x,g=c+b*u,y=w;break;default:c=d=t.coordinate,m=n+ +l*a,p=m+b*x,y=p+b*u,g=w;break}return{line:{x1:c,y1:p,x2:d,y2:m},tick:{x:g,y}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:s}=this.props,l=Et(Et(Et({},me(this.props,!1)),me(s,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var u=+(a==="top"&&!o||a==="bottom"&&o);l=Et(Et({},l),{},{x1:t,y1:r+u*i,x2:t+n,y2:r+u*i})}else{var c=+(a==="left"&&!o||a==="right"&&o);l=Et(Et({},l),{},{x1:t+c*n,y1:r,x2:t+c*n,y2:r+i})}return v.createElement("line",Gs({},l,{className:he("recharts-cartesian-axis-line",eo(s,"className"))}))}static renderTickItem(t,r,n){var i,a=he(r.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))i=v.cloneElement(t,Et(Et({},r),{},{className:a}));else if(typeof t=="function")i=t(Et(Et({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=he(o,t.className)),i=v.createElement(Xg,Gs({},r,{className:o}),n)}return i}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:a,tick:o,tickFormatter:s,unit:l}=this.props,u=wue(Et(Et({},this.props),{},{ticks:n}),t,r),c=this.getTickTextAnchor(),d=this.getTickVerticalAnchor(),p=me(this.props,!1),m=me(o,!1),g=Et(Et({},p),{},{fill:"none"},me(i,!1)),y=u.map((b,x)=>{var{line:w,tick:E}=this.getTickLineCoord(b),P=Et(Et(Et(Et({textAnchor:c,verticalAnchor:d},p),{},{stroke:"none",fill:a},m),E),{},{index:x,payload:b,visibleTicksCount:u.length,tickFormatter:s});return v.createElement(st,Gs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(b.value,"-").concat(b.coordinate,"-").concat(b.tickCoord)},Ld(this.props,b,x)),i&&v.createElement("line",Gs({},g,w,{className:he("recharts-cartesian-axis-tick-line",eo(i,"className"))})),o&&du.renderTickItem(o,P,"".concat(typeof s=="function"?s(b.value,x):b.value).concat(l||"")))});return y.length>0?v.createElement("g",{className:"recharts-cartesian-axis-ticks"},y):null}render(){var{axisLine:t,width:r,height:n,className:i,hide:a}=this.props;if(a)return null;var{ticks:o}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:v.createElement(st,{className:he("recharts-cartesian-axis",i),ref:s=>{if(s){var l=s.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(l);var u=l[0];if(u){var c=window.getComputedStyle(u).fontSize,d=window.getComputedStyle(u).letterSpacing;(c!==this.state.fontSize||d!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),Kr.renderCallByParent(this.props))}}ME(du,"displayName","CartesianAxis");ME(du,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var l$=(e,t,r,n)=>_n(e,"xAxis",t,n),u$=(e,t,r,n)=>mi(e,"xAxis",t,n),c$=(e,t,r,n)=>_n(e,"yAxis",r,n),d$=(e,t,r,n)=>mi(e,"yAxis",r,n),Sue=L([Ee,l$,c$,u$,d$],(e,t,r,n,i)=>yi(e,"xAxis")?as(t,n,!1):as(r,i,!1)),Pue=(e,t,r,n,i)=>i,Iue=L([Hd,Pue],(e,t)=>{if(e.some(r=>r.type==="line"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),kue=L([Ee,l$,c$,u$,d$,Iue,Sue,Vg],(e,t,r,n,i,a,o,s)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:c}=s;if(!(a==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{dataKey:d,data:p}=a,m;if(p!=null&&p.length>0?m=p:m=l==null?void 0:l.slice(u,c+1),m!=null)return Que({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:d,bandSize:o,displayedData:m})}}),Cue=["type","layout","connectNulls","needClip"],Nue=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function f$(e,t){if(e==null)return{};var r,n,i=Oue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Oue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(r),!0).forEach(function(n){iv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iv(e,t,r){return(t=jue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jue(e){var t=Rue(e,"string");return typeof t=="symbol"?t:t+""}function Rue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fl(){return Fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fl.apply(null,arguments)}var Due=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:uo(r,t),payload:e}]};function Mue(e){var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:s,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:uo(o,t),hide:s,type:e.tooltipType,color:e.stroke,unit:l}}}var h$=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Lue(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var $ue=(e,t,r)=>{var n=r.reduce((d,p)=>d+p);if(!n)return h$(t,e);for(var i=Math.floor(e/n),a=e%n,o=t-e,s=[],l=0,u=0;l<r.length;u+=r[l],++l)if(u+r[l]>a){s=[...r.slice(0,l),a-u];break}var c=s.length%2===0?[0,o]:[o];return[...Lue(r,i),...s,...c].map(d=>"".concat(d,"px")).join(", ")};function zue(e,t){var r;if(v.isValidElement(e))r=v.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=he("recharts-line-dot",typeof e!="boolean"?e.className:"");r=v.createElement(_E,Fl({},t,{className:n}))}return r}function Vue(e,t){return e==null?!1:t?!0:e.length===1}function Fue(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:a,needClip:o}=n;if(!Vue(r,i))return null;var s=yg(i),l=me(n,!1),u=me(i,!0),c=r.map((p,m)=>{var g=jn(jn(jn({key:"dot-".concat(m),r:3},l),u),{},{index:m,cx:p.x,cy:p.y,dataKey:a,value:p.value,payload:p.payload,points:r});return zue(i,g)}),d={clipPath:o?"url(#clipPath-".concat(s?"":"dots-").concat(t,")"):null};return v.createElement(st,Fl({className:"recharts-line-dots",key:"dots"},d),c)}function dw(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:a,showLabels:o}=e,{type:s,layout:l,connectNulls:u,needClip:c}=a,d=f$(a,Cue),p=jn(jn({},me(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):null,points:n,type:s,layout:l,connectNulls:u,strokeDasharray:i??a.strokeDasharray});return v.createElement(v.Fragment,null,(n==null?void 0:n.length)>1&&v.createElement(dl,Fl({},p,{pathRef:r})),v.createElement(Fue,{points:n,clipPathId:t,props:a}),o&&Vi.renderCallByParent(a,n))}function Uue(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Bue(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:o,strokeDasharray:s,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:d,animateNewValues:p,width:m,height:g,onAnimationEnd:y,onAnimationStart:b}=r,x=i.current,w=Zg(r,"recharts-line-"),[E,P]=v.useState(!1),C=v.useCallback(()=>{typeof y=="function"&&y(),P(!1)},[y]),j=v.useCallback(()=>{typeof b=="function"&&b(),P(!0)},[b]),A=Uue(n.current),S=a.current;return v.createElement(Zi,{begin:u,duration:c,isActive:l,easing:d,from:{t:0},to:{t:1},onAnimationEnd:C,onAnimationStart:j,key:w},I=>{var{t:N}=I,R=qr(S,A+S),D=Math.min(R(N),A),k;if(s){var q="".concat(s).split(/[,\s]+/gim).map(Q=>parseFloat(Q));k=$ue(D,A,q)}else k=h$(A,D);if(x){var te=x.length/o.length,ie=N===1?o:o.map((Q,F)=>{var Y=Math.floor(F*te);if(x[Y]){var ae=x[Y],xe=qr(ae.x,Q.x),W=qr(ae.y,Q.y);return jn(jn({},Q),{},{x:xe(N),y:W(N)})}if(p){var ge=qr(m*2,Q.x),Lt=qr(g/2,Q.y);return jn(jn({},Q),{},{x:ge(N),y:Lt(N)})}return jn(jn({},Q),{},{x:Q.x,y:Q.y})});return i.current=ie,v.createElement(dw,{props:r,points:ie,clipPathId:t,pathRef:n,showLabels:!E,strokeDasharray:k})}return N>0&&A>0&&(i.current=o,a.current=D),v.createElement(dw,{props:r,points:o,clipPathId:t,pathRef:n,showLabels:!E,strokeDasharray:k})})}function que(e){var{clipPathId:t,props:r}=e,{points:n,isAnimationActive:i}=r,a=v.useRef(null),o=v.useRef(0),s=v.useRef(null),l=a.current;return i&&n&&n.length&&l!==n?v.createElement(Bue,{props:r,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:o,pathRef:s}):v.createElement(dw,{props:r,points:n,clipPathId:t,pathRef:s,showLabels:!0})}var Kue=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Ve(e.payload,t)});class Wue extends v.Component{constructor(){super(...arguments),iv(this,"id",to("recharts-line-"))}render(){var t,{hide:r,dot:n,points:i,className:a,xAxisId:o,yAxisId:s,top:l,left:u,width:c,height:d,id:p,needClip:m,layout:g}=this.props;if(r)return null;var y=he("recharts-line",a),b=Re(p)?this.id:p,{r:x=3,strokeWidth:w=2}=(t=me(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},E=yg(n),P=x*2+w;return v.createElement(v.Fragment,null,v.createElement(st,{className:y},m&&v.createElement("defs",null,v.createElement(jE,{clipPathId:b,xAxisId:o,yAxisId:s}),!E&&v.createElement("clipPath",{id:"clipPath-dots-".concat(b)},v.createElement("rect",{x:u-P/2,y:l-P/2,width:c+P,height:d+P}))),v.createElement(que,{props:this.props,clipPathId:b}),v.createElement(J6,{direction:g==="horizontal"?"y":"x"},v.createElement(G6,{xAxisId:o,yAxisId:s,data:i,dataPointFormatter:Kue,errorBarOffset:0},this.props.children))),v.createElement(lw,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var p$={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!co.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Hue(e){var t=Tn(e,p$),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:s,dot:l,hide:u,isAnimationActive:c,label:d,legendType:p,xAxisId:m,yAxisId:g}=t,y=f$(t,Nue),{needClip:b}=rv(m,g),{height:x,width:w,x:E,y:P}=tv(),C=zd(),j=Pr(),A=v.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),S=ne(I=>kue(I,m,g,j,A));return C!=="horizontal"&&C!=="vertical"?null:v.createElement(Wue,Fl({},y,{connectNulls:s,dot:l,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:c,hide:u,label:d,legendType:p,xAxisId:m,yAxisId:g,points:S,layout:C,height:x,width:w,left:E,top:P,needClip:b}))}function Que(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:s,displayedData:l}=e;return l.map((u,c)=>{var d=Ve(u,o);return t==="horizontal"?{x:Tp({axis:r,ticks:i,bandSize:s,entry:u,index:c}),y:Re(d)?null:n.scale(d),value:d,payload:u}:{x:Re(d)?null:r.scale(d),y:Tp({axis:n,ticks:a,bandSize:s,entry:u,index:c}),value:d,payload:u}})}class Qp extends v.PureComponent{render(){return v.createElement(OE,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},v.createElement(CE,{legendPayload:Due(this.props)}),v.createElement(Jg,{fn:Mue,args:this.props}),v.createElement(Hue,this.props))}}iv(Qp,"displayName","Line");iv(Qp,"defaultProps",p$);var m$=(e,t,r,n)=>_n(e,"xAxis",t,n),g$=(e,t,r,n)=>mi(e,"xAxis",t,n),v$=(e,t,r,n)=>_n(e,"yAxis",r,n),y$=(e,t,r,n)=>mi(e,"yAxis",r,n),Gue=L([Ee,m$,v$,g$,y$],(e,t,r,n,i)=>yi(e,"xAxis")?as(t,n,!1):as(r,i,!1)),Yue=(e,t,r,n,i)=>{var a,o=Ee(e),s=yi(o,"xAxis"),l;if(s?l=od(e,"yAxis",r,n):l=od(e,"xAxis",t,n),l!=null){var{dataKey:u,stackId:c}=i;if(c!=null){var d=(a=l[c])===null||a===void 0?void 0:a.stackedData;return d==null?void 0:d.find(p=>p.key===u)}}},Xue=(e,t,r,n,i)=>i,Jue=L([Hd,Xue],(e,t)=>{if(e.some(r=>r.type==="area"&&t.dataKey===r.dataKey&&u1(t.stackId)===r.stackId&&t.data===r.data))return t}),Zue=L([Ee,m$,v$,g$,y$,Yue,Vg,Gue,Jue],(e,t,r,n,i,a,o,s,l)=>{var{chartData:u,dataStartIndex:c,dataEndIndex:d}=o;if(!(l==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||i==null||n.length===0||i.length===0||s==null)){var{data:p}=l,m;if(p&&p.length>0?m=p:m=u==null?void 0:u.slice(c,d+1),m!=null){var g=void 0;return yce({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:c,areaSettings:l,stackedData:a,displayedData:m,chartBaseValue:g,bandSize:s})}}}),ece=["layout","type","stroke","connectNulls","isRange"],tce=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function x$(e,t){if(e==null)return{};var r,n,i=rce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function RC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(r),!0).forEach(function(n){av(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function av(e,t,r){return(t=nce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nce(e){var t=ice(e,"string");return typeof t=="symbol"?t:t+""}function ice(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wa(){return Wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wa.apply(null,arguments)}function Gp(e,t){return e&&e!=="none"?e:t}var ace=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:Gp(n,i),value:uo(r,t),payload:e}]};function oce(e){var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:s,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:uo(o,t),hide:s,type:e.tooltipType,color:Gp(n,a),unit:l}}}var sce=(e,t)=>{var r;if(v.isValidElement(e))r=v.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=he("recharts-area-dot",typeof e!="boolean"?e.className:"");r=v.createElement(_E,Wa({},t,{className:n}))}return r};function lce(e,t){return e==null?!1:t?!0:e.length===1}function uce(e){var{clipPathId:t,points:r,props:n}=e,{needClip:i,dot:a,dataKey:o}=n;if(!lce(r,a))return null;var s=yg(a),l=me(n,!1),u=me(a,!0),c=r.map((p,m)=>{var g=Mo(Mo(Mo({key:"dot-".concat(m),r:3},l),u),{},{index:m,cx:p.x,cy:p.y,dataKey:o,value:p.value,payload:p.payload,points:r});return sce(a,g)}),d={clipPath:i?"url(#clipPath-".concat(s?"":"dots-").concat(t,")"):void 0};return v.createElement(st,Wa({className:"recharts-area-dots"},d),c)}function fw(e){var{points:t,baseLine:r,needClip:n,clipPathId:i,props:a,showLabels:o}=e,{layout:s,type:l,stroke:u,connectNulls:c,isRange:d}=a,p=x$(a,ece);return v.createElement(v.Fragment,null,(t==null?void 0:t.length)>1&&v.createElement(st,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},v.createElement(dl,Wa({},me(p,!0),{points:t,connectNulls:c,type:l,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),u!=="none"&&v.createElement(dl,Wa({},me(a,!1),{className:"recharts-area-curve",layout:s,type:l,connectNulls:c,fill:"none",points:t})),u!=="none"&&d&&v.createElement(dl,Wa({},me(a,!1),{className:"recharts-area-curve",layout:s,type:l,connectNulls:c,fill:"none",points:r}))),v.createElement(uce,{points:t,props:a,clipPathId:i}),o&&Vi.renderCallByParent(a,t))}function cce(e){var{alpha:t,baseLine:r,points:n,strokeWidth:i}=e,a=n[0].y,o=n[n.length-1].y;if(!Yt(a)||!Yt(o))return null;var s=t*Math.abs(a-o),l=Math.max(...n.map(u=>u.x||0));return J(r)?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(...r.map(u=>u.x||0),l)),J(l)?v.createElement("rect",{x:0,y:a<o?a:a-s,width:l+(i?parseInt("".concat(i),10):1),height:Math.floor(s)}):null}function dce(e){var{alpha:t,baseLine:r,points:n,strokeWidth:i}=e,a=n[0].x,o=n[n.length-1].x;if(!Yt(a)||!Yt(o))return null;var s=t*Math.abs(a-o),l=Math.max(...n.map(u=>u.y||0));return J(r)?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(...r.map(u=>u.y||0),l)),J(l)?v.createElement("rect",{x:a<o?a:a-s,y:0,width:s,height:Math.floor(l+(i?parseInt("".concat(i),10):1))}):null}function fce(e){var{alpha:t,layout:r,points:n,baseLine:i,strokeWidth:a}=e;return r==="vertical"?v.createElement(cce,{alpha:t,points:n,baseLine:i,strokeWidth:a}):v.createElement(dce,{alpha:t,points:n,baseLine:i,strokeWidth:a})}function hce(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a}=e,{points:o,baseLine:s,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:d,onAnimationStart:p,onAnimationEnd:m}=n,g=Zg(n,"recharts-area-"),[y,b]=v.useState(!0),x=v.useCallback(()=>{typeof m=="function"&&m(),b(!1)},[m]),w=v.useCallback(()=>{typeof p=="function"&&p(),b(!0)},[p]),E=i.current,P=a.current;return v.createElement(Zi,{begin:u,duration:c,isActive:l,easing:d,from:{t:0},to:{t:1},onAnimationEnd:x,onAnimationStart:w,key:g},C=>{var{t:j}=C;if(E){var A=E.length/o.length,S=j===1?o:o.map((N,R)=>{var D=Math.floor(R*A);if(E[D]){var k=E[D];return Mo(Mo({},N),{},{x:Is(k.x,N.x,j),y:Is(k.y,N.y,j)})}return N}),I;return J(s)?I=Is(P,s,j):Re(s)||en(s)?I=Is(P,0,j):I=s.map((N,R)=>{var D=Math.floor(R*A);if(Array.isArray(P)&&P[D]){var k=P[D];return Mo(Mo({},N),{},{x:Is(k.x,N.x,j),y:Is(k.y,N.y,j)})}return N}),j>0&&(i.current=S,a.current=I),v.createElement(fw,{points:S,baseLine:I,needClip:t,clipPathId:r,props:n,showLabels:!y})}return j>0&&(i.current=o,a.current=s),v.createElement(st,null,v.createElement("defs",null,v.createElement("clipPath",{id:"animationClipPath-".concat(r)},v.createElement(fce,{alpha:j,points:o,baseLine:s,layout:n.layout,strokeWidth:n.strokeWidth}))),v.createElement(st,{clipPath:"url(#animationClipPath-".concat(r,")")},v.createElement(fw,{points:o,baseLine:s,needClip:t,clipPathId:r,props:n,showLabels:!0})))})}function pce(e){var{needClip:t,clipPathId:r,props:n}=e,{points:i,baseLine:a,isAnimationActive:o}=n,s=v.useRef(null),l=v.useRef(),u=s.current,c=l.current;return o&&i&&i.length&&(u!==i||c!==a)?v.createElement(hce,{needClip:t,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:l}):v.createElement(fw,{points:i,baseLine:a,needClip:t,clipPathId:r,props:n,showLabels:!0})}class mce extends v.PureComponent{constructor(){super(...arguments),av(this,"id",to("recharts-area-"))}render(){var t,{hide:r,dot:n,points:i,className:a,top:o,left:s,needClip:l,xAxisId:u,yAxisId:c,width:d,height:p,id:m,baseLine:g}=this.props;if(r)return null;var y=he("recharts-area",a),b=Re(m)?this.id:m,{r:x=3,strokeWidth:w=2}=(t=me(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},E=yg(n),P=x*2+w;return v.createElement(v.Fragment,null,v.createElement(st,{className:y},l&&v.createElement("defs",null,v.createElement(jE,{clipPathId:b,xAxisId:u,yAxisId:c}),!E&&v.createElement("clipPath",{id:"clipPath-dots-".concat(b)},v.createElement("rect",{x:s-P/2,y:o-P/2,width:d+P,height:p+P}))),v.createElement(pce,{needClip:l,clipPathId:b,props:this.props})),v.createElement(lw,{points:i,mainColor:Gp(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(g)&&v.createElement(lw,{points:g,mainColor:Gp(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var w$={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!co.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function gce(e){var t,r=Tn(e,w$),{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:s,dot:l,fill:u,fillOpacity:c,hide:d,isAnimationActive:p,legendType:m,stroke:g,xAxisId:y,yAxisId:b}=r,x=x$(r,tce),w=zd(),E=y6(),{needClip:P}=rv(y,b),C=Pr(),j=v.useMemo(()=>({baseValue:e.baseValue,stackId:e.stackId,connectNulls:s,data:e.data,dataKey:e.dataKey}),[e.baseValue,e.stackId,s,e.data,e.dataKey]),{points:A,isRange:S,baseLine:I}=(t=ne(q=>Zue(q,y,b,C,j)))!==null&&t!==void 0?t:{},{height:N,width:R,x:D,y:k}=tv();return w!=="horizontal"&&w!=="vertical"||E!=="AreaChart"&&E!=="ComposedChart"?null:v.createElement(mce,Wa({},x,{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:I,connectNulls:s,dot:l,fill:u,fillOpacity:c,height:N,hide:d,layout:w,isAnimationActive:p,isRange:S,legendType:m,needClip:P,points:A,stroke:g,width:R,left:D,top:k,xAxisId:y,yAxisId:b}))}var vce=(e,t,r,n,i)=>{var a=r??t;if(J(a))return a;var o=e==="horizontal"?i:n,s=o.scale.domain();if(o.type==="number"){var l=Math.max(s[0],s[1]),u=Math.min(s[0],s[1]);return a==="dataMin"?u:a==="dataMax"||l<0?l:Math.max(Math.min(s[0],s[1]),0)}return a==="dataMin"?s[0]:a==="dataMax"?s[1]:s[0]};function yce(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:i,layout:a,chartBaseValue:o,xAxis:s,yAxis:l,displayedData:u,dataStartIndex:c,xAxisTicks:d,yAxisTicks:p,bandSize:m}=e,g=i&&i.length,y=vce(a,o,r,s,l),b=a==="horizontal",x=!1,w=u.map((P,C)=>{var j;g?j=i[c+C]:(j=Ve(P,n),Array.isArray(j)?x=!0:j=[y,j]);var A=j[1]==null||g&&!t&&Ve(P,n)==null;return b?{x:Tp({axis:s,ticks:d,bandSize:m,entry:P,index:C}),y:A?null:l.scale(j[1]),value:j,payload:P}:{x:A?null:s.scale(j[1]),y:Tp({axis:l,ticks:p,bandSize:m,entry:P,index:C}),value:j,payload:P}}),E;return g||x?E=w.map(P=>{var C=Array.isArray(P.value)?P.value[0]:null;return b?{x:P.x,y:C!=null&&P.y!=null?l.scale(C):null}:{x:C!=null?s.scale(C):null,y:P.y}}):E=b?l.scale(y):s.scale(y),{points:w,baseLine:E,isRange:x}}class LE extends v.PureComponent{render(){return v.createElement(OE,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},v.createElement(CE,{legendPayload:ace(this.props)}),v.createElement(Jg,{fn:oce,args:this.props}),v.createElement(gce,this.props))}}av(LE,"displayName","Area");av(LE,"defaultProps",w$);function DC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function MC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(r),!0).forEach(function(n){xce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xce(e,t,r){return(t=wce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wce(e){var t=bce(e,"string");return typeof t=="symbol"?t:t+""}function bce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _ce={xAxis:{},yAxis:{},zAxis:{}},b$=$r({name:"cartesianAxis",initialState:_ce,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=MC(MC({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:Ece,removeXAxis:Tce,addYAxis:Ace,removeYAxis:Sce,updateYAxisWidth:Pce}=b$.actions,Ice=b$.reducer,kce=["children"],Cce=["dangerouslySetInnerHTML","ticks"];function _$(e,t,r){return(t=Nce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nce(e){var t=Oce(e,"string");return typeof t=="symbol"?t:t+""}function Oce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hw.apply(null,arguments)}function E$(e,t){if(e==null)return{};var r,n,i=jce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Rce(e){var t=rt(),r=v.useMemo(()=>{var{children:a}=e,o=E$(e,kce);return o},[e]),n=ne(a=>ua(a,r.id)),i=r===n;return v.useEffect(()=>(t(Ece(r)),()=>{t(Tce(r))}),[r,t]),i?e.children:null}var Dce=e=>{var{xAxisId:t,className:r}=e,n=ne(eL),i=Pr(),a="xAxis",o=ne(m=>lu(m,a,t,i)),s=ne(m=>X4(m,a,t,i)),l=ne(m=>H4(m,t)),u=ne(m=>Qne(m,t));if(l==null||u==null)return null;var{dangerouslySetInnerHTML:c,ticks:d}=e,p=E$(e,Cce);return v.createElement(du,hw({},p,{scale:o,x:u.x,y:u.y,width:l.width,height:l.height,className:he("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s}))},Mce=e=>{var t,r,n,i,a;return v.createElement(Rce,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(a=e.tick)!==null&&a!==void 0?a:!0,tickFormatter:e.tickFormatter},v.createElement(Dce,e))};class yc extends v.Component{render(){return v.createElement(Mce,this.props)}}_$(yc,"displayName","XAxis");_$(yc,"defaultProps",{allowDataOverflow:Vr.allowDataOverflow,allowDecimals:Vr.allowDecimals,allowDuplicatedCategory:Vr.allowDuplicatedCategory,height:Vr.height,hide:!1,mirror:Vr.mirror,orientation:Vr.orientation,padding:Vr.padding,reversed:Vr.reversed,scale:Vr.scale,tickCount:Vr.tickCount,type:Vr.type,xAxisId:0});var Lce=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){t.forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>o&&(o=d.width)}});var s=r?r.getBoundingClientRect().width:0,l=i+a,u=o+l+s+(r?n:0);return Math.round(u)}return 0},$ce=["dangerouslySetInnerHTML","ticks"];function T$(e,t,r){return(t=zce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zce(e){var t=Vce(e,"string");return typeof t=="symbol"?t:t+""}function Vce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pw.apply(null,arguments)}function Fce(e,t){if(e==null)return{};var r,n,i=Uce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Uce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Bce(e){var t=rt();return v.useEffect(()=>(t(Ace(e)),()=>{t(Sce(e))}),[e,t]),null}var qce=e=>{var t,{yAxisId:r,className:n,width:i,label:a}=e,o=v.useRef(null),s=v.useRef(null),l=ne(eL),u=Pr(),c=rt(),d="yAxis",p=ne(E=>lu(E,d,r,u)),m=ne(E=>Q4(E,r)),g=ne(E=>Gne(E,r)),y=ne(E=>X4(E,d,r,u));if(v.useLayoutEffect(()=>{var E;if(!(i!=="auto"||!m||bE(a)||v.isValidElement(a))){var P=o.current,C=P==null||(E=P.tickRefs)===null||E===void 0?void 0:E.current,{tickSize:j,tickMargin:A}=P.props,S=Lce({ticks:C,label:s.current,labelGapWithTick:5,tickSize:j,tickMargin:A});Math.round(m.width)!==Math.round(S)&&c(Pce({id:r,width:S}))}},[o,o==null||(t=o.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,m==null?void 0:m.width,m,c,a,r,i]),m==null||g==null)return null;var{dangerouslySetInnerHTML:b,ticks:x}=e,w=Fce(e,$ce);return v.createElement(du,pw({},w,{ref:o,labelRef:s,scale:p,x:g.x,y:g.y,width:m.width,height:m.height,className:he("recharts-".concat(d," ").concat(d),n),viewBox:l,ticks:y}))},Kce=e=>{var t,r,n,i,a;return v.createElement(v.Fragment,null,v.createElement(Bce,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(a=e.tick)!==null&&a!==void 0?a:!0,tickFormatter:e.tickFormatter}),v.createElement(qce,e))},Wce={allowDataOverflow:Fr.allowDataOverflow,allowDecimals:Fr.allowDecimals,allowDuplicatedCategory:Fr.allowDuplicatedCategory,hide:!1,mirror:Fr.mirror,orientation:Fr.orientation,padding:Fr.padding,reversed:Fr.reversed,scale:Fr.scale,tickCount:Fr.tickCount,type:Fr.type,width:Fr.width,yAxisId:0};class xc extends v.Component{render(){return v.createElement(Kce,this.props)}}T$(xc,"displayName","YAxis");T$(xc,"defaultProps",Wce);var Hce=(e,t)=>t,$E=L([Hce,Ee,lne,Mt,f6,ca,Xie,Pt],rae),zE=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},A$=Er("mouseClick"),S$=wd();S$.startListening({actionCreator:A$,effect:(e,t)=>{var r=e.payload,n=$E(t.getState(),zE(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(lie({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var mw=Er("mouseMove"),P$=wd();P$.startListening({actionCreator:mw,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=fE(n,n.tooltip.settings.shared),a=$E(n,zE(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(a6({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(i6()))}});function Qce(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var LC={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},I$=$r({name:"rootProps",initialState:LC,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:LC.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Gce=I$.reducer,{updateOptions:Yce}=I$.actions,k$=$r({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Xce}=k$.actions,Jce=k$.reducer,C$=Er("keyDown"),N$=Er("focus"),VE=wd();VE.startListening({actionCreator:C$,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(hE(i,_s(r))),s=ca(r);if(a==="Enter"){var l=Up(r,"axis","hover",String(i.index));t.dispatch(rw({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var u=Zne(r),c=u==="left-to-right"?1:-1,d=a==="ArrowRight"?1:-1,p=o+d*c;if(!(s==null||p>=s.length||p<0)){var m=Up(r,"axis","hover",String(p));t.dispatch(rw({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});VE.startListening({actionCreator:N$,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=Up(r,"axis","hover",String(a));t.dispatch(rw({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var cn=Er("externalEvent"),O$=wd();O$.startListening({actionCreator:cn,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:Uie(r),activeDataKey:g6(r),activeIndex:ro(r),activeLabel:m6(r),activeTooltipIndex:ro(r),isTooltipActive:Bie(r)};e.payload.handler(n,e.payload.reactEvent)}}});var Zce=L([uu],e=>e.tooltipItemPayloads),ede=L([Zce,Yd,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(s=>s.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,r);return o}}}),j$=Er("touchMove"),R$=wd();R$.startListening({actionCreator:j$,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=fE(n,n.tooltip.settings.shared);if(i==="axis"){var a=$E(n,zE({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(a6({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,s=r.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(JM),c=(o=l.getAttribute(ZM))!==null&&o!==void 0?o:void 0,d=ede(t.getState(),u,c);t.dispatch(n6({activeDataKey:c,activeIndex:u,activeCoordinate:d}))}}});var tde=$j({brush:eue,cartesianAxis:Ice,chartData:vae,graphicalItems:Woe,layout:GX,legend:WJ,options:fae,polarAxis:Coe,polarOptions:Jce,referenceElements:lue,rootProps:Gce,tooltip:uie}),rde=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Uj({reducer:tde,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([S$.middleware,P$.middleware,VE.middleware,O$.middleware,R$.middleware]),devTools:{serialize:{replacer:Qce},name:"recharts-".concat(r)}})};function D$(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Pr(),a=v.useRef(null);if(i)return r;a.current==null&&(a.current=rde(t,n));var o=o1;return v.createElement(Sb,{context:o,store:a.current},r)}function M$(e){var{layout:t,width:r,height:n,margin:i}=e,a=rt(),o=Pr();return v.useEffect(()=>{o||(a(WX(t)),a(HX({width:r,height:n})),a(KX(i)))},[a,o,t,r,n,i]),null}function L$(e){var t=rt();return v.useEffect(()=>{t(Yce(e))},[t,e]),null}var nde=["children"];function ide(e,t){if(e==null)return{};var r,n,i=ade(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ade(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Yp(){return Yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yp.apply(null,arguments)}var ode={width:"100%",height:"100%"},sde=v.forwardRef((e,t)=>{var r=tL(),n=rL(),i=fL();if(!Ml(r)||!Ml(n))return null;var{children:a,otherAttributes:o,title:s,desc:l}=e,u,c;return typeof o.tabIndex=="number"?u=o.tabIndex:u=i?0:void 0,typeof o.role=="string"?c=o.role:c=i?"application":void 0,v.createElement(W_,Yp({},o,{title:s,desc:l,role:c,tabIndex:u,width:r,height:n,style:ode,ref:t}),a)}),lde=e=>{var{children:t}=e,r=ne(kg);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return v.createElement(W_,{width:n,height:i,x:o,y:a},t)},$C=v.forwardRef((e,t)=>{var{children:r}=e,n=ide(e,nde),i=Pr();return i?v.createElement(lde,null,r):v.createElement(sde,Yp({ref:t},n),r)});function ude(){var e=rt(),[t,r]=v.useState(null),n=ne(EJ);return v.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Yt(a)&&a!==n&&e(QX(a))}},[t,e,n]),r}function zC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cde(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zC(Object(r),!0).forEach(function(n){dde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dde(e,t,r){return(t=fde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fde(e){var t=hde(e,"string");return typeof t=="symbol"?t:t+""}function hde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pde=v.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:p,onTouchEnd:m,onTouchMove:g,onTouchStart:y,style:b,width:x}=e,w=rt(),[E,P]=v.useState(null),[C,j]=v.useState(null);wae();var A=ude(),S=v.useCallback(W=>{A(W),typeof t=="function"&&t(W),P(W),j(W)},[A,t,P,j]),I=v.useCallback(W=>{w(A$(W)),w(cn({handler:a,reactEvent:W}))},[w,a]),N=v.useCallback(W=>{w(mw(W)),w(cn({handler:u,reactEvent:W}))},[w,u]),R=v.useCallback(W=>{w(i6()),w(cn({handler:c,reactEvent:W}))},[w,c]),D=v.useCallback(W=>{w(mw(W)),w(cn({handler:d,reactEvent:W}))},[w,d]),k=v.useCallback(()=>{w(N$())},[w]),q=v.useCallback(W=>{w(C$(W.key))},[w]),te=v.useCallback(W=>{w(cn({handler:o,reactEvent:W}))},[w,o]),ie=v.useCallback(W=>{w(cn({handler:s,reactEvent:W}))},[w,s]),Q=v.useCallback(W=>{w(cn({handler:l,reactEvent:W}))},[w,l]),F=v.useCallback(W=>{w(cn({handler:p,reactEvent:W}))},[w,p]),Y=v.useCallback(W=>{w(cn({handler:y,reactEvent:W}))},[w,y]),ae=v.useCallback(W=>{w(j$(W)),w(cn({handler:g,reactEvent:W}))},[w,g]),xe=v.useCallback(W=>{w(cn({handler:m,reactEvent:W}))},[w,m]);return v.createElement(E6.Provider,{value:E},v.createElement(sM.Provider,{value:C},v.createElement("div",{className:he("recharts-wrapper",n),style:cde({position:"relative",cursor:"default",width:x,height:i},b),onClick:I,onContextMenu:te,onDoubleClick:ie,onFocus:k,onKeyDown:q,onMouseDown:Q,onMouseEnter:N,onMouseLeave:R,onMouseMove:D,onMouseUp:F,onTouchEnd:xe,onTouchMove:ae,onTouchStart:Y,ref:S},r)))}),mde=["children","className","width","height","style","compact","title","desc"];function gde(e,t){if(e==null)return{};var r,n,i=vde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $$=v.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:a,style:o,compact:s,title:l,desc:u}=e,c=gde(e,mde),d=me(c,!1);return s?v.createElement($C,{otherAttributes:d,title:l,desc:u},r):v.createElement(pde,{className:n,style:o,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement($C,{otherAttributes:d,title:l,desc:u,ref:t},v.createElement(cue,null,r)))}),yde=["width","height"];function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gw.apply(null,arguments)}function xde(e,t){if(e==null)return{};var r,n,i=wde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bde={top:5,right:5,bottom:5,left:5},_de={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:bde,reverseStackOrder:!1,syncMethod:"index"},FE=v.forwardRef(function(t,r){var n,i=Tn(t.categoricalChartProps,_de),{width:a,height:o}=i,s=xde(i,yde);if(!Ml(a)||!Ml(o))return null;var{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:p}=t,m={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return v.createElement(D$,{preloadedState:{options:m},reduxStoreName:(n=p.id)!==null&&n!==void 0?n:l},v.createElement(o$,{chartData:p.data}),v.createElement(M$,{width:a,height:o,layout:i.layout,margin:i.margin}),v.createElement(L$,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),v.createElement($$,gw({},s,{width:a,height:o,ref:r})))}),Ede=["axis"],Tde=v.forwardRef((e,t)=>v.createElement(FE,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ede,tooltipPayloadSearcher:Yg,categoricalChartProps:e,ref:t})),Ade=["axis","item"],Sde=v.forwardRef((e,t)=>v.createElement(FE,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ade,tooltipPayloadSearcher:Yg,categoricalChartProps:e,ref:t}));function Pde(e){var t=rt();return v.useEffect(()=>{t(Xce(e))},[t,e]),null}var Ide=["width","height","layout"];function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vw.apply(null,arguments)}function kde(e,t){if(e==null)return{};var r,n,i=Cde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Cde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Nde={top:5,right:5,bottom:5,left:5},Ode={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Nde,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},jde=v.forwardRef(function(t,r){var n,i=Tn(t.categoricalChartProps,Ode),{width:a,height:o,layout:s}=i,l=kde(i,Ide);if(!Ml(a)||!Ml(o))return null;var{chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:p}=t,m={chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,eventEmitter:void 0};return v.createElement(D$,{preloadedState:{options:m},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:u},v.createElement(o$,{chartData:i.data}),v.createElement(M$,{width:a,height:o,layout:s,margin:i.margin}),v.createElement(L$,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),v.createElement(Pde,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),v.createElement($$,vw({width:a,height:o},l,{ref:r})))}),Rde=["item"],Dde={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Mde=v.forwardRef((e,t)=>{var r=Tn(e,Dde);return v.createElement(jde,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Rde,tooltipPayloadSearcher:Yg,categoricalChartProps:r,ref:t})}),Lde=["axis"],$de=v.forwardRef((e,t)=>v.createElement(FE,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Lde,tooltipPayloadSearcher:Yg,categoricalChartProps:e,ref:t}));const zde=async()=>{try{console.log("🔍 Fetching real quiz data from Firebase...");const e=xr(ze(ue,"quizzes"),so("createdAt","desc"),tu(20)),r=(await ft(e)).docs.map(n=>({id:n.id,...n.data()}));return console.log("📊 Found real quizzes:",r.length),console.log("Quiz IDs:",r.map(n=>n.id)),r}catch(e){return console.error("❌ Error fetching real quiz data:",e),[]}},Vde=async()=>{try{console.log("👥 Fetching real user data from Firebase...");const e=xr(ze(ue,"users"),so("createdAt","desc"),tu(50)),r=(await ft(e)).docs.map(n=>({id:n.id,...n.data()}));return console.log("👤 Found real users:",r.length),r}catch(e){return console.error("❌ Error fetching real user data:",e),[]}},Fde=async()=>{try{console.log("⭐ Fetching real review data from Firebase...");const e=xr(ze(ue,"quizReviews"),so("createdAt","desc"),tu(100)),r=(await ft(e)).docs.map(n=>({id:n.id,...n.data()}));return console.log("📝 Found real reviews:",r.length),r}catch(e){return console.error("❌ Error fetching real review data:",e),[]}},Ude=async()=>{try{console.log("📂 Fetching real category data from Firebase...");const e=xr(ze(ue,"categories"),so("name","asc")),r=(await ft(e)).docs.map(n=>({id:n.id,...n.data()}));return console.log("🏷️ Found real categories:",r.length),r}catch(e){return console.error("❌ Error fetching real category data:",e),[]}},z$=()=>{const[e,t]=v.useState(!0),[r,n]=v.useState(null),[i,a]=v.useState("overview"),[o,s]=v.useState("30d"),l=mm();v.useEffect(()=>{u()},[]);const u=async()=>{t(!0);try{const[P,C,j,A]=await Promise.all([zde(),Vde(),Fde(),Ude()]);n({quizzes:P||[],users:C||[],reviews:j||[],categories:A||[]}),H.success("Đã tải dữ liệu thực tế từ Firebase!")}catch(P){console.error("Error loading real data:",P),H.error("Lỗi khi tải dữ liệu thực tế")}finally{t(!1)}},c=()=>{u()},d=()=>{console.log("Exporting data..."),H.info("Chức năng xuất dữ liệu đang được phát triển")},m=(()=>{if(!r)return null;const{quizzes:P,users:C,reviews:j}=r;return{totalUsers:C.length,activeUsers:Math.floor(C.length*.7),totalQuizzes:P.length,completedQuizzes:Math.floor(P.length*4.2),averageScore:78.5,completionRate:85.2,userGrowthRate:12.5,quizCompletionGrowth:8.3,totalReviews:j.length,averageRating:j.length>0?j.reduce((A,S)=>A+(S.rating||0),0)/j.length:0}})(),g=({title:P,value:C,icon:j,change:A,color:S,onClick:I})=>h.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-all duration-200 ${I?"cursor-pointer":""}`,onClick:I,children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:P}),h.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:C})]}),h.jsx("div",{className:`p-3 rounded-full bg-${S}-100`,children:j})]}),h.jsxs("div",{className:"mt-4 flex items-center",children:[A>=0?h.jsx(eY,{className:"w-4 h-4 text-green-500 mr-1"}):h.jsx(JG,{className:"w-4 h-4 text-red-500 mr-1"}),h.jsxs("span",{className:`text-sm font-medium ${A>=0?"text-green-600":"text-red-600"}`,children:[A>=0?"+":"",A,"%"]}),h.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs tháng trước"})]})]}),y=()=>{var P;return m?h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[h.jsx(g,{title:"Tổng người dùng",value:m.totalUsers.toLocaleString(),icon:h.jsx(iI,{className:"w-6 h-6 text-blue-600"}),change:m.userGrowthRate,color:"blue",onClick:()=>a("users")}),h.jsx(g,{title:"Người dùng hoạt động",value:m.activeUsers.toLocaleString(),icon:h.jsx(wG,{className:"w-6 h-6 text-green-600"}),change:8.2,color:"green"}),h.jsx(g,{title:"Tổng quiz",value:m.totalQuizzes.toLocaleString(),icon:h.jsx(Jn,{className:"w-6 h-6 text-purple-600"}),change:15.3,color:"purple",onClick:()=>a("quizzes")}),h.jsx(g,{title:"Lượt hoàn thành",value:m.completedQuizzes.toLocaleString(),icon:h.jsx(nI,{className:"w-6 h-6 text-orange-600"}),change:m.quizCompletionGrowth,color:"orange"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tăng trưởng người dùng"}),h.jsx("div",{className:"flex space-x-2",children:["7d","30d","90d","1y"].map(C=>h.jsx("button",{onClick:()=>s(C),className:`px-3 py-1 text-xs rounded-full ${o===C?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:C},C))})]}),h.jsx(Xf,{width:"100%",height:300,children:h.jsxs($de,{data:[{date:"T1",users:Math.floor(m.totalUsers*.7)},{date:"T2",users:Math.floor(m.totalUsers*.8)},{date:"T3",users:Math.floor(m.totalUsers*.9)},{date:"T4",users:m.totalUsers}],children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"colorUsers",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),h.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]})}),h.jsx(yc,{dataKey:"date"}),h.jsx(xc,{}),h.jsx(Yf,{}),h.jsx(LE,{type:"monotone",dataKey:"users",stroke:"#3B82F6",fillOpacity:1,fill:"url(#colorUsers)"})]})})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Hoạt động Quiz"}),h.jsx(Xf,{width:"100%",height:300,children:h.jsxs(Sde,{data:[{date:"T1",created:Math.floor(m.totalQuizzes*.2),completed:Math.floor(m.completedQuizzes*.2)},{date:"T2",created:Math.floor(m.totalQuizzes*.3),completed:Math.floor(m.completedQuizzes*.3)},{date:"T3",created:Math.floor(m.totalQuizzes*.4),completed:Math.floor(m.completedQuizzes*.5)},{date:"T4",created:Math.floor(m.totalQuizzes*.1),completed:Math.floor(m.completedQuizzes*.3)}],children:[h.jsx(yc,{dataKey:"date"}),h.jsx(xc,{}),h.jsx(Yf,{}),h.jsx(cl,{}),h.jsx(Wp,{dataKey:"created",fill:"#10B981",name:"Quiz được tạo"}),h.jsx(Wp,{dataKey:"completed",fill:"#3B82F6",name:"Lượt hoàn thành"})]})})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hiệu suất tổng quan"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-600",children:"Điểm trung bình"}),h.jsxs("span",{className:"font-semibold text-green-600",children:[m.averageScore,"%"]})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-600",children:"Tỷ lệ hoàn thành"}),h.jsxs("span",{className:"font-semibold text-blue-600",children:[m.completionRate,"%"]})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-600",children:"Tổng đánh giá"}),h.jsx("span",{className:"font-semibold text-purple-600",children:m.totalReviews})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-600",children:"Đánh giá trung bình"}),h.jsxs("span",{className:"font-semibold text-yellow-600",children:[m.averageRating.toFixed(1)," ⭐"]})]})]})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top danh mục"}),h.jsx("div",{className:"space-y-3",children:(P=r==null?void 0:r.categories)==null?void 0:P.slice(0,5).map((C,j)=>h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-gray-600",children:C.name||`Danh mục ${j+1}`}),h.jsx("span",{className:"font-semibold text-blue-600",children:r.quizzes.filter(A=>A.category===C.id).length})]},C.id))})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hoạt động gần đây"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),h.jsxs("span",{className:"text-sm text-gray-600",children:[m.totalQuizzes," quiz có sẵn"]})]}),h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),h.jsxs("span",{className:"text-sm text-gray-600",children:[m.totalUsers," người dùng đăng ký"]})]}),h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),h.jsxs("span",{className:"text-sm text-gray-600",children:[m.totalReviews," đánh giá"]})]}),h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),h.jsxs("span",{className:"text-sm text-gray-600",children:[m.completedQuizzes," lượt hoàn thành"]})]})]})]})]})]}):h.jsx("div",{children:"Loading..."})},b=()=>{var P;return h.jsx("div",{className:"space-y-6",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quản lý người dùng"}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-gray-200",children:[h.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"ID"}),h.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Email"}),h.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Vai trò"}),h.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Trạng thái"})]})}),h.jsx("tbody",{children:(P=r==null?void 0:r.users)==null?void 0:P.slice(0,10).map(C=>h.jsxs("tr",{className:"border-b border-gray-100",children:[h.jsx("td",{className:"py-3 px-4 text-sm text-gray-900",children:C.id}),h.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:C.email||"N/A"}),h.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:C.role||"user"}),h.jsx("td",{className:"py-3 px-4",children:h.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Hoạt động"})})]},C.id))})]})})]})})},x=()=>{var P;return h.jsx("div",{className:"space-y-6",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quản lý Quiz"}),h.jsx("button",{onClick:()=>l("/admin/quiz-management"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Quản lý chi tiết"})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-gray-200",children:[h.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Tiêu đề"}),h.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Danh mục"}),h.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Người tạo"}),h.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Ngày tạo"}),h.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Hành động"})]})}),h.jsx("tbody",{children:(P=r==null?void 0:r.quizzes)==null?void 0:P.slice(0,10).map(C=>h.jsxs("tr",{className:"border-b border-gray-100",children:[h.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:C.title||"Chưa có tiêu đề"}),h.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:C.category||"Chưa phân loại"}),h.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:C.createdBy||"N/A"}),h.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:C.createdAt?new Date(C.createdAt.seconds*1e3).toLocaleDateString():"N/A"}),h.jsx("td",{className:"py-3 px-4",children:h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{onClick:()=>l(`/quiz/${C.id}`),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Xem quiz",children:h.jsx(Hs,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>l(`/admin/edit-quiz/${C.id}`),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Chỉnh sửa",children:h.jsx(KG,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>l(`/quiz/${C.id}/reviews`),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Xem đánh giá",children:h.jsx(jG,{className:"w-4 h-4"})})]})})]},C.id))})]})})]})})},w=()=>h.jsx("div",{className:"space-y-6",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Chỉ số hiệu suất"}),h.jsx(Xf,{width:"100%",height:300,children:h.jsxs(Tde,{data:[{month:"T1",score:75,completion:80},{month:"T2",score:78,completion:82},{month:"T3",score:76,completion:85},{month:"T4",score:79,completion:87}],children:[h.jsx(yc,{dataKey:"month"}),h.jsx(xc,{}),h.jsx(Yf,{}),h.jsx(cl,{}),h.jsx(Qp,{type:"monotone",dataKey:"score",stroke:"#10B981",name:"Điểm trung bình"}),h.jsx(Qp,{type:"monotone",dataKey:"completion",stroke:"#3B82F6",name:"Tỷ lệ hoàn thành"})]})})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Phân bố đánh giá"}),h.jsx(Xf,{width:"100%",height:300,children:h.jsxs(Mde,{children:[h.jsx(NE,{data:[{name:"5 sao",value:35,color:"#10B981"},{name:"4 sao",value:28,color:"#3B82F6"},{name:"3 sao",value:20,color:"#F59E0B"},{name:"2 sao",value:12,color:"#EF4444"},{name:"1 sao",value:5,color:"#6B7280"}],cx:"50%",cy:"50%",outerRadius:100,dataKey:"value",children:[{color:"#10B981"},{color:"#3B82F6"},{color:"#F59E0B"},{color:"#EF4444"},{color:"#6B7280"}].map((P,C)=>h.jsx(Xd,{fill:P.color},`cell-${C}`))}),h.jsx(Yf,{}),h.jsx(cl,{})]})})]})]})});if(e)return h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),h.jsx("p",{className:"mt-4 text-gray-600",children:"Đang tải dữ liệu thực tế..."})]})});const E=[{id:"overview",label:"Tổng quan",icon:nI},{id:"users",label:"Người dùng",icon:iI},{id:"quizzes",label:"Quiz",icon:Jn},{id:"performance",label:"Hiệu suất",icon:_G}];return h.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[h.jsx("div",{className:"mb-8",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"📊 Thống kê Admin (Dữ liệu thực)"}),h.jsx("p",{className:"text-gray-600",children:"Dashboard thống kê với dữ liệu thực từ Firebase"})]}),h.jsxs("div",{className:"flex space-x-3",children:[h.jsxs("button",{onClick:c,disabled:e,className:"flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[h.jsx(zG,{className:`w-4 h-4 mr-2 ${e?"animate-spin":""}`}),"Làm mới"]}),h.jsxs("button",{onClick:d,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[h.jsx(CG,{className:"w-4 h-4 mr-2"}),"Xuất dữ liệu"]})]})]})}),h.jsx("div",{className:"mb-8",children:h.jsx("nav",{className:"flex space-x-1 bg-white rounded-lg p-1 shadow-sm border border-gray-200",children:E.map(P=>{const C=P.icon;return h.jsxs("button",{onClick:()=>a(P.id),className:`flex items-center px-6 py-3 rounded-md font-medium transition-all duration-200 ${i===P.id?"bg-blue-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[h.jsx(C,{className:"w-5 h-5 mr-2"}),P.label]},P.id)})})}),h.jsxs("div",{className:"mb-8",children:[i==="overview"&&y(),i==="users"&&b(),i==="quizzes"&&x(),i==="performance"&&w()]})]})})},Bde=Object.freeze(Object.defineProperty({__proto__:null,default:z$},Symbol.toStringTag,{value:"Module"})),qde=()=>h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between items-center h-16",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center mr-3",children:h.jsx("span",{className:"text-white text-xl",children:"📊"})}),h.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Thống kê Admin"})]}),h.jsx("div",{className:"flex items-center space-x-4",children:h.jsx("a",{href:"/admin",className:"bg-gray-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-700 transition-colors duration-200",children:"← Về Admin Dashboard"})})]})})}),h.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4",children:h.jsxs("div",{className:"flex",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx("span",{className:"text-green-400 text-xl",children:"✅"})}),h.jsxs("div",{className:"ml-3",children:[h.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Thành công! Bạn đang xem trang thống kê với biểu đồ"}),h.jsxs("div",{className:"mt-2 text-sm text-green-700",children:[h.jsx("p",{children:"Trang này hiển thị:"}),h.jsxs("ul",{className:"list-disc list-inside mt-1",children:[h.jsx("li",{children:"📊 Biểu đồ cột - Danh mục phổ biến"}),h.jsx("li",{children:"🥧 Biểu đồ tròn - Tỷ lệ quiz đã duyệt/chờ duyệt"}),h.jsx("li",{children:"📈 8 Cards thống kê chi tiết"}),h.jsx("li",{children:"🎯 Dữ liệu mẫu để demo"})]})]})]})]})}),h.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:h.jsx(z$,{})})]}),Kde=({children:e})=>{const{user:t}=Jr(a=>a.auth),r=ia();if(["/login","/register"].includes(r.pathname))return h.jsx(h.Fragment,{children:e});if(!t)return h.jsx(h.Fragment,{children:e});const i=async()=>{try{await BK(Nl)}catch(a){console.error("Error signing out:",a)}};return h.jsxs("div",{className:"min-h-screen bg-gray-100",children:[h.jsx("header",{className:"bg-white shadow-sm",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h1",{className:"text-xl font-bold text-blue-600",children:"Quiz App"}),h.jsxs("nav",{className:"flex space-x-4",children:[h.jsx(Ie,{to:"/dashboard",className:"text-gray-700 hover:text-blue-600",children:"Dashboard"}),h.jsx(Ie,{to:"/quizzes",className:"text-gray-700 hover:text-blue-600",children:"Quiz"}),h.jsx(Ie,{to:"/favorites",className:"text-gray-700 hover:text-yellow-500",children:"Favorites"}),h.jsx(Ie,{to:"/leaderboard",className:"text-gray-700 hover:text-green-600",children:"Leaderboard"}),t.role==="admin"?h.jsx(Ie,{to:"/creator",className:"text-gray-700 hover:text-blue-600",children:"Creator"}):null,t.role==="admin"?h.jsx(Ie,{to:"/admin",className:"text-gray-700 hover:text-blue-600",children:"Admin"}):null,h.jsx(Ie,{to:"/profile",className:"text-gray-700 hover:text-blue-600",children:"Profile"}),h.jsx("button",{onClick:i,className:"text-red-600 hover:text-red-800",children:"Logout"})]})]})})}),h.jsx("main",{className:"max-w-7xl mx-auto px-4 py-6",children:e})]})},Wde=()=>h.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:h.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-8 text-center",children:[h.jsx("div",{className:"text-gray-400 text-7xl mb-4",children:"404"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Trang không tồn tại"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Rất tiếc, trang bạn đang tìm kiếm không tồn tại hoặc đã bị di chuyển."}),h.jsx(Ie,{to:"/",className:"inline-block px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Quay về trang chủ"})]})});class Hde extends v.Component{constructor(){super(...arguments);VT(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){var i,a,o;if(console.error("Error caught by ErrorBoundary:",r,n),(i=r.message)!=null&&i.includes("suspended")||(a=r.message)!=null&&a.includes("Suspense")||(o=r.message)!=null&&o.includes("lazy")){console.warn("Suspense-related error suppressed:",r.message);return}this.setState({hasError:!0,error:r,errorInfo:n})}render(){var r;return this.state.hasError?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4 py-8",children:h.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-8 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-2.694-.833-3.464 0L3.349 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Đã xảy ra lỗi"}),h.jsx("p",{className:"text-gray-600 mb-6",children:((r=this.state.error)==null?void 0:r.message)||"Ứng dụng gặp sự cố không mong muốn."}),h.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors duration-200",children:"Tải lại trang"}),!1]})}):this.props.children}}const Qde=({user:e,onRoleSelected:t})=>{const[r,n]=v.useState(null),[i,a]=v.useState(!1),o=$m(),s=async l=>{try{const u=Le(ue,"users",e.uid);await Cl(u,{role:l,roleSelectedAt:new Date,status:"active",email:e.email,displayName:e.displayName,updatedAt:new Date},{merge:!0}),o(AS(l)),console.log("Role updated in Redux:",l),localStorage.setItem(`user_role_${e.uid}`,l),setTimeout(()=>{console.log("Calling onRoleSelected callback"),t()},100)}catch(u){console.error("Error updating user role:",u),console.warn("Firestore update failed, using localStorage fallback"),o(AS(l)),console.log("Role updated in Redux (fallback):",l),localStorage.setItem(`user_role_${e.uid}`,l),setTimeout(()=>{console.log("Calling onRoleSelected callback (fallback)"),t()},100),setTimeout(()=>{H.info("Vai trò đã được chọn. Dữ liệu sẽ được đồng bộ khi kết nối ổn định.")},1e3)}finally{a(!1)}};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-md w-full mx-4 shadow-2xl",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Chọn vai trò của bạn"}),h.jsx("p",{className:"text-gray-600",children:"Hãy chọn vai trò phù hợp để bắt đầu sử dụng Quiz Trivia"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 ${r==="user"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>n("user"),children:h.jsxs("div",{className:"flex items-start space-x-3",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:h.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"User (Người dùng)"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Tham gia làm quiz, xem kết quả và theo dõi tiến độ học tập của bạn"}),h.jsxs("ul",{className:"mt-2 text-xs text-gray-500 space-y-1",children:[h.jsx("li",{children:"• Làm các quiz có sẵn"}),h.jsx("li",{children:"• Xem lịch sử kết quả"}),h.jsx("li",{children:"• Theo dõi tiến độ học tập"})]})]})]})}),h.jsx("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 ${r==="creator"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>n("creator"),children:h.jsxs("div",{className:"flex items-start space-x-3",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:h.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Creator (Người tạo)"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Tạo quiz cho cộng đồng, bao gồm tất cả quyền của User"}),h.jsxs("ul",{className:"mt-2 text-xs text-gray-500 space-y-1",children:[h.jsx("li",{children:"• Tất cả quyền của User"}),h.jsx("li",{children:"• Tạo quiz mới"}),h.jsx("li",{children:"• Quản lý quiz đã tạo"}),h.jsx("li",{children:"• Quiz cần admin phê duyệt"})]})]})]})})]}),h.jsx("div",{className:"mt-6 flex space-x-3",children:h.jsx("button",{onClick:()=>r&&s(r),disabled:!r||i,className:`flex-1 py-3 px-4 rounded-lg font-semibold transition-all duration-200 ${r&&!i?"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:i?h.jsxs("div",{className:"flex items-center justify-center",children:[h.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Đang cập nhật..."]}):"Xác nhận vai trò"})}),h.jsx("div",{className:"mt-4 text-center",children:h.jsx("p",{className:"text-xs text-gray-500",children:"Bạn có thể thay đổi vai trò sau trong phần cài đặt tài khoản"})})]})})},Gde=({message:e="Đang tải...",fullScreen:t=!0})=>t?h.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-600 mb-4"}),h.jsx("div",{className:"text-xl font-semibold text-gray-700",children:e})]})}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-4",children:Array.from({length:6}).map((r,n)=>h.jsx("div",{className:"animate-pulse bg-white rounded-xl shadow-lg h-64"},n))}),Vt=({children:e,requiredRole:t})=>{const{user:r,isLoading:n}=Jr(i=>i.auth);return console.log("🛡️ ProtectedRoute check:",{hasUser:!!r,isLoading:n,userRole:r==null?void 0:r.role,requiredRole:t,userEmail:r==null?void 0:r.email}),n?(console.log("🛡️ ProtectedRoute: Showing loading..."),h.jsx(Gde,{message:"Đang xác thực..."})):r?t&&r.role!==t&&r.role!=="admin"?(console.log("🛡️ ProtectedRoute: Role mismatch, showing unauthorized"),h.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:h.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.962-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),h.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Không có quyền truy cập"}),h.jsx("p",{className:"mt-1 text-sm text-gray-500",children:t==="creator"?"Bạn cần có vai trò Creator để truy cập trang này.":"Bạn cần có vai trò Admin để truy cập trang này."}),h.jsx("div",{className:"mt-6",children:h.jsx("button",{onClick:()=>window.history.back(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:"Quay lại"})})]})})):(console.log("🛡️ ProtectedRoute: Access granted, rendering children"),h.jsx(h.Fragment,{children:e})):(console.log("🛡️ ProtectedRoute: No user, redirecting to login"),h.jsx(Qh,{to:"/login",replace:!0}))},Yde=()=>{const e=Jr(r=>r.auth.user),t=$m();return v.useEffect(()=>{if(!(e!=null&&e.uid))return;let r,n=!1;const i=async()=>{try{const o=(await di(Le(ue,"users",e.uid))).data();o&&o.isActive===!1&&(n||(t(tR()),H.error("Tài khoản của bạn đã bị khoá. Vui lòng liên hệ quản trị viên."),Nl.currentUser&&await Nl.signOut()))}catch{}};return i(),r=setInterval(i,5e3),()=>{n=!0,clearInterval(r)}},[e==null?void 0:e.uid,t]),null},_i=({children:e})=>{const{user:t,isAuthenticated:r}=Jr(n=>n.auth);return!r||!t?h.jsx(Qh,{to:"/login",replace:!0}):t.role!=="admin"?h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-900 via-red-800 to-red-900 flex items-center justify-center px-4",children:h.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-2.694-.833-3.464 0L3.349 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Truy cập bị từ chối"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Bạn không có quyền truy cập vào khu vực admin. Chỉ quản trị viên mới có thể truy cập."}),h.jsx("button",{onClick:()=>window.history.back(),className:"bg-red-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-700 transition-colors duration-200",children:"Quay lại"})]})}):h.jsx(h.Fragment,{children:e})},Xde=()=>{const[e,t]=v.useState(null),[r,n]=v.useState(!0),[i,a]=v.useState(null),{user:o}=Jr(u=>u.auth);if(v.useEffect(()=>{(async()=>{if(!o){n(!1);return}try{n(!0);const c=ze(ue,"system_notifications"),d=xr(c,Ta("isActive","==",!0),so("createdAt","desc"),tu(1)),p=await ft(d);if(p.empty){t(null),n(!1);return}let m=null;p.forEach(g=>{const y=g.data();y.id=g.id,(y.targetRole==="all"||!y.targetRole||y.targetRole===o.role)&&(m=y)}),t(m)}catch(c){console.error("Error loading notifications:",c),a("Error loading notifications")}finally{n(!1)}})().catch(console.error)},[o]),r||!e)return null;if(i)return console.error("NotificationBanner error:",i),null;const s=()=>{switch(e.type){case"info":return"bg-blue-100 border-blue-500 text-blue-800";case"warning":return"bg-yellow-100 border-yellow-500 text-yellow-800";case"success":return"bg-green-100 border-green-500 text-green-800";case"error":return"bg-red-100 border-red-500 text-red-800";default:return"bg-gray-100 border-gray-500 text-gray-800"}},l=()=>{switch(e==null?void 0:e.type){case"info":return"text-blue-800 hover:text-blue-600";case"warning":return"text-yellow-800 hover:text-yellow-600";case"success":return"text-green-800 hover:text-green-600";case"error":return"text-red-800 hover:text-red-600";default:return"text-gray-800 hover:text-gray-600"}};return h.jsx("div",{className:`fixed top-0 left-0 right-0 z-50 p-4 border-l-4 ${s()} w-full shadow-md`,children:h.jsxs("div",{className:"max-w-5xl mx-auto flex justify-between items-center",children:[h.jsx("p",{className:"font-medium",children:e.message}),h.jsx("button",{onClick:()=>t(null),className:`ml-4 font-bold text-xl ${l()} hover:scale-110 transition-transform`,"aria-label":"Đóng thông báo",children:"×"})]})})},Jde=pe.lazy(()=>pr(()=>import("./Dashboard-tTB7laH2.js"),[])),Zde=pe.lazy(()=>pr(()=>import("./QuizList-C89JqL6m.js"),[])),efe=pe.lazy(()=>pr(()=>import("./QuizPage-BQgcUfgS.js"),[])),tfe=pe.lazy(()=>pr(()=>import("./QuizPreviewPage-CRhuT1Hg.js"),__vite__mapDeps([0,1,2]))),rfe=pe.lazy(()=>pr(()=>import("./QuizReviewsPage-DgBzyldn.js"),__vite__mapDeps([3,2,4,5]))),nfe=pe.lazy(()=>pr(()=>import("./ReviewTestPage-DiHJehvc.js"),__vite__mapDeps([6,4,5,2,7,8]))),VC=pe.lazy(()=>pr(()=>import("./RealQuizListPage-r6_TvbBJ.js"),__vite__mapDeps([9,7]))),FC=pe.lazy(()=>pr(()=>import("./ResultPage-Cs2OCoen.js"),__vite__mapDeps([10,1,2]))),ife=pe.lazy(()=>pr(()=>import("./Profile-C_kwKBOx.js"),__vite__mapDeps([11,12,5]))),afe=pe.lazy(()=>pr(()=>import("./FavoritesPage-CfUCpVec.js"),__vite__mapDeps([13,14]))),ofe=pe.lazy(()=>pr(()=>import("./LeaderboardPage-NGwU8jWE.js"),[])),UC=pe.lazy(()=>pr(()=>import("./CreateQuizPage-mE5Paah5.js"),__vite__mapDeps([15,16,17]))),BC=pe.lazy(()=>pr(()=>import("./EditQuizPageAdvanced-Bbgc3PZY.js"),__vite__mapDeps([18,12,8,7,19,16]))),sfe=pe.lazy(()=>pr(()=>import("./CategoryManagement-udtSBiym.js"),__vite__mapDeps([20,19]))),lfe=pe.lazy(()=>pr(()=>Promise.resolve().then(()=>Bde),void 0)),ufe=pe.lazy(()=>pr(()=>import("./AdminUtilities-D_YQl29r.js"),__vite__mapDeps([21,17]))),cfe=({children:e})=>{const t=$m();return v.useEffect(()=>{const r=setTimeout(()=>{t(TS())},5e3),n=UK(Nl,async i=>{if(clearTimeout(r),console.log("🔐 Auth state changed:",{user:i?{uid:i.uid,email:i.email,displayName:i.displayName}:null,timestamp:new Date().toISOString()}),i)try{const a=Le(ue,"users",i.uid),o=await di(a);let s="user",l=null;if(o.exists())l=o.data(),s=l.role||"user",console.log("✅ Found user document:",{uid:i.uid,role:s,userData:l});else if(i.email==="admin123@gmail.com"){s="admin",console.log("👑 Creating admin user document");try{await Cl(a,{email:i.email,displayName:i.displayName||"Admin",role:"admin",createdAt:new Date,isActive:!0})}catch(c){console.error("Error creating admin document:",c)}}else{console.log("🆕 Creating default user document for:",i.email);try{await Cl(a,{email:i.email,displayName:i.displayName||"User",role:"user",createdAt:new Date,isActive:!0}),s="user"}catch(c){console.error("Error creating user document:",c)}}const u={uid:i.uid,email:i.email,displayName:i.displayName,photoURL:i.photoURL,emailVerified:i.emailVerified,role:s};console.log("📝 Dispatching loginSuccess with:",u),t(ES(u))}catch(a){console.error("Error getting user role:",a);const o=i.email==="admin123@gmail.com"?"admin":"user";t(ES({uid:i.uid,email:i.email,displayName:i.displayName,photoURL:i.photoURL,emailVerified:i.emailVerified,role:o}))}else t(tR());t(TS())});return()=>{clearTimeout(r),n()}},[t]),h.jsx(h.Fragment,{children:e})},Ke=()=>h.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[h.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),h.jsx("span",{className:"ml-3 text-lg font-medium text-gray-700",children:"Đang tải..."})]}),dfe=()=>{const{user:e,isLoading:t,authChecked:r,isAuthenticated:n}=Jr(i=>i.auth);return console.log("📱 AppContent render:",{user:e?{uid:e.uid,email:e.email,role:e.role}:null,isLoading:t,authChecked:r,isAuthenticated:n}),t||!r?(console.log("📱 App: Showing loading screen",{isLoading:t,authChecked:r}),h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mb-4"}),h.jsx("div",{className:"text-xl font-semibold text-gray-700",children:"Đang tải dữ liệu..."}),h.jsx("div",{className:"text-sm text-gray-500 mt-2",children:"Vui lòng đợi một chút"}),t&&h.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Đang kiểm tra xác thực..."})]})})):h.jsx("div",{children:h.jsxs(FV,{children:[h.jsx(Te,{path:"/landing",element:h.jsx(JP,{})}),h.jsx(Te,{path:"/home",element:h.jsx(fY,{})}),h.jsx(Te,{path:"/login",element:n?h.jsx(Qh,{to:"/dashboard",replace:!0}):h.jsx(mY,{})}),h.jsx(Te,{path:"/dashboard",element:h.jsx(Vt,{children:h.jsx(v.Suspense,{fallback:h.jsx(Ke,{}),children:h.jsx(Jde,{})})})}),h.jsx(Te,{path:"/profile",element:h.jsx(Vt,{children:h.jsx(v.Suspense,{fallback:h.jsx(Ke,{}),children:h.jsx(ife,{})})})}),h.jsx(Te,{path:"/quizzes",element:h.jsx(Vt,{children:h.jsx(v.Suspense,{fallback:h.jsx(Ke,{}),children:h.jsx(Zde,{})})})}),h.jsx(Te,{path:"/quiz/:id",element:h.jsx(Vt,{children:h.jsx(v.Suspense,{fallback:h.jsx(Ke,{}),children:h.jsx(efe,{})})})}),h.jsx(Te,{path:"/quiz/:id/preview",element:h.jsx(Vt,{children:h.jsx(v.Suspense,{fallback:h.jsx(Ke,{}),children:h.jsx(tfe,{})})})}),h.jsx(Te,{path:"/quiz/:id/reviews",element:h.jsx(Vt,{children:h.jsx(v.Suspense,{fallback:h.jsx(Ke,{}),children:h.jsx(rfe,{})})})}),h.jsx(Te,{path:"/test-reviews/:quizId",element:h.jsx(Vt,{children:h.jsx(v.Suspense,{fallback:h.jsx(Ke,{}),children:h.jsx(nfe,{})})})}),h.jsx(Te,{path:"/real-quizzes",element:h.jsx(Vt,{children:h.jsx(v.Suspense,{fallback:h.jsx(Ke,{}),children:h.jsx(VC,{})})})}),h.jsx(Te,{path:"/quiz/:id/edit",element:h.jsx(Vt,{requiredRole:"admin",children:h.jsx(v.Suspense,{fallback:h.jsx(Ke,{}),children:h.jsx(BC,{})})})}),h.jsx(Te,{path:"/results/:attemptId",element:h.jsx(Vt,{children:h.jsx(v.Suspense,{fallback:h.jsx(Ke,{}),children:h.jsx(FC,{})})})}),h.jsx(Te,{path:"/quiz/:quizId/result/:resultId",element:h.jsx(Vt,{children:h.jsx(v.Suspense,{fallback:h.jsx(Ke,{}),children:h.jsx(FC,{})})})}),h.jsx(Te,{path:"/create-quiz",element:h.jsx(Vt,{requiredRole:"admin",children:h.jsx(v.Suspense,{fallback:h.jsx(Ke,{}),children:h.jsx(UC,{})})})}),h.jsx(Te,{path:"/creator",element:h.jsx(Vt,{requiredRole:"admin",children:h.jsx(v.Suspense,{fallback:h.jsx(Ke,{}),children:h.jsx(UC,{})})})}),h.jsx(Te,{path:"/admin",element:h.jsx(_i,{children:h.jsx(v.Suspense,{fallback:h.jsx(Ke,{}),children:h.jsx(gY,{})})})}),h.jsx(Te,{path:"/admin/dashboard",element:h.jsx(Qh,{to:"/admin/quiz-management",replace:!0})}),h.jsx(Te,{path:"/admin/quiz-management",element:h.jsx(_i,{children:h.jsx(v.Suspense,{fallback:h.jsx(Ke,{}),children:h.jsx(vY,{})})})}),h.jsx(Te,{path:"/admin/users",element:h.jsx(_i,{children:h.jsx(v.Suspense,{fallback:h.jsx(Ke,{}),children:h.jsx(oI,{})})})}),h.jsx(Te,{path:"/admin/roles",element:h.jsx(_i,{children:h.jsx(v.Suspense,{fallback:h.jsx(Ke,{}),children:h.jsx(oI,{})})})}),h.jsx(Te,{path:"/admin/quiz-stats",element:h.jsx(_i,{children:h.jsx(v.Suspense,{fallback:h.jsx(Ke,{}),children:h.jsx(qde,{})})})}),h.jsx(Te,{path:"/admin/categories",element:h.jsx(_i,{children:h.jsx(v.Suspense,{fallback:h.jsx(Ke,{}),children:h.jsx(sfe,{})})})}),h.jsx(Te,{path:"/admin/stats-test",element:h.jsx(_i,{children:h.jsx(v.Suspense,{fallback:h.jsx(Ke,{}),children:h.jsx(lfe,{})})})}),h.jsx(Te,{path:"/admin/utilities",element:h.jsx(_i,{children:h.jsx(v.Suspense,{fallback:h.jsx(Ke,{}),children:h.jsx(ufe,{})})})}),h.jsx(Te,{path:"/admin/edit-quiz/:id",element:h.jsx(_i,{children:h.jsx(v.Suspense,{fallback:h.jsx(Ke,{}),children:h.jsx(BC,{})})})}),h.jsx(Te,{path:"/real-quizzes",element:h.jsx(Vt,{children:h.jsx(v.Suspense,{fallback:h.jsx(Ke,{}),children:h.jsx(VC,{})})})}),h.jsx(Te,{path:"/role-selection",element:h.jsx(Vt,{children:h.jsx(Qde,{user:e,onRoleSelected:()=>window.location.reload()})})}),h.jsx(Te,{path:"/favorites",element:h.jsx(Vt,{children:h.jsx(v.Suspense,{fallback:h.jsx(Ke,{}),children:h.jsx(afe,{})})})}),h.jsx(Te,{path:"/leaderboard",element:h.jsx(Vt,{children:h.jsx(v.Suspense,{fallback:h.jsx(Ke,{}),children:h.jsx(ofe,{})})})}),h.jsx(Te,{path:"/",element:h.jsx(JP,{})}),h.jsx(Te,{path:"*",element:h.jsx(Wde,{})})]})})};function ffe(){return h.jsx(dF,{children:h.jsx(Sb,{store:ZD,children:h.jsx(cfe,{children:h.jsx(Hde,{children:h.jsxs("div",{className:"app-container",children:[h.jsx(Xde,{}),h.jsxs(Kde,{children:[h.jsx(Yde,{}),h.jsx(dfe,{}),h.jsx(nG,{position:"top-right",autoClose:3e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,"aria-label":"notification"})]})]})})})})})}rj(document.getElementById("root")).render(h.jsx(v.StrictMode,{children:h.jsx(Sb,{store:ZD,children:h.jsx(ffe,{})})}));export{kd as $,tI as A,Jn as B,IG as C,Nl as D,Hs as E,wfe as F,bfe as G,gc as H,oY as I,xfe as J,xr as K,Ie as L,jG as M,tu as N,so as O,DG as P,Sfe as Q,pe as R,HG as S,nI as T,iI as U,ze as V,ft as W,Ey as X,hm as Y,rI as Z,pr as _,pfe as a,Co as a0,eI as a1,YG as a2,LG as a3,iG as a4,Ta as a5,KG as a6,T_ as a7,yr as a8,_fe as a9,mm as b,$m as c,Afe as d,tt as e,Le as f,di as g,ue as h,aY as i,h as j,aG as k,eY as l,zG as m,AG as n,rY as o,zde as p,ia as q,v as r,Tfe as s,lG as t,Jr as u,aI as v,sG as w,Efe as x,H as y,UG as z};
