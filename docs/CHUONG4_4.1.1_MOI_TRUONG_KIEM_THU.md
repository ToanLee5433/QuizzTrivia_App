# 4.1.1. MÃ”I TRÆ¯á»œNG KIá»‚M THá»¬

---

## Tá»•ng quan

MÃ´i trÆ°á»ng kiá»ƒm thá»­ cá»§a há»‡ thá»‘ng QuizTrivia App Ä‘Æ°á»£c thiáº¿t láº­p nháº±m Ä‘áº£m báº£o tÃ­nh tÆ°Æ¡ng thÃ­ch Ä‘a ná»n táº£ng, Ä‘á»™ á»•n Ä‘á»‹nh vÃ  kháº£ nÄƒng hoáº¡t Ä‘á»™ng trong cÃ¡c Ä‘iá»u kiá»‡n máº¡ng khÃ¡c nhau. MÃ´i trÆ°á»ng nÃ y mÃ´ phá»ng chÃ­nh xÃ¡c cÃ¡c tÃ¬nh huá»‘ng sá»­ dá»¥ng thá»±c táº¿ cá»§a ngÆ°á»i dÃ¹ng cuá»‘i.

---

## 1. Pháº§n cá»©ng mÃ¡y Tester

### 1.1. MÃ¡y tÃ­nh Desktop/Laptop

| ThÃ nh pháº§n | Cáº¥u hÃ¬nh tá»‘i thiá»ƒu | Cáº¥u hÃ¬nh khuyáº¿n nghá»‹ |
|------------|-------------------|---------------------|
| **CPU** | Intel Core i3 / AMD Ryzen 3 | Intel Core i5 / AMD Ryzen 5 trá»Ÿ lÃªn |
| **RAM** | 4 GB | 8 GB trá»Ÿ lÃªn |
| **á»” cá»©ng** | 128 GB SSD (cÃ²n trá»‘ng > 5 GB) | 256 GB SSD (cÃ²n trá»‘ng > 20 GB) |
| **MÃ n hÃ¬nh** | 1366 x 768 (HD) | 1920 x 1080 (Full HD) trá»Ÿ lÃªn |
| **Káº¿t ná»‘i máº¡ng** | WiFi 802.11n | WiFi 802.11ac hoáº·c Ethernet Gigabit |

### 1.2. Thiáº¿t bá»‹ di Ä‘á»™ng

| Loáº¡i thiáº¿t bá»‹ | Model tham chiáº¿u | Cáº¥u hÃ¬nh |
|---------------|------------------|----------|
| **Android Phone** | Samsung Galaxy A51 / Xiaomi Redmi Note 10 | RAM 4GB+, Android 10+ |
| **Android Tablet** | Samsung Galaxy Tab A7 | RAM 3GB+, mÃ n hÃ¬nh 10.4" |
| **iPhone** | iPhone 11 / iPhone SE (2020) | iOS 14+ |
| **iPad** | iPad (9th generation) | iPadOS 15+, mÃ n hÃ¬nh 10.2" |

### 1.3. LÃ½ do lá»±a chá»n cáº¥u hÃ¬nh

- **Cáº¥u hÃ¬nh tá»‘i thiá»ƒu**: Pháº£n Ã¡nh thiáº¿t bá»‹ cá»§a Ä‘a sá»‘ ngÆ°á»i dÃ¹ng táº¡i Viá»‡t Nam, Ä‘áº·c biá»‡t há»c sinh vÃ  sinh viÃªn
- **Cáº¥u hÃ¬nh khuyáº¿n nghá»‹**: Äáº£m báº£o tráº£i nghiá»‡m mÆ°á»£t mÃ , Ä‘áº·c biá»‡t vá»›i tÃ­nh nÄƒng Multiplayer real-time
- **Äa dáº¡ng thiáº¿t bá»‹ di Ä‘á»™ng**: Kiá»ƒm tra kháº£ nÄƒng responsive vÃ  PWA trÃªn nhiá»u kÃ­ch thÆ°á»›c mÃ n hÃ¬nh

---

## 2. Pháº§n má»m vÃ  CÃ´ng cá»¥ PhÃ¡t triá»ƒn

### 2.1. MÃ´i trÆ°á»ng phÃ¡t triá»ƒn

| CÃ´ng cá»¥ | PhiÃªn báº£n | Má»¥c Ä‘Ã­ch |
|---------|-----------|----------|
| **Node.js** | 18.x LTS | Runtime JavaScript server-side |
| **npm** | 9.x | Package manager |
| **Visual Studio Code** | 1.85+ | IDE chÃ­nh |
| **Git** | 2.40+ | Version control |

### 2.2. Build Tools & Framework

| CÃ´ng nghá»‡ | PhiÃªn báº£n | Vai trÃ² |
|-----------|-----------|---------|
| **Vite** | 5.4.19 | Build tool, dev server |
| **TypeScript** | 5.2.2 | Type-safe JavaScript |
| **React** | 18.2.0 | UI Framework |
| **Tailwind CSS** | 3.4.17 | CSS Framework |

### 2.3. Firebase Services

| Dá»‹ch vá»¥ | Má»¥c Ä‘Ã­ch sá»­ dá»¥ng |
|---------|------------------|
| **Firebase Authentication** | XÃ¡c thá»±c ngÆ°á»i dÃ¹ng (Email/Password, Google Sign-in) |
| **Cloud Firestore** | Database NoSQL cho dá»¯ liá»‡u cáº¥u trÃºc |
| **Realtime Database** | Äá»“ng bá»™ real-time cho Multiplayer |
| **Cloud Storage** | LÆ°u trá»¯ media (hÃ¬nh áº£nh, video, audio, PDF) |
| **Cloud Functions** | Serverless backend logic |
| **Firebase Hosting** | Hosting web app |

---

## 3. TrÃ¬nh duyá»‡t Kiá»ƒm thá»­

### 3.1. Desktop Browsers

| TrÃ¬nh duyá»‡t | PhiÃªn báº£n | Engine | Äá»™ Æ°u tiÃªn |
|-------------|-----------|--------|------------|
| **Google Chrome** | 120+ | Blink (Chromium) | â­â­â­ Cao nháº¥t |
| **Microsoft Edge** | 120+ | Blink (Chromium) | â­â­â­ Cao |
| **Mozilla Firefox** | 120+ | Gecko | â­â­ Trung bÃ¬nh |
| **Safari** | 17+ | WebKit | â­â­ Trung bÃ¬nh |

### 3.2. Mobile Browsers

| TrÃ¬nh duyá»‡t | Ná»n táº£ng | Äá»™ Æ°u tiÃªn |
|-------------|----------|------------|
| **Chrome Mobile** | Android | â­â­â­ Cao nháº¥t |
| **Safari Mobile** | iOS | â­â­â­ Cao |
| **Samsung Internet** | Android | â­â­ Trung bÃ¬nh |
| **Firefox Mobile** | Android/iOS | â­ Tháº¥p |

### 3.3. Responsive Breakpoints

á»¨ng dá»¥ng Ä‘Æ°á»£c kiá»ƒm thá»­ vá»›i cÃ¡c breakpoints cá»§a Tailwind CSS:

| Breakpoint | KÃ­ch thÆ°á»›c | Thiáº¿t bá»‹ tÆ°Æ¡ng á»©ng |
|------------|------------|-------------------|
| **sm** | 640px | Mobile landscape |
| **md** | 768px | Tablet portrait |
| **lg** | 1024px | Tablet landscape / Small laptop |
| **xl** | 1280px | Desktop |
| **2xl** | 1536px | Large desktop |

### 3.4. Device Mode Testing (Chrome DevTools)

Sá»­ dá»¥ng Chrome DevTools Device Mode Ä‘á»ƒ mÃ´ phá»ng cÃ¡c thiáº¿t bá»‹:

```
ğŸ“± Mobile Devices:
â”œâ”€â”€ iPhone SE (375 x 667)
â”œâ”€â”€ iPhone 12 Pro (390 x 844)
â”œâ”€â”€ iPhone 14 Pro Max (430 x 932)
â”œâ”€â”€ Samsung Galaxy S20 (412 x 915)
â”œâ”€â”€ Pixel 7 (412 x 915)
â””â”€â”€ Galaxy Fold (280 x 653) - Folded

ğŸ“Ÿ Tablet Devices:
â”œâ”€â”€ iPad Air (820 x 1180)
â”œâ”€â”€ iPad Pro 12.9" (1024 x 1366)
â”œâ”€â”€ Galaxy Tab S7 (800 x 1280)
â””â”€â”€ Surface Pro 7 (912 x 1368)
```

---

## 4. MÃ´i trÆ°á»ng Máº¡ng

### 4.1. Äiá»u kiá»‡n máº¡ng tiÃªu chuáº©n

| Loáº¡i káº¿t ná»‘i | Tá»‘c Ä‘á»™ Download | Tá»‘c Ä‘á»™ Upload | Latency |
|--------------|-----------------|---------------|---------|
| **WiFi (Fiber/FTTH)** | 50-100 Mbps | 20-50 Mbps | < 20ms |
| **WiFi (ADSL)** | 10-20 Mbps | 1-5 Mbps | 20-50ms |
| **4G LTE** | 20-50 Mbps | 5-10 Mbps | 30-50ms |
| **3G** | 1-5 Mbps | 0.5-1 Mbps | 100-300ms |

### 4.2. Giáº£ láº­p máº¡ng yáº¿u (Network Throttling)

Sá»­ dá»¥ng Chrome DevTools Network Throttling Ä‘á»ƒ kiá»ƒm thá»­:

| Profile | Download | Upload | Latency | Use Case |
|---------|----------|--------|---------|----------|
| **Fast 3G** | 1.5 Mbps | 750 Kbps | 40ms | Máº¡ng di Ä‘á»™ng thÃ´ng thÆ°á»ng |
| **Slow 3G** | 500 Kbps | 250 Kbps | 200ms | Máº¡ng yáº¿u, vÃ¹ng sÃ¢u vÃ¹ng xa |
| **Offline** | 0 | 0 | âˆ | Kiá»ƒm thá»­ PWA Offline |

### 4.3. Kiá»ƒm thá»­ PWA/Offline Mode

#### Quy trÃ¬nh kiá»ƒm thá»­ Offline:

```
1. [ONLINE] Táº£i á»©ng dá»¥ng láº§n Ä‘áº§u
   â””â”€â”€ Service Worker Ä‘Äƒng kÃ½ vÃ  cache assets

2. [ONLINE] Táº£i Quiz vá» mÃ¡y
   â””â”€â”€ Quiz data + Media â†’ IndexedDB + Cache Storage

3. [OFFLINE] Báº­t Airplane Mode / Disable Network
   â””â”€â”€ Kiá»ƒm tra app cÃ³ load tá»« cache khÃ´ng

4. [OFFLINE] LÃ m Quiz offline
   â””â”€â”€ Kiá»ƒm tra timer, tÃ­nh Ä‘iá»ƒm, lÆ°u káº¿t quáº£

5. [ONLINE] Káº¿t ná»‘i láº¡i máº¡ng
   â””â”€â”€ Kiá»ƒm tra Background Sync Ä‘á»“ng bá»™ káº¿t quáº£
```

#### Storage APIs Ä‘Æ°á»£c kiá»ƒm thá»­:

| API | Má»¥c Ä‘Ã­ch | Dung lÆ°á»£ng |
|-----|----------|------------|
| **Cache Storage** | Workbox precache (JS, CSS, HTML, fonts) | ~10-50 MB |
| **IndexedDB (Dexie)** | Quiz data, Media blobs | 0-500+ MB |
| **LocalStorage** | Auth tokens, Preferences | < 5 MB |
| **Firebase Offline Persistence** | Firestore cache | Auto-managed |

---

## 5. Cáº¥u hÃ¬nh Firebase Emulators

### 5.1. CÃ¡c Emulator Ä‘Æ°á»£c sá»­ dá»¥ng

```json
// firebase.json
{
  "emulators": {
    "auth": { "port": 9099 },
    "firestore": { "port": 8080 },
    "database": { "port": 9000 },
    "storage": { "port": 9199 },
    "functions": { "port": 5001 },
    "hosting": { "port": 5000 },
    "ui": { "enabled": true, "port": 4000 }
  }
}
```

### 5.2. Khá»Ÿi Ä‘á»™ng Emulator

```bash
# Khá»Ÿi Ä‘á»™ng táº¥t cáº£ emulators
firebase emulators:start

# Khá»Ÿi Ä‘á»™ng vá»›i seed data
firebase emulators:start --import=./emulator-data

# Export data sau khi test
firebase emulators:export ./emulator-data
```

### 5.3. Lá»£i Ã­ch cá»§a Firebase Emulators

- **An toÃ n**: KhÃ´ng áº£nh hÆ°á»Ÿng production data
- **Nhanh**: KhÃ´ng cÃ³ network latency
- **Miá»…n phÃ­**: KhÃ´ng tá»‘n quota Firebase
- **Reproducible**: CÃ³ thá»ƒ import/export data

---

## 6. Cáº¥u hÃ¬nh CI/CD Testing

### 6.1. GitHub Actions Workflow

```yaml
# .github/workflows/test.yml
name: Test
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '18'
      - run: npm ci
      - run: npm run lint
      - run: npm run test:ci
```

### 6.2. Test Environment Variables

```env
# .env.test
VITE_FIREBASE_PROJECT_ID=test-project
VITE_USE_EMULATOR=true
VITE_EMULATOR_AUTH_URL=http://localhost:9099
VITE_EMULATOR_FIRESTORE_URL=http://localhost:8080
```

---

## 7. Checklist MÃ´i trÆ°á»ng Kiá»ƒm thá»­

### 7.1. TrÆ°á»›c khi kiá»ƒm thá»­

- [ ] Node.js 18+ Ä‘Ã£ cÃ i Ä‘áº·t
- [ ] Dependencies Ä‘Ã£ install (`npm install`)
- [ ] Firebase Emulators Ä‘Ã£ cÃ i (`firebase init emulators`)
- [ ] Chrome DevTools má»Ÿ sáºµn
- [ ] Network throttling profiles Ä‘Ã£ cáº¥u hÃ¬nh

### 7.2. Kiá»ƒm thá»­ Desktop

- [ ] Chrome (Windows)
- [ ] Chrome (macOS)
- [ ] Edge (Windows)
- [ ] Firefox (Windows)
- [ ] Safari (macOS)

### 7.3. Kiá»ƒm thá»­ Mobile

- [ ] Chrome Android (Physical device)
- [ ] Chrome Android (DevTools simulation)
- [ ] Safari iOS (Physical device)
- [ ] Safari iOS (Simulator - macOS only)

### 7.4. Kiá»ƒm thá»­ PWA/Offline

- [ ] Service Worker registration
- [ ] Cache Storage populated
- [ ] Offline page loads
- [ ] Quiz offline playback
- [ ] Background Sync on reconnect

---

## Káº¿t luáº­n

MÃ´i trÆ°á»ng kiá»ƒm thá»­ cá»§a QuizTrivia App Ä‘Æ°á»£c thiáº¿t káº¿ toÃ n diá»‡n, bao gá»“m:

1. **Äa dáº¡ng pháº§n cá»©ng**: Tá»« thiáº¿t bá»‹ cáº¥u hÃ¬nh tháº¥p Ä‘áº¿n cao
2. **Äa trÃ¬nh duyá»‡t**: Chromium-based, Firefox, Safari
3. **Responsive testing**: Mobile, Tablet, Desktop
4. **Network conditions**: WiFi, 4G, 3G, Offline
5. **Firebase Emulators**: MÃ´i trÆ°á»ng backend an toÃ n

Viá»‡c thiáº¿t láº­p mÃ´i trÆ°á»ng kiá»ƒm thá»­ Ä‘áº§y Ä‘á»§ giÃºp Ä‘áº£m báº£o á»©ng dá»¥ng hoáº¡t Ä‘á»™ng á»•n Ä‘á»‹nh trÃªn nhiá»u Ä‘iá»u kiá»‡n sá»­ dá»¥ng khÃ¡c nhau cá»§a ngÆ°á»i dÃ¹ng thá»±c táº¿.

---

*ChÆ°Æ¡ng 4 - Má»¥c 4.1.1 - MÃ´i trÆ°á»ng Kiá»ƒm thá»­*
